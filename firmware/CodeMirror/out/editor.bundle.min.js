(function(){"use strict";class Text{constructor(){}lineAt(pos){if(pos<0||pos>this.length)throw new RangeError(`Invalid position ${pos} in document of length ${this.length}`);return this.lineInner(pos,false,1,0)}line(n){if(n<1||n>this.lines)throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);return this.lineInner(n,true,1,0)}replace(from,to,text){let parts=[];this.decompose(0,from,parts,2);if(text.length)text.decompose(0,text.length,parts,1|2);this.decompose(to,this.length,parts,1);return TextNode.from(parts,this.length-(to-from)+text.length)}append(other){return this.replace(this.length,this.length,other)}slice(from,to=this.length){let parts=[];this.decompose(from,to,parts,0);return TextNode.from(parts,to-from)}eq(other){if(other==this)return true;if(other.length!=this.length||other.lines!=this.lines)return false;let start=this.scanIdentical(other,1),end=this.length-this.scanIdentical(other,-1);let a=new RawTextCursor(this),b=new RawTextCursor(other);for(let skip=start,pos=start;;){a.next(skip);b.next(skip);skip=0;if(a.lineBreak!=b.lineBreak||a.done!=b.done||a.value!=b.value)return false;pos+=a.value.length;if(a.done||pos>=end)return true}}iter(dir=1){return new RawTextCursor(this,dir)}iterRange(from,to=this.length){return new PartialTextCursor(this,from,to)}iterLines(from,to){let inner;if(from==null){inner=this.iter()}else{if(to==null)to=this.lines+1;let start=this.line(from).from;inner=this.iterRange(start,Math.max(start,to==this.lines+1?this.length:to<=1?0:this.line(to-1).to))}return new LineCursor(inner)}toString(){return this.sliceString(0)}toJSON(){let lines=[];this.flatten(lines);return lines}static of(text){if(text.length==0)throw new RangeError("A document must have at least one line");if(text.length==1&&!text[0])return Text.empty;return text.length<=32?new TextLeaf(text):TextNode.from(TextLeaf.split(text,[]))}}class TextLeaf extends Text{constructor(text,length=textLength(text)){super();this.text=text;this.length=length}get lines(){return this.text.length}get children(){return null}lineInner(target,isLine,line,offset){for(let i=0;;i++){let string=this.text[i],end=offset+string.length;if((isLine?line:end)>=target)return new Line(offset,end,line,string);offset=end+1;line++}}decompose(from,to,target,open){let text=from<=0&&to>=this.length?this:new TextLeaf(sliceText(this.text,from,to),Math.min(to,this.length)-Math.max(0,from));if(open&1){let prev=target.pop();let joined=appendText(text.text,prev.text.slice(),0,text.length);if(joined.length<=32){target.push(new TextLeaf(joined,prev.length+text.length))}else{let mid=joined.length>>1;target.push(new TextLeaf(joined.slice(0,mid)),new TextLeaf(joined.slice(mid)))}}else{target.push(text)}}replace(from,to,text){if(!(text instanceof TextLeaf))return super.replace(from,to,text);let lines=appendText(this.text,appendText(text.text,sliceText(this.text,0,from)),to);let newLen=this.length+text.length-(to-from);if(lines.length<=32)return new TextLeaf(lines,newLen);return TextNode.from(TextLeaf.split(lines,[]),newLen)}sliceString(from,to=this.length,lineSep="\n"){let result="";for(let pos=0,i=0;pos<=to&&i<this.text.length;i++){let line=this.text[i],end=pos+line.length;if(pos>from&&i)result+=lineSep;if(from<end&&to>pos)result+=line.slice(Math.max(0,from-pos),to-pos);pos=end+1}return result}flatten(target){for(let line of this.text)target.push(line)}scanIdentical(){return 0}static split(text,target){let part=[],len=-1;for(let line of text){part.push(line);len+=line.length+1;if(part.length==32){target.push(new TextLeaf(part,len));part=[];len=-1}}if(len>-1)target.push(new TextLeaf(part,len));return target}}class TextNode extends Text{constructor(children,length){super();this.children=children;this.length=length;this.lines=0;for(let child of children)this.lines+=child.lines}lineInner(target,isLine,line,offset){for(let i=0;;i++){let child=this.children[i],end=offset+child.length,endLine=line+child.lines-1;if((isLine?endLine:end)>=target)return child.lineInner(target,isLine,line,offset);offset=end+1;line=endLine+1}}decompose(from,to,target,open){for(let i=0,pos=0;pos<=to&&i<this.children.length;i++){let child=this.children[i],end=pos+child.length;if(from<=end&&to>=pos){let childOpen=open&((pos<=from?1:0)|(end>=to?2:0));if(pos>=from&&end<=to&&!childOpen)target.push(child);else child.decompose(from-pos,to-pos,target,childOpen)}pos=end+1}}replace(from,to,text){if(text.lines<this.lines)for(let i=0,pos=0;i<this.children.length;i++){let child=this.children[i],end=pos+child.length;if(from>=pos&&to<=end){let updated=child.replace(from-pos,to-pos,text);let totalLines=this.lines-child.lines+updated.lines;if(updated.lines<totalLines>>5-1&&updated.lines>totalLines>>5+1){let copy=this.children.slice();copy[i]=updated;return new TextNode(copy,this.length-(to-from)+text.length)}return super.replace(pos,end,updated)}pos=end+1}return super.replace(from,to,text)}sliceString(from,to=this.length,lineSep="\n"){let result="";for(let i=0,pos=0;i<this.children.length&&pos<=to;i++){let child=this.children[i],end=pos+child.length;if(pos>from&&i)result+=lineSep;if(from<end&&to>pos)result+=child.sliceString(from-pos,to-pos,lineSep);pos=end+1}return result}flatten(target){for(let child of this.children)child.flatten(target)}scanIdentical(other,dir){if(!(other instanceof TextNode))return 0;let length=0;let[iA,iB,eA,eB]=dir>0?[0,0,this.children.length,other.children.length]:[this.children.length-1,other.children.length-1,-1,-1];for(;;iA+=dir,iB+=dir){if(iA==eA||iB==eB)return length;let chA=this.children[iA],chB=other.children[iB];if(chA!=chB)return length+chA.scanIdentical(chB,dir);length+=chA.length+1}}static from(children,length=children.reduce(((l,ch)=>l+ch.length+1),-1)){let lines=0;for(let ch of children)lines+=ch.lines;if(lines<32){let flat=[];for(let ch of children)ch.flatten(flat);return new TextLeaf(flat,length)}let chunk=Math.max(32,lines>>5),maxChunk=chunk<<1,minChunk=chunk>>1;let chunked=[],currentLines=0,currentLen=-1,currentChunk=[];function add(child){let last;if(child.lines>maxChunk&&child instanceof TextNode){for(let node of child.children)add(node)}else if(child.lines>minChunk&&(currentLines>minChunk||!currentLines)){flush();chunked.push(child)}else if(child instanceof TextLeaf&&currentLines&&(last=currentChunk[currentChunk.length-1])instanceof TextLeaf&&child.lines+last.lines<=32){currentLines+=child.lines;currentLen+=child.length+1;currentChunk[currentChunk.length-1]=new TextLeaf(last.text.concat(child.text),last.length+1+child.length)}else{if(currentLines+child.lines>chunk)flush();currentLines+=child.lines;currentLen+=child.length+1;currentChunk.push(child)}}function flush(){if(currentLines==0)return;chunked.push(currentChunk.length==1?currentChunk[0]:TextNode.from(currentChunk,currentLen));currentLen=-1;currentLines=currentChunk.length=0}for(let child of children)add(child);flush();return chunked.length==1?chunked[0]:new TextNode(chunked,length)}}Text.empty=new TextLeaf([""],0);function textLength(text){let length=-1;for(let line of text)length+=line.length+1;return length}function appendText(text,target,from=0,to=1e9){for(let pos=0,i=0,first=true;i<text.length&&pos<=to;i++){let line=text[i],end=pos+line.length;if(end>=from){if(end>to)line=line.slice(0,to-pos);if(pos<from)line=line.slice(from-pos);if(first){target[target.length-1]+=line;first=false}else target.push(line)}pos=end+1}return target}function sliceText(text,from,to){return appendText(text,[""],from,to)}class RawTextCursor{constructor(text,dir=1){this.dir=dir;this.done=false;this.lineBreak=false;this.value="";this.nodes=[text];this.offsets=[dir>0?1:(text instanceof TextLeaf?text.text.length:text.children.length)<<1]}nextInner(skip,dir){this.done=this.lineBreak=false;for(;;){let last=this.nodes.length-1;let top=this.nodes[last],offsetValue=this.offsets[last],offset=offsetValue>>1;let size=top instanceof TextLeaf?top.text.length:top.children.length;if(offset==(dir>0?size:0)){if(last==0){this.done=true;this.value="";return this}if(dir>0)this.offsets[last-1]++;this.nodes.pop();this.offsets.pop()}else if((offsetValue&1)==(dir>0?0:1)){this.offsets[last]+=dir;if(skip==0){this.lineBreak=true;this.value="\n";return this}skip--}else if(top instanceof TextLeaf){let next=top.text[offset+(dir<0?-1:0)];this.offsets[last]+=dir;if(next.length>Math.max(0,skip)){this.value=skip==0?next:dir>0?next.slice(skip):next.slice(0,next.length-skip);return this}skip-=next.length}else{let next=top.children[offset+(dir<0?-1:0)];if(skip>next.length){skip-=next.length;this.offsets[last]+=dir}else{if(dir<0)this.offsets[last]--;this.nodes.push(next);this.offsets.push(dir>0?1:(next instanceof TextLeaf?next.text.length:next.children.length)<<1)}}}}next(skip=0){if(skip<0){this.nextInner(-skip,-this.dir);skip=this.value.length}return this.nextInner(skip,this.dir)}}class PartialTextCursor{constructor(text,start,end){this.value="";this.done=false;this.cursor=new RawTextCursor(text,start>end?-1:1);this.pos=start>end?text.length:0;this.from=Math.min(start,end);this.to=Math.max(start,end)}nextInner(skip,dir){if(dir<0?this.pos<=this.from:this.pos>=this.to){this.value="";this.done=true;return this}skip+=Math.max(0,dir<0?this.pos-this.to:this.from-this.pos);let limit=dir<0?this.pos-this.from:this.to-this.pos;if(skip>limit)skip=limit;limit-=skip;let{value:value}=this.cursor.next(skip);this.pos+=(value.length+skip)*dir;this.value=value.length<=limit?value:dir<0?value.slice(value.length-limit):value.slice(0,limit);this.done=!this.value;return this}next(skip=0){if(skip<0)skip=Math.max(skip,this.from-this.pos);else if(skip>0)skip=Math.min(skip,this.to-this.pos);return this.nextInner(skip,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(inner){this.inner=inner;this.afterBreak=true;this.value="";this.done=false}next(skip=0){let{done:done,lineBreak:lineBreak,value:value}=this.inner.next(skip);if(done){this.done=true;this.value=""}else if(lineBreak){if(this.afterBreak){this.value=""}else{this.afterBreak=true;this.next()}}else{this.value=value;this.afterBreak=false}return this}get lineBreak(){return false}}if(typeof Symbol!="undefined"){Text.prototype[Symbol.iterator]=function(){return this.iter()};RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this}}class Line{constructor(from,to,number,text){this.from=from;this.to=to;this.number=number;this.text=text}get length(){return this.to-this.from}}let extend="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((s=>s?parseInt(s,36):1));for(let i=1;i<extend.length;i++)extend[i]+=extend[i-1];function isExtendingChar(code){for(let i=1;i<extend.length;i+=2)if(extend[i]>code)return extend[i-1]<=code;return false}function isRegionalIndicator(code){return code>=127462&&code<=127487}const ZWJ=8205;function findClusterBreak(str,pos,forward=true,includeExtending=true){return(forward?nextClusterBreak:prevClusterBreak)(str,pos,includeExtending)}function nextClusterBreak(str,pos,includeExtending){if(pos==str.length)return pos;if(pos&&surrogateLow(str.charCodeAt(pos))&&surrogateHigh(str.charCodeAt(pos-1)))pos--;let prev=codePointAt(str,pos);pos+=codePointSize(prev);while(pos<str.length){let next=codePointAt(str,pos);if(prev==ZWJ||next==ZWJ||includeExtending&&isExtendingChar(next)){pos+=codePointSize(next);prev=next}else if(isRegionalIndicator(next)){let countBefore=0,i=pos-2;while(i>=0&&isRegionalIndicator(codePointAt(str,i))){countBefore++;i-=2}if(countBefore%2==0)break;else pos+=2}else{break}}return pos}function prevClusterBreak(str,pos,includeExtending){while(pos>0){let found=nextClusterBreak(str,pos-2,includeExtending);if(found<pos)return found;pos--}return 0}function surrogateLow(ch){return ch>=56320&&ch<57344}function surrogateHigh(ch){return ch>=55296&&ch<56320}function codePointAt(str,pos){let code0=str.charCodeAt(pos);if(!surrogateHigh(code0)||pos+1==str.length)return code0;let code1=str.charCodeAt(pos+1);if(!surrogateLow(code1))return code0;return(code0-55296<<10)+(code1-56320)+65536}function fromCodePoint(code){if(code<=65535)return String.fromCharCode(code);code-=65536;return String.fromCharCode((code>>10)+55296,(code&1023)+56320)}function codePointSize(code){return code<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(MapMode){MapMode[MapMode["Simple"]=0]="Simple";MapMode[MapMode["TrackDel"]=1]="TrackDel";MapMode[MapMode["TrackBefore"]=2]="TrackBefore";MapMode[MapMode["TrackAfter"]=3]="TrackAfter";return MapMode}(MapMode||(MapMode={}));class ChangeDesc{constructor(sections){this.sections=sections}get length(){let result=0;for(let i=0;i<this.sections.length;i+=2)result+=this.sections[i];return result}get newLength(){let result=0;for(let i=0;i<this.sections.length;i+=2){let ins=this.sections[i+1];result+=ins<0?this.sections[i]:ins}return result}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(f){for(let i=0,posA=0,posB=0;i<this.sections.length;){let len=this.sections[i++],ins=this.sections[i++];if(ins<0){f(posA,posB,len);posB+=len}else{posB+=ins}posA+=len}}iterChangedRanges(f,individual=false){iterChanges(this,f,individual)}get invertedDesc(){let sections=[];for(let i=0;i<this.sections.length;){let len=this.sections[i++],ins=this.sections[i++];if(ins<0)sections.push(len,ins);else sections.push(ins,len)}return new ChangeDesc(sections)}composeDesc(other){return this.empty?other:other.empty?this:composeSets(this,other)}mapDesc(other,before=false){return other.empty?this:mapSet(this,other,before)}mapPos(pos,assoc=-1,mode=MapMode.Simple){let posA=0,posB=0;for(let i=0;i<this.sections.length;){let len=this.sections[i++],ins=this.sections[i++],endA=posA+len;if(ins<0){if(endA>pos)return posB+(pos-posA);posB+=len}else{if(mode!=MapMode.Simple&&endA>=pos&&(mode==MapMode.TrackDel&&posA<pos&&endA>pos||mode==MapMode.TrackBefore&&posA<pos||mode==MapMode.TrackAfter&&endA>pos))return null;if(endA>pos||endA==pos&&assoc<0&&!len)return pos==posA||assoc<0?posB:posB+ins;posB+=ins}posA=endA}if(pos>posA)throw new RangeError(`Position ${pos} is out of range for changeset of length ${posA}`);return posB}touchesRange(from,to=from){for(let i=0,pos=0;i<this.sections.length&&pos<=to;){let len=this.sections[i++],ins=this.sections[i++],end=pos+len;if(ins>=0&&pos<=to&&end>=from)return pos<from&&end>to?"cover":true;pos=end}return false}toString(){let result="";for(let i=0;i<this.sections.length;){let len=this.sections[i++],ins=this.sections[i++];result+=(result?" ":"")+len+(ins>=0?":"+ins:"")}return result}toJSON(){return this.sections}static fromJSON(json){if(!Array.isArray(json)||json.length%2||json.some((a=>typeof a!="number")))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(json)}static create(sections){return new ChangeDesc(sections)}}class ChangeSet extends ChangeDesc{constructor(sections,inserted){super(sections);this.inserted=inserted}apply(doc){if(this.length!=doc.length)throw new RangeError("Applying change set to a document with the wrong length");iterChanges(this,((fromA,toA,fromB,_toB,text)=>doc=doc.replace(fromB,fromB+(toA-fromA),text)),false);return doc}mapDesc(other,before=false){return mapSet(this,other,before,true)}invert(doc){let sections=this.sections.slice(),inserted=[];for(let i=0,pos=0;i<sections.length;i+=2){let len=sections[i],ins=sections[i+1];if(ins>=0){sections[i]=ins;sections[i+1]=len;let index=i>>1;while(inserted.length<index)inserted.push(Text.empty);inserted.push(len?doc.slice(pos,pos+len):Text.empty)}pos+=len}return new ChangeSet(sections,inserted)}compose(other){return this.empty?other:other.empty?this:composeSets(this,other,true)}map(other,before=false){return other.empty?this:mapSet(this,other,before,true)}iterChanges(f,individual=false){iterChanges(this,f,individual)}get desc(){return ChangeDesc.create(this.sections)}filter(ranges){let resultSections=[],resultInserted=[],filteredSections=[];let iter=new SectionIter(this);done:for(let i=0,pos=0;;){let next=i==ranges.length?1e9:ranges[i++];while(pos<next||pos==next&&iter.len==0){if(iter.done)break done;let len=Math.min(iter.len,next-pos);addSection(filteredSections,len,-1);let ins=iter.ins==-1?-1:iter.off==0?iter.ins:0;addSection(resultSections,len,ins);if(ins>0)addInsert(resultInserted,resultSections,iter.text);iter.forward(len);pos+=len}let end=ranges[i++];while(pos<end){if(iter.done)break done;let len=Math.min(iter.len,end-pos);addSection(resultSections,len,-1);addSection(filteredSections,len,iter.ins==-1?-1:iter.off==0?iter.ins:0);iter.forward(len);pos+=len}}return{changes:new ChangeSet(resultSections,resultInserted),filtered:ChangeDesc.create(filteredSections)}}toJSON(){let parts=[];for(let i=0;i<this.sections.length;i+=2){let len=this.sections[i],ins=this.sections[i+1];if(ins<0)parts.push(len);else if(ins==0)parts.push([len]);else parts.push([len].concat(this.inserted[i>>1].toJSON()))}return parts}static of(changes,length,lineSep){let sections=[],inserted=[],pos=0;let total=null;function flush(force=false){if(!force&&!sections.length)return;if(pos<length)addSection(sections,length-pos,-1);let set=new ChangeSet(sections,inserted);total=total?total.compose(set.map(total)):set;sections=[];inserted=[];pos=0}function process(spec){if(Array.isArray(spec)){for(let sub of spec)process(sub)}else if(spec instanceof ChangeSet){if(spec.length!=length)throw new RangeError(`Mismatched change set length (got ${spec.length}, expected ${length})`);flush();total=total?total.compose(spec.map(total)):spec}else{let{from:from,to:to=from,insert:insert}=spec;if(from>to||from<0||to>length)throw new RangeError(`Invalid change range ${from} to ${to} (in doc of length ${length})`);let insText=!insert?Text.empty:typeof insert=="string"?Text.of(insert.split(lineSep||DefaultSplit)):insert;let insLen=insText.length;if(from==to&&insLen==0)return;if(from<pos)flush();if(from>pos)addSection(sections,from-pos,-1);addSection(sections,to-from,insLen);addInsert(inserted,sections,insText);pos=to}}process(changes);flush(!total);return total}static empty(length){return new ChangeSet(length?[length,-1]:[],[])}static fromJSON(json){if(!Array.isArray(json))throw new RangeError("Invalid JSON representation of ChangeSet");let sections=[],inserted=[];for(let i=0;i<json.length;i++){let part=json[i];if(typeof part=="number"){sections.push(part,-1)}else if(!Array.isArray(part)||typeof part[0]!="number"||part.some(((e,i)=>i&&typeof e!="string"))){throw new RangeError("Invalid JSON representation of ChangeSet")}else if(part.length==1){sections.push(part[0],0)}else{while(inserted.length<i)inserted.push(Text.empty);inserted[i]=Text.of(part.slice(1));sections.push(part[0],inserted[i].length)}}return new ChangeSet(sections,inserted)}static createSet(sections,inserted){return new ChangeSet(sections,inserted)}}function addSection(sections,len,ins,forceJoin=false){if(len==0&&ins<=0)return;let last=sections.length-2;if(last>=0&&ins<=0&&ins==sections[last+1])sections[last]+=len;else if(len==0&&sections[last]==0)sections[last+1]+=ins;else if(forceJoin){sections[last]+=len;sections[last+1]+=ins}else sections.push(len,ins)}function addInsert(values,sections,value){if(value.length==0)return;let index=sections.length-2>>1;if(index<values.length){values[values.length-1]=values[values.length-1].append(value)}else{while(values.length<index)values.push(Text.empty);values.push(value)}}function iterChanges(desc,f,individual){let inserted=desc.inserted;for(let posA=0,posB=0,i=0;i<desc.sections.length;){let len=desc.sections[i++],ins=desc.sections[i++];if(ins<0){posA+=len;posB+=len}else{let endA=posA,endB=posB,text=Text.empty;for(;;){endA+=len;endB+=ins;if(ins&&inserted)text=text.append(inserted[i-2>>1]);if(individual||i==desc.sections.length||desc.sections[i+1]<0)break;len=desc.sections[i++];ins=desc.sections[i++]}f(posA,endA,posB,endB,text);posA=endA;posB=endB}}}function mapSet(setA,setB,before,mkSet=false){let sections=[],insert=mkSet?[]:null;let a=new SectionIter(setA),b=new SectionIter(setB);for(let inserted=-1;;){if(a.ins==-1&&b.ins==-1){let len=Math.min(a.len,b.len);addSection(sections,len,-1);a.forward(len);b.forward(len)}else if(b.ins>=0&&(a.ins<0||inserted==a.i||a.off==0&&(b.len<a.len||b.len==a.len&&!before))){let len=b.len;addSection(sections,b.ins,-1);while(len){let piece=Math.min(a.len,len);if(a.ins>=0&&inserted<a.i&&a.len<=piece){addSection(sections,0,a.ins);if(insert)addInsert(insert,sections,a.text);inserted=a.i}a.forward(piece);len-=piece}b.next()}else if(a.ins>=0){let len=0,left=a.len;while(left){if(b.ins==-1){let piece=Math.min(left,b.len);len+=piece;left-=piece;b.forward(piece)}else if(b.ins==0&&b.len<left){left-=b.len;b.next()}else{break}}addSection(sections,len,inserted<a.i?a.ins:0);if(insert&&inserted<a.i)addInsert(insert,sections,a.text);inserted=a.i;a.forward(a.len-left)}else if(a.done&&b.done){return insert?ChangeSet.createSet(sections,insert):ChangeDesc.create(sections)}else{throw new Error("Mismatched change set lengths")}}}function composeSets(setA,setB,mkSet=false){let sections=[];let insert=mkSet?[]:null;let a=new SectionIter(setA),b=new SectionIter(setB);for(let open=false;;){if(a.done&&b.done){return insert?ChangeSet.createSet(sections,insert):ChangeDesc.create(sections)}else if(a.ins==0){addSection(sections,a.len,0,open);a.next()}else if(b.len==0&&!b.done){addSection(sections,0,b.ins,open);if(insert)addInsert(insert,sections,b.text);b.next()}else if(a.done||b.done){throw new Error("Mismatched change set lengths")}else{let len=Math.min(a.len2,b.len),sectionLen=sections.length;if(a.ins==-1){let insB=b.ins==-1?-1:b.off?0:b.ins;addSection(sections,len,insB,open);if(insert&&insB)addInsert(insert,sections,b.text)}else if(b.ins==-1){addSection(sections,a.off?0:a.len,len,open);if(insert)addInsert(insert,sections,a.textBit(len))}else{addSection(sections,a.off?0:a.len,b.off?0:b.ins,open);if(insert&&!b.off)addInsert(insert,sections,b.text)}open=(a.ins>len||b.ins>=0&&b.len>len)&&(open||sections.length>sectionLen);a.forward2(len);b.forward(len)}}}class SectionIter{constructor(set){this.set=set;this.i=0;this.next()}next(){let{sections:sections}=this.set;if(this.i<sections.length){this.len=sections[this.i++];this.ins=sections[this.i++]}else{this.len=0;this.ins=-2}this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:inserted}=this.set,index=this.i-2>>1;return index>=inserted.length?Text.empty:inserted[index]}textBit(len){let{inserted:inserted}=this.set,index=this.i-2>>1;return index>=inserted.length&&!len?Text.empty:inserted[index].slice(this.off,len==null?undefined:this.off+len)}forward(len){if(len==this.len)this.next();else{this.len-=len;this.off+=len}}forward2(len){if(this.ins==-1)this.forward(len);else if(len==this.ins)this.next();else{this.ins-=len;this.off+=len}}}class SelectionRange{constructor(from,to,flags){this.from=from;this.to=to;this.flags=flags}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let level=this.flags&3;return level==3?null:level}get goalColumn(){let value=this.flags>>5;return value==33554431?undefined:value}map(change,assoc=-1){let from,to;if(this.empty){from=to=change.mapPos(this.from,assoc)}else{from=change.mapPos(this.from,1);to=change.mapPos(this.to,-1)}return from==this.from&&to==this.to?this:new SelectionRange(from,to,this.flags)}extend(from,to=from){if(from<=this.anchor&&to>=this.anchor)return EditorSelection.range(from,to);let head=Math.abs(from-this.anchor)>Math.abs(to-this.anchor)?from:to;return EditorSelection.range(this.anchor,head)}eq(other){return this.anchor==other.anchor&&this.head==other.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(json){if(!json||typeof json.anchor!="number"||typeof json.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(json.anchor,json.head)}static create(from,to,flags){return new SelectionRange(from,to,flags)}}class EditorSelection{constructor(ranges,mainIndex){this.ranges=ranges;this.mainIndex=mainIndex}map(change,assoc=-1){if(change.empty)return this;return EditorSelection.create(this.ranges.map((r=>r.map(change,assoc))),this.mainIndex)}eq(other){if(this.ranges.length!=other.ranges.length||this.mainIndex!=other.mainIndex)return false;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(other.ranges[i]))return false;return true}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(range,main=true){return EditorSelection.create([range].concat(this.ranges),main?0:this.mainIndex+1)}replaceRange(range,which=this.mainIndex){let ranges=this.ranges.slice();ranges[which]=range;return EditorSelection.create(ranges,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((r=>r.toJSON())),main:this.mainIndex}}static fromJSON(json){if(!json||!Array.isArray(json.ranges)||typeof json.main!="number"||json.main>=json.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(json.ranges.map((r=>SelectionRange.fromJSON(r))),json.main)}static single(anchor,head=anchor){return new EditorSelection([EditorSelection.range(anchor,head)],0)}static create(ranges,mainIndex=0){if(ranges.length==0)throw new RangeError("A selection needs at least one range");for(let pos=0,i=0;i<ranges.length;i++){let range=ranges[i];if(range.empty?range.from<=pos:range.from<pos)return EditorSelection.normalized(ranges.slice(),mainIndex);pos=range.to}return new EditorSelection(ranges,mainIndex)}static cursor(pos,assoc=0,bidiLevel,goalColumn){return SelectionRange.create(pos,pos,(assoc==0?0:assoc<0?4:8)|(bidiLevel==null?3:Math.min(2,bidiLevel))|(goalColumn!==null&&goalColumn!==void 0?goalColumn:33554431)<<5)}static range(anchor,head,goalColumn){let goal=(goalColumn!==null&&goalColumn!==void 0?goalColumn:33554431)<<5;return head<anchor?SelectionRange.create(head,anchor,16|goal|8):SelectionRange.create(anchor,head,goal|(head>anchor?4:0))}static normalized(ranges,mainIndex=0){let main=ranges[mainIndex];ranges.sort(((a,b)=>a.from-b.from));mainIndex=ranges.indexOf(main);for(let i=1;i<ranges.length;i++){let range=ranges[i],prev=ranges[i-1];if(range.empty?range.from<=prev.to:range.from<prev.to){let from=prev.from,to=Math.max(range.to,prev.to);if(i<=mainIndex)mainIndex--;ranges.splice(--i,2,range.anchor>range.head?EditorSelection.range(to,from):EditorSelection.range(from,to))}}return new EditorSelection(ranges,mainIndex)}}function checkSelection(selection,docLength){for(let range of selection.ranges)if(range.to>docLength)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(combine,compareInput,compare,isStatic,enables){this.combine=combine;this.compareInput=compareInput;this.compare=compare;this.isStatic=isStatic;this.id=nextID++;this.default=combine([]);this.extensions=typeof enables=="function"?enables(this):enables}static define(config={}){return new Facet(config.combine||(a=>a),config.compareInput||((a,b)=>a===b),config.compare||(!config.combine?sameArray$1:(a,b)=>a===b),!!config.static,config.enables)}of(value){return new FacetProvider([],this,0,value)}compute(deps,get){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(deps,this,1,get)}computeN(deps,get){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(deps,this,2,get)}from(field,get){if(!get)get=x=>x;return this.compute([field],(state=>get(state.field(field))))}}function sameArray$1(a,b){return a==b||a.length==b.length&&a.every(((e,i)=>e===b[i]))}class FacetProvider{constructor(dependencies,facet,type,value){this.dependencies=dependencies;this.facet=facet;this.type=type;this.value=value;this.id=nextID++}dynamicSlot(addresses){var _a;let getter=this.value;let compare=this.facet.compareInput;let id=this.id,idx=addresses[id]>>1,multi=this.type==2;let depDoc=false,depSel=false,depAddrs=[];for(let dep of this.dependencies){if(dep=="doc")depDoc=true;else if(dep=="selection")depSel=true;else if((((_a=addresses[dep.id])!==null&&_a!==void 0?_a:1)&1)==0)depAddrs.push(addresses[dep.id])}return{create(state){state.values[idx]=getter(state);return 1},update(state,tr){if(depDoc&&tr.docChanged||depSel&&(tr.docChanged||tr.selection)||ensureAll(state,depAddrs)){let newVal=getter(state);if(multi?!compareArray(newVal,state.values[idx],compare):!compare(newVal,state.values[idx])){state.values[idx]=newVal;return 1}}return 0},reconfigure:(state,oldState)=>{let newVal,oldAddr=oldState.config.address[id];if(oldAddr!=null){let oldVal=getAddr(oldState,oldAddr);if(this.dependencies.every((dep=>dep instanceof Facet?oldState.facet(dep)===state.facet(dep):dep instanceof StateField?oldState.field(dep,false)==state.field(dep,false):true))||(multi?compareArray(newVal=getter(state),oldVal,compare):compare(newVal=getter(state),oldVal))){state.values[idx]=oldVal;return 0}}else{newVal=getter(state)}state.values[idx]=newVal;return 1}}}}function compareArray(a,b,compare){if(a.length!=b.length)return false;for(let i=0;i<a.length;i++)if(!compare(a[i],b[i]))return false;return true}function ensureAll(state,addrs){let changed=false;for(let addr of addrs)if(ensureAddr(state,addr)&1)changed=true;return changed}function dynamicFacetSlot(addresses,facet,providers){let providerAddrs=providers.map((p=>addresses[p.id]));let providerTypes=providers.map((p=>p.type));let dynamic=providerAddrs.filter((p=>!(p&1)));let idx=addresses[facet.id]>>1;function get(state){let values=[];for(let i=0;i<providerAddrs.length;i++){let value=getAddr(state,providerAddrs[i]);if(providerTypes[i]==2)for(let val of value)values.push(val);else values.push(value)}return facet.combine(values)}return{create(state){for(let addr of providerAddrs)ensureAddr(state,addr);state.values[idx]=get(state);return 1},update(state,tr){if(!ensureAll(state,dynamic))return 0;let value=get(state);if(facet.compare(value,state.values[idx]))return 0;state.values[idx]=value;return 1},reconfigure(state,oldState){let depChanged=ensureAll(state,providerAddrs);let oldProviders=oldState.config.facets[facet.id],oldValue=oldState.facet(facet);if(oldProviders&&!depChanged&&sameArray$1(providers,oldProviders)){state.values[idx]=oldValue;return 0}let value=get(state);if(facet.compare(value,oldValue)){state.values[idx]=oldValue;return 0}state.values[idx]=value;return 1}}}const initField=Facet.define({static:true});class StateField{constructor(id,createF,updateF,compareF,spec){this.id=id;this.createF=createF;this.updateF=updateF;this.compareF=compareF;this.spec=spec;this.provides=undefined}static define(config){let field=new StateField(nextID++,config.create,config.update,config.compare||((a,b)=>a===b),config);if(config.provide)field.provides=config.provide(field);return field}create(state){let init=state.facet(initField).find((i=>i.field==this));return((init===null||init===void 0?void 0:init.create)||this.createF)(state)}slot(addresses){let idx=addresses[this.id]>>1;return{create:state=>{state.values[idx]=this.create(state);return 1},update:(state,tr)=>{let oldVal=state.values[idx];let value=this.updateF(oldVal,tr);if(this.compareF(oldVal,value))return 0;state.values[idx]=value;return 1},reconfigure:(state,oldState)=>{if(oldState.config.address[this.id]!=null){state.values[idx]=oldState.field(this);return 0}state.values[idx]=this.create(state);return 1}}}init(create){return[this,initField.of({field:this,create:create})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(value){return ext=>new PrecExtension(ext,value)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(inner,prec){this.inner=inner;this.prec=prec}}class Compartment{of(ext){return new CompartmentInstance(this,ext)}reconfigure(content){return Compartment.reconfigure.of({compartment:this,extension:content})}get(state){return state.config.compartments.get(this)}}class CompartmentInstance{constructor(compartment,inner){this.compartment=compartment;this.inner=inner}}class Configuration{constructor(base,compartments,dynamicSlots,address,staticValues,facets){this.base=base;this.compartments=compartments;this.dynamicSlots=dynamicSlots;this.address=address;this.staticValues=staticValues;this.facets=facets;this.statusTemplate=[];while(this.statusTemplate.length<dynamicSlots.length)this.statusTemplate.push(0)}staticFacet(facet){let addr=this.address[facet.id];return addr==null?facet.default:this.staticValues[addr>>1]}static resolve(base,compartments,oldState){let fields=[];let facets=Object.create(null);let newCompartments=new Map;for(let ext of flatten(base,compartments,newCompartments)){if(ext instanceof StateField)fields.push(ext);else(facets[ext.facet.id]||(facets[ext.facet.id]=[])).push(ext)}let address=Object.create(null);let staticValues=[];let dynamicSlots=[];for(let field of fields){address[field.id]=dynamicSlots.length<<1;dynamicSlots.push((a=>field.slot(a)))}let oldFacets=oldState===null||oldState===void 0?void 0:oldState.config.facets;for(let id in facets){let providers=facets[id],facet=providers[0].facet;let oldProviders=oldFacets&&oldFacets[id]||[];if(providers.every((p=>p.type==0))){address[facet.id]=staticValues.length<<1|1;if(sameArray$1(oldProviders,providers)){staticValues.push(oldState.facet(facet))}else{let value=facet.combine(providers.map((p=>p.value)));staticValues.push(oldState&&facet.compare(value,oldState.facet(facet))?oldState.facet(facet):value)}}else{for(let p of providers){if(p.type==0){address[p.id]=staticValues.length<<1|1;staticValues.push(p.value)}else{address[p.id]=dynamicSlots.length<<1;dynamicSlots.push((a=>p.dynamicSlot(a)))}}address[facet.id]=dynamicSlots.length<<1;dynamicSlots.push((a=>dynamicFacetSlot(a,facet,providers)))}}let dynamic=dynamicSlots.map((f=>f(address)));return new Configuration(base,newCompartments,dynamic,address,staticValues,facets)}}function flatten(extension,compartments,newCompartments){let result=[[],[],[],[],[]];let seen=new Map;function inner(ext,prec){let known=seen.get(ext);if(known!=null){if(known<=prec)return;let found=result[known].indexOf(ext);if(found>-1)result[known].splice(found,1);if(ext instanceof CompartmentInstance)newCompartments.delete(ext.compartment)}seen.set(ext,prec);if(Array.isArray(ext)){for(let e of ext)inner(e,prec)}else if(ext instanceof CompartmentInstance){if(newCompartments.has(ext.compartment))throw new RangeError(`Duplicate use of compartment in extensions`);let content=compartments.get(ext.compartment)||ext.inner;newCompartments.set(ext.compartment,content);inner(content,prec)}else if(ext instanceof PrecExtension){inner(ext.inner,ext.prec)}else if(ext instanceof StateField){result[prec].push(ext);if(ext.provides)inner(ext.provides,prec)}else if(ext instanceof FacetProvider){result[prec].push(ext);if(ext.facet.extensions)inner(ext.facet.extensions,Prec_.default)}else{let content=ext.extension;if(!content)throw new Error(`Unrecognized extension value in extension set (${ext}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);inner(content,prec)}}inner(extension,Prec_.default);return result.reduce(((a,b)=>a.concat(b)))}function ensureAddr(state,addr){if(addr&1)return 2;let idx=addr>>1;let status=state.status[idx];if(status==4)throw new Error("Cyclic dependency between fields and/or facets");if(status&2)return status;state.status[idx]=4;let changed=state.computeSlot(state,state.config.dynamicSlots[idx]);return state.status[idx]=2|changed}function getAddr(state,addr){return addr&1?state.config.staticValues[addr>>1]:state.values[addr>>1]}const languageData=Facet.define();const allowMultipleSelections=Facet.define({combine:values=>values.some((v=>v)),static:true});const lineSeparator=Facet.define({combine:values=>values.length?values[0]:undefined,static:true});const changeFilter=Facet.define();const transactionFilter=Facet.define();const transactionExtender=Facet.define();const readOnly=Facet.define({combine:values=>values.length?values[0]:false});class Annotation{constructor(type,value){this.type=type;this.value=value}static define(){return new AnnotationType}}class AnnotationType{of(value){return new Annotation(this,value)}}class StateEffectType{constructor(map){this.map=map}of(value){return new StateEffect(this,value)}}class StateEffect{constructor(type,value){this.type=type;this.value=value}map(mapping){let mapped=this.type.map(this.value,mapping);return mapped===undefined?undefined:mapped==this.value?this:new StateEffect(this.type,mapped)}is(type){return this.type==type}static define(spec={}){return new StateEffectType(spec.map||(v=>v))}static mapEffects(effects,mapping){if(!effects.length)return effects;let result=[];for(let effect of effects){let mapped=effect.map(mapping);if(mapped)result.push(mapped)}return result}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(startState,changes,selection,effects,annotations,scrollIntoView){this.startState=startState;this.changes=changes;this.selection=selection;this.effects=effects;this.annotations=annotations;this.scrollIntoView=scrollIntoView;this._doc=null;this._state=null;if(selection)checkSelection(selection,changes.newLength);if(!annotations.some((a=>a.type==Transaction.time)))this.annotations=annotations.concat(Transaction.time.of(Date.now()))}static create(startState,changes,selection,effects,annotations,scrollIntoView){return new Transaction(startState,changes,selection,effects,annotations,scrollIntoView)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){if(!this._state)this.startState.applyTransaction(this);return this._state}annotation(type){for(let ann of this.annotations)if(ann.type==type)return ann.value;return undefined}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(event){let e=this.annotation(Transaction.userEvent);return!!(e&&(e==event||e.length>event.length&&e.slice(0,event.length)==event&&e[event.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(a,b){let result=[];for(let iA=0,iB=0;;){let from,to;if(iA<a.length&&(iB==b.length||b[iB]>=a[iA])){from=a[iA++];to=a[iA++]}else if(iB<b.length){from=b[iB++];to=b[iB++]}else return result;if(!result.length||result[result.length-1]<from)result.push(from,to);else if(result[result.length-1]<to)result[result.length-1]=to}}function mergeTransaction(a,b,sequential){var _a;let mapForA,mapForB,changes;if(sequential){mapForA=b.changes;mapForB=ChangeSet.empty(b.changes.length);changes=a.changes.compose(b.changes)}else{mapForA=b.changes.map(a.changes);mapForB=a.changes.mapDesc(b.changes,true);changes=a.changes.compose(mapForA)}return{changes:changes,selection:b.selection?b.selection.map(mapForB):(_a=a.selection)===null||_a===void 0?void 0:_a.map(mapForA),effects:StateEffect.mapEffects(a.effects,mapForA).concat(StateEffect.mapEffects(b.effects,mapForB)),annotations:a.annotations.length?a.annotations.concat(b.annotations):b.annotations,scrollIntoView:a.scrollIntoView||b.scrollIntoView}}function resolveTransactionInner(state,spec,docSize){let sel=spec.selection,annotations=asArray$1(spec.annotations);if(spec.userEvent)annotations=annotations.concat(Transaction.userEvent.of(spec.userEvent));return{changes:spec.changes instanceof ChangeSet?spec.changes:ChangeSet.of(spec.changes||[],docSize,state.facet(lineSeparator)),selection:sel&&(sel instanceof EditorSelection?sel:EditorSelection.single(sel.anchor,sel.head)),effects:asArray$1(spec.effects),annotations:annotations,scrollIntoView:!!spec.scrollIntoView}}function resolveTransaction(state,specs,filter){let s=resolveTransactionInner(state,specs.length?specs[0]:{},state.doc.length);if(specs.length&&specs[0].filter===false)filter=false;for(let i=1;i<specs.length;i++){if(specs[i].filter===false)filter=false;let seq=!!specs[i].sequential;s=mergeTransaction(s,resolveTransactionInner(state,specs[i],seq?s.changes.newLength:state.doc.length),seq)}let tr=Transaction.create(state,s.changes,s.selection,s.effects,s.annotations,s.scrollIntoView);return extendTransaction(filter?filterTransaction(tr):tr)}function filterTransaction(tr){let state=tr.startState;let result=true;for(let filter of state.facet(changeFilter)){let value=filter(tr);if(value===false){result=false;break}if(Array.isArray(value))result=result===true?value:joinRanges(result,value)}if(result!==true){let changes,back;if(result===false){back=tr.changes.invertedDesc;changes=ChangeSet.empty(state.doc.length)}else{let filtered=tr.changes.filter(result);changes=filtered.changes;back=filtered.filtered.mapDesc(filtered.changes).invertedDesc}tr=Transaction.create(state,changes,tr.selection&&tr.selection.map(back),StateEffect.mapEffects(tr.effects,back),tr.annotations,tr.scrollIntoView)}let filters=state.facet(transactionFilter);for(let i=filters.length-1;i>=0;i--){let filtered=filters[i](tr);if(filtered instanceof Transaction)tr=filtered;else if(Array.isArray(filtered)&&filtered.length==1&&filtered[0]instanceof Transaction)tr=filtered[0];else tr=resolveTransaction(state,asArray$1(filtered),false)}return tr}function extendTransaction(tr){let state=tr.startState,extenders=state.facet(transactionExtender),spec=tr;for(let i=extenders.length-1;i>=0;i--){let extension=extenders[i](tr);if(extension&&Object.keys(extension).length)spec=mergeTransaction(spec,resolveTransactionInner(state,extension,tr.changes.newLength),true)}return spec==tr?tr:Transaction.create(state,tr.changes,tr.selection,spec.effects,spec.annotations,spec.scrollIntoView)}const none$2=[];function asArray$1(value){return value==null?none$2:Array.isArray(value)?value:[value]}var CharCategory=function(CharCategory){CharCategory[CharCategory["Word"]=0]="Word";CharCategory[CharCategory["Space"]=1]="Space";CharCategory[CharCategory["Other"]=2]="Other";return CharCategory}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(_){}function hasWordChar(str){if(wordChar)return wordChar.test(str);for(let i=0;i<str.length;i++){let ch=str[i];if(/\w/.test(ch)||ch>""&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch)))return true}return false}function makeCategorizer(wordChars){return char=>{if(!/\S/.test(char))return CharCategory.Space;if(hasWordChar(char))return CharCategory.Word;for(let i=0;i<wordChars.length;i++)if(char.indexOf(wordChars[i])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(config,doc,selection,values,computeSlot,tr){this.config=config;this.doc=doc;this.selection=selection;this.values=values;this.status=config.statusTemplate.slice();this.computeSlot=computeSlot;if(tr)tr._state=this;for(let i=0;i<this.config.dynamicSlots.length;i++)ensureAddr(this,i<<1);this.computeSlot=null}field(field,require=true){let addr=this.config.address[field.id];if(addr==null){if(require)throw new RangeError("Field is not present in this state");return undefined}ensureAddr(this,addr);return getAddr(this,addr)}update(...specs){return resolveTransaction(this,specs,true)}applyTransaction(tr){let conf=this.config,{base:base,compartments:compartments}=conf;for(let effect of tr.effects){if(effect.is(Compartment.reconfigure)){if(conf){compartments=new Map;conf.compartments.forEach(((val,key)=>compartments.set(key,val)));conf=null}compartments.set(effect.value.compartment,effect.value.extension)}else if(effect.is(StateEffect.reconfigure)){conf=null;base=effect.value}else if(effect.is(StateEffect.appendConfig)){conf=null;base=asArray$1(base).concat(effect.value)}}let startValues;if(!conf){conf=Configuration.resolve(base,compartments,this);let intermediateState=new EditorState(conf,this.doc,this.selection,conf.dynamicSlots.map((()=>null)),((state,slot)=>slot.reconfigure(state,this)),null);startValues=intermediateState.values}else{startValues=tr.startState.values.slice()}new EditorState(conf,tr.newDoc,tr.newSelection,startValues,((state,slot)=>slot.update(state,tr)),tr)}replaceSelection(text){if(typeof text=="string")text=this.toText(text);return this.changeByRange((range=>({changes:{from:range.from,to:range.to,insert:text},range:EditorSelection.cursor(range.from+text.length)})))}changeByRange(f){let sel=this.selection;let result1=f(sel.ranges[0]);let changes=this.changes(result1.changes),ranges=[result1.range];let effects=asArray$1(result1.effects);for(let i=1;i<sel.ranges.length;i++){let result=f(sel.ranges[i]);let newChanges=this.changes(result.changes),newMapped=newChanges.map(changes);for(let j=0;j<i;j++)ranges[j]=ranges[j].map(newMapped);let mapBy=changes.mapDesc(newChanges,true);ranges.push(result.range.map(mapBy));changes=changes.compose(newMapped);effects=StateEffect.mapEffects(effects,newMapped).concat(StateEffect.mapEffects(asArray$1(result.effects),mapBy))}return{changes:changes,selection:EditorSelection.create(ranges,sel.mainIndex),effects:effects}}changes(spec=[]){if(spec instanceof ChangeSet)return spec;return ChangeSet.of(spec,this.doc.length,this.facet(EditorState.lineSeparator))}toText(string){return Text.of(string.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(from=0,to=this.doc.length){return this.doc.sliceString(from,to,this.lineBreak)}facet(facet){let addr=this.config.address[facet.id];if(addr==null)return facet.default;ensureAddr(this,addr);return getAddr(this,addr)}toJSON(fields){let result={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(fields)for(let prop in fields){let value=fields[prop];if(value instanceof StateField&&this.config.address[value.id]!=null)result[prop]=value.spec.toJSON(this.field(fields[prop]),this)}return result}static fromJSON(json,config={},fields){if(!json||typeof json.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let fieldInit=[];if(fields)for(let prop in fields){if(Object.prototype.hasOwnProperty.call(json,prop)){let field=fields[prop],value=json[prop];fieldInit.push(field.init((state=>field.spec.fromJSON(value,state))))}}return EditorState.create({doc:json.doc,selection:EditorSelection.fromJSON(json.selection),extensions:config.extensions?fieldInit.concat([config.extensions]):fieldInit})}static create(config={}){let configuration=Configuration.resolve(config.extensions||[],new Map);let doc=config.doc instanceof Text?config.doc:Text.of((config.doc||"").split(configuration.staticFacet(EditorState.lineSeparator)||DefaultSplit));let selection=!config.selection?EditorSelection.single(0):config.selection instanceof EditorSelection?config.selection:EditorSelection.single(config.selection.anchor,config.selection.head);checkSelection(selection,doc.length);if(!configuration.staticFacet(allowMultipleSelections))selection=selection.asSingle();return new EditorState(configuration,doc,selection,configuration.dynamicSlots.map((()=>null)),((state,slot)=>slot.create(state)),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||"\n"}get readOnly(){return this.facet(readOnly)}phrase(phrase,...insert){for(let map of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(map,phrase)){phrase=map[phrase];break}if(insert.length)phrase=phrase.replace(/\$(\$|\d*)/g,((m,i)=>{if(i=="$")return"$";let n=+(i||1);return!n||n>insert.length?m:insert[n-1]}));return phrase}languageDataAt(name,pos,side=-1){let values=[];for(let provider of this.facet(languageData)){for(let result of provider(this,pos,side)){if(Object.prototype.hasOwnProperty.call(result,name))values.push(result[name])}}return values}charCategorizer(at){return makeCategorizer(this.languageDataAt("wordChars",at).join(""))}wordAt(pos){let{text:text,from:from,length:length}=this.doc.lineAt(pos);let cat=this.charCategorizer(pos);let start=pos-from,end=pos-from;while(start>0){let prev=findClusterBreak(text,start,false);if(cat(text.slice(prev,start))!=CharCategory.Word)break;start=prev}while(end<length){let next=findClusterBreak(text,end);if(cat(text.slice(end,next))!=CharCategory.Word)break;end=next}return start==end?null:EditorSelection.range(start+from,end+from)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:values=>values.length?values[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(a,b){let kA=Object.keys(a),kB=Object.keys(b);return kA.length==kB.length&&kA.every((k=>a[k]==b[k]))}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(configs,defaults,combine={}){let result={};for(let config of configs)for(let key of Object.keys(config)){let value=config[key],current=result[key];if(current===undefined)result[key]=value;else if(current===value||value===undefined);else if(Object.hasOwnProperty.call(combine,key))result[key]=combine[key](current,value);else throw new Error("Config merge conflict for field "+key)}for(let key in defaults)if(result[key]===undefined)result[key]=defaults[key];return result}class RangeValue{eq(other){return this==other}range(from,to=from){return Range$1.create(from,to,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=false;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$1=class Range{constructor(from,to,value){this.from=from;this.to=to;this.value=value}static create(from,to,value){return new Range$1(from,to,value)}};function cmpRange(a,b){return a.from-b.from||a.value.startSide-b.value.startSide}class Chunk{constructor(from,to,value,maxPoint){this.from=from;this.to=to;this.value=value;this.maxPoint=maxPoint}get length(){return this.to[this.to.length-1]}findIndex(pos,side,end,startAt=0){let arr=end?this.to:this.from;for(let lo=startAt,hi=arr.length;;){if(lo==hi)return lo;let mid=lo+hi>>1;let diff=arr[mid]-pos||(end?this.value[mid].endSide:this.value[mid].startSide)-side;if(mid==lo)return diff>=0?lo:hi;if(diff>=0)hi=mid;else lo=mid+1}}between(offset,from,to,f){for(let i=this.findIndex(from,-1e9,true),e=this.findIndex(to,1e9,false,i);i<e;i++)if(f(this.from[i]+offset,this.to[i]+offset,this.value[i])===false)return false}map(offset,changes){let value=[],from=[],to=[],newPos=-1,maxPoint=-1;for(let i=0;i<this.value.length;i++){let val=this.value[i],curFrom=this.from[i]+offset,curTo=this.to[i]+offset,newFrom,newTo;if(curFrom==curTo){let mapped=changes.mapPos(curFrom,val.startSide,val.mapMode);if(mapped==null)continue;newFrom=newTo=mapped;if(val.startSide!=val.endSide){newTo=changes.mapPos(curFrom,val.endSide);if(newTo<newFrom)continue}}else{newFrom=changes.mapPos(curFrom,val.startSide);newTo=changes.mapPos(curTo,val.endSide);if(newFrom>newTo||newFrom==newTo&&val.startSide>0&&val.endSide<=0)continue}if((newTo-newFrom||val.endSide-val.startSide)<0)continue;if(newPos<0)newPos=newFrom;if(val.point)maxPoint=Math.max(maxPoint,newTo-newFrom);value.push(val);from.push(newFrom-newPos);to.push(newTo-newPos)}return{mapped:value.length?new Chunk(from,to,value,maxPoint):null,pos:newPos}}}class RangeSet{constructor(chunkPos,chunk,nextLayer,maxPoint){this.chunkPos=chunkPos;this.chunk=chunk;this.nextLayer=nextLayer;this.maxPoint=maxPoint}static create(chunkPos,chunk,nextLayer,maxPoint){return new RangeSet(chunkPos,chunk,nextLayer,maxPoint)}get length(){let last=this.chunk.length-1;return last<0?0:Math.max(this.chunkEnd(last),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let size=this.nextLayer.size;for(let chunk of this.chunk)size+=chunk.value.length;return size}chunkEnd(index){return this.chunkPos[index]+this.chunk[index].length}update(updateSpec){let{add:add=[],sort:sort=false,filterFrom:filterFrom=0,filterTo:filterTo=this.length}=updateSpec;let filter=updateSpec.filter;if(add.length==0&&!filter)return this;if(sort)add=add.slice().sort(cmpRange);if(this.isEmpty)return add.length?RangeSet.of(add):this;let cur=new LayerCursor(this,null,-1).goto(0),i=0,spill=[];let builder=new RangeSetBuilder;while(cur.value||i<add.length){if(i<add.length&&(cur.from-add[i].from||cur.startSide-add[i].value.startSide)>=0){let range=add[i++];if(!builder.addInner(range.from,range.to,range.value))spill.push(range)}else if(cur.rangeIndex==1&&cur.chunkIndex<this.chunk.length&&(i==add.length||this.chunkEnd(cur.chunkIndex)<add[i].from)&&(!filter||filterFrom>this.chunkEnd(cur.chunkIndex)||filterTo<this.chunkPos[cur.chunkIndex])&&builder.addChunk(this.chunkPos[cur.chunkIndex],this.chunk[cur.chunkIndex])){cur.nextChunk()}else{if(!filter||filterFrom>cur.to||filterTo<cur.from||filter(cur.from,cur.to,cur.value)){if(!builder.addInner(cur.from,cur.to,cur.value))spill.push(Range$1.create(cur.from,cur.to,cur.value))}cur.next()}}return builder.finishInner(this.nextLayer.isEmpty&&!spill.length?RangeSet.empty:this.nextLayer.update({add:spill,filter:filter,filterFrom:filterFrom,filterTo:filterTo}))}map(changes){if(changes.empty||this.isEmpty)return this;let chunks=[],chunkPos=[],maxPoint=-1;for(let i=0;i<this.chunk.length;i++){let start=this.chunkPos[i],chunk=this.chunk[i];let touch=changes.touchesRange(start,start+chunk.length);if(touch===false){maxPoint=Math.max(maxPoint,chunk.maxPoint);chunks.push(chunk);chunkPos.push(changes.mapPos(start))}else if(touch===true){let{mapped:mapped,pos:pos}=chunk.map(start,changes);if(mapped){maxPoint=Math.max(maxPoint,mapped.maxPoint);chunks.push(mapped);chunkPos.push(pos)}}}let next=this.nextLayer.map(changes);return chunks.length==0?next:new RangeSet(chunkPos,chunks,next||RangeSet.empty,maxPoint)}between(from,to,f){if(this.isEmpty)return;for(let i=0;i<this.chunk.length;i++){let start=this.chunkPos[i],chunk=this.chunk[i];if(to>=start&&from<=start+chunk.length&&chunk.between(start,from-start,to-start,f)===false)return}this.nextLayer.between(from,to,f)}iter(from=0){return HeapCursor.from([this]).goto(from)}get isEmpty(){return this.nextLayer==this}static iter(sets,from=0){return HeapCursor.from(sets).goto(from)}static compare(oldSets,newSets,textDiff,comparator,minPointSize=-1){let a=oldSets.filter((set=>set.maxPoint>0||!set.isEmpty&&set.maxPoint>=minPointSize));let b=newSets.filter((set=>set.maxPoint>0||!set.isEmpty&&set.maxPoint>=minPointSize));let sharedChunks=findSharedChunks(a,b,textDiff);let sideA=new SpanCursor(a,sharedChunks,minPointSize);let sideB=new SpanCursor(b,sharedChunks,minPointSize);textDiff.iterGaps(((fromA,fromB,length)=>compare(sideA,fromA,sideB,fromB,length,comparator)));if(textDiff.empty&&textDiff.length==0)compare(sideA,0,sideB,0,0,comparator)}static eq(oldSets,newSets,from=0,to){if(to==null)to=1e9-1;let a=oldSets.filter((set=>!set.isEmpty&&newSets.indexOf(set)<0));let b=newSets.filter((set=>!set.isEmpty&&oldSets.indexOf(set)<0));if(a.length!=b.length)return false;if(!a.length)return true;let sharedChunks=findSharedChunks(a,b);let sideA=new SpanCursor(a,sharedChunks,0).goto(from),sideB=new SpanCursor(b,sharedChunks,0).goto(from);for(;;){if(sideA.to!=sideB.to||!sameValues(sideA.active,sideB.active)||sideA.point&&(!sideB.point||!sideA.point.eq(sideB.point)))return false;if(sideA.to>to)return true;sideA.next();sideB.next()}}static spans(sets,from,to,iterator,minPointSize=-1){let cursor=new SpanCursor(sets,null,minPointSize).goto(from),pos=from;let openRanges=cursor.openStart;for(;;){let curTo=Math.min(cursor.to,to);if(cursor.point){let active=cursor.activeForPoint(cursor.to);let openCount=cursor.pointFrom<from?active.length+1:Math.min(active.length,openRanges);iterator.point(pos,curTo,cursor.point,active,openCount,cursor.pointRank);openRanges=Math.min(cursor.openEnd(curTo),active.length)}else if(curTo>pos){iterator.span(pos,curTo,cursor.active,openRanges);openRanges=cursor.openEnd(curTo)}if(cursor.to>to)return openRanges+(cursor.point&&cursor.to>to?1:0);pos=cursor.to;cursor.next()}}static of(ranges,sort=false){let build=new RangeSetBuilder;for(let range of ranges instanceof Range$1?[ranges]:sort?lazySort(ranges):ranges)build.add(range.from,range.to,range.value);return build.finish()}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(ranges){if(ranges.length>1)for(let prev=ranges[0],i=1;i<ranges.length;i++){let cur=ranges[i];if(cmpRange(prev,cur)>0)return ranges.slice().sort(cmpRange);prev=cur}return ranges}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{constructor(){this.chunks=[];this.chunkPos=[];this.chunkStart=-1;this.last=null;this.lastFrom=-1e9;this.lastTo=-1e9;this.from=[];this.to=[];this.value=[];this.maxPoint=-1;this.setMaxPoint=-1;this.nextLayer=null}finishChunk(newArrays){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint));this.chunkPos.push(this.chunkStart);this.chunkStart=-1;this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint);this.maxPoint=-1;if(newArrays){this.from=[];this.to=[];this.value=[]}}add(from,to,value){if(!this.addInner(from,to,value))(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(from,to,value)}addInner(from,to,value){let diff=from-this.lastTo||value.startSide-this.last.endSide;if(diff<=0&&(from-this.lastFrom||value.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");if(diff<0)return false;if(this.from.length==250)this.finishChunk(true);if(this.chunkStart<0)this.chunkStart=from;this.from.push(from-this.chunkStart);this.to.push(to-this.chunkStart);this.last=value;this.lastFrom=from;this.lastTo=to;this.value.push(value);if(value.point)this.maxPoint=Math.max(this.maxPoint,to-from);return true}addChunk(from,chunk){if((from-this.lastTo||chunk.value[0].startSide-this.last.endSide)<0)return false;if(this.from.length)this.finishChunk(true);this.setMaxPoint=Math.max(this.setMaxPoint,chunk.maxPoint);this.chunks.push(chunk);this.chunkPos.push(from);let last=chunk.value.length-1;this.last=chunk.value[last];this.lastFrom=chunk.from[last]+from;this.lastTo=chunk.to[last]+from;return true}finish(){return this.finishInner(RangeSet.empty)}finishInner(next){if(this.from.length)this.finishChunk(false);if(this.chunks.length==0)return next;let result=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(next):next,this.setMaxPoint);this.from=null;return result}}function findSharedChunks(a,b,textDiff){let inA=new Map;for(let set of a)for(let i=0;i<set.chunk.length;i++)if(set.chunk[i].maxPoint<=0)inA.set(set.chunk[i],set.chunkPos[i]);let shared=new Set;for(let set of b)for(let i=0;i<set.chunk.length;i++){let known=inA.get(set.chunk[i]);if(known!=null&&(textDiff?textDiff.mapPos(known):known)==set.chunkPos[i]&&!(textDiff===null||textDiff===void 0?void 0:textDiff.touchesRange(known,known+set.chunk[i].length)))shared.add(set.chunk[i])}return shared}class LayerCursor{constructor(layer,skip,minPoint,rank=0){this.layer=layer;this.skip=skip;this.minPoint=minPoint;this.rank=rank}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(pos,side=-1e9){this.chunkIndex=this.rangeIndex=0;this.gotoInner(pos,side,false);return this}gotoInner(pos,side,forward){while(this.chunkIndex<this.layer.chunk.length){let next=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(next)||this.layer.chunkEnd(this.chunkIndex)<pos||next.maxPoint<this.minPoint))break;this.chunkIndex++;forward=false}if(this.chunkIndex<this.layer.chunk.length){let rangeIndex=this.layer.chunk[this.chunkIndex].findIndex(pos-this.layer.chunkPos[this.chunkIndex],side,true);if(!forward||this.rangeIndex<rangeIndex)this.setRangeIndex(rangeIndex)}this.next()}forward(pos,side){if((this.to-pos||this.endSide-side)<0)this.gotoInner(pos,side,true)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9;this.value=null;break}else{let chunkPos=this.layer.chunkPos[this.chunkIndex],chunk=this.layer.chunk[this.chunkIndex];let from=chunkPos+chunk.from[this.rangeIndex];this.from=from;this.to=chunkPos+chunk.to[this.rangeIndex];this.value=chunk.value[this.rangeIndex];this.setRangeIndex(this.rangeIndex+1);if(this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(index){if(index==this.layer.chunk[this.chunkIndex].value.length){this.chunkIndex++;if(this.skip){while(this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]))this.chunkIndex++}this.rangeIndex=0}else{this.rangeIndex=index}}nextChunk(){this.chunkIndex++;this.rangeIndex=0;this.next()}compare(other){return this.from-other.from||this.startSide-other.startSide||this.rank-other.rank||this.to-other.to||this.endSide-other.endSide}}class HeapCursor{constructor(heap){this.heap=heap}static from(sets,skip=null,minPoint=-1){let heap=[];for(let i=0;i<sets.length;i++){for(let cur=sets[i];!cur.isEmpty;cur=cur.nextLayer){if(cur.maxPoint>=minPoint)heap.push(new LayerCursor(cur,skip,minPoint,i))}}return heap.length==1?heap[0]:new HeapCursor(heap)}get startSide(){return this.value?this.value.startSide:0}goto(pos,side=-1e9){for(let cur of this.heap)cur.goto(pos,side);for(let i=this.heap.length>>1;i>=0;i--)heapBubble(this.heap,i);this.next();return this}forward(pos,side){for(let cur of this.heap)cur.forward(pos,side);for(let i=this.heap.length>>1;i>=0;i--)heapBubble(this.heap,i);if((this.to-pos||this.value.endSide-side)<0)this.next()}next(){if(this.heap.length==0){this.from=this.to=1e9;this.value=null;this.rank=-1}else{let top=this.heap[0];this.from=top.from;this.to=top.to;this.value=top.value;this.rank=top.rank;if(top.value)top.next();heapBubble(this.heap,0)}}}function heapBubble(heap,index){for(let cur=heap[index];;){let childIndex=(index<<1)+1;if(childIndex>=heap.length)break;let child=heap[childIndex];if(childIndex+1<heap.length&&child.compare(heap[childIndex+1])>=0){child=heap[childIndex+1];childIndex++}if(cur.compare(child)<0)break;heap[childIndex]=cur;heap[index]=child;index=childIndex}}class SpanCursor{constructor(sets,skip,minPoint){this.minPoint=minPoint;this.active=[];this.activeTo=[];this.activeRank=[];this.minActive=-1;this.point=null;this.pointFrom=0;this.pointRank=0;this.to=-1e9;this.endSide=0;this.openStart=-1;this.cursor=HeapCursor.from(sets,skip,minPoint)}goto(pos,side=-1e9){this.cursor.goto(pos,side);this.active.length=this.activeTo.length=this.activeRank.length=0;this.minActive=-1;this.to=pos;this.endSide=side;this.openStart=-1;this.next();return this}forward(pos,side){while(this.minActive>-1&&(this.activeTo[this.minActive]-pos||this.active[this.minActive].endSide-side)<0)this.removeActive(this.minActive);this.cursor.forward(pos,side)}removeActive(index){remove(this.active,index);remove(this.activeTo,index);remove(this.activeRank,index);this.minActive=findMinIndex(this.active,this.activeTo)}addActive(trackOpen){let i=0,{value:value,to:to,rank:rank}=this.cursor;while(i<this.activeRank.length&&this.activeRank[i]<=rank)i++;insert(this.active,i,value);insert(this.activeTo,i,to);insert(this.activeRank,i,rank);if(trackOpen)insert(trackOpen,i,this.cursor.from);this.minActive=findMinIndex(this.active,this.activeTo)}next(){let from=this.to,wasPoint=this.point;this.point=null;let trackOpen=this.openStart<0?[]:null;for(;;){let a=this.minActive;if(a>-1&&(this.activeTo[a]-this.cursor.from||this.active[a].endSide-this.cursor.startSide)<0){if(this.activeTo[a]>from){this.to=this.activeTo[a];this.endSide=this.active[a].endSide;break}this.removeActive(a);if(trackOpen)remove(trackOpen,a)}else if(!this.cursor.value){this.to=this.endSide=1e9;break}else if(this.cursor.from>from){this.to=this.cursor.from;this.endSide=this.cursor.startSide;break}else{let nextVal=this.cursor.value;if(!nextVal.point){this.addActive(trackOpen);this.cursor.next()}else if(wasPoint&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to){this.cursor.next()}else{this.point=nextVal;this.pointFrom=this.cursor.from;this.pointRank=this.cursor.rank;this.to=this.cursor.to;this.endSide=nextVal.endSide;this.cursor.next();this.forward(this.to,this.endSide);break}}}if(trackOpen){this.openStart=0;for(let i=trackOpen.length-1;i>=0&&trackOpen[i]<from;i--)this.openStart++}}activeForPoint(to){if(!this.active.length)return this.active;let active=[];for(let i=this.active.length-1;i>=0;i--){if(this.activeRank[i]<this.pointRank)break;if(this.activeTo[i]>to||this.activeTo[i]==to&&this.active[i].endSide>=this.point.endSide)active.push(this.active[i])}return active.reverse()}openEnd(to){let open=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>to;i--)open++;return open}}function compare(a,startA,b,startB,length,comparator){a.goto(startA);b.goto(startB);let endB=startB+length;let pos=startB,dPos=startB-startA;for(;;){let diff=a.to+dPos-b.to||a.endSide-b.endSide;let end=diff<0?a.to+dPos:b.to,clipEnd=Math.min(end,endB);if(a.point||b.point){if(!(a.point&&b.point&&(a.point==b.point||a.point.eq(b.point))&&sameValues(a.activeForPoint(a.to+dPos),b.activeForPoint(b.to))))comparator.comparePoint(pos,clipEnd,a.point,b.point)}else{if(clipEnd>pos&&!sameValues(a.active,b.active))comparator.compareRange(pos,clipEnd,a.active,b.active)}if(end>endB)break;pos=end;if(diff<=0)a.next();if(diff>=0)b.next()}}function sameValues(a,b){if(a.length!=b.length)return false;for(let i=0;i<a.length;i++)if(a[i]!=b[i]&&!a[i].eq(b[i]))return false;return true}function remove(array,index){for(let i=index,e=array.length-1;i<e;i++)array[i]=array[i+1];array.pop()}function insert(array,index,value){for(let i=array.length-1;i>=index;i--)array[i+1]=array[i];array[index]=value}function findMinIndex(value,array){let found=-1,foundPos=1e9;for(let i=0;i<array.length;i++)if((array[i]-foundPos||value[i].endSide-value[found].endSide)<0){found=i;foundPos=array[i]}return found}function countColumn(string,tabSize,to=string.length){let n=0;for(let i=0;i<to;){if(string.charCodeAt(i)==9){n+=tabSize-n%tabSize;i++}else{n++;i=findClusterBreak(string,i)}}return n}function findColumn(string,col,tabSize,strict){for(let i=0,n=0;;){if(n>=col)return i;if(i==string.length)break;n+=string.charCodeAt(i)==9?tabSize-n%tabSize:1;i=findClusterBreak(string,i)}return strict===true?-1:string.length}const C="ͼ";const COUNT=typeof Symbol=="undefined"?"__"+C:Symbol.for(C);const SET=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet");const top=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class StyleModule{constructor(spec,options){this.rules=[];let{finish:finish}=options||{};function splitSelector(selector){return/^@/.test(selector)?[selector]:selector.split(/,\s*/)}function render(selectors,spec,target,isKeyframes){let local=[],isAt=/^@(\w+)\b/.exec(selectors[0]),keyframes=isAt&&isAt[1]=="keyframes";if(isAt&&spec==null)return target.push(selectors[0]+";");for(let prop in spec){let value=spec[prop];if(/&/.test(prop)){render(prop.split(/,\s*/).map((part=>selectors.map((sel=>part.replace(/&/,sel))))).reduce(((a,b)=>a.concat(b))),value,target)}else if(value&&typeof value=="object"){if(!isAt)throw new RangeError("The value of a property ("+prop+") should be a primitive value.");render(splitSelector(prop),value,local,keyframes)}else if(value!=null){local.push(prop.replace(/_.*/,"").replace(/[A-Z]/g,(l=>"-"+l.toLowerCase()))+": "+value+";")}}if(local.length||keyframes){target.push((finish&&!isAt&&!isKeyframes?selectors.map(finish):selectors).join(", ")+" {"+local.join(" ")+"}")}}for(let prop in spec)render(splitSelector(prop),spec[prop],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let id=top[COUNT]||1;top[COUNT]=id+1;return C+id.toString(36)}static mount(root,modules){(root[SET]||new StyleSet(root)).mount(Array.isArray(modules)?modules:[modules])}}let adoptedSet=null;class StyleSet{constructor(root){if(!root.head&&root.adoptedStyleSheets&&typeof CSSStyleSheet!="undefined"){if(adoptedSet){root.adoptedStyleSheets=[adoptedSet.sheet].concat(root.adoptedStyleSheets);return root[SET]=adoptedSet}this.sheet=new CSSStyleSheet;root.adoptedStyleSheets=[this.sheet].concat(root.adoptedStyleSheets);adoptedSet=this}else{this.styleTag=(root.ownerDocument||root).createElement("style");let target=root.head||root;target.insertBefore(this.styleTag,target.firstChild)}this.modules=[];root[SET]=this}mount(modules){let sheet=this.sheet;let pos=0,j=0;for(let i=0;i<modules.length;i++){let mod=modules[i],index=this.modules.indexOf(mod);if(index<j&&index>-1){this.modules.splice(index,1);j--;index=-1}if(index==-1){this.modules.splice(j++,0,mod);if(sheet)for(let k=0;k<mod.rules.length;k++)sheet.insertRule(mod.rules[k],pos++)}else{while(j<index)pos+=this.modules[j++].rules.length;pos+=mod.rules.length;j++}}if(!sheet){let text="";for(let i=0;i<this.modules.length;i++)text+=this.modules[i].getRules()+"\n";this.styleTag.textContent=text}}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"};var shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'};var chrome$1=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent);var mac=typeof navigator!="undefined"&&/Mac/.test(navigator.platform);var ie$1=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);var brokenModifierNames=mac||chrome$1&&+chrome$1[1]<57;for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++){base[i]=String.fromCharCode(i+32);shift[i]=String.fromCharCode(i)}for(var code in base)if(!shift.hasOwnProperty(code))shift[code]=base[code];function keyName(event){var ignoreKey=brokenModifierNames&&(event.ctrlKey||event.altKey||event.metaKey)||ie$1&&event.shiftKey&&event.key&&event.key.length==1||event.key=="Unidentified";var name=!ignoreKey&&event.key||(event.shiftKey?shift:base)[event.keyCode]||event.key||"Unidentified";if(name=="Esc")name="Escape";if(name=="Del")name="Delete";if(name=="Left")name="ArrowLeft";if(name=="Up")name="ArrowUp";if(name=="Right")name="ArrowRight";if(name=="Down")name="ArrowDown";return name}function getSelection(root){let target;if(root.nodeType==11){target=root.getSelection?root:root.ownerDocument}else{target=root}return target.getSelection()}function contains(dom,node){return node?dom==node||dom.contains(node.nodeType!=1?node.parentNode:node):false}function deepActiveElement(doc){let elt=doc.activeElement;while(elt&&elt.shadowRoot)elt=elt.shadowRoot.activeElement;return elt}function hasSelection(dom,selection){if(!selection.anchorNode)return false;try{return contains(dom,selection.anchorNode)}catch(_){return false}}function clientRectsFor(dom){if(dom.nodeType==3)return textRange(dom,0,dom.nodeValue.length).getClientRects();else if(dom.nodeType==1)return dom.getClientRects();else return[]}function isEquivalentPosition(node,off,targetNode,targetOff){return targetNode?scanFor(node,off,targetNode,targetOff,-1)||scanFor(node,off,targetNode,targetOff,1):false}function domIndex(node){for(var index=0;;index++){node=node.previousSibling;if(!node)return index}}function scanFor(node,off,targetNode,targetOff,dir){for(;;){if(node==targetNode&&off==targetOff)return true;if(off==(dir<0?0:maxOffset(node))){if(node.nodeName=="DIV")return false;let parent=node.parentNode;if(!parent||parent.nodeType!=1)return false;off=domIndex(node)+(dir<0?0:1);node=parent}else if(node.nodeType==1){node=node.childNodes[off+(dir<0?-1:0)];if(node.nodeType==1&&node.contentEditable=="false")return false;off=dir<0?maxOffset(node):0}else{return false}}}function maxOffset(node){return node.nodeType==3?node.nodeValue.length:node.childNodes.length}const Rect0={left:0,right:0,top:0,bottom:0};function flattenRect(rect,left){let x=left?rect.left:rect.right;return{left:x,right:x,top:rect.top,bottom:rect.bottom}}function windowRect(win){return{left:0,right:win.innerWidth,top:0,bottom:win.innerHeight}}function scrollRectIntoView(dom,rect,side,x,y,xMargin,yMargin,ltr){let doc=dom.ownerDocument,win=doc.defaultView||window;for(let cur=dom;cur;){if(cur.nodeType==1){let bounding,top=cur==doc.body;if(top){bounding=windowRect(win)}else{if(cur.scrollHeight<=cur.clientHeight&&cur.scrollWidth<=cur.clientWidth){cur=cur.assignedSlot||cur.parentNode;continue}let rect=cur.getBoundingClientRect();bounding={left:rect.left,right:rect.left+cur.clientWidth,top:rect.top,bottom:rect.top+cur.clientHeight}}let moveX=0,moveY=0;if(y=="nearest"){if(rect.top<bounding.top){moveY=-(bounding.top-rect.top+yMargin);if(side>0&&rect.bottom>bounding.bottom+moveY)moveY=rect.bottom-bounding.bottom+moveY+yMargin}else if(rect.bottom>bounding.bottom){moveY=rect.bottom-bounding.bottom+yMargin;if(side<0&&rect.top-moveY<bounding.top)moveY=-(bounding.top+moveY-rect.top+yMargin)}}else{let rectHeight=rect.bottom-rect.top,boundingHeight=bounding.bottom-bounding.top;let targetTop=y=="center"&&rectHeight<=boundingHeight?rect.top+rectHeight/2-boundingHeight/2:y=="start"||y=="center"&&side<0?rect.top-yMargin:rect.bottom-boundingHeight+yMargin;moveY=targetTop-bounding.top}if(x=="nearest"){if(rect.left<bounding.left){moveX=-(bounding.left-rect.left+xMargin);if(side>0&&rect.right>bounding.right+moveX)moveX=rect.right-bounding.right+moveX+xMargin}else if(rect.right>bounding.right){moveX=rect.right-bounding.right+xMargin;if(side<0&&rect.left<bounding.left+moveX)moveX=-(bounding.left+moveX-rect.left+xMargin)}}else{let targetLeft=x=="center"?rect.left+(rect.right-rect.left)/2-(bounding.right-bounding.left)/2:x=="start"==ltr?rect.left-xMargin:rect.right-(bounding.right-bounding.left)+xMargin;moveX=targetLeft-bounding.left}if(moveX||moveY){if(top){win.scrollBy(moveX,moveY)}else{let movedX=0,movedY=0;if(moveY){let start=cur.scrollTop;cur.scrollTop+=moveY;movedY=cur.scrollTop-start}if(moveX){let start=cur.scrollLeft;cur.scrollLeft+=moveX;movedX=cur.scrollLeft-start}rect={left:rect.left-movedX,top:rect.top-movedY,right:rect.right-movedX,bottom:rect.bottom-movedY};if(movedX&&Math.abs(movedX-moveX)<1)x="nearest";if(movedY&&Math.abs(movedY-moveY)<1)y="nearest"}}if(top)break;cur=cur.assignedSlot||cur.parentNode}else if(cur.nodeType==11){cur=cur.host}else{break}}}class DOMSelectionState{constructor(){this.anchorNode=null;this.anchorOffset=0;this.focusNode=null;this.focusOffset=0}eq(domSel){return this.anchorNode==domSel.anchorNode&&this.anchorOffset==domSel.anchorOffset&&this.focusNode==domSel.focusNode&&this.focusOffset==domSel.focusOffset}setRange(range){this.set(range.anchorNode,range.anchorOffset,range.focusNode,range.focusOffset)}set(anchorNode,anchorOffset,focusNode,focusOffset){this.anchorNode=anchorNode;this.anchorOffset=anchorOffset;this.focusNode=focusNode;this.focusOffset=focusOffset}}let preventScrollSupported=null;function focusPreventScroll(dom){if(dom.setActive)return dom.setActive();if(preventScrollSupported)return dom.focus(preventScrollSupported);let stack=[];for(let cur=dom;cur;cur=cur.parentNode){stack.push(cur,cur.scrollTop,cur.scrollLeft);if(cur==cur.ownerDocument)break}dom.focus(preventScrollSupported==null?{get preventScroll(){preventScrollSupported={preventScroll:true};return true}}:undefined);if(!preventScrollSupported){preventScrollSupported=false;for(let i=0;i<stack.length;){let elt=stack[i++],top=stack[i++],left=stack[i++];if(elt.scrollTop!=top)elt.scrollTop=top;if(elt.scrollLeft!=left)elt.scrollLeft=left}}}let scratchRange;function textRange(node,from,to=from){let range=scratchRange||(scratchRange=document.createRange());range.setEnd(node,to);range.setStart(node,from);return range}function dispatchKey(elt,name,code){let options={key:name,code:name,keyCode:code,which:code,cancelable:true};let down=new KeyboardEvent("keydown",options);down.synthetic=true;elt.dispatchEvent(down);let up=new KeyboardEvent("keyup",options);up.synthetic=true;elt.dispatchEvent(up);return down.defaultPrevented||up.defaultPrevented}function getRoot(node){while(node){if(node&&(node.nodeType==9||node.nodeType==11&&node.host))return node;node=node.assignedSlot||node.parentNode}return null}function clearAttributes(node){while(node.attributes.length)node.removeAttributeNode(node.attributes[0])}function atElementStart(doc,selection){let node=selection.focusNode,offset=selection.focusOffset;if(!node||selection.anchorNode!=node||selection.anchorOffset!=offset)return false;for(;;){if(offset){if(node.nodeType!=1)return false;let prev=node.childNodes[offset-1];if(prev.contentEditable=="false")offset--;else{node=prev;offset=maxOffset(node)}}else if(node==doc){return true}else{offset=domIndex(node);node=node.parentNode}}}class DOMPos{constructor(node,offset,precise=true){this.node=node;this.offset=offset;this.precise=precise}static before(dom,precise){return new DOMPos(dom.parentNode,domIndex(dom),precise)}static after(dom,precise){return new DOMPos(dom.parentNode,domIndex(dom)+1,precise)}}const noChildren=[];class ContentView{constructor(){this.parent=null;this.dom=null;this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(view){let pos=this.posAtStart;for(let child of this.children){if(child==view)return pos;pos+=child.length+child.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(view){return this.posBefore(view)+view.length}coordsAt(_pos,_side){return null}sync(track){if(this.dirty&2){let parent=this.dom;let prev=null,next;for(let child of this.children){if(child.dirty){if(!child.dom&&(next=prev?prev.nextSibling:parent.firstChild)){let contentView=ContentView.get(next);if(!contentView||!contentView.parent&&contentView.canReuseDOM(child))child.reuseDOM(next)}child.sync(track);child.dirty=0}next=prev?prev.nextSibling:parent.firstChild;if(track&&!track.written&&track.node==parent&&next!=child.dom)track.written=true;if(child.dom.parentNode==parent){while(next&&next!=child.dom)next=rm$1(next)}else{parent.insertBefore(child.dom,next)}prev=child.dom}next=prev?prev.nextSibling:parent.firstChild;if(next&&track&&track.node==parent)track.written=true;while(next)next=rm$1(next)}else if(this.dirty&1){for(let child of this.children)if(child.dirty){child.sync(track);child.dirty=0}}}reuseDOM(_dom){}localPosFromDOM(node,offset){let after;if(node==this.dom){after=this.dom.childNodes[offset]}else{let bias=maxOffset(node)==0?0:offset==0?-1:1;for(;;){let parent=node.parentNode;if(parent==this.dom)break;if(bias==0&&parent.firstChild!=parent.lastChild){if(node==parent.firstChild)bias=-1;else bias=1}node=parent}if(bias<0)after=node;else after=node.nextSibling}if(after==this.dom.firstChild)return 0;while(after&&!ContentView.get(after))after=after.nextSibling;if(!after)return this.length;for(let i=0,pos=0;;i++){let child=this.children[i];if(child.dom==after)return pos;pos+=child.length+child.breakAfter}}domBoundsAround(from,to,offset=0){let fromI=-1,fromStart=-1,toI=-1,toEnd=-1;for(let i=0,pos=offset,prevEnd=offset;i<this.children.length;i++){let child=this.children[i],end=pos+child.length;if(pos<from&&end>to)return child.domBoundsAround(from,to,pos);if(end>=from&&fromI==-1){fromI=i;fromStart=pos}if(pos>to&&child.dom.parentNode==this.dom){toI=i;toEnd=prevEnd;break}prevEnd=end;pos=end+child.breakAfter}return{from:fromStart,to:toEnd<0?offset+this.length:toEnd,startDOM:(fromI?this.children[fromI-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:toI<this.children.length&&toI>=0?this.children[toI].dom:null}}markDirty(andParent=false){this.dirty|=2;this.markParentsDirty(andParent)}markParentsDirty(childList){for(let parent=this.parent;parent;parent=parent.parent){if(childList)parent.dirty|=2;if(parent.dirty&1)return;parent.dirty|=1;childList=false}}setParent(parent){if(this.parent!=parent){this.parent=parent;if(this.dirty)this.markParentsDirty(true)}}setDOM(dom){if(this.dom)this.dom.cmView=null;this.dom=dom;dom.cmView=this}get rootView(){for(let v=this;;){let parent=v.parent;if(!parent)return v;v=parent}}replaceChildren(from,to,children=noChildren){this.markDirty();for(let i=from;i<to;i++){let child=this.children[i];if(child.parent==this)child.destroy()}this.children.splice(from,to-from,...children);for(let i=0;i<children.length;i++)children[i].setParent(this)}ignoreMutation(_rec){return false}ignoreEvent(_event){return false}childCursor(pos=this.length){return new ChildCursor(this.children,pos,this.children.length)}childPos(pos,bias=1){return this.childCursor().findPos(pos,bias)}toString(){let name=this.constructor.name.replace("View","");return name+(this.children.length?"("+this.children.join()+")":this.length?"["+(name=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(node){return node.cmView}get isEditable(){return true}merge(from,to,source,hasStart,openStart,openEnd){return false}become(other){return false}canReuseDOM(other){return other.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(dom){let next=dom.nextSibling;dom.parentNode.removeChild(dom);return next}class ChildCursor{constructor(children,pos,i){this.children=children;this.pos=pos;this.i=i;this.off=0}findPos(pos,bias=1){for(;;){if(pos>this.pos||pos==this.pos&&(bias>0||this.i==0||this.children[this.i-1].breakAfter)){this.off=pos-this.pos;return this}let next=this.children[--this.i];this.pos-=next.length+next.breakAfter}}}function replaceRange(parent,fromI,fromOff,toI,toOff,insert,breakAtStart,openStart,openEnd){let{children:children}=parent;let before=children.length?children[fromI]:null;let last=insert.length?insert[insert.length-1]:null;let breakAtEnd=last?last.breakAfter:breakAtStart;if(fromI==toI&&before&&!breakAtStart&&!breakAtEnd&&insert.length<2&&before.merge(fromOff,toOff,insert.length?last:null,fromOff==0,openStart,openEnd))return;if(toI<children.length){let after=children[toI];if(after&&toOff<after.length){if(fromI==toI){after=after.split(toOff);toOff=0}if(!breakAtEnd&&last&&after.merge(0,toOff,last,true,0,openEnd)){insert[insert.length-1]=after}else{if(toOff)after.merge(0,toOff,null,false,0,openEnd);insert.push(after)}}else if(after===null||after===void 0?void 0:after.breakAfter){if(last)last.breakAfter=1;else breakAtStart=1}toI++}if(before){before.breakAfter=breakAtStart;if(fromOff>0){if(!breakAtStart&&insert.length&&before.merge(fromOff,before.length,insert[0],false,openStart,0)){before.breakAfter=insert.shift().breakAfter}else if(fromOff<before.length||before.children.length&&before.children[before.children.length-1].length==0){before.merge(fromOff,before.length,null,false,openStart,0)}fromI++}}while(fromI<toI&&insert.length){if(children[toI-1].become(insert[insert.length-1])){toI--;insert.pop();openEnd=insert.length?0:openStart}else if(children[fromI].become(insert[0])){fromI++;insert.shift();openStart=insert.length?0:openEnd}else{break}}if(!insert.length&&fromI&&toI<children.length&&!children[fromI-1].breakAfter&&children[toI].merge(0,0,children[fromI-1],false,openStart,openEnd))fromI--;if(fromI<toI||insert.length)parent.replaceChildren(fromI,toI,insert)}function mergeChildrenInto(parent,from,to,insert,openStart,openEnd){let cur=parent.childCursor();let{i:toI,off:toOff}=cur.findPos(to,1);let{i:fromI,off:fromOff}=cur.findPos(from,-1);let dLen=from-to;for(let view of insert)dLen+=view.length;parent.length+=dLen;replaceRange(parent,fromI,fromOff,toI,toOff,insert,0,openStart,openEnd)}let nav=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""};let doc=typeof document!="undefined"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent);const ie_upto10=/MSIE \d/.test(nav.userAgent);const ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent);const ie=!!(ie_upto10||ie_11up||ie_edge);const gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent);const chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent);const webkit="webkitFontSmoothing"in doc.documentElement.style;const safari=!ie&&/Apple Computer/.test(nav.vendor);const ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie:ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko:gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios:ios,android:/Android\b/.test(nav.userAgent),webkit:webkit,safari:safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(text){super();this.text=text}get length(){return this.text.length}createDOM(textDOM){this.setDOM(textDOM||document.createTextNode(this.text))}sync(track){if(!this.dom)this.createDOM();if(this.dom.nodeValue!=this.text){if(track&&track.node==this.dom)track.written=true;this.dom.nodeValue=this.text}}reuseDOM(dom){if(dom.nodeType==3)this.createDOM(dom)}merge(from,to,source){if(source&&(!(source instanceof TextView)||this.length-(to-from)+source.length>MaxJoinLen))return false;this.text=this.text.slice(0,from)+(source?source.text:"")+this.text.slice(to);this.markDirty();return true}split(from){let result=new TextView(this.text.slice(from));this.text=this.text.slice(0,from);this.markDirty();return result}localPosFromDOM(node,offset){return node==this.dom?offset:offset?this.text.length:0}domAtPos(pos){return new DOMPos(this.dom,pos)}domBoundsAround(_from,_to,offset){return{from:offset,to:offset+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(pos,side){return textCoords(this.dom,pos,side)}}class MarkView extends ContentView{constructor(mark,children=[],length=0){super();this.mark=mark;this.children=children;this.length=length;for(let ch of children)ch.setParent(this)}setAttrs(dom){clearAttributes(dom);if(this.mark.class)dom.className=this.mark.class;if(this.mark.attrs)for(let name in this.mark.attrs)dom.setAttribute(name,this.mark.attrs[name]);return dom}reuseDOM(node){if(node.nodeName==this.mark.tagName.toUpperCase()){this.setDOM(node);this.dirty|=4|2}}sync(track){if(!this.dom)this.setDOM(this.setAttrs(document.createElement(this.mark.tagName)));else if(this.dirty&4)this.setAttrs(this.dom);super.sync(track)}merge(from,to,source,_hasStart,openStart,openEnd){if(source&&(!(source instanceof MarkView&&source.mark.eq(this.mark))||from&&openStart<=0||to<this.length&&openEnd<=0))return false;mergeChildrenInto(this,from,to,source?source.children:[],openStart-1,openEnd-1);this.markDirty();return true}split(from){let result=[],off=0,detachFrom=-1,i=0;for(let elt of this.children){let end=off+elt.length;if(end>from)result.push(off<from?elt.split(from-off):elt);if(detachFrom<0&&off>=from)detachFrom=i;off=end;i++}let length=this.length-from;this.length=from;if(detachFrom>-1){this.children.length=detachFrom;this.markDirty()}return new MarkView(this.mark,result,length)}domAtPos(pos){return inlineDOMAtPos(this,pos)}coordsAt(pos,side){return coordsInChildren(this,pos,side)}}function textCoords(text,pos,side){let length=text.nodeValue.length;if(pos>length)pos=length;let from=pos,to=pos,flatten=0;if(pos==0&&side<0||pos==length&&side>=0){if(!(browser.chrome||browser.gecko)){if(pos){from--;flatten=1}else if(to<length){to++;flatten=-1}}}else{if(side<0)from--;else if(to<length)to++}let rects=textRange(text,from,to).getClientRects();if(!rects.length)return Rect0;let rect=rects[(flatten?flatten<0:side>=0)?0:rects.length-1];if(browser.safari&&!flatten&&rect.width==0)rect=Array.prototype.find.call(rects,(r=>r.width))||rect;return flatten?flattenRect(rect,flatten<0):rect||null}class WidgetView extends ContentView{constructor(widget,length,side){super();this.widget=widget;this.length=length;this.side=side;this.prevWidget=null}static create(widget,length,side){return new(widget.customView||WidgetView)(widget,length,side)}split(from){let result=WidgetView.create(this.widget,this.length-from,this.side);this.length-=from;return result}sync(){if(!this.dom||!this.widget.updateDOM(this.dom)){if(this.dom&&this.prevWidget)this.prevWidget.destroy(this.dom);this.prevWidget=null;this.setDOM(this.widget.toDOM(this.editorView));this.dom.contentEditable="false"}}getSide(){return this.side}merge(from,to,source,hasStart,openStart,openEnd){if(source&&(!(source instanceof WidgetView)||!this.widget.compare(source.widget)||from>0&&openStart<=0||to<this.length&&openEnd<=0))return false;this.length=from+(source?source.length:0)+(this.length-to);return true}become(other){if(other.length==this.length&&other instanceof WidgetView&&other.side==this.side){if(this.widget.constructor==other.widget.constructor){if(!this.widget.eq(other.widget))this.markDirty(true);if(this.dom&&!this.prevWidget)this.prevWidget=this.widget;this.widget=other.widget;return true}}return false}ignoreMutation(){return true}ignoreEvent(event){return this.widget.ignoreEvent(event)}get overrideDOMText(){if(this.length==0)return Text.empty;let top=this;while(top.parent)top=top.parent;let view=top.editorView,text=view&&view.state.doc,start=this.posAtStart;return text?text.slice(start,start+this.length):Text.empty}domAtPos(pos){return pos==0?DOMPos.before(this.dom):DOMPos.after(this.dom,pos==this.length)}domBoundsAround(){return null}coordsAt(pos,side){let rects=this.dom.getClientRects(),rect=null;if(!rects.length)return Rect0;for(let i=pos>0?rects.length-1:0;;i+=pos>0?-1:1){rect=rects[i];if(pos>0?i==0:i==rects.length-1||rect.top<rect.bottom)break}return this.length?rect:flattenRect(rect,this.side>0)}get isEditable(){return false}destroy(){super.destroy();if(this.dom)this.widget.destroy(this.dom)}}class CompositionView extends WidgetView{domAtPos(pos){let{topView:topView,text:text}=this.widget;if(!topView)return new DOMPos(text,Math.min(pos,text.nodeValue.length));return scanCompositionTree(pos,0,topView,text,((v,p)=>v.domAtPos(p)),(p=>new DOMPos(text,Math.min(p,text.nodeValue.length))))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(node,offset){let{topView:topView,text:text}=this.widget;if(!topView)return Math.min(offset,this.length);return posFromDOMInCompositionTree(node,offset,topView,text)}ignoreMutation(){return false}get overrideDOMText(){return null}coordsAt(pos,side){let{topView:topView,text:text}=this.widget;if(!topView)return textCoords(text,pos,side);return scanCompositionTree(pos,side,topView,text,((v,pos,side)=>v.coordsAt(pos,side)),((pos,side)=>textCoords(text,pos,side)))}destroy(){var _a;super.destroy();(_a=this.widget.topView)===null||_a===void 0?void 0:_a.destroy()}get isEditable(){return true}canReuseDOM(){return true}}function scanCompositionTree(pos,side,view,text,enterView,fromText){if(view instanceof MarkView){for(let child=view.dom.firstChild;child;child=child.nextSibling){let desc=ContentView.get(child);if(!desc)return fromText(pos,side);let hasComp=contains(child,text);let len=desc.length+(hasComp?text.nodeValue.length:0);if(pos<len||pos==len&&desc.getSide()<=0)return hasComp?scanCompositionTree(pos,side,desc,text,enterView,fromText):enterView(desc,pos,side);pos-=len}return enterView(view,view.length,-1)}else if(view.dom==text){return fromText(pos,side)}else{return enterView(view,pos,side)}}function posFromDOMInCompositionTree(node,offset,view,text){if(view instanceof MarkView){for(let child of view.children){let pos=0,hasComp=contains(child.dom,text);if(contains(child.dom,node))return pos+(hasComp?posFromDOMInCompositionTree(node,offset,child,text):child.localPosFromDOM(node,offset));pos+=hasComp?text.nodeValue.length:child.length}}else if(view.dom==text){return Math.min(offset,text.nodeValue.length)}return view.localPosFromDOM(node,offset)}class WidgetBufferView extends ContentView{constructor(side){super();this.side=side}get length(){return 0}merge(){return false}become(other){return other instanceof WidgetBufferView&&other.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let dom=document.createElement("img");dom.className="cm-widgetBuffer";dom.setAttribute("aria-hidden","true");this.setDOM(dom)}}getSide(){return this.side}domAtPos(pos){return DOMPos.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(pos){let imgRect=this.dom.getBoundingClientRect();let siblingRect=inlineSiblingRect(this,this.side>0?-1:1);return siblingRect&&siblingRect.top<imgRect.bottom&&siblingRect.bottom>imgRect.top?{left:imgRect.left,right:imgRect.right,top:siblingRect.top,bottom:siblingRect.bottom}:imgRect}get overrideDOMText(){return Text.empty}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineSiblingRect(view,side){let parent=view.parent,index=parent?parent.children.indexOf(view):-1;while(parent&&index>=0){if(side<0?index>0:index<parent.children.length){let next=parent.children[index+side];if(next instanceof TextView){let nextRect=next.coordsAt(side<0?next.length:0,side);if(nextRect)return nextRect}index+=side}else if(parent instanceof MarkView&&parent.parent){index=parent.parent.children.indexOf(parent)+(side<0?0:1);parent=parent.parent}else{let last=parent.dom.lastChild;if(last&&last.nodeName=="BR")return last.getClientRects()[0];break}}return undefined}function inlineDOMAtPos(parent,pos){let dom=parent.dom,{children:children}=parent,i=0;for(let off=0;i<children.length;i++){let child=children[i],end=off+child.length;if(end==off&&child.getSide()<=0)continue;if(pos>off&&pos<end&&child.dom.parentNode==dom)return child.domAtPos(pos-off);if(pos<=off)break;off=end}for(let j=i;j>0;j--){let prev=children[j-1];if(prev.dom.parentNode==dom)return prev.domAtPos(prev.length)}for(let j=i;j<children.length;j++){let next=children[j];if(next.dom.parentNode==dom)return next.domAtPos(0)}return new DOMPos(dom,0)}function joinInlineInto(parent,view,open){let last,{children:children}=parent;if(open>0&&view instanceof MarkView&&children.length&&(last=children[children.length-1])instanceof MarkView&&last.mark.eq(view.mark)){joinInlineInto(last,view.children[0],open-1)}else{children.push(view);view.setParent(parent)}parent.length+=view.length}function coordsInChildren(view,pos,side){let before=null,beforePos=-1,after=null,afterPos=-1;function scan(view,pos){for(let i=0,off=0;i<view.children.length&&off<=pos;i++){let child=view.children[i],end=off+child.length;if(end>=pos){if(child.children.length){scan(child,pos-off)}else if(!after&&(end>pos||off==end&&child.getSide()>0)){after=child;afterPos=pos-off}else if(off<pos||off==end&&child.getSide()<0){before=child;beforePos=pos-off}}off=end}}scan(view,pos);let target=(side<0?before:after)||before||after;if(target)return target.coordsAt(Math.max(0,target==before?beforePos:afterPos),side);return fallbackRect(view)}function fallbackRect(view){let last=view.dom.lastChild;if(!last)return view.dom.getBoundingClientRect();let rects=clientRectsFor(last);return rects[rects.length-1]||null}function combineAttrs(source,target){for(let name in source){if(name=="class"&&target.class)target.class+=" "+source.class;else if(name=="style"&&target.style)target.style+=";"+source.style;else target[name]=source[name]}return target}function attrsEq(a,b){if(a==b)return true;if(!a||!b)return false;let keysA=Object.keys(a),keysB=Object.keys(b);if(keysA.length!=keysB.length)return false;for(let key of keysA){if(keysB.indexOf(key)==-1||a[key]!==b[key])return false}return true}function updateAttrs(dom,prev,attrs){let changed=null;if(prev)for(let name in prev)if(!(attrs&&name in attrs))dom.removeAttribute(changed=name);if(attrs)for(let name in attrs)if(!(prev&&prev[name]==attrs[name]))dom.setAttribute(changed=name,attrs[name]);return!!changed}class WidgetType{eq(widget){return false}updateDOM(dom){return false}compare(other){return this==other||this.constructor==other.constructor&&this.eq(other)}get estimatedHeight(){return-1}ignoreEvent(event){return true}get customView(){return null}destroy(dom){}}var BlockType=function(BlockType){BlockType[BlockType["Text"]=0]="Text";BlockType[BlockType["WidgetBefore"]=1]="WidgetBefore";BlockType[BlockType["WidgetAfter"]=2]="WidgetAfter";BlockType[BlockType["WidgetRange"]=3]="WidgetRange";return BlockType}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(startSide,endSide,widget,spec){super();this.startSide=startSide;this.endSide=endSide;this.widget=widget;this.spec=spec}get heightRelevant(){return false}static mark(spec){return new MarkDecoration(spec)}static widget(spec){let side=spec.side||0,block=!!spec.block;side+=block?side>0?3e8:-4e8:side>0?1e8:-1e8;return new PointDecoration(spec,side,side,block,spec.widget||null,false)}static replace(spec){let block=!!spec.block,startSide,endSide;if(spec.isBlockGap){startSide=-5e8;endSide=4e8}else{let{start:start,end:end}=getInclusive(spec,block);startSide=(start?block?-3e8:-1:5e8)-1;endSide=(end?block?2e8:1:-6e8)+1}return new PointDecoration(spec,startSide,endSide,block,spec.widget||null,true)}static line(spec){return new LineDecoration(spec)}static set(of,sort=false){return RangeSet.of(of,sort)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:false}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(spec){let{start:start,end:end}=getInclusive(spec);super(start?-1:5e8,end?1:-6e8,null,spec);this.tagName=spec.tagName||"span";this.class=spec.class||"";this.attrs=spec.attributes||null}eq(other){return this==other||other instanceof MarkDecoration&&this.tagName==other.tagName&&this.class==other.class&&attrsEq(this.attrs,other.attrs)}range(from,to=from){if(from>=to)throw new RangeError("Mark decorations may not be empty");return super.range(from,to)}}MarkDecoration.prototype.point=false;class LineDecoration extends Decoration{constructor(spec){super(-2e8,-2e8,null,spec)}eq(other){return other instanceof LineDecoration&&attrsEq(this.spec.attributes,other.spec.attributes)}range(from,to=from){if(to!=from)throw new RangeError("Line decoration ranges must be zero-length");return super.range(from,to)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=true;class PointDecoration extends Decoration{constructor(spec,startSide,endSide,block,widget,isReplace){super(startSide,endSide,widget,spec);this.block=block;this.isReplace=isReplace;this.mapMode=!block?MapMode.TrackDel:startSide<=0?MapMode.TrackBefore:MapMode.TrackAfter}get type(){return this.startSide<this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(other){return other instanceof PointDecoration&&widgetsEq(this.widget,other.widget)&&this.block==other.block&&this.startSide==other.startSide&&this.endSide==other.endSide}range(from,to=from){if(this.isReplace&&(from>to||from==to&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&to!=from)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(from,to)}}PointDecoration.prototype.point=true;function getInclusive(spec,block=false){let{inclusiveStart:start,inclusiveEnd:end}=spec;if(start==null)start=spec.inclusive;if(end==null)end=spec.inclusive;return{start:start!==null&&start!==void 0?start:block,end:end!==null&&end!==void 0?end:block}}function widgetsEq(a,b){return a==b||!!(a&&b&&a.compare(b))}function addRange(from,to,ranges,margin=0){let last=ranges.length-1;if(last>=0&&ranges[last]+margin>=from)ranges[last]=Math.max(ranges[last],to);else ranges.push(from,to)}class LineView extends ContentView{constructor(){super(...arguments);this.children=[];this.length=0;this.prevAttrs=undefined;this.attrs=null;this.breakAfter=0}merge(from,to,source,hasStart,openStart,openEnd){if(source){if(!(source instanceof LineView))return false;if(!this.dom)source.transferDOM(this)}if(hasStart)this.setDeco(source?source.attrs:null);mergeChildrenInto(this,from,to,source?source.children:[],openStart,openEnd);return true}split(at){let end=new LineView;end.breakAfter=this.breakAfter;if(this.length==0)return end;let{i:i,off:off}=this.childPos(at);if(off){end.append(this.children[i].split(off),0);this.children[i].merge(off,this.children[i].length,null,false,0,0);i++}for(let j=i;j<this.children.length;j++)end.append(this.children[j],0);while(i>0&&this.children[i-1].length==0)this.children[--i].destroy();this.children.length=i;this.markDirty();this.length=at;return end}transferDOM(other){if(!this.dom)return;this.markDirty();other.setDOM(this.dom);other.prevAttrs=this.prevAttrs===undefined?this.attrs:this.prevAttrs;this.prevAttrs=undefined;this.dom=null}setDeco(attrs){if(!attrsEq(this.attrs,attrs)){if(this.dom){this.prevAttrs=this.attrs;this.markDirty()}this.attrs=attrs}}append(child,openStart){joinInlineInto(this,child,openStart)}addLineDeco(deco){let attrs=deco.spec.attributes,cls=deco.spec.class;if(attrs)this.attrs=combineAttrs(attrs,this.attrs||{});if(cls)this.attrs=combineAttrs({class:cls},this.attrs||{})}domAtPos(pos){return inlineDOMAtPos(this,pos)}reuseDOM(node){if(node.nodeName=="DIV"){this.setDOM(node);this.dirty|=4|2}}sync(track){var _a;if(!this.dom){this.setDOM(document.createElement("div"));this.dom.className="cm-line";this.prevAttrs=this.attrs?null:undefined}else if(this.dirty&4){clearAttributes(this.dom);this.dom.className="cm-line";this.prevAttrs=this.attrs?null:undefined}if(this.prevAttrs!==undefined){updateAttrs(this.dom,this.prevAttrs,this.attrs);this.dom.classList.add("cm-line");this.prevAttrs=undefined}super.sync(track);let last=this.dom.lastChild;while(last&&ContentView.get(last)instanceof MarkView)last=last.lastChild;if(!last||!this.length||last.nodeName!="BR"&&((_a=ContentView.get(last))===null||_a===void 0?void 0:_a.isEditable)==false&&(!browser.ios||!this.children.some((ch=>ch instanceof TextView)))){let hack=document.createElement("BR");hack.cmIgnore=true;this.dom.appendChild(hack)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let totalWidth=0;for(let child of this.children){if(!(child instanceof TextView)||/[^ -~]/.test(child.text))return null;let rects=clientRectsFor(child.dom);if(rects.length!=1)return null;totalWidth+=rects[0].width}return!totalWidth?null:{lineHeight:this.dom.getBoundingClientRect().height,charWidth:totalWidth/this.length}}coordsAt(pos,side){return coordsInChildren(this,pos,side)}become(_other){return false}get type(){return BlockType.Text}static find(docView,pos){for(let i=0,off=0;i<docView.children.length;i++){let block=docView.children[i],end=off+block.length;if(end>=pos){if(block instanceof LineView)return block;if(end>pos)break}off=end+block.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(widget,length,type){super();this.widget=widget;this.length=length;this.type=type;this.breakAfter=0;this.prevWidget=null}merge(from,to,source,_takeDeco,openStart,openEnd){if(source&&(!(source instanceof BlockWidgetView)||!this.widget.compare(source.widget)||from>0&&openStart<=0||to<this.length&&openEnd<=0))return false;this.length=from+(source?source.length:0)+(this.length-to);return true}domAtPos(pos){return pos==0?DOMPos.before(this.dom):DOMPos.after(this.dom,pos==this.length)}split(at){let len=this.length-at;this.length=at;let end=new BlockWidgetView(this.widget,len,this.type);end.breakAfter=this.breakAfter;return end}get children(){return noChildren}sync(){if(!this.dom||!this.widget.updateDOM(this.dom)){if(this.dom&&this.prevWidget)this.prevWidget.destroy(this.dom);this.prevWidget=null;this.setDOM(this.widget.toDOM(this.editorView));this.dom.contentEditable="false"}}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(other){if(other instanceof BlockWidgetView&&other.type==this.type&&other.widget.constructor==this.widget.constructor){if(!other.widget.eq(this.widget))this.markDirty(true);if(this.dom&&!this.prevWidget)this.prevWidget=this.widget;this.widget=other.widget;this.length=other.length;this.breakAfter=other.breakAfter;return true}return false}ignoreMutation(){return true}ignoreEvent(event){return this.widget.ignoreEvent(event)}destroy(){super.destroy();if(this.dom)this.widget.destroy(this.dom)}}class ContentBuilder{constructor(doc,pos,end,disallowBlockEffectsFor){this.doc=doc;this.pos=pos;this.end=end;this.disallowBlockEffectsFor=disallowBlockEffectsFor;this.content=[];this.curLine=null;this.breakAtStart=0;this.pendingBuffer=0;this.atCursorPos=true;this.openStart=-1;this.openEnd=-1;this.text="";this.textOff=0;this.cursor=doc.iter();this.skip=pos}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let last=this.content[this.content.length-1];return!last.breakAfter&&!(last instanceof BlockWidgetView&&last.type==BlockType.WidgetBefore)}getLine(){if(!this.curLine){this.content.push(this.curLine=new LineView);this.atCursorPos=true}return this.curLine}flushBuffer(active){if(this.pendingBuffer){this.curLine.append(wrapMarks(new WidgetBufferView(-1),active),active.length);this.pendingBuffer=0}}addBlockWidget(view){this.flushBuffer([]);this.curLine=null;this.content.push(view)}finish(openEnd){if(!openEnd)this.flushBuffer([]);else this.pendingBuffer=0;if(!this.posCovered())this.getLine()}buildText(length,active,openStart){while(length>0){if(this.textOff==this.text.length){let{value:value,lineBreak:lineBreak,done:done}=this.cursor.next(this.skip);this.skip=0;if(done)throw new Error("Ran out of text content when drawing inline views");if(lineBreak){if(!this.posCovered())this.getLine();if(this.content.length)this.content[this.content.length-1].breakAfter=1;else this.breakAtStart=1;this.flushBuffer([]);this.curLine=null;length--;continue}else{this.text=value;this.textOff=0}}let take=Math.min(this.text.length-this.textOff,length,512);this.flushBuffer(active.slice(active.length-openStart));this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+take)),active),openStart);this.atCursorPos=true;this.textOff+=take;length-=take;openStart=0}}span(from,to,active,openStart){this.buildText(to-from,active,openStart);this.pos=to;if(this.openStart<0)this.openStart=openStart}point(from,to,deco,active,openStart,index){if(this.disallowBlockEffectsFor[index]&&deco instanceof PointDecoration){if(deco.block)throw new RangeError("Block decorations may not be specified via plugins");if(to>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let len=to-from;if(deco instanceof PointDecoration){if(deco.block){let{type:type}=deco;if(type==BlockType.WidgetAfter&&!this.posCovered())this.getLine();this.addBlockWidget(new BlockWidgetView(deco.widget||new NullWidget("div"),len,type))}else{let view=WidgetView.create(deco.widget||new NullWidget("span"),len,len?0:deco.startSide);let cursorBefore=this.atCursorPos&&!view.isEditable&&openStart<=active.length&&(from<to||deco.startSide>0);let cursorAfter=!view.isEditable&&(from<to||deco.startSide<=0);let line=this.getLine();if(this.pendingBuffer==2&&!cursorBefore)this.pendingBuffer=0;this.flushBuffer(active);if(cursorBefore){line.append(wrapMarks(new WidgetBufferView(1),active),openStart);openStart=active.length+Math.max(0,openStart-active.length)}line.append(wrapMarks(view,active),openStart);this.atCursorPos=cursorAfter;this.pendingBuffer=!cursorAfter?0:from<to?1:2}}else if(this.doc.lineAt(this.pos).from==this.pos){this.getLine().addLineDeco(deco)}if(len){if(this.textOff+len<=this.text.length){this.textOff+=len}else{this.skip+=len-(this.text.length-this.textOff);this.text="";this.textOff=0}this.pos=to}if(this.openStart<0)this.openStart=openStart}static build(text,from,to,decorations,dynamicDecorationMap){let builder=new ContentBuilder(text,from,to,dynamicDecorationMap);builder.openEnd=RangeSet.spans(decorations,from,to,builder);if(builder.openStart<0)builder.openStart=builder.openEnd;builder.finish(builder.openEnd);return builder}}function wrapMarks(view,active){for(let mark of active)view=new MarkView(mark,[view],view.length);return view}class NullWidget extends WidgetType{constructor(tag){super();this.tag=tag}eq(other){return other.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(elt){return elt.nodeName.toLowerCase()==this.tag}}const clickAddsSelectionRange=Facet.define();const dragMovesSelection$1=Facet.define();const mouseSelectionStyle=Facet.define();const exceptionSink=Facet.define();const updateListener=Facet.define();const inputHandler$1=Facet.define();const perLineTextDirection=Facet.define({combine:values=>values.some((x=>x))});const nativeSelectionHidden=Facet.define({combine:values=>values.some((x=>x))});class ScrollTarget{constructor(range,y="nearest",x="nearest",yMargin=5,xMargin=5){this.range=range;this.y=y;this.x=x;this.yMargin=yMargin;this.xMargin=xMargin}map(changes){return changes.empty?this:new ScrollTarget(this.range.map(changes),this.y,this.x,this.yMargin,this.xMargin)}}const scrollIntoView$1=StateEffect.define({map:(t,ch)=>t.map(ch)});function logException(state,exception,context){let handler=state.facet(exceptionSink);if(handler.length)handler[0](exception);else if(window.onerror)window.onerror(String(exception),context,undefined,undefined,exception);else if(context)console.error(context+":",exception);else console.error(exception)}const editable=Facet.define({combine:values=>values.length?values[0]:true});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(id,create,domEventHandlers,buildExtensions){this.id=id;this.create=create;this.domEventHandlers=domEventHandlers;this.extension=buildExtensions(this)}static define(create,spec){const{eventHandlers:eventHandlers,provide:provide,decorations:deco}=spec||{};return new ViewPlugin(nextPluginID++,create,eventHandlers,(plugin=>{let ext=[viewPlugin.of(plugin)];if(deco)ext.push(decorations.of((view=>{let pluginInst=view.plugin(plugin);return pluginInst?deco(pluginInst):Decoration.none})));if(provide)ext.push(provide(plugin));return ext}))}static fromClass(cls,spec){return ViewPlugin.define((view=>new cls(view)),spec)}}class PluginInstance{constructor(spec){this.spec=spec;this.mustUpdate=null;this.value=null}update(view){if(!this.value){if(this.spec){try{this.value=this.spec.create(view)}catch(e){logException(view.state,e,"CodeMirror plugin crashed");this.deactivate()}}}else if(this.mustUpdate){let update=this.mustUpdate;this.mustUpdate=null;if(this.value.update){try{this.value.update(update)}catch(e){logException(update.state,e,"CodeMirror plugin crashed");if(this.value.destroy)try{this.value.destroy()}catch(_){}this.deactivate()}}}return this}destroy(view){var _a;if((_a=this.value)===null||_a===void 0?void 0:_a.destroy){try{this.value.destroy()}catch(e){logException(view.state,e,"CodeMirror plugin crashed")}}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define();const contentAttributes=Facet.define();const decorations=Facet.define();const atomicRanges=Facet.define();const scrollMargins=Facet.define();const styleModule=Facet.define();class ChangedRange{constructor(fromA,toA,fromB,toB){this.fromA=fromA;this.toA=toA;this.fromB=fromB;this.toB=toB}join(other){return new ChangedRange(Math.min(this.fromA,other.fromA),Math.max(this.toA,other.toA),Math.min(this.fromB,other.fromB),Math.max(this.toB,other.toB))}addToSet(set){let i=set.length,me=this;for(;i>0;i--){let range=set[i-1];if(range.fromA>me.toA)continue;if(range.toA<me.fromA)break;me=me.join(range);set.splice(i-1,1)}set.splice(i,0,me);return set}static extendWithRanges(diff,ranges){if(ranges.length==0)return diff;let result=[];for(let dI=0,rI=0,posA=0,posB=0;;dI++){let next=dI==diff.length?null:diff[dI],off=posA-posB;let end=next?next.fromB:1e9;while(rI<ranges.length&&ranges[rI]<end){let from=ranges[rI],to=ranges[rI+1];let fromB=Math.max(posB,from),toB=Math.min(end,to);if(fromB<=toB)new ChangedRange(fromB+off,toB+off,fromB,toB).addToSet(result);if(to>end)break;else rI+=2}if(!next)return result;new ChangedRange(next.fromA,next.toA,next.fromB,next.toB).addToSet(result);posA=next.toA;posB=next.toB}}}class ViewUpdate{constructor(view,state,transactions){this.view=view;this.state=state;this.transactions=transactions;this.flags=0;this.startState=view.state;this.changes=ChangeSet.empty(this.startState.doc.length);for(let tr of transactions)this.changes=this.changes.compose(tr.changes);let changedRanges=[];this.changes.iterChangedRanges(((fromA,toA,fromB,toB)=>changedRanges.push(new ChangedRange(fromA,toA,fromB,toB))));this.changedRanges=changedRanges;let focus=view.hasFocus;if(focus!=view.inputState.notifiedFocused){view.inputState.notifiedFocused=focus;this.flags|=1}}static create(view,state,transactions){return new ViewUpdate(view,state,transactions)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&(8|2))>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((tr=>tr.selection))}get empty(){return this.flags==0&&this.transactions.length==0}}var Direction=function(Direction){Direction[Direction["LTR"]=0]="LTR";Direction[Direction["RTL"]=1]="RTL";return Direction}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(str){let result=[];for(let i=0;i<str.length;i++)result.push(1<<+str[i]);return result}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008");const ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333");const Brackets=Object.create(null),BracketStack=[];for(let p of["()","[]","{}"]){let l=p.charCodeAt(0),r=p.charCodeAt(1);Brackets[l]=r;Brackets[r]=-l}function charType(ch){return ch<=247?LowTypes[ch]:1424<=ch&&ch<=1524?2:1536<=ch&&ch<=1785?ArabicTypes[ch-1536]:1774<=ch&&ch<=2220?4:8192<=ch&&ch<=8203?256:64336<=ch&&ch<=65023?4:ch==8204?256:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{constructor(from,to,level){this.from=from;this.to=to;this.level=level}get dir(){return this.level%2?RTL:LTR}side(end,dir){return this.dir==dir==end?this.to:this.from}static find(order,index,level,assoc){let maybe=-1;for(let i=0;i<order.length;i++){let span=order[i];if(span.from<=index&&span.to>=index){if(span.level==level)return i;if(maybe<0||(assoc!=0?assoc<0?span.from<index:span.to>index:order[maybe].level>span.level))maybe=i}}if(maybe<0)throw new RangeError("Index out of range");return maybe}}const types=[];function computeOrder(line,direction){let len=line.length,outerType=direction==LTR?1:2,oppositeType=direction==LTR?2:1;if(!line||outerType==1&&!BidiRE.test(line))return trivialOrder(len);for(let i=0,prev=outerType,prevStrong=outerType;i<len;i++){let type=charType(line.charCodeAt(i));if(type==512)type=prev;else if(type==8&&prevStrong==4)type=16;types[i]=type==4?2:type;if(type&7)prevStrong=type;prev=type}for(let i=0,prev=outerType,prevStrong=outerType;i<len;i++){let type=types[i];if(type==128){if(i<len-1&&prev==types[i+1]&&prev&24)type=types[i]=prev;else types[i]=256}else if(type==64){let end=i+1;while(end<len&&types[end]==64)end++;let replace=i&&prev==8||end<len&&types[end]==8?prevStrong==1?1:8:256;for(let j=i;j<end;j++)types[j]=replace;i=end-1}else if(type==8&&prevStrong==1){types[i]=1}prev=type;if(type&7)prevStrong=type}for(let i=0,sI=0,context=0,ch,br,type;i<len;i++){if(br=Brackets[ch=line.charCodeAt(i)]){if(br<0){for(let sJ=sI-3;sJ>=0;sJ-=3){if(BracketStack[sJ+1]==-br){let flags=BracketStack[sJ+2];let type=flags&2?outerType:!(flags&4)?0:flags&1?oppositeType:outerType;if(type)types[i]=types[BracketStack[sJ]]=type;sI=sJ;break}}}else if(BracketStack.length==189){break}else{BracketStack[sI++]=i;BracketStack[sI++]=ch;BracketStack[sI++]=context}}else if((type=types[i])==2||type==1){let embed=type==outerType;context=embed?0:1;for(let sJ=sI-3;sJ>=0;sJ-=3){let cur=BracketStack[sJ+2];if(cur&2)break;if(embed){BracketStack[sJ+2]|=2}else{if(cur&4)break;BracketStack[sJ+2]|=4}}}}for(let i=0;i<len;i++){if(types[i]==256){let end=i+1;while(end<len&&types[end]==256)end++;let beforeL=(i?types[i-1]:outerType)==1;let afterL=(end<len?types[end]:outerType)==1;let replace=beforeL==afterL?beforeL?1:2:outerType;for(let j=i;j<end;j++)types[j]=replace;i=end-1}}let order=[];if(outerType==1){for(let i=0;i<len;){let start=i,rtl=types[i++]!=1;while(i<len&&rtl==(types[i]!=1))i++;if(rtl){for(let j=i;j>start;){let end=j,l=types[--j]!=2;while(j>start&&l==(types[j-1]!=2))j--;order.push(new BidiSpan(j,end,l?2:1))}}else{order.push(new BidiSpan(start,i,0))}}}else{for(let i=0;i<len;){let start=i,rtl=types[i++]==2;while(i<len&&rtl==(types[i]==2))i++;order.push(new BidiSpan(start,i,rtl?1:2))}}return order}function trivialOrder(length){return[new BidiSpan(0,length,0)]}let movedOver="";function moveVisually(line,order,dir,start,forward){var _a;let startIndex=start.head-line.from,spanI=-1;if(startIndex==0){if(!forward||!line.length)return null;if(order[0].level!=dir){startIndex=order[0].side(false,dir);spanI=0}}else if(startIndex==line.length){if(forward)return null;let last=order[order.length-1];if(last.level!=dir){startIndex=last.side(true,dir);spanI=order.length-1}}if(spanI<0)spanI=BidiSpan.find(order,startIndex,(_a=start.bidiLevel)!==null&&_a!==void 0?_a:-1,start.assoc);let span=order[spanI];if(startIndex==span.side(forward,dir)){span=order[spanI+=forward?1:-1];startIndex=span.side(!forward,dir)}let indexForward=forward==(span.dir==dir);let nextIndex=findClusterBreak(line.text,startIndex,indexForward);movedOver=line.text.slice(Math.min(startIndex,nextIndex),Math.max(startIndex,nextIndex));if(nextIndex!=span.side(forward,dir))return EditorSelection.cursor(nextIndex+line.from,indexForward?-1:1,span.level);let nextSpan=spanI==(forward?order.length-1:0)?null:order[spanI+(forward?1:-1)];if(!nextSpan&&span.level!=dir)return EditorSelection.cursor(forward?line.to:line.from,forward?-1:1,dir);if(nextSpan&&nextSpan.level<span.level)return EditorSelection.cursor(nextSpan.side(!forward,dir)+line.from,forward?1:-1,nextSpan.level);return EditorSelection.cursor(nextIndex+line.from,forward?-1:1,span.level)}const LineBreakPlaceholder="￿";class DOMReader{constructor(points,state){this.points=points;this.text="";this.lineSeparator=state.facet(EditorState.lineSeparator)}append(text){this.text+=text}lineBreak(){this.text+=LineBreakPlaceholder}readRange(start,end){if(!start)return this;let parent=start.parentNode;for(let cur=start;;){this.findPointBefore(parent,cur);this.readNode(cur);let next=cur.nextSibling;if(next==end)break;let view=ContentView.get(cur),nextView=ContentView.get(next);if(view&&nextView?view.breakAfter:(view?view.breakAfter:isBlockElement(cur))||isBlockElement(next)&&(cur.nodeName!="BR"||cur.cmIgnore))this.lineBreak();cur=next}this.findPointBefore(parent,end);return this}readTextNode(node){let text=node.nodeValue;for(let point of this.points)if(point.node==node)point.pos=this.text.length+Math.min(point.offset,text.length);for(let off=0,re=this.lineSeparator?null:/\r\n?|\n/g;;){let nextBreak=-1,breakSize=1,m;if(this.lineSeparator){nextBreak=text.indexOf(this.lineSeparator,off);breakSize=this.lineSeparator.length}else if(m=re.exec(text)){nextBreak=m.index;breakSize=m[0].length}this.append(text.slice(off,nextBreak<0?text.length:nextBreak));if(nextBreak<0)break;this.lineBreak();if(breakSize>1)for(let point of this.points)if(point.node==node&&point.pos>this.text.length)point.pos-=breakSize-1;off=nextBreak+breakSize}}readNode(node){if(node.cmIgnore)return;let view=ContentView.get(node);let fromView=view&&view.overrideDOMText;if(fromView!=null){this.findPointInside(node,fromView.length);for(let i=fromView.iter();!i.next().done;){if(i.lineBreak)this.lineBreak();else this.append(i.value)}}else if(node.nodeType==3){this.readTextNode(node)}else if(node.nodeName=="BR"){if(node.nextSibling)this.lineBreak()}else if(node.nodeType==1){this.readRange(node.firstChild,null)}}findPointBefore(node,next){for(let point of this.points)if(point.node==node&&node.childNodes[point.offset]==next)point.pos=this.text.length}findPointInside(node,maxLen){for(let point of this.points)if(node.nodeType==3?point.node==node:node.contains(point.node))point.pos=this.text.length+Math.min(maxLen,point.offset)}}function isBlockElement(node){return node.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(node.nodeName)}class DOMPoint{constructor(node,offset){this.node=node;this.offset=offset;this.pos=-1}}class DocView extends ContentView{constructor(view){super();this.view=view;this.compositionDeco=Decoration.none;this.decorations=[];this.dynamicDecorationMap=[];this.minWidth=0;this.minWidthFrom=0;this.minWidthTo=0;this.impreciseAnchor=null;this.impreciseHead=null;this.forceSelection=false;this.lastUpdate=Date.now();this.setDOM(view.contentDOM);this.children=[new LineView];this.children[0].setParent(this);this.updateDeco();this.updateInner([new ChangedRange(0,0,0,view.state.doc.length)],0)}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(update){let changedRanges=update.changedRanges;if(this.minWidth>0&&changedRanges.length){if(!changedRanges.every((({fromA:fromA,toA:toA})=>toA<this.minWidthFrom||fromA>this.minWidthTo))){this.minWidth=this.minWidthFrom=this.minWidthTo=0}else{this.minWidthFrom=update.changes.mapPos(this.minWidthFrom,1);this.minWidthTo=update.changes.mapPos(this.minWidthTo,1)}}if(this.view.inputState.composing<0)this.compositionDeco=Decoration.none;else if(update.transactions.length||this.dirty)this.compositionDeco=computeCompositionDeco(this.view,update.changes);if((browser.ie||browser.chrome)&&!this.compositionDeco.size&&update&&update.state.doc.lines!=update.startState.doc.lines)this.forceSelection=true;let prevDeco=this.decorations,deco=this.updateDeco();let decoDiff=findChangedDeco(prevDeco,deco,update.changes);changedRanges=ChangedRange.extendWithRanges(changedRanges,decoDiff);if(this.dirty==0&&changedRanges.length==0){return false}else{this.updateInner(changedRanges,update.startState.doc.length);if(update.transactions.length)this.lastUpdate=Date.now();return true}}updateInner(changes,oldLength){this.view.viewState.mustMeasureContent=true;this.updateChildren(changes,oldLength);let{observer:observer}=this.view;observer.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight+"px";this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let track=browser.chrome||browser.ios?{node:observer.selectionRange.focusNode,written:false}:undefined;this.sync(track);this.dirty=0;if(track&&(track.written||observer.selectionRange.focusNode!=track.node))this.forceSelection=true;this.dom.style.height=""}));let gaps=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let child of this.children)if(child instanceof BlockWidgetView&&child.widget instanceof BlockGapWidget)gaps.push(child.dom);observer.updateGaps(gaps)}updateChildren(changes,oldLength){let cursor=this.childCursor(oldLength);for(let i=changes.length-1;;i--){let next=i>=0?changes[i]:null;if(!next)break;let{fromA:fromA,toA:toA,fromB:fromB,toB:toB}=next;let{content:content,breakAtStart:breakAtStart,openStart:openStart,openEnd:openEnd}=ContentBuilder.build(this.view.state.doc,fromB,toB,this.decorations,this.dynamicDecorationMap);let{i:toI,off:toOff}=cursor.findPos(toA,1);let{i:fromI,off:fromOff}=cursor.findPos(fromA,-1);replaceRange(this,fromI,fromOff,toI,toOff,content,breakAtStart,openStart,openEnd)}}updateSelection(mustRead=false,fromPointer=false){if(mustRead||!this.view.observer.selectionRange.focusNode)this.view.observer.readSelectionRange();if(!(fromPointer||this.mayControlSelection()))return;let force=this.forceSelection;this.forceSelection=false;let main=this.view.state.selection.main;let anchor=this.domAtPos(main.anchor);let head=main.empty?anchor:this.domAtPos(main.head);if(browser.gecko&&main.empty&&betweenUneditable(anchor)){let dummy=document.createTextNode("");this.view.observer.ignore((()=>anchor.node.insertBefore(dummy,anchor.node.childNodes[anchor.offset]||null)));anchor=head=new DOMPos(dummy,0);force=true}let domSel=this.view.observer.selectionRange;if(force||!domSel.focusNode||!isEquivalentPosition(anchor.node,anchor.offset,domSel.anchorNode,domSel.anchorOffset)||!isEquivalentPosition(head.node,head.offset,domSel.focusNode,domSel.focusOffset)){this.view.observer.ignore((()=>{if(browser.android&&browser.chrome&&this.dom.contains(domSel.focusNode)&&inUneditable(domSel.focusNode,this.dom)){this.dom.blur();this.dom.focus({preventScroll:true})}let rawSel=getSelection(this.view.root);if(!rawSel);else if(main.empty){if(browser.gecko){let nextTo=nextToUneditable(anchor.node,anchor.offset);if(nextTo&&nextTo!=(1|2)){let text=nearbyTextNode(anchor.node,anchor.offset,nextTo==1?1:-1);if(text)anchor=new DOMPos(text,nextTo==1?0:text.nodeValue.length)}}rawSel.collapse(anchor.node,anchor.offset);if(main.bidiLevel!=null&&domSel.cursorBidiLevel!=null)domSel.cursorBidiLevel=main.bidiLevel}else if(rawSel.extend){rawSel.collapse(anchor.node,anchor.offset);try{rawSel.extend(head.node,head.offset)}catch(_){}}else{let range=document.createRange();if(main.anchor>main.head)[anchor,head]=[head,anchor];range.setEnd(head.node,head.offset);range.setStart(anchor.node,anchor.offset);rawSel.removeAllRanges();rawSel.addRange(range)}}));this.view.observer.setSelectionRange(anchor,head)}this.impreciseAnchor=anchor.precise?null:new DOMPos(domSel.anchorNode,domSel.anchorOffset);this.impreciseHead=head.precise?null:new DOMPos(domSel.focusNode,domSel.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:view}=this,cursor=view.state.selection.main;let sel=getSelection(view.root);let{anchorNode:anchorNode,anchorOffset:anchorOffset}=view.observer.selectionRange;if(!sel||!cursor.empty||!cursor.assoc||!sel.modify)return;let line=LineView.find(this,cursor.head);if(!line)return;let lineStart=line.posAtStart;if(cursor.head==lineStart||cursor.head==lineStart+line.length)return;let before=this.coordsAt(cursor.head,-1),after=this.coordsAt(cursor.head,1);if(!before||!after||before.bottom>after.top)return;let dom=this.domAtPos(cursor.head+cursor.assoc);sel.collapse(dom.node,dom.offset);sel.modify("move",cursor.assoc<0?"forward":"backward","lineboundary");view.observer.readSelectionRange();let newRange=view.observer.selectionRange;if(view.docView.posFromDOM(newRange.anchorNode,newRange.anchorOffset)!=cursor.from)sel.collapse(anchorNode,anchorOffset)}mayControlSelection(){let active=this.view.root.activeElement;return active==this.dom||hasSelection(this.dom,this.view.observer.selectionRange)&&!(active&&this.dom.contains(active))}nearest(dom){for(let cur=dom;cur;){let domView=ContentView.get(cur);if(domView&&domView.rootView==this)return domView;cur=cur.parentNode}return null}posFromDOM(node,offset){let view=this.nearest(node);if(!view)throw new RangeError("Trying to find position for a DOM position outside of the document");return view.localPosFromDOM(node,offset)+view.posAtStart}domAtPos(pos){let{i:i,off:off}=this.childCursor().findPos(pos,-1);for(;i<this.children.length-1;){let child=this.children[i];if(off<child.length||child instanceof LineView)break;i++;off=0}return this.children[i].domAtPos(off)}coordsAt(pos,side){for(let off=this.length,i=this.children.length-1;;i--){let child=this.children[i],start=off-child.breakAfter-child.length;if(pos>start||pos==start&&child.type!=BlockType.WidgetBefore&&child.type!=BlockType.WidgetAfter&&(!i||side==2||this.children[i-1].breakAfter||this.children[i-1].type==BlockType.WidgetBefore&&side>-2))return child.coordsAt(pos-start,side);off=start}}measureVisibleLineHeights(viewport){let result=[],{from:from,to:to}=viewport;let contentWidth=this.view.contentDOM.clientWidth;let isWider=contentWidth>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1;let widest=-1,ltr=this.view.textDirection==Direction.LTR;for(let pos=0,i=0;i<this.children.length;i++){let child=this.children[i],end=pos+child.length;if(end>to)break;if(pos>=from){let childRect=child.dom.getBoundingClientRect();result.push(childRect.height);if(isWider){let last=child.dom.lastChild;let rects=last?clientRectsFor(last):[];if(rects.length){let rect=rects[rects.length-1];let width=ltr?rect.right-childRect.left:childRect.right-rect.left;if(width>widest){widest=width;this.minWidth=contentWidth;this.minWidthFrom=pos;this.minWidthTo=end}}}}pos=end+child.breakAfter}return result}textDirectionAt(pos){let{i:i}=this.childPos(pos,1);return getComputedStyle(this.children[i].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let child of this.children){if(child instanceof LineView){let measure=child.measureTextSize();if(measure)return measure}}let dummy=document.createElement("div"),lineHeight,charWidth;dummy.className="cm-line";dummy.style.width="99999px";dummy.textContent="abc def ghi jkl mno pqr stu";this.view.observer.ignore((()=>{this.dom.appendChild(dummy);let rect=clientRectsFor(dummy.firstChild)[0];lineHeight=dummy.getBoundingClientRect().height;charWidth=rect?rect.width/27:7;dummy.remove()}));return{lineHeight:lineHeight,charWidth:charWidth}}childCursor(pos=this.length){let i=this.children.length;if(i)pos-=this.children[--i].length;return new ChildCursor(this.children,pos,i)}computeBlockGapDeco(){let deco=[],vs=this.view.viewState;for(let pos=0,i=0;;i++){let next=i==vs.viewports.length?null:vs.viewports[i];let end=next?next.from-1:this.length;if(end>pos){let height=vs.lineBlockAt(end).bottom-vs.lineBlockAt(pos).top;deco.push(Decoration.replace({widget:new BlockGapWidget(height),block:true,inclusive:true,isBlockGap:true}).range(pos,end))}if(!next)break;pos=next.to+1}return Decoration.set(deco)}updateDeco(){let allDeco=this.view.state.facet(decorations).map(((d,i)=>{let dynamic=this.dynamicDecorationMap[i]=typeof d=="function";return dynamic?d(this.view):d}));for(let i=allDeco.length;i<allDeco.length+3;i++)this.dynamicDecorationMap[i]=false;return this.decorations=[...allDeco,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(target){let{range:range}=target;let rect=this.coordsAt(range.head,range.empty?range.assoc:range.head>range.anchor?-1:1),other;if(!rect)return;if(!range.empty&&(other=this.coordsAt(range.anchor,range.anchor>range.head?-1:1)))rect={left:Math.min(rect.left,other.left),top:Math.min(rect.top,other.top),right:Math.max(rect.right,other.right),bottom:Math.max(rect.bottom,other.bottom)};let mLeft=0,mRight=0,mTop=0,mBottom=0;for(let margins of this.view.state.facet(scrollMargins).map((f=>f(this.view))))if(margins){let{left:left,right:right,top:top,bottom:bottom}=margins;if(left!=null)mLeft=Math.max(mLeft,left);if(right!=null)mRight=Math.max(mRight,right);if(top!=null)mTop=Math.max(mTop,top);if(bottom!=null)mBottom=Math.max(mBottom,bottom)}let targetRect={left:rect.left-mLeft,top:rect.top-mTop,right:rect.right+mRight,bottom:rect.bottom+mBottom};scrollRectIntoView(this.view.scrollDOM,targetRect,range.head<range.anchor?-1:1,target.x,target.y,target.xMargin,target.yMargin,this.view.textDirection==Direction.LTR)}}function betweenUneditable(pos){return pos.node.nodeType==1&&pos.node.firstChild&&(pos.offset==0||pos.node.childNodes[pos.offset-1].contentEditable=="false")&&(pos.offset==pos.node.childNodes.length||pos.node.childNodes[pos.offset].contentEditable=="false")}class BlockGapWidget extends WidgetType{constructor(height){super();this.height=height}toDOM(){let elt=document.createElement("div");this.updateDOM(elt);return elt}eq(other){return other.height==this.height}updateDOM(elt){elt.style.height=this.height+"px";return true}get estimatedHeight(){return this.height}}function compositionSurroundingNode(view){let sel=view.observer.selectionRange;let textNode=sel.focusNode&&nearbyTextNode(sel.focusNode,sel.focusOffset,0);if(!textNode)return null;let cView=view.docView.nearest(textNode);if(!cView)return null;if(cView instanceof LineView){let topNode=textNode;while(topNode.parentNode!=cView.dom)topNode=topNode.parentNode;let prev=topNode.previousSibling;while(prev&&!ContentView.get(prev))prev=prev.previousSibling;let pos=prev?ContentView.get(prev).posAtEnd:cView.posAtStart;return{from:pos,to:pos,node:topNode,text:textNode}}else{for(;;){let{parent:parent}=cView;if(!parent)return null;if(parent instanceof LineView)break;cView=parent}let from=cView.posAtStart;return{from:from,to:from+cView.length,node:cView.dom,text:textNode}}}function computeCompositionDeco(view,changes){let surrounding=compositionSurroundingNode(view);if(!surrounding)return Decoration.none;let{from:from,to:to,node:node,text:textNode}=surrounding;let newFrom=changes.mapPos(from,1),newTo=Math.max(newFrom,changes.mapPos(to,-1));let{state:state}=view,text=node.nodeType==3?node.nodeValue:new DOMReader([],state).readRange(node.firstChild,null).text;if(newTo-newFrom<text.length){if(state.doc.sliceString(newFrom,Math.min(state.doc.length,newFrom+text.length),LineBreakPlaceholder)==text)newTo=newFrom+text.length;else if(state.doc.sliceString(Math.max(0,newTo-text.length),newTo,LineBreakPlaceholder)==text)newFrom=newTo-text.length;else return Decoration.none}else if(state.doc.sliceString(newFrom,newTo,LineBreakPlaceholder)!=text){return Decoration.none}let topView=ContentView.get(node);if(topView instanceof CompositionView)topView=topView.widget.topView;else if(topView)topView.parent=null;return Decoration.set(Decoration.replace({widget:new CompositionWidget(node,textNode,topView),inclusive:true}).range(newFrom,newTo))}class CompositionWidget extends WidgetType{constructor(top,text,topView){super();this.top=top;this.text=text;this.topView=topView}eq(other){return this.top==other.top&&this.text==other.text}toDOM(){return this.top}ignoreEvent(){return false}get customView(){return CompositionView}}function nearbyTextNode(node,offset,side){for(;;){if(node.nodeType==3)return node;if(node.nodeType==1&&offset>0&&side<=0){node=node.childNodes[offset-1];offset=maxOffset(node)}else if(node.nodeType==1&&offset<node.childNodes.length&&side>=0){node=node.childNodes[offset];offset=0}else{return null}}}function nextToUneditable(node,offset){if(node.nodeType!=1)return 0;return(offset&&node.childNodes[offset-1].contentEditable=="false"?1:0)|(offset<node.childNodes.length&&node.childNodes[offset].contentEditable=="false"?2:0)}class DecorationComparator$1{constructor(){this.changes=[]}compareRange(from,to){addRange(from,to,this.changes)}comparePoint(from,to){addRange(from,to,this.changes)}}function findChangedDeco(a,b,diff){let comp=new DecorationComparator$1;RangeSet.compare(a,b,diff,comp);return comp.changes}function inUneditable(node,inside){for(let cur=node;cur&&cur!=inside;cur=cur.assignedSlot||cur.parentNode){if(cur.nodeType==1&&cur.contentEditable=="false"){return true}}return false}function groupAt(state,pos,bias=1){let categorize=state.charCategorizer(pos);let line=state.doc.lineAt(pos),linePos=pos-line.from;if(line.length==0)return EditorSelection.cursor(pos);if(linePos==0)bias=1;else if(linePos==line.length)bias=-1;let from=linePos,to=linePos;if(bias<0)from=findClusterBreak(line.text,linePos,false);else to=findClusterBreak(line.text,linePos);let cat=categorize(line.text.slice(from,to));while(from>0){let prev=findClusterBreak(line.text,from,false);if(categorize(line.text.slice(prev,from))!=cat)break;from=prev}while(to<line.length){let next=findClusterBreak(line.text,to);if(categorize(line.text.slice(to,next))!=cat)break;to=next}return EditorSelection.range(from+line.from,to+line.from)}function getdx(x,rect){return rect.left>x?rect.left-x:Math.max(0,x-rect.right)}function getdy(y,rect){return rect.top>y?rect.top-y:Math.max(0,y-rect.bottom)}function yOverlap(a,b){return a.top<b.bottom-1&&a.bottom>b.top+1}function upTop(rect,top){return top<rect.top?{top:top,left:rect.left,right:rect.right,bottom:rect.bottom}:rect}function upBot(rect,bottom){return bottom>rect.bottom?{top:rect.top,left:rect.left,right:rect.right,bottom:bottom}:rect}function domPosAtCoords(parent,x,y){let closest,closestRect,closestX,closestY,closestOverlap=false;let above,below,aboveRect,belowRect;for(let child=parent.firstChild;child;child=child.nextSibling){let rects=clientRectsFor(child);for(let i=0;i<rects.length;i++){let rect=rects[i];if(closestRect&&yOverlap(closestRect,rect))rect=upTop(upBot(rect,closestRect.bottom),closestRect.top);let dx=getdx(x,rect),dy=getdy(y,rect);if(dx==0&&dy==0)return child.nodeType==3?domPosInText(child,x,y):domPosAtCoords(child,x,y);if(!closest||closestY>dy||closestY==dy&&closestX>dx){closest=child;closestRect=rect;closestX=dx;closestY=dy;closestOverlap=!dx||(dx>0?i<rects.length-1:i>0)}if(dx==0){if(y>rect.bottom&&(!aboveRect||aboveRect.bottom<rect.bottom)){above=child;aboveRect=rect}else if(y<rect.top&&(!belowRect||belowRect.top>rect.top)){below=child;belowRect=rect}}else if(aboveRect&&yOverlap(aboveRect,rect)){aboveRect=upBot(aboveRect,rect.bottom)}else if(belowRect&&yOverlap(belowRect,rect)){belowRect=upTop(belowRect,rect.top)}}}if(aboveRect&&aboveRect.bottom>=y){closest=above;closestRect=aboveRect}else if(belowRect&&belowRect.top<=y){closest=below;closestRect=belowRect}if(!closest)return{node:parent,offset:0};let clipX=Math.max(closestRect.left,Math.min(closestRect.right,x));if(closest.nodeType==3)return domPosInText(closest,clipX,y);if(closestOverlap&&closest.contentEditable!="false")return domPosAtCoords(closest,clipX,y);let offset=Array.prototype.indexOf.call(parent.childNodes,closest)+(x>=(closestRect.left+closestRect.right)/2?1:0);return{node:parent,offset:offset}}function domPosInText(node,x,y){let len=node.nodeValue.length;let closestOffset=-1,closestDY=1e9,generalSide=0;for(let i=0;i<len;i++){let rects=textRange(node,i,i+1).getClientRects();for(let j=0;j<rects.length;j++){let rect=rects[j];if(rect.top==rect.bottom)continue;if(!generalSide)generalSide=x-rect.left;let dy=(rect.top>y?rect.top-y:y-rect.bottom)-1;if(rect.left-1<=x&&rect.right+1>=x&&dy<closestDY){let right=x>=(rect.left+rect.right)/2,after=right;if(browser.chrome||browser.gecko){let rectBefore=textRange(node,i).getBoundingClientRect();if(rectBefore.left==rect.right)after=!right}if(dy<=0)return{node:node,offset:i+(after?1:0)};closestOffset=i+(after?1:0);closestDY=dy}}}return{node:node,offset:closestOffset>-1?closestOffset:generalSide>0?node.nodeValue.length:0}}function posAtCoords(view,{x:x,y:y},precise,bias=-1){var _a;let content=view.contentDOM.getBoundingClientRect(),docTop=content.top+view.viewState.paddingTop;let block,{docHeight:docHeight}=view.viewState;let yOffset=y-docTop;if(yOffset<0)return 0;if(yOffset>docHeight)return view.state.doc.length;for(let halfLine=view.defaultLineHeight/2,bounced=false;;){block=view.elementAtHeight(yOffset);if(block.type==BlockType.Text)break;for(;;){yOffset=bias>0?block.bottom+halfLine:block.top-halfLine;if(yOffset>=0&&yOffset<=docHeight)break;if(bounced)return precise?null:0;bounced=true;bias=-bias}}y=docTop+yOffset;let lineStart=block.from;if(lineStart<view.viewport.from)return view.viewport.from==0?0:precise?null:posAtCoordsImprecise(view,content,block,x,y);if(lineStart>view.viewport.to)return view.viewport.to==view.state.doc.length?view.state.doc.length:precise?null:posAtCoordsImprecise(view,content,block,x,y);let doc=view.dom.ownerDocument;let root=view.root.elementFromPoint?view.root:doc;let element=root.elementFromPoint(x,y);if(element&&!view.contentDOM.contains(element))element=null;if(!element){x=Math.max(content.left+1,Math.min(content.right-1,x));element=root.elementFromPoint(x,y);if(element&&!view.contentDOM.contains(element))element=null}let node,offset=-1;if(element&&((_a=view.docView.nearest(element))===null||_a===void 0?void 0:_a.isEditable)!=false){if(doc.caretPositionFromPoint){let pos=doc.caretPositionFromPoint(x,y);if(pos)({offsetNode:node,offset:offset}=pos)}else if(doc.caretRangeFromPoint){let range=doc.caretRangeFromPoint(x,y);if(range){({startContainer:node,startOffset:offset}=range);if(!view.contentDOM.contains(node)||browser.safari&&isSuspiciousSafariCaretResult(node,offset,x)||browser.chrome&&isSuspiciousChromeCaretResult(node,offset,x))node=undefined}}}if(!node||!view.docView.dom.contains(node)){let line=LineView.find(view.docView,lineStart);if(!line)return yOffset>block.top+block.height/2?block.to:block.from;({node:node,offset:offset}=domPosAtCoords(line.dom,x,y))}return view.docView.posFromDOM(node,offset)}function posAtCoordsImprecise(view,contentRect,block,x,y){let into=Math.round((x-contentRect.left)*view.defaultCharacterWidth);if(view.lineWrapping&&block.height>view.defaultLineHeight*1.5){let line=Math.floor((y-block.top)/view.defaultLineHeight);into+=line*view.viewState.heightOracle.lineLength}let content=view.state.sliceDoc(block.from,block.to);return block.from+findColumn(content,into,view.state.tabSize)}function isSuspiciousSafariCaretResult(node,offset,x){let len;if(node.nodeType!=3||offset!=(len=node.nodeValue.length))return false;for(let next=node.nextSibling;next;next=next.nextSibling)if(next.nodeType!=1||next.nodeName!="BR")return false;return textRange(node,len-1,len).getBoundingClientRect().left>x}function isSuspiciousChromeCaretResult(node,offset,x){if(offset!=0)return false;for(let cur=node;;){let parent=cur.parentNode;if(!parent||parent.nodeType!=1||parent.firstChild!=cur)return false;if(parent.classList.contains("cm-line"))break;cur=parent}let rect=node.nodeType==1?node.getBoundingClientRect():textRange(node,0,Math.max(node.nodeValue.length,1)).getBoundingClientRect();return x-rect.left>5}function moveToLineBoundary(view,start,forward,includeWrap){let line=view.state.doc.lineAt(start.head);let coords=!includeWrap||!view.lineWrapping?null:view.coordsAtPos(start.assoc<0&&start.head>line.from?start.head-1:start.head);if(coords){let editorRect=view.dom.getBoundingClientRect();let direction=view.textDirectionAt(line.from);let pos=view.posAtCoords({x:forward==(direction==Direction.LTR)?editorRect.right-1:editorRect.left+1,y:(coords.top+coords.bottom)/2});if(pos!=null)return EditorSelection.cursor(pos,forward?-1:1)}let lineView=LineView.find(view.docView,start.head);let end=lineView?forward?lineView.posAtEnd:lineView.posAtStart:forward?line.to:line.from;return EditorSelection.cursor(end,forward?-1:1)}function moveByChar(view,start,forward,by){let line=view.state.doc.lineAt(start.head),spans=view.bidiSpans(line);let direction=view.textDirectionAt(line.from);for(let cur=start,check=null;;){let next=moveVisually(line,spans,direction,cur,forward),char=movedOver;if(!next){if(line.number==(forward?view.state.doc.lines:1))return cur;char="\n";line=view.state.doc.line(line.number+(forward?1:-1));spans=view.bidiSpans(line);next=EditorSelection.cursor(forward?line.from:line.to)}if(!check){if(!by)return next;check=by(char)}else if(!check(char)){return cur}cur=next}}function byGroup(view,pos,start){let categorize=view.state.charCategorizer(pos);let cat=categorize(start);return next=>{let nextCat=categorize(next);if(cat==CharCategory.Space)cat=nextCat;return cat==nextCat}}function moveVertically(view,start,forward,distance){let startPos=start.head,dir=forward?1:-1;if(startPos==(forward?view.state.doc.length:0))return EditorSelection.cursor(startPos,start.assoc);let goal=start.goalColumn,startY;let rect=view.contentDOM.getBoundingClientRect();let startCoords=view.coordsAtPos(startPos),docTop=view.documentTop;if(startCoords){if(goal==null)goal=startCoords.left-rect.left;startY=dir<0?startCoords.top:startCoords.bottom}else{let line=view.viewState.lineBlockAt(startPos);if(goal==null)goal=Math.min(rect.right-rect.left,view.defaultCharacterWidth*(startPos-line.from));startY=(dir<0?line.top:line.bottom)+docTop}let resolvedGoal=rect.left+goal;let dist=distance!==null&&distance!==void 0?distance:view.defaultLineHeight>>1;for(let extra=0;;extra+=10){let curY=startY+(dist+extra)*dir;let pos=posAtCoords(view,{x:resolvedGoal,y:curY},false,dir);if(curY<rect.top||curY>rect.bottom||(dir<0?pos<startPos:pos>startPos))return EditorSelection.cursor(pos,start.assoc,undefined,goal)}}function skipAtoms(view,oldPos,pos){let atoms=view.state.facet(atomicRanges).map((f=>f(view)));for(;;){let moved=false;for(let set of atoms){set.between(pos.from-1,pos.from+1,((from,to,value)=>{if(pos.from>from&&pos.from<to){pos=oldPos.head>pos.from?EditorSelection.cursor(from,1):EditorSelection.cursor(to,-1);moved=true}}))}if(!moved)return pos}}class InputState{constructor(view){this.lastKeyCode=0;this.lastKeyTime=0;this.lastTouchTime=0;this.lastFocusTime=0;this.lastScrollTop=0;this.lastScrollLeft=0;this.chromeScrollHack=-1;this.pendingIOSKey=undefined;this.lastSelectionOrigin=null;this.lastSelectionTime=0;this.lastEscPress=0;this.lastContextMenu=0;this.scrollHandlers=[];this.registeredEvents=[];this.customHandlers=[];this.composing=-1;this.compositionFirstChange=null;this.compositionEndedAt=0;this.mouseSelection=null;for(let type in handlers){let handler=handlers[type];view.contentDOM.addEventListener(type,(event=>{if(!eventBelongsToEditor(view,event)||this.ignoreDuringComposition(event))return;if(type=="keydown"&&this.keydown(view,event))return;if(this.mustFlushObserver(event))view.observer.forceFlush();if(this.runCustomHandlers(type,view,event))event.preventDefault();else handler(view,event)}),handlerOptions[type]);this.registeredEvents.push(type)}if(browser.chrome&&browser.chrome_version==102){view.scrollDOM.addEventListener("wheel",(()=>{if(this.chromeScrollHack<0)view.contentDOM.style.pointerEvents="none";else window.clearTimeout(this.chromeScrollHack);this.chromeScrollHack=setTimeout((()=>{this.chromeScrollHack=-1;view.contentDOM.style.pointerEvents=""}),100)}),{passive:true})}this.notifiedFocused=view.hasFocus;if(browser.safari)view.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(origin){this.lastSelectionOrigin=origin;this.lastSelectionTime=Date.now()}ensureHandlers(view,plugins){var _a;let handlers;this.customHandlers=[];for(let plugin of plugins)if(handlers=(_a=plugin.update(view).spec)===null||_a===void 0?void 0:_a.domEventHandlers){this.customHandlers.push({plugin:plugin.value,handlers:handlers});for(let type in handlers)if(this.registeredEvents.indexOf(type)<0&&type!="scroll"){this.registeredEvents.push(type);view.contentDOM.addEventListener(type,(event=>{if(!eventBelongsToEditor(view,event))return;if(this.runCustomHandlers(type,view,event))event.preventDefault()}))}}}runCustomHandlers(type,view,event){for(let set of this.customHandlers){let handler=set.handlers[type];if(handler){try{if(handler.call(set.plugin,event,view)||event.defaultPrevented)return true}catch(e){logException(view.state,e)}}}return false}runScrollHandlers(view,event){this.lastScrollTop=view.scrollDOM.scrollTop;this.lastScrollLeft=view.scrollDOM.scrollLeft;for(let set of this.customHandlers){let handler=set.handlers.scroll;if(handler){try{handler.call(set.plugin,event,view)}catch(e){logException(view.state,e)}}}}keydown(view,event){this.lastKeyCode=event.keyCode;this.lastKeyTime=Date.now();if(event.keyCode==9&&Date.now()<this.lastEscPress+2e3)return true;if(browser.android&&browser.chrome&&!event.synthetic&&(event.keyCode==13||event.keyCode==8)){view.observer.delayAndroidKey(event.key,event.keyCode);return true}let pending;if(browser.ios&&!event.synthetic&&!event.altKey&&!event.metaKey&&((pending=PendingKeys.find((key=>key.keyCode==event.keyCode)))&&!event.ctrlKey||EmacsyPendingKeys.indexOf(event.key)>-1&&event.ctrlKey&&!event.shiftKey)){this.pendingIOSKey=pending||event;setTimeout((()=>this.flushIOSKey(view)),250);return true}return false}flushIOSKey(view){let key=this.pendingIOSKey;if(!key)return false;this.pendingIOSKey=undefined;return dispatchKey(view.contentDOM,key.key,key.keyCode)}ignoreDuringComposition(event){if(!/^key/.test(event.type))return false;if(this.composing>0)return true;if(browser.safari&&!browser.ios&&Date.now()-this.compositionEndedAt<100){this.compositionEndedAt=0;return true}return false}mustFlushObserver(event){return event.type=="keydown"&&event.keyCode!=229}startMouseSelection(mouseSelection){if(this.mouseSelection)this.mouseSelection.destroy();this.mouseSelection=mouseSelection}update(update){if(this.mouseSelection)this.mouseSelection.update(update);if(update.transactions.length)this.lastKeyCode=this.lastSelectionTime=0}destroy(){if(this.mouseSelection)this.mouseSelection.destroy()}}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}];const EmacsyPendingKeys="dthko";const modifierCodes=[16,17,18,20,91,92,224,225];class MouseSelection{constructor(view,startEvent,style,mustSelect){this.view=view;this.style=style;this.mustSelect=mustSelect;this.lastEvent=startEvent;let doc=view.contentDOM.ownerDocument;doc.addEventListener("mousemove",this.move=this.move.bind(this));doc.addEventListener("mouseup",this.up=this.up.bind(this));this.extend=startEvent.shiftKey;this.multiple=view.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(view,startEvent);this.dragMove=dragMovesSelection(view,startEvent);this.dragging=isInPrimarySelection(view,startEvent)&&getClickType(startEvent)==1?null:false;if(this.dragging===false){startEvent.preventDefault();this.select(startEvent)}}move(event){if(event.buttons==0)return this.destroy();if(this.dragging!==false)return;this.select(this.lastEvent=event)}up(event){if(this.dragging==null)this.select(this.lastEvent);if(!this.dragging)event.preventDefault();this.destroy()}destroy(){let doc=this.view.contentDOM.ownerDocument;doc.removeEventListener("mousemove",this.move);doc.removeEventListener("mouseup",this.up);this.view.inputState.mouseSelection=null}select(event){let selection=this.style.get(event,this.extend,this.multiple);if(this.mustSelect||!selection.eq(this.view.state.selection)||selection.main.assoc!=this.view.state.selection.main.assoc)this.view.dispatch({selection:selection,userEvent:"select.pointer",scrollIntoView:true});this.mustSelect=false}update(update){if(update.docChanged&&this.dragging)this.dragging=this.dragging.map(update.changes);if(this.style.update(update))setTimeout((()=>this.select(this.lastEvent)),20)}}function addsSelectionRange(view,event){let facet=view.state.facet(clickAddsSelectionRange);return facet.length?facet[0](event):browser.mac?event.metaKey:event.ctrlKey}function dragMovesSelection(view,event){let facet=view.state.facet(dragMovesSelection$1);return facet.length?facet[0](event):browser.mac?!event.altKey:!event.ctrlKey}function isInPrimarySelection(view,event){let{main:main}=view.state.selection;if(main.empty)return false;let sel=getSelection(view.root);if(!sel||sel.rangeCount==0)return true;let rects=sel.getRangeAt(0).getClientRects();for(let i=0;i<rects.length;i++){let rect=rects[i];if(rect.left<=event.clientX&&rect.right>=event.clientX&&rect.top<=event.clientY&&rect.bottom>=event.clientY)return true}return false}function eventBelongsToEditor(view,event){if(!event.bubbles)return true;if(event.defaultPrevented)return false;for(let node=event.target,cView;node!=view.contentDOM;node=node.parentNode)if(!node||node.nodeType==11||(cView=ContentView.get(node))&&cView.ignoreEvent(event))return false;return true}const handlers=Object.create(null);const handlerOptions=Object.create(null);const brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(view){let parent=view.dom.parentNode;if(!parent)return;let target=parent.appendChild(document.createElement("textarea"));target.style.cssText="position: fixed; left: -10000px; top: 10px";target.focus();setTimeout((()=>{view.focus();target.remove();doPaste(view,target.value)}),50)}function doPaste(view,input){let{state:state}=view,changes,i=1,text=state.toText(input);let byLine=text.lines==state.selection.ranges.length;let linewise=lastLinewiseCopy!=null&&state.selection.ranges.every((r=>r.empty))&&lastLinewiseCopy==text.toString();if(linewise){let lastLine=-1;changes=state.changeByRange((range=>{let line=state.doc.lineAt(range.from);if(line.from==lastLine)return{range:range};lastLine=line.from;let insert=state.toText((byLine?text.line(i++).text:input)+state.lineBreak);return{changes:{from:line.from,insert:insert},range:EditorSelection.cursor(range.from+insert.length)}}))}else if(byLine){changes=state.changeByRange((range=>{let line=text.line(i++);return{changes:{from:range.from,to:range.to,insert:line.text},range:EditorSelection.cursor(range.from+line.length)}}))}else{changes=state.replaceSelection(text)}view.dispatch(changes,{userEvent:"input.paste",scrollIntoView:true})}handlers.keydown=(view,event)=>{view.inputState.setSelectionOrigin("select");if(event.keyCode==27)view.inputState.lastEscPress=Date.now();else if(modifierCodes.indexOf(event.keyCode)<0)view.inputState.lastEscPress=0};handlers.touchstart=(view,e)=>{view.inputState.lastTouchTime=Date.now();view.inputState.setSelectionOrigin("select.pointer")};handlers.touchmove=view=>{view.inputState.setSelectionOrigin("select.pointer")};handlerOptions.touchstart=handlerOptions.touchmove={passive:true};handlers.mousedown=(view,event)=>{view.observer.flush();if(view.inputState.lastTouchTime>Date.now()-2e3)return;let style=null;for(let makeStyle of view.state.facet(mouseSelectionStyle)){style=makeStyle(view,event);if(style)break}if(!style&&event.button==0)style=basicMouseSelection(view,event);if(style){let mustFocus=view.root.activeElement!=view.contentDOM;if(mustFocus)view.observer.ignore((()=>focusPreventScroll(view.contentDOM)));view.inputState.startMouseSelection(new MouseSelection(view,event,style,mustFocus))}};function rangeForClick(view,pos,bias,type){if(type==1){return EditorSelection.cursor(pos,bias)}else if(type==2){return groupAt(view.state,pos,bias)}else{let visual=LineView.find(view.docView,pos),line=view.state.doc.lineAt(visual?visual.posAtEnd:pos);let from=visual?visual.posAtStart:line.from,to=visual?visual.posAtEnd:line.to;if(to<view.state.doc.length&&to==line.to)to++;return EditorSelection.range(from,to)}}let insideY=(y,rect)=>y>=rect.top&&y<=rect.bottom;let inside=(x,y,rect)=>insideY(y,rect)&&x>=rect.left&&x<=rect.right;function findPositionSide(view,pos,x,y){let line=LineView.find(view.docView,pos);if(!line)return 1;let off=pos-line.posAtStart;if(off==0)return 1;if(off==line.length)return-1;let before=line.coordsAt(off,-1);if(before&&inside(x,y,before))return-1;let after=line.coordsAt(off,1);if(after&&inside(x,y,after))return 1;return before&&insideY(y,before)?-1:1}function queryPos(view,event){let pos=view.posAtCoords({x:event.clientX,y:event.clientY},false);return{pos:pos,bias:findPositionSide(view,pos,event.clientX,event.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(event){if(!BadMouseDetail)return event.detail;let last=lastMouseDown,lastTime=lastMouseDownTime;lastMouseDown=event;lastMouseDownTime=Date.now();return lastMouseDownCount=!last||lastTime>Date.now()-400&&Math.abs(last.clientX-event.clientX)<2&&Math.abs(last.clientY-event.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(view,event){let start=queryPos(view,event),type=getClickType(event);let startSel=view.state.selection;let last=start,lastEvent=event;return{update(update){if(update.docChanged){start.pos=update.changes.mapPos(start.pos);startSel=startSel.map(update.changes);lastEvent=null}},get(event,extend,multiple){let cur;if(lastEvent&&event.clientX==lastEvent.clientX&&event.clientY==lastEvent.clientY)cur=last;else{cur=last=queryPos(view,event);lastEvent=event}let range=rangeForClick(view,cur.pos,cur.bias,type);if(start.pos!=cur.pos&&!extend){let startRange=rangeForClick(view,start.pos,start.bias,type);let from=Math.min(startRange.from,range.from),to=Math.max(startRange.to,range.to);range=from<range.from?EditorSelection.range(from,to):EditorSelection.range(to,from)}if(extend)return startSel.replaceRange(startSel.main.extend(range.from,range.to));else if(multiple&&startSel.ranges.length>1&&startSel.ranges.some((r=>r.eq(range))))return removeRange(startSel,range);else if(multiple)return startSel.addRange(range);else return EditorSelection.create([range])}}}function removeRange(sel,range){for(let i=0;;i++){if(sel.ranges[i].eq(range))return EditorSelection.create(sel.ranges.slice(0,i).concat(sel.ranges.slice(i+1)),sel.mainIndex==i?0:sel.mainIndex-(sel.mainIndex>i?1:0))}}handlers.dragstart=(view,event)=>{let{selection:{main:main}}=view.state;let{mouseSelection:mouseSelection}=view.inputState;if(mouseSelection)mouseSelection.dragging=main;if(event.dataTransfer){event.dataTransfer.setData("Text",view.state.sliceDoc(main.from,main.to));event.dataTransfer.effectAllowed="copyMove"}};function dropText(view,event,text,direct){if(!text)return;let dropPos=view.posAtCoords({x:event.clientX,y:event.clientY},false);event.preventDefault();let{mouseSelection:mouseSelection}=view.inputState;let del=direct&&mouseSelection&&mouseSelection.dragging&&mouseSelection.dragMove?{from:mouseSelection.dragging.from,to:mouseSelection.dragging.to}:null;let ins={from:dropPos,insert:text};let changes=view.state.changes(del?[del,ins]:ins);view.focus();view.dispatch({changes:changes,selection:{anchor:changes.mapPos(dropPos,-1),head:changes.mapPos(dropPos,1)},userEvent:del?"move.drop":"input.drop"})}handlers.drop=(view,event)=>{if(!event.dataTransfer)return;if(view.state.readOnly)return event.preventDefault();let files=event.dataTransfer.files;if(files&&files.length){event.preventDefault();let text=Array(files.length),read=0;let finishFile=()=>{if(++read==files.length)dropText(view,event,text.filter((s=>s!=null)).join(view.state.lineBreak),false)};for(let i=0;i<files.length;i++){let reader=new FileReader;reader.onerror=finishFile;reader.onload=()=>{if(!/[\x00-\x08\x0e-\x1f]{2}/.test(reader.result))text[i]=reader.result;finishFile()};reader.readAsText(files[i])}}else{dropText(view,event,event.dataTransfer.getData("Text"),true)}};handlers.paste=(view,event)=>{if(view.state.readOnly)return event.preventDefault();view.observer.flush();let data=brokenClipboardAPI?null:event.clipboardData;if(data){doPaste(view,data.getData("text/plain"));event.preventDefault()}else{capturePaste(view)}};function captureCopy(view,text){let parent=view.dom.parentNode;if(!parent)return;let target=parent.appendChild(document.createElement("textarea"));target.style.cssText="position: fixed; left: -10000px; top: 10px";target.value=text;target.focus();target.selectionEnd=text.length;target.selectionStart=0;setTimeout((()=>{target.remove();view.focus()}),50)}function copiedRange(state){let content=[],ranges=[],linewise=false;for(let range of state.selection.ranges)if(!range.empty){content.push(state.sliceDoc(range.from,range.to));ranges.push(range)}if(!content.length){let upto=-1;for(let{from:from}of state.selection.ranges){let line=state.doc.lineAt(from);if(line.number>upto){content.push(line.text);ranges.push({from:line.from,to:Math.min(state.doc.length,line.to+1)})}upto=line.number}linewise=true}return{text:content.join(state.lineBreak),ranges:ranges,linewise:linewise}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(view,event)=>{let{text:text,ranges:ranges,linewise:linewise}=copiedRange(view.state);if(!text&&!linewise)return;lastLinewiseCopy=linewise?text:null;let data=brokenClipboardAPI?null:event.clipboardData;if(data){event.preventDefault();data.clearData();data.setData("text/plain",text)}else{captureCopy(view,text)}if(event.type=="cut"&&!view.state.readOnly)view.dispatch({changes:ranges,scrollIntoView:true,userEvent:"delete.cut"})};function updateForFocusChange(view){setTimeout((()=>{if(view.hasFocus!=view.inputState.notifiedFocused)view.update([])}),10)}handlers.focus=view=>{view.inputState.lastFocusTime=Date.now();if(!view.scrollDOM.scrollTop&&(view.inputState.lastScrollTop||view.inputState.lastScrollLeft)){view.scrollDOM.scrollTop=view.inputState.lastScrollTop;view.scrollDOM.scrollLeft=view.inputState.lastScrollLeft}updateForFocusChange(view)};handlers.blur=view=>{view.observer.clearSelectionRange();updateForFocusChange(view)};handlers.compositionstart=handlers.compositionupdate=view=>{if(view.inputState.compositionFirstChange==null)view.inputState.compositionFirstChange=true;if(view.inputState.composing<0){view.inputState.composing=0}};handlers.compositionend=view=>{view.inputState.composing=-1;view.inputState.compositionEndedAt=Date.now();view.inputState.compositionFirstChange=null;if(browser.chrome&&browser.android)view.observer.flushSoon();setTimeout((()=>{if(view.inputState.composing<0&&view.docView.compositionDeco.size)view.update([])}),50)};handlers.contextmenu=view=>{view.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(view,event)=>{var _a;let pending;if(browser.chrome&&browser.android&&(pending=PendingKeys.find((key=>key.inputType==event.inputType)))){view.observer.delayAndroidKey(pending.key,pending.keyCode);if(pending.key=="Backspace"||pending.key=="Delete"){let startViewHeight=((_a=window.visualViewport)===null||_a===void 0?void 0:_a.height)||0;setTimeout((()=>{var _a;if((((_a=window.visualViewport)===null||_a===void 0?void 0:_a.height)||0)>startViewHeight+10&&view.hasFocus){view.contentDOM.blur();view.focus()}}),100)}}};const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];class HeightOracle{constructor(lineWrapping){this.lineWrapping=lineWrapping;this.doc=Text.empty;this.heightSamples={};this.lineHeight=14;this.charWidth=7;this.lineLength=30;this.heightChanged=false}heightForGap(from,to){let lines=this.doc.lineAt(to).number-this.doc.lineAt(from).number+1;if(this.lineWrapping)lines+=Math.ceil((to-from-lines*this.lineLength*.5)/this.lineLength);return this.lineHeight*lines}heightForLine(length){if(!this.lineWrapping)return this.lineHeight;let lines=1+Math.max(0,Math.ceil((length-this.lineLength)/(this.lineLength-5)));return lines*this.lineHeight}setDoc(doc){this.doc=doc;return this}mustRefreshForWrapping(whiteSpace){return wrappingWhiteSpace.indexOf(whiteSpace)>-1!=this.lineWrapping}mustRefreshForHeights(lineHeights){let newHeight=false;for(let i=0;i<lineHeights.length;i++){let h=lineHeights[i];if(h<0){i++}else if(!this.heightSamples[Math.floor(h*10)]){newHeight=true;this.heightSamples[Math.floor(h*10)]=true}}return newHeight}refresh(whiteSpace,lineHeight,charWidth,lineLength,knownHeights){let lineWrapping=wrappingWhiteSpace.indexOf(whiteSpace)>-1;let changed=Math.round(lineHeight)!=Math.round(this.lineHeight)||this.lineWrapping!=lineWrapping;this.lineWrapping=lineWrapping;this.lineHeight=lineHeight;this.charWidth=charWidth;this.lineLength=lineLength;if(changed){this.heightSamples={};for(let i=0;i<knownHeights.length;i++){let h=knownHeights[i];if(h<0)i++;else this.heightSamples[Math.floor(h*10)]=true}}return changed}}class MeasuredHeights{constructor(from,heights){this.from=from;this.heights=heights;this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(from,length,top,height,type){this.from=from;this.length=length;this.top=top;this.height=height;this.type=type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(other){let detail=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(other.type)?other.type:[other]);return new BlockInfo(this.from,this.length+other.length,this.top,this.height+other.height,detail)}}var QueryType$1=function(QueryType){QueryType[QueryType["ByPos"]=0]="ByPos";QueryType[QueryType["ByHeight"]=1]="ByHeight";QueryType[QueryType["ByPosNoHeight"]=2]="ByPosNoHeight";return QueryType}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(length,height,flags=2){this.length=length;this.height=height;this.flags=flags}get outdated(){return(this.flags&2)>0}set outdated(value){this.flags=(value?2:0)|this.flags&~2}setHeight(oracle,height){if(this.height!=height){if(Math.abs(this.height-height)>Epsilon)oracle.heightChanged=true;this.height=height}}replace(_from,_to,nodes){return HeightMap.of(nodes)}decomposeLeft(_to,result){result.push(this)}decomposeRight(_from,result){result.push(this)}applyChanges(decorations,oldDoc,oracle,changes){let me=this;for(let i=changes.length-1;i>=0;i--){let{fromA:fromA,toA:toA,fromB:fromB,toB:toB}=changes[i];let start=me.lineAt(fromA,QueryType$1.ByPosNoHeight,oldDoc,0,0);let end=start.to>=toA?start:me.lineAt(toA,QueryType$1.ByPosNoHeight,oldDoc,0,0);toB+=end.to-toA;toA=end.to;while(i>0&&start.from<=changes[i-1].toA){fromA=changes[i-1].fromA;fromB=changes[i-1].fromB;i--;if(fromA<start.from)start=me.lineAt(fromA,QueryType$1.ByPosNoHeight,oldDoc,0,0)}fromB+=start.from-fromA;fromA=start.from;let nodes=NodeBuilder.build(oracle,decorations,fromB,toB);me=me.replace(fromA,toA,nodes)}return me.updateHeight(oracle,0)}static empty(){return new HeightMapText(0,0)}static of(nodes){if(nodes.length==1)return nodes[0];let i=0,j=nodes.length,before=0,after=0;for(;;){if(i==j){if(before>after*2){let split=nodes[i-1];if(split.break)nodes.splice(--i,1,split.left,null,split.right);else nodes.splice(--i,1,split.left,split.right);j+=1+split.break;before-=split.size}else if(after>before*2){let split=nodes[j];if(split.break)nodes.splice(j,1,split.left,null,split.right);else nodes.splice(j,1,split.left,split.right);j+=2+split.break;after-=split.size}else{break}}else if(before<after){let next=nodes[i++];if(next)before+=next.size}else{let next=nodes[--j];if(next)after+=next.size}}let brk=0;if(nodes[i-1]==null){brk=1;i--}else if(nodes[i]==null){brk=1;j++}return new HeightMapBranch(HeightMap.of(nodes.slice(0,i)),brk,HeightMap.of(nodes.slice(j)))}}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(length,height,type){super(length,height);this.type=type}blockAt(_height,_doc,top,offset){return new BlockInfo(offset,this.length,top,this.height,this.type)}lineAt(_value,_type,doc,top,offset){return this.blockAt(0,doc,top,offset)}forEachLine(from,to,doc,top,offset,f){if(from<=offset+this.length&&to>=offset)f(this.blockAt(0,doc,top,offset))}updateHeight(oracle,offset=0,_force=false,measured){if(measured&&measured.from<=offset&&measured.more)this.setHeight(oracle,measured.heights[measured.index++]);this.outdated=false;return this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(length,height){super(length,height,BlockType.Text);this.collapsed=0;this.widgetHeight=0}replace(_from,_to,nodes){let node=nodes[0];if(nodes.length==1&&(node instanceof HeightMapText||node instanceof HeightMapGap&&node.flags&4)&&Math.abs(this.length-node.length)<10){if(node instanceof HeightMapGap)node=new HeightMapText(node.length,this.height);else node.height=this.height;if(!this.outdated)node.outdated=false;return node}else{return HeightMap.of(nodes)}}updateHeight(oracle,offset=0,force=false,measured){if(measured&&measured.from<=offset&&measured.more)this.setHeight(oracle,measured.heights[measured.index++]);else if(force||this.outdated)this.setHeight(oracle,Math.max(this.widgetHeight,oracle.heightForLine(this.length-this.collapsed)));this.outdated=false;return this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(length){super(length,0)}lines(doc,offset){let firstLine=doc.lineAt(offset).number,lastLine=doc.lineAt(offset+this.length).number;return{firstLine:firstLine,lastLine:lastLine,lineHeight:this.height/(lastLine-firstLine+1)}}blockAt(height,doc,top,offset){let{firstLine:firstLine,lastLine:lastLine,lineHeight:lineHeight}=this.lines(doc,offset);let line=Math.max(0,Math.min(lastLine-firstLine,Math.floor((height-top)/lineHeight)));let{from:from,length:length}=doc.line(firstLine+line);return new BlockInfo(from,length,top+lineHeight*line,lineHeight,BlockType.Text)}lineAt(value,type,doc,top,offset){if(type==QueryType$1.ByHeight)return this.blockAt(value,doc,top,offset);if(type==QueryType$1.ByPosNoHeight){let{from:from,to:to}=doc.lineAt(value);return new BlockInfo(from,to-from,0,0,BlockType.Text)}let{firstLine:firstLine,lineHeight:lineHeight}=this.lines(doc,offset);let{from:from,length:length,number:number}=doc.lineAt(value);return new BlockInfo(from,length,top+lineHeight*(number-firstLine),lineHeight,BlockType.Text)}forEachLine(from,to,doc,top,offset,f){let{firstLine:firstLine,lineHeight:lineHeight}=this.lines(doc,offset);for(let pos=Math.max(from,offset),end=Math.min(offset+this.length,to);pos<=end;){let line=doc.lineAt(pos);if(pos==from)top+=lineHeight*(line.number-firstLine);f(new BlockInfo(line.from,line.length,top,lineHeight,BlockType.Text));top+=lineHeight;pos=line.to+1}}replace(from,to,nodes){let after=this.length-to;if(after>0){let last=nodes[nodes.length-1];if(last instanceof HeightMapGap)nodes[nodes.length-1]=new HeightMapGap(last.length+after);else nodes.push(null,new HeightMapGap(after-1))}if(from>0){let first=nodes[0];if(first instanceof HeightMapGap)nodes[0]=new HeightMapGap(from+first.length);else nodes.unshift(new HeightMapGap(from-1),null)}return HeightMap.of(nodes)}decomposeLeft(to,result){result.push(new HeightMapGap(to-1),null)}decomposeRight(from,result){result.push(null,new HeightMapGap(this.length-from-1))}updateHeight(oracle,offset=0,force=false,measured){let end=offset+this.length;if(measured&&measured.from<=offset+this.length&&measured.more){let nodes=[],pos=Math.max(offset,measured.from),singleHeight=-1;let wasChanged=oracle.heightChanged;if(measured.from>offset)nodes.push(new HeightMapGap(measured.from-offset-1).updateHeight(oracle,offset));while(pos<=end&&measured.more){let len=oracle.doc.lineAt(pos).length;if(nodes.length)nodes.push(null);let height=measured.heights[measured.index++];if(singleHeight==-1)singleHeight=height;else if(Math.abs(height-singleHeight)>=Epsilon)singleHeight=-2;let line=new HeightMapText(len,height);line.outdated=false;nodes.push(line);pos+=len+1}if(pos<=end)nodes.push(null,new HeightMapGap(end-pos).updateHeight(oracle,pos));let result=HeightMap.of(nodes);oracle.heightChanged=wasChanged||singleHeight<0||Math.abs(result.height-this.height)>=Epsilon||Math.abs(singleHeight-this.lines(oracle.doc,offset).lineHeight)>=Epsilon;return result}else if(force||this.outdated){this.setHeight(oracle,oracle.heightForGap(offset,offset+this.length));this.outdated=false}return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(left,brk,right){super(left.length+brk+right.length,left.height+right.height,brk|(left.outdated||right.outdated?2:0));this.left=left;this.right=right;this.size=left.size+right.size}get break(){return this.flags&1}blockAt(height,doc,top,offset){let mid=top+this.left.height;return height<mid?this.left.blockAt(height,doc,top,offset):this.right.blockAt(height,doc,mid,offset+this.left.length+this.break)}lineAt(value,type,doc,top,offset){let rightTop=top+this.left.height,rightOffset=offset+this.left.length+this.break;let left=type==QueryType$1.ByHeight?value<rightTop:value<rightOffset;let base=left?this.left.lineAt(value,type,doc,top,offset):this.right.lineAt(value,type,doc,rightTop,rightOffset);if(this.break||(left?base.to<rightOffset:base.from>rightOffset))return base;let subQuery=type==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;if(left)return base.join(this.right.lineAt(rightOffset,subQuery,doc,rightTop,rightOffset));else return this.left.lineAt(rightOffset,subQuery,doc,top,offset).join(base)}forEachLine(from,to,doc,top,offset,f){let rightTop=top+this.left.height,rightOffset=offset+this.left.length+this.break;if(this.break){if(from<rightOffset)this.left.forEachLine(from,to,doc,top,offset,f);if(to>=rightOffset)this.right.forEachLine(from,to,doc,rightTop,rightOffset,f)}else{let mid=this.lineAt(rightOffset,QueryType$1.ByPos,doc,top,offset);if(from<mid.from)this.left.forEachLine(from,mid.from-1,doc,top,offset,f);if(mid.to>=from&&mid.from<=to)f(mid);if(to>mid.to)this.right.forEachLine(mid.to+1,to,doc,rightTop,rightOffset,f)}}replace(from,to,nodes){let rightStart=this.left.length+this.break;if(to<rightStart)return this.balanced(this.left.replace(from,to,nodes),this.right);if(from>this.left.length)return this.balanced(this.left,this.right.replace(from-rightStart,to-rightStart,nodes));let result=[];if(from>0)this.decomposeLeft(from,result);let left=result.length;for(let node of nodes)result.push(node);if(from>0)mergeGaps(result,left-1);if(to<this.length){let right=result.length;this.decomposeRight(to,result);mergeGaps(result,right)}return HeightMap.of(result)}decomposeLeft(to,result){let left=this.left.length;if(to<=left)return this.left.decomposeLeft(to,result);result.push(this.left);if(this.break){left++;if(to>=left)result.push(null)}if(to>left)this.right.decomposeLeft(to-left,result)}decomposeRight(from,result){let left=this.left.length,right=left+this.break;if(from>=right)return this.right.decomposeRight(from-right,result);if(from<left)this.left.decomposeRight(from,result);if(this.break&&from<right)result.push(null);result.push(this.right)}balanced(left,right){if(left.size>2*right.size||right.size>2*left.size)return HeightMap.of(this.break?[left,null,right]:[left,right]);this.left=left;this.right=right;this.height=left.height+right.height;this.outdated=left.outdated||right.outdated;this.size=left.size+right.size;this.length=left.length+this.break+right.length;return this}updateHeight(oracle,offset=0,force=false,measured){let{left:left,right:right}=this,rightStart=offset+left.length+this.break,rebalance=null;if(measured&&measured.from<=offset+left.length&&measured.more)rebalance=left=left.updateHeight(oracle,offset,force,measured);else left.updateHeight(oracle,offset,force);if(measured&&measured.from<=rightStart+right.length&&measured.more)rebalance=right=right.updateHeight(oracle,rightStart,force,measured);else right.updateHeight(oracle,rightStart,force);if(rebalance)return this.balanced(left,right);this.height=this.left.height+this.right.height;this.outdated=false;return this}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(nodes,around){let before,after;if(nodes[around]==null&&(before=nodes[around-1])instanceof HeightMapGap&&(after=nodes[around+1])instanceof HeightMapGap)nodes.splice(around-1,3,new HeightMapGap(before.length+1+after.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(pos,oracle){this.pos=pos;this.oracle=oracle;this.nodes=[];this.lineStart=-1;this.lineEnd=-1;this.covering=null;this.writtenTo=pos}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(_from,to){if(this.lineStart>-1){let end=Math.min(to,this.lineEnd),last=this.nodes[this.nodes.length-1];if(last instanceof HeightMapText)last.length+=end-this.pos;else if(end>this.pos||!this.isCovered)this.nodes.push(new HeightMapText(end-this.pos,-1));this.writtenTo=end;if(to>end){this.nodes.push(null);this.writtenTo++;this.lineStart=-1}}this.pos=to}point(from,to,deco){if(from<to||deco.heightRelevant){let height=deco.widget?deco.widget.estimatedHeight:0;if(height<0)height=this.oracle.lineHeight;let len=to-from;if(deco.block){this.addBlock(new HeightMapBlock(len,height,deco.type))}else if(len||height>=relevantWidgetHeight){this.addLineDeco(height,len)}}else if(to>from){this.span(from,to)}if(this.lineEnd>-1&&this.lineEnd<this.pos)this.lineEnd=this.oracle.doc.lineAt(this.pos).to}enterLine(){if(this.lineStart>-1)return;let{from:from,to:to}=this.oracle.doc.lineAt(this.pos);this.lineStart=from;this.lineEnd=to;if(this.writtenTo<from){if(this.writtenTo<from-1||this.nodes[this.nodes.length-1]==null)this.nodes.push(this.blankContent(this.writtenTo,from-1));this.nodes.push(null)}if(this.pos>from)this.nodes.push(new HeightMapText(this.pos-from,-1));this.writtenTo=this.pos}blankContent(from,to){let gap=new HeightMapGap(to-from);if(this.oracle.doc.lineAt(from).to==to)gap.flags|=4;return gap}ensureLine(){this.enterLine();let last=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(last instanceof HeightMapText)return last;let line=new HeightMapText(0,-1);this.nodes.push(line);return line}addBlock(block){this.enterLine();if(block.type==BlockType.WidgetAfter&&!this.isCovered)this.ensureLine();this.nodes.push(block);this.writtenTo=this.pos=this.pos+block.length;if(block.type!=BlockType.WidgetBefore)this.covering=block}addLineDeco(height,length){let line=this.ensureLine();line.length+=length;line.collapsed+=length;line.widgetHeight=Math.max(line.widgetHeight,height);this.writtenTo=this.pos=this.pos+length}finish(from){let last=this.nodes.length==0?null:this.nodes[this.nodes.length-1];if(this.lineStart>-1&&!(last instanceof HeightMapText)&&!this.isCovered)this.nodes.push(new HeightMapText(0,-1));else if(this.writtenTo<this.pos||last==null)this.nodes.push(this.blankContent(this.writtenTo,this.pos));let pos=from;for(let node of this.nodes){if(node instanceof HeightMapText)node.updateHeight(this.oracle,pos);pos+=node?node.length:1}return this.nodes}static build(oracle,decorations,from,to){let builder=new NodeBuilder(from,oracle);RangeSet.spans(decorations,from,to,builder,0);return builder.finish(from)}}function heightRelevantDecoChanges(a,b,diff){let comp=new DecorationComparator;RangeSet.compare(a,b,diff,comp,0);return comp.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(from,to,a,b){if(from<to||a&&a.heightRelevant||b&&b.heightRelevant)addRange(from,to,this.changes,5)}}function visiblePixelRange(dom,paddingTop){let rect=dom.getBoundingClientRect();let doc=dom.ownerDocument,win=doc.defaultView||window;let left=Math.max(0,rect.left),right=Math.min(win.innerWidth,rect.right);let top=Math.max(0,rect.top),bottom=Math.min(win.innerHeight,rect.bottom);for(let parent=dom.parentNode;parent&&parent!=doc.body;){if(parent.nodeType==1){let elt=parent;let style=window.getComputedStyle(elt);if((elt.scrollHeight>elt.clientHeight||elt.scrollWidth>elt.clientWidth)&&style.overflow!="visible"){let parentRect=elt.getBoundingClientRect();left=Math.max(left,parentRect.left);right=Math.min(right,parentRect.right);top=Math.max(top,parentRect.top);bottom=parent==dom.parentNode?parentRect.bottom:Math.min(bottom,parentRect.bottom)}parent=style.position=="absolute"||style.position=="fixed"?elt.offsetParent:elt.parentNode}else if(parent.nodeType==11){parent=parent.host}else{break}}return{left:left-rect.left,right:Math.max(left,right)-rect.left,top:top-(rect.top+paddingTop),bottom:Math.max(top,bottom)-(rect.top+paddingTop)}}function fullPixelRange(dom,paddingTop){let rect=dom.getBoundingClientRect();return{left:0,right:rect.right-rect.left,top:paddingTop,bottom:rect.bottom-(rect.top+paddingTop)}}class LineGap{constructor(from,to,size){this.from=from;this.to=to;this.size=size}static same(a,b){if(a.length!=b.length)return false;for(let i=0;i<a.length;i++){let gA=a[i],gB=b[i];if(gA.from!=gB.from||gA.to!=gB.to||gA.size!=gB.size)return false}return true}draw(wrapping){return Decoration.replace({widget:new LineGapWidget(this.size,wrapping)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(size,vertical){super();this.size=size;this.vertical=vertical}eq(other){return other.size==this.size&&other.vertical==this.vertical}toDOM(){let elt=document.createElement("div");if(this.vertical){elt.style.height=this.size+"px"}else{elt.style.width=this.size+"px";elt.style.height="2px";elt.style.display="inline-block"}return elt}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(state){this.state=state;this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0};this.inView=true;this.paddingTop=0;this.paddingBottom=0;this.contentDOMWidth=0;this.contentDOMHeight=0;this.editorHeight=0;this.editorWidth=0;this.scaler=IdScaler;this.scrollTarget=null;this.printing=false;this.mustMeasureContent=true;this.defaultTextDirection=Direction.LTR;this.visibleRanges=[];this.mustEnforceCursorAssoc=false;let guessWrapping=state.facet(contentAttributes).some((v=>typeof v!="function"&&v.class=="cm-lineWrapping"));this.heightOracle=new HeightOracle(guessWrapping);this.stateDeco=state.facet(decorations).filter((d=>typeof d!="function"));this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(state.doc),[new ChangedRange(0,0,0,state.doc.length)]);this.viewport=this.getViewport(0,null);this.updateViewportLines();this.updateForViewport();this.lineGaps=this.ensureLineGaps([]);this.lineGapDeco=Decoration.set(this.lineGaps.map((gap=>gap.draw(false))));this.computeVisibleRanges()}updateForViewport(){let viewports=[this.viewport],{main:main}=this.state.selection;for(let i=0;i<=1;i++){let pos=i?main.head:main.anchor;if(!viewports.some((({from:from,to:to})=>pos>=from&&pos<=to))){let{from:from,to:to}=this.lineBlockAt(pos);viewports.push(new Viewport(from,to))}}this.viewports=viewports.sort(((a,b)=>a.from-b.from));this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[];this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(block=>{this.viewportLines.push(this.scaler.scale==1?block:scaleBlock(block,this.scaler))}))}update(update,scrollTarget=null){this.state=update.state;let prevDeco=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter((d=>typeof d!="function"));let contentChanges=update.changedRanges;let heightChanges=ChangedRange.extendWithRanges(contentChanges,heightRelevantDecoChanges(prevDeco,this.stateDeco,update?update.changes:ChangeSet.empty(this.state.doc.length)));let prevHeight=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,update.startState.doc,this.heightOracle.setDoc(this.state.doc),heightChanges);if(this.heightMap.height!=prevHeight)update.flags|=2;let viewport=heightChanges.length?this.mapViewport(this.viewport,update.changes):this.viewport;if(scrollTarget&&(scrollTarget.range.head<viewport.from||scrollTarget.range.head>viewport.to)||!this.viewportIsAppropriate(viewport))viewport=this.getViewport(0,scrollTarget);let updateLines=!update.changes.empty||update.flags&2||viewport.from!=this.viewport.from||viewport.to!=this.viewport.to;this.viewport=viewport;this.updateForViewport();if(updateLines)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,update.changes)));update.flags|=this.computeVisibleRanges();if(scrollTarget)this.scrollTarget=scrollTarget;if(!this.mustEnforceCursorAssoc&&update.selectionSet&&update.view.lineWrapping&&update.state.selection.main.empty&&update.state.selection.main.assoc&&!update.state.facet(nativeSelectionHidden))this.mustEnforceCursorAssoc=true}measure(view){let dom=view.contentDOM,style=window.getComputedStyle(dom);let oracle=this.heightOracle;let whiteSpace=style.whiteSpace;this.defaultTextDirection=style.direction=="rtl"?Direction.RTL:Direction.LTR;let refresh=this.heightOracle.mustRefreshForWrapping(whiteSpace);let measureContent=refresh||this.mustMeasureContent||this.contentDOMHeight!=dom.clientHeight;this.contentDOMHeight=dom.clientHeight;this.mustMeasureContent=false;let result=0,bias=0;let paddingTop=parseInt(style.paddingTop)||0,paddingBottom=parseInt(style.paddingBottom)||0;if(this.paddingTop!=paddingTop||this.paddingBottom!=paddingBottom){this.paddingTop=paddingTop;this.paddingBottom=paddingBottom;result|=8|2}if(this.editorWidth!=view.scrollDOM.clientWidth){if(oracle.lineWrapping)measureContent=true;this.editorWidth=view.scrollDOM.clientWidth;result|=8}let pixelViewport=(this.printing?fullPixelRange:visiblePixelRange)(dom,this.paddingTop);let dTop=pixelViewport.top-this.pixelViewport.top,dBottom=pixelViewport.bottom-this.pixelViewport.bottom;this.pixelViewport=pixelViewport;let inView=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(inView!=this.inView){this.inView=inView;if(inView)measureContent=true}if(!this.inView&&!this.scrollTarget)return 0;let contentWidth=dom.clientWidth;if(this.contentDOMWidth!=contentWidth||this.editorHeight!=view.scrollDOM.clientHeight){this.contentDOMWidth=contentWidth;this.editorHeight=view.scrollDOM.clientHeight;result|=8}if(measureContent){let lineHeights=view.docView.measureVisibleLineHeights(this.viewport);if(oracle.mustRefreshForHeights(lineHeights))refresh=true;if(refresh||oracle.lineWrapping&&Math.abs(contentWidth-this.contentDOMWidth)>oracle.charWidth){let{lineHeight:lineHeight,charWidth:charWidth}=view.docView.measureTextSize();refresh=lineHeight>0&&oracle.refresh(whiteSpace,lineHeight,charWidth,contentWidth/charWidth,lineHeights);if(refresh){view.docView.minWidth=0;result|=8}}if(dTop>0&&dBottom>0)bias=Math.max(dTop,dBottom);else if(dTop<0&&dBottom<0)bias=Math.min(dTop,dBottom);oracle.heightChanged=false;for(let vp of this.viewports){let heights=vp.from==this.viewport.from?lineHeights:view.docView.measureVisibleLineHeights(vp);this.heightMap=(refresh?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,view.state.doc.length)]):this.heightMap).updateHeight(oracle,0,refresh,new MeasuredHeights(vp.from,heights))}if(oracle.heightChanged)result|=2}let viewportChange=!this.viewportIsAppropriate(this.viewport,bias)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);if(viewportChange)this.viewport=this.getViewport(bias,this.scrollTarget);this.updateForViewport();if(result&2||viewportChange)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)this.updateLineGaps(this.ensureLineGaps(refresh?[]:this.lineGaps,view));result|=this.computeVisibleRanges();if(this.mustEnforceCursorAssoc){this.mustEnforceCursorAssoc=false;view.docView.enforceCursorAssoc()}return result}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(bias,scrollTarget){let marginTop=.5-Math.max(-.5,Math.min(.5,bias/1e3/2));let map=this.heightMap,doc=this.state.doc,{visibleTop:visibleTop,visibleBottom:visibleBottom}=this;let viewport=new Viewport(map.lineAt(visibleTop-marginTop*1e3,QueryType$1.ByHeight,doc,0,0).from,map.lineAt(visibleBottom+(1-marginTop)*1e3,QueryType$1.ByHeight,doc,0,0).to);if(scrollTarget){let{head:head}=scrollTarget.range;if(head<viewport.from||head>viewport.to){let viewHeight=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top);let block=map.lineAt(head,QueryType$1.ByPos,doc,0,0),topPos;if(scrollTarget.y=="center")topPos=(block.top+block.bottom)/2-viewHeight/2;else if(scrollTarget.y=="start"||scrollTarget.y=="nearest"&&head<viewport.from)topPos=block.top;else topPos=block.bottom-viewHeight;viewport=new Viewport(map.lineAt(topPos-1e3/2,QueryType$1.ByHeight,doc,0,0).from,map.lineAt(topPos+viewHeight+1e3/2,QueryType$1.ByHeight,doc,0,0).to)}}return viewport}mapViewport(viewport,changes){let from=changes.mapPos(viewport.from,-1),to=changes.mapPos(viewport.to,1);return new Viewport(this.heightMap.lineAt(from,QueryType$1.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(to,QueryType$1.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:from,to:to},bias=0){if(!this.inView)return true;let{top:top}=this.heightMap.lineAt(from,QueryType$1.ByPos,this.state.doc,0,0);let{bottom:bottom}=this.heightMap.lineAt(to,QueryType$1.ByPos,this.state.doc,0,0);let{visibleTop:visibleTop,visibleBottom:visibleBottom}=this;return(from==0||top<=visibleTop-Math.max(10,Math.min(-bias,250)))&&(to==this.state.doc.length||bottom>=visibleBottom+Math.max(10,Math.min(bias,250)))&&(top>visibleTop-2*1e3&&bottom<visibleBottom+2*1e3)}mapLineGaps(gaps,changes){if(!gaps.length||changes.empty)return gaps;let mapped=[];for(let gap of gaps)if(!changes.touchesRange(gap.from,gap.to))mapped.push(new LineGap(changes.mapPos(gap.from),changes.mapPos(gap.to),gap.size));return mapped}ensureLineGaps(current,mayMeasure){let wrapping=this.heightOracle.lineWrapping;let margin=wrapping?1e4:2e3,halfMargin=margin>>1,doubleMargin=margin<<1;if(this.defaultTextDirection!=Direction.LTR&&!wrapping)return[];let gaps=[];let addGap=(from,to,line,structure)=>{if(to-from<halfMargin)return;let sel=this.state.selection.main,avoid=[sel.from];if(!sel.empty)avoid.push(sel.to);for(let pos of avoid){if(pos>from&&pos<to){addGap(from,pos-10,line,structure);addGap(pos+10,to,line,structure);return}}let gap=find(current,(gap=>gap.from>=line.from&&gap.to<=line.to&&Math.abs(gap.from-from)<halfMargin&&Math.abs(gap.to-to)<halfMargin&&!avoid.some((pos=>gap.from<pos&&gap.to>pos))));if(!gap){if(to<line.to&&mayMeasure&&wrapping&&mayMeasure.visibleRanges.some((r=>r.from<=to&&r.to>=to))){let lineStart=mayMeasure.moveToLineBoundary(EditorSelection.cursor(to),false,true).head;if(lineStart>from)to=lineStart}gap=new LineGap(from,to,this.gapSize(line,from,to,structure))}gaps.push(gap)};for(let line of this.viewportLines){if(line.length<doubleMargin)continue;let structure=lineStructure(line.from,line.to,this.stateDeco);if(structure.total<doubleMargin)continue;let target=this.scrollTarget?this.scrollTarget.range.head:null;let viewFrom,viewTo;if(wrapping){let marginHeight=margin/this.heightOracle.lineLength*this.heightOracle.lineHeight;let top,bot;if(target!=null){let targetFrac=findFraction(structure,target);let spaceFrac=((this.visibleBottom-this.visibleTop)/2+marginHeight)/line.height;top=targetFrac-spaceFrac;bot=targetFrac+spaceFrac}else{top=(this.visibleTop-line.top-marginHeight)/line.height;bot=(this.visibleBottom-line.top+marginHeight)/line.height}viewFrom=findPosition(structure,top);viewTo=findPosition(structure,bot)}else{let totalWidth=structure.total*this.heightOracle.charWidth;let marginWidth=margin*this.heightOracle.charWidth;let left,right;if(target!=null){let targetFrac=findFraction(structure,target);let spaceFrac=((this.pixelViewport.right-this.pixelViewport.left)/2+marginWidth)/totalWidth;left=targetFrac-spaceFrac;right=targetFrac+spaceFrac}else{left=(this.pixelViewport.left-marginWidth)/totalWidth;right=(this.pixelViewport.right+marginWidth)/totalWidth}viewFrom=findPosition(structure,left);viewTo=findPosition(structure,right)}if(viewFrom>line.from)addGap(line.from,viewFrom,line,structure);if(viewTo<line.to)addGap(viewTo,line.to,line,structure)}return gaps}gapSize(line,from,to,structure){let fraction=findFraction(structure,to)-findFraction(structure,from);if(this.heightOracle.lineWrapping){return line.height*fraction}else{return structure.total*this.heightOracle.charWidth*fraction}}updateLineGaps(gaps){if(!LineGap.same(gaps,this.lineGaps)){this.lineGaps=gaps;this.lineGapDeco=Decoration.set(gaps.map((gap=>gap.draw(this.heightOracle.lineWrapping))))}}computeVisibleRanges(){let deco=this.stateDeco;if(this.lineGaps.length)deco=deco.concat(this.lineGapDeco);let ranges=[];RangeSet.spans(deco,this.viewport.from,this.viewport.to,{span(from,to){ranges.push({from:from,to:to})},point(){}},20);let changed=ranges.length!=this.visibleRanges.length||this.visibleRanges.some(((r,i)=>r.from!=ranges[i].from||r.to!=ranges[i].to));this.visibleRanges=ranges;return changed?4:0}lineBlockAt(pos){return pos>=this.viewport.from&&pos<=this.viewport.to&&this.viewportLines.find((b=>b.from<=pos&&b.to>=pos))||scaleBlock(this.heightMap.lineAt(pos,QueryType$1.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(height){return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height),QueryType$1.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(height){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(from,to){this.from=from;this.to=to}}function lineStructure(from,to,stateDeco){let ranges=[],pos=from,total=0;RangeSet.spans(stateDeco,from,to,{span(){},point(from,to){if(from>pos){ranges.push({from:pos,to:from});total+=from-pos}pos=to}},20);if(pos<to){ranges.push({from:pos,to:to});total+=to-pos}return{total:total,ranges:ranges}}function findPosition({total:total,ranges:ranges},ratio){if(ratio<=0)return ranges[0].from;if(ratio>=1)return ranges[ranges.length-1].to;let dist=Math.floor(total*ratio);for(let i=0;;i++){let{from:from,to:to}=ranges[i],size=to-from;if(dist<=size)return from+dist;dist-=size}}function findFraction(structure,pos){let counted=0;for(let{from:from,to:to}of structure.ranges){if(pos<=to){counted+=pos-from;break}counted+=to-from}return counted/structure.total}function find(array,f){for(let val of array)if(f(val))return val;return undefined}const IdScaler={toDOM(n){return n},fromDOM(n){return n},scale:1};class BigScaler{constructor(doc,heightMap,viewports){let vpHeight=0,base=0,domBase=0;this.viewports=viewports.map((({from:from,to:to})=>{let top=heightMap.lineAt(from,QueryType$1.ByPos,doc,0,0).top;let bottom=heightMap.lineAt(to,QueryType$1.ByPos,doc,0,0).bottom;vpHeight+=bottom-top;return{from:from,to:to,top:top,bottom:bottom,domTop:0,domBottom:0}}));this.scale=(7e6-vpHeight)/(heightMap.height-vpHeight);for(let obj of this.viewports){obj.domTop=domBase+(obj.top-base)*this.scale;domBase=obj.domBottom=obj.domTop+(obj.bottom-obj.top);base=obj.bottom}}toDOM(n){for(let i=0,base=0,domBase=0;;i++){let vp=i<this.viewports.length?this.viewports[i]:null;if(!vp||n<vp.top)return domBase+(n-base)*this.scale;if(n<=vp.bottom)return vp.domTop+(n-vp.top);base=vp.bottom;domBase=vp.domBottom}}fromDOM(n){for(let i=0,base=0,domBase=0;;i++){let vp=i<this.viewports.length?this.viewports[i]:null;if(!vp||n<vp.domTop)return base+(n-domBase)/this.scale;if(n<=vp.domBottom)return vp.top+(n-vp.domTop);base=vp.bottom;domBase=vp.domBottom}}}function scaleBlock(block,scaler){if(scaler.scale==1)return block;let bTop=scaler.toDOM(block.top),bBottom=scaler.toDOM(block.bottom);return new BlockInfo(block.from,block.length,bTop,bBottom-bTop,Array.isArray(block.type)?block.type.map((b=>scaleBlock(b,scaler))):block.type)}const theme=Facet.define({combine:strs=>strs.join(" ")});const darkTheme=Facet.define({combine:values=>values.indexOf(true)>-1});const baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName();const lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(main,spec,scopes){return new StyleModule(spec,{finish(sel){return/&/.test(sel)?sel.replace(/&\w*/,(m=>{if(m=="&")return main;if(!scopes||!scopes[m])throw new RangeError(`Unsupported selector: ${m}`);return scopes[m]})):main+" "+sel}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs);class DOMChange{constructor(view,start,end,typeOver){this.typeOver=typeOver;this.bounds=null;this.text="";let{impreciseHead:iHead,impreciseAnchor:iAnchor}=view.docView;if(view.state.readOnly&&start>-1){this.newSel=null}else if(start>-1&&(this.bounds=view.docView.domBoundsAround(start,end,0))){let selPoints=iHead||iAnchor?[]:selectionPoints(view);let reader=new DOMReader(selPoints,view.state);reader.readRange(this.bounds.startDOM,this.bounds.endDOM);this.text=reader.text;this.newSel=selectionFromPoints(selPoints,this.bounds.from)}else{let domSel=view.observer.selectionRange;let head=iHead&&iHead.node==domSel.focusNode&&iHead.offset==domSel.focusOffset||!contains(view.contentDOM,domSel.focusNode)?view.state.selection.main.head:view.docView.posFromDOM(domSel.focusNode,domSel.focusOffset);let anchor=iAnchor&&iAnchor.node==domSel.anchorNode&&iAnchor.offset==domSel.anchorOffset||!contains(view.contentDOM,domSel.anchorNode)?view.state.selection.main.anchor:view.docView.posFromDOM(domSel.anchorNode,domSel.anchorOffset);this.newSel=EditorSelection.single(anchor,head)}}}function applyDOMChange(view,domChange){let change;let{newSel:newSel}=domChange,sel=view.state.selection.main;if(domChange.bounds){let{from:from,to:to}=domChange.bounds;let preferredPos=sel.from,preferredSide=null;if(view.inputState.lastKeyCode===8&&view.inputState.lastKeyTime>Date.now()-100||browser.android&&domChange.text.length<to-from){preferredPos=sel.to;preferredSide="end"}let diff=findDiff(view.state.doc.sliceString(from,to,LineBreakPlaceholder),domChange.text,preferredPos-from,preferredSide);if(diff){if(browser.chrome&&view.inputState.lastKeyCode==13&&diff.toB==diff.from+2&&domChange.text.slice(diff.from,diff.toB)==LineBreakPlaceholder+LineBreakPlaceholder)diff.toB--;change={from:from+diff.from,to:from+diff.toA,insert:Text.of(domChange.text.slice(diff.from,diff.toB).split(LineBreakPlaceholder))}}}else if(newSel&&(!view.hasFocus||!view.state.facet(editable)||newSel.main.eq(sel))){newSel=null}if(!change&&!newSel)return false;if(!change&&domChange.typeOver&&!sel.empty&&newSel&&newSel.main.empty){change={from:sel.from,to:sel.to,insert:view.state.doc.slice(sel.from,sel.to)}}else if(change&&change.from>=sel.from&&change.to<=sel.to&&(change.from!=sel.from||change.to!=sel.to)&&sel.to-sel.from-(change.to-change.from)<=4){change={from:sel.from,to:sel.to,insert:view.state.doc.slice(sel.from,change.from).append(change.insert).append(view.state.doc.slice(change.to,sel.to))}}else if((browser.mac||browser.android)&&change&&change.from==change.to&&change.from==sel.head-1&&/^\. ?$/.test(change.insert.toString())){if(newSel&&change.insert.length==2)newSel=EditorSelection.single(newSel.main.anchor-1,newSel.main.head-1);change={from:sel.from,to:sel.to,insert:Text.of([" "])}}else if(browser.chrome&&change&&change.from==change.to&&change.from==sel.head&&change.insert.toString()=="\n "&&view.lineWrapping){if(newSel)newSel=EditorSelection.single(newSel.main.anchor-1,newSel.main.head-1);change={from:sel.from,to:sel.to,insert:Text.of([" "])}}if(change){let startState=view.state;if(browser.ios&&view.inputState.flushIOSKey(view))return true;if(browser.android&&(change.from==sel.from&&change.to==sel.to&&change.insert.length==1&&change.insert.lines==2&&dispatchKey(view.contentDOM,"Enter",13)||change.from==sel.from-1&&change.to==sel.to&&change.insert.length==0&&dispatchKey(view.contentDOM,"Backspace",8)||change.from==sel.from&&change.to==sel.to+1&&change.insert.length==0&&dispatchKey(view.contentDOM,"Delete",46)))return true;let text=change.insert.toString();if(view.state.facet(inputHandler$1).some((h=>h(view,change.from,change.to,text))))return true;if(view.inputState.composing>=0)view.inputState.composing++;let tr;if(change.from>=sel.from&&change.to<=sel.to&&change.to-change.from>=(sel.to-sel.from)/3&&(!newSel||newSel.main.empty&&newSel.main.from==change.from+change.insert.length)&&view.inputState.composing<0){let before=sel.from<change.from?startState.sliceDoc(sel.from,change.from):"";let after=sel.to>change.to?startState.sliceDoc(change.to,sel.to):"";tr=startState.replaceSelection(view.state.toText(before+change.insert.sliceString(0,undefined,view.state.lineBreak)+after))}else{let changes=startState.changes(change);let mainSel=newSel&&!startState.selection.main.eq(newSel.main)&&newSel.main.to<=changes.newLength?newSel.main:undefined;if(startState.selection.ranges.length>1&&view.inputState.composing>=0&&change.to<=sel.to&&change.to>=sel.to-10){let replaced=view.state.sliceDoc(change.from,change.to);let compositionRange=compositionSurroundingNode(view)||view.state.doc.lineAt(sel.head);let offset=sel.to-change.to,size=sel.to-sel.from;tr=startState.changeByRange((range=>{if(range.from==sel.from&&range.to==sel.to)return{changes:changes,range:mainSel||range.map(changes)};let to=range.to-offset,from=to-replaced.length;if(range.to-range.from!=size||view.state.sliceDoc(from,to)!=replaced||compositionRange&&range.to>=compositionRange.from&&range.from<=compositionRange.to)return{range:range};let rangeChanges=startState.changes({from:from,to:to,insert:change.insert}),selOff=range.to-sel.to;return{changes:rangeChanges,range:!mainSel?range.map(rangeChanges):EditorSelection.range(Math.max(0,mainSel.anchor+selOff),Math.max(0,mainSel.head+selOff))}}))}else{tr={changes:changes,selection:mainSel&&startState.selection.replaceRange(mainSel)}}}let userEvent="input.type";if(view.composing){userEvent+=".compose";if(view.inputState.compositionFirstChange){userEvent+=".start";view.inputState.compositionFirstChange=false}}view.dispatch(tr,{scrollIntoView:true,userEvent:userEvent});return true}else if(newSel&&!newSel.main.eq(sel)){let scrollIntoView=false,userEvent="select";if(view.inputState.lastSelectionTime>Date.now()-50){if(view.inputState.lastSelectionOrigin=="select")scrollIntoView=true;userEvent=view.inputState.lastSelectionOrigin}view.dispatch({selection:newSel,scrollIntoView:scrollIntoView,userEvent:userEvent});return true}else{return false}}function findDiff(a,b,preferredPos,preferredSide){let minLen=Math.min(a.length,b.length);let from=0;while(from<minLen&&a.charCodeAt(from)==b.charCodeAt(from))from++;if(from==minLen&&a.length==b.length)return null;let toA=a.length,toB=b.length;while(toA>0&&toB>0&&a.charCodeAt(toA-1)==b.charCodeAt(toB-1)){toA--;toB--}if(preferredSide=="end"){let adjust=Math.max(0,from-Math.min(toA,toB));preferredPos-=toA+adjust-from}if(toA<from&&a.length<b.length){let move=preferredPos<=from&&preferredPos>=toA?from-preferredPos:0;from-=move;toB=from+(toB-toA);toA=from}else if(toB<from){let move=preferredPos<=from&&preferredPos>=toB?from-preferredPos:0;from-=move;toA=from+(toA-toB);toB=from}return{from:from,toA:toA,toB:toB}}function selectionPoints(view){let result=[];if(view.root.activeElement!=view.contentDOM)return result;let{anchorNode:anchorNode,anchorOffset:anchorOffset,focusNode:focusNode,focusOffset:focusOffset}=view.observer.selectionRange;if(anchorNode){result.push(new DOMPoint(anchorNode,anchorOffset));if(focusNode!=anchorNode||focusOffset!=anchorOffset)result.push(new DOMPoint(focusNode,focusOffset))}return result}function selectionFromPoints(points,base){if(points.length==0)return null;let anchor=points[0].pos,head=points.length==2?points[1].pos:anchor;return anchor>-1&&head>-1?EditorSelection.single(anchor+base,head+base):null}const observeOptions={childList:true,characterData:true,subtree:true,attributes:true,characterDataOldValue:true};const useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(view){this.view=view;this.active=false;this.selectionRange=new DOMSelectionState;this.selectionChanged=false;this.delayedFlush=-1;this.resizeTimeout=-1;this.queue=[];this.delayedAndroidKey=null;this.flushingAndroidKey=-1;this.lastChange=0;this.scrollTargets=[];this.intersection=null;this.resize=null;this.intersecting=false;this.gapIntersection=null;this.gaps=[];this.parentCheck=-1;this.dom=view.contentDOM;this.observer=new MutationObserver((mutations=>{for(let mut of mutations)this.queue.push(mut);if((browser.ie&&browser.ie_version<=11||browser.ios&&view.composing)&&mutations.some((m=>m.type=="childList"&&m.removedNodes.length||m.type=="characterData"&&m.oldValue.length>m.target.nodeValue.length)))this.flushSoon();else this.flush()}));if(useCharData)this.onCharData=event=>{this.queue.push({target:event.target,type:"characterData",oldValue:event.prevValue});this.flushSoon()};this.onSelectionChange=this.onSelectionChange.bind(this);this.onResize=this.onResize.bind(this);this.onPrint=this.onPrint.bind(this);this.onScroll=this.onScroll.bind(this);if(typeof ResizeObserver=="function"){this.resize=new ResizeObserver((()=>{var _a;if(((_a=this.view.docView)===null||_a===void 0?void 0:_a.lastUpdate)<Date.now()-75)this.onResize()}));this.resize.observe(view.scrollDOM)}this.addWindowListeners(this.win=view.win);this.start();if(typeof IntersectionObserver=="function"){this.intersection=new IntersectionObserver((entries=>{if(this.parentCheck<0)this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3);if(entries.length>0&&entries[entries.length-1].intersectionRatio>0!=this.intersecting){this.intersecting=!this.intersecting;if(this.intersecting!=this.view.inView)this.onScrollChanged(document.createEvent("Event"))}}),{});this.intersection.observe(this.dom);this.gapIntersection=new IntersectionObserver((entries=>{if(entries.length>0&&entries[entries.length-1].intersectionRatio>0)this.onScrollChanged(document.createEvent("Event"))}),{})}this.listenForScroll();this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e);if(this.intersecting)this.view.measure()}onScroll(e){if(this.intersecting)this.flush(false);this.onScrollChanged(e)}onResize(){if(this.resizeTimeout<0)this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1;this.view.requestMeasure()}),50)}onPrint(){this.view.viewState.printing=true;this.view.measure();setTimeout((()=>{this.view.viewState.printing=false;this.view.requestMeasure()}),500)}updateGaps(gaps){if(this.gapIntersection&&(gaps.length!=this.gaps.length||this.gaps.some(((g,i)=>g!=gaps[i])))){this.gapIntersection.disconnect();for(let gap of gaps)this.gapIntersection.observe(gap);this.gaps=gaps}}onSelectionChange(event){let wasChanged=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:view}=this,sel=this.selectionRange;if(view.state.facet(editable)?view.root.activeElement!=this.dom:!hasSelection(view.dom,sel))return;let context=sel.anchorNode&&view.docView.nearest(sel.anchorNode);if(context&&context.ignoreEvent(event)){if(!wasChanged)this.selectionChanged=false;return}if((browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!view.state.selection.main.empty&&sel.focusNode&&isEquivalentPosition(sel.focusNode,sel.focusOffset,sel.anchorNode,sel.anchorOffset))this.flushSoon();else this.flush(false)}readSelectionRange(){let{view:view}=this;let range=browser.safari&&view.root.nodeType==11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariSelectionRangeHack(this.view)||getSelection(view.root);if(!range||this.selectionRange.eq(range))return false;let local=hasSelection(this.dom,range);if(local&&!this.selectionChanged&&view.inputState.lastFocusTime>Date.now()-200&&view.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,range)){this.view.inputState.lastFocusTime=0;view.docView.updateSelection();return false}this.selectionRange.setRange(range);if(local)this.selectionChanged=true;return true}setSelectionRange(anchor,head){this.selectionRange.set(anchor.node,anchor.offset,head.node,head.offset);this.selectionChanged=false}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let i=0,changed=null;for(let dom=this.dom;dom;){if(dom.nodeType==1){if(!changed&&i<this.scrollTargets.length&&this.scrollTargets[i]==dom)i++;else if(!changed)changed=this.scrollTargets.slice(0,i);if(changed)changed.push(dom);dom=dom.assignedSlot||dom.parentNode}else if(dom.nodeType==11){dom=dom.host}else{break}}if(i<this.scrollTargets.length&&!changed)changed=this.scrollTargets.slice(0,i);if(changed){for(let dom of this.scrollTargets)dom.removeEventListener("scroll",this.onScroll);for(let dom of this.scrollTargets=changed)dom.addEventListener("scroll",this.onScroll)}}ignore(f){if(!this.active)return f();try{this.stop();return f()}finally{this.start();this.clear()}}start(){if(this.active)return;this.observer.observe(this.dom,observeOptions);if(useCharData)this.dom.addEventListener("DOMCharacterDataModified",this.onCharData);this.active=true}stop(){if(!this.active)return;this.active=false;this.observer.disconnect();if(useCharData)this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData)}clear(){this.processRecords();this.queue.length=0;this.selectionChanged=false}delayAndroidKey(key,keyCode){var _a;if(!this.delayedAndroidKey){let flush=()=>{let key=this.delayedAndroidKey;if(key){this.clearDelayedAndroidKey();if(!this.flush()&&key.force)dispatchKey(this.dom,key.key,key.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(flush)}if(!this.delayedAndroidKey||key=="Enter")this.delayedAndroidKey={key:key,keyCode:keyCode,force:this.lastChange<Date.now()-50||!!((_a=this.delayedAndroidKey)===null||_a===void 0?void 0:_a.force)}}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey);this.delayedAndroidKey=null;this.flushingAndroidKey=-1}flushSoon(){if(this.delayedFlush<0)this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1;this.flush()}))}forceFlush(){if(this.delayedFlush>=0){this.view.win.cancelAnimationFrame(this.delayedFlush);this.delayedFlush=-1}this.flush()}processRecords(){let records=this.queue;for(let mut of this.observer.takeRecords())records.push(mut);if(records.length)this.queue=[];let from=-1,to=-1,typeOver=false;for(let record of records){let range=this.readMutation(record);if(!range)continue;if(range.typeOver)typeOver=true;if(from==-1){({from:from,to:to}=range)}else{from=Math.min(range.from,from);to=Math.max(range.to,to)}}return{from:from,to:to,typeOver:typeOver}}readChange(){let{from:from,to:to,typeOver:typeOver}=this.processRecords();let newSel=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(from<0&&!newSel)return null;if(from>-1)this.lastChange=Date.now();this.view.inputState.lastFocusTime=0;this.selectionChanged=false;return new DOMChange(this.view,from,to,typeOver)}flush(readSelection=true){if(this.delayedFlush>=0||this.delayedAndroidKey)return false;if(readSelection)this.readSelectionRange();let domChange=this.readChange();if(!domChange)return false;let startState=this.view.state;let handled=applyDOMChange(this.view,domChange);if(this.view.state==startState)this.view.update([]);return handled}readMutation(rec){let cView=this.view.docView.nearest(rec.target);if(!cView||cView.ignoreMutation(rec))return null;cView.markDirty(rec.type=="attributes");if(rec.type=="attributes")cView.dirty|=4;if(rec.type=="childList"){let childBefore=findChild(cView,rec.previousSibling||rec.target.previousSibling,-1);let childAfter=findChild(cView,rec.nextSibling||rec.target.nextSibling,1);return{from:childBefore?cView.posAfter(childBefore):cView.posAtStart,to:childAfter?cView.posBefore(childAfter):cView.posAtEnd,typeOver:false}}else if(rec.type=="characterData"){return{from:cView.posAtStart,to:cView.posAtEnd,typeOver:rec.target.nodeValue==rec.oldValue}}else{return null}}setWindow(win){if(win!=this.win){this.removeWindowListeners(this.win);this.win=win;this.addWindowListeners(this.win)}}addWindowListeners(win){win.addEventListener("resize",this.onResize);win.addEventListener("beforeprint",this.onPrint);win.addEventListener("scroll",this.onScroll);win.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(win){win.removeEventListener("scroll",this.onScroll);win.removeEventListener("resize",this.onResize);win.removeEventListener("beforeprint",this.onPrint);win.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var _a,_b,_c;this.stop();(_a=this.intersection)===null||_a===void 0?void 0:_a.disconnect();(_b=this.gapIntersection)===null||_b===void 0?void 0:_b.disconnect();(_c=this.resize)===null||_c===void 0?void 0:_c.disconnect();for(let dom of this.scrollTargets)dom.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win);clearTimeout(this.parentCheck);clearTimeout(this.resizeTimeout);this.win.cancelAnimationFrame(this.delayedFlush);this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function findChild(cView,dom,dir){while(dom){let curView=ContentView.get(dom);if(curView&&curView.parent==cView)return curView;let parent=dom.parentNode;dom=parent!=cView.dom?parent:dir>0?dom.nextSibling:dom.previousSibling}return null}function safariSelectionRangeHack(view){let found=null;function read(event){event.preventDefault();event.stopImmediatePropagation();found=event.getTargetRanges()[0]}view.contentDOM.addEventListener("beforeinput",read,true);view.dom.ownerDocument.execCommand("indent");view.contentDOM.removeEventListener("beforeinput",read,true);if(!found)return null;let anchorNode=found.startContainer,anchorOffset=found.startOffset;let focusNode=found.endContainer,focusOffset=found.endOffset;let curAnchor=view.docView.domAtPos(view.state.selection.main.anchor);if(isEquivalentPosition(curAnchor.node,curAnchor.offset,focusNode,focusOffset))[anchorNode,anchorOffset,focusNode,focusOffset]=[focusNode,focusOffset,anchorNode,anchorOffset];return{anchorNode:anchorNode,anchorOffset:anchorOffset,focusNode:focusNode,focusOffset:focusOffset}}class EditorView{constructor(config={}){this.plugins=[];this.pluginMap=new Map;this.editorAttrs={};this.contentAttrs={};this.bidiCache=[];this.destroyed=false;this.updateState=2;this.measureScheduled=-1;this.measureRequests=[];this.contentDOM=document.createElement("div");this.scrollDOM=document.createElement("div");this.scrollDOM.tabIndex=-1;this.scrollDOM.className="cm-scroller";this.scrollDOM.appendChild(this.contentDOM);this.announceDOM=document.createElement("div");this.announceDOM.style.cssText="position: absolute; top: -10000px";this.announceDOM.setAttribute("aria-live","polite");this.dom=document.createElement("div");this.dom.appendChild(this.announceDOM);this.dom.appendChild(this.scrollDOM);this._dispatch=config.dispatch||(tr=>this.update([tr]));this.dispatch=this.dispatch.bind(this);this._root=config.root||getRoot(config.parent)||document;this.viewState=new ViewState(config.state||EditorState.create(config));this.plugins=this.state.facet(viewPlugin).map((spec=>new PluginInstance(spec)));for(let plugin of this.plugins)plugin.update(this);this.observer=new DOMObserver(this);this.inputState=new InputState(this);this.inputState.ensureHandlers(this,this.plugins);this.docView=new DocView(this);this.mountStyles();this.updateAttrs();this.updateState=0;this.requestMeasure();if(config.parent)config.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...input){this._dispatch(input.length==1&&input[0]instanceof Transaction?input[0]:this.state.update(...input))}update(transactions){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let redrawn=false,attrsChanged=false,update;let state=this.state;for(let tr of transactions){if(tr.startState!=state)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");state=tr.state}if(this.destroyed){this.viewState.state=state;return}let pendingKey=this.observer.delayedAndroidKey,domChange=null;if(pendingKey){this.observer.clearDelayedAndroidKey();domChange=this.observer.readChange();if(domChange&&!this.state.doc.eq(state.doc)||!this.state.selection.eq(state.selection))domChange=null}else{this.observer.clear()}if(state.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(state);update=ViewUpdate.create(this,state,transactions);let scrollTarget=this.viewState.scrollTarget;try{this.updateState=2;for(let tr of transactions){if(scrollTarget)scrollTarget=scrollTarget.map(tr.changes);if(tr.scrollIntoView){let{main:main}=tr.state.selection;scrollTarget=new ScrollTarget(main.empty?main:EditorSelection.cursor(main.head,main.head>main.anchor?-1:1))}for(let e of tr.effects)if(e.is(scrollIntoView$1))scrollTarget=e.value}this.viewState.update(update,scrollTarget);this.bidiCache=CachedOrder.update(this.bidiCache,update.changes);if(!update.empty){this.updatePlugins(update);this.inputState.update(update)}redrawn=this.docView.update(update);if(this.state.facet(styleModule)!=this.styleModules)this.mountStyles();attrsChanged=this.updateAttrs();this.showAnnouncements(transactions);this.docView.updateSelection(redrawn,transactions.some((tr=>tr.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(update.startState.facet(theme)!=update.state.facet(theme))this.viewState.mustMeasureContent=true;if(redrawn||attrsChanged||scrollTarget||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)this.requestMeasure();if(!update.empty)for(let listener of this.state.facet(updateListener))listener(update);if(domChange){if(!applyDOMChange(this,domChange)&&pendingKey.force)dispatchKey(this.contentDOM,pendingKey.key,pendingKey.keyCode)}}setState(newState){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=newState;return}this.updateState=2;let hadFocus=this.hasFocus;try{for(let plugin of this.plugins)plugin.destroy(this);this.viewState=new ViewState(newState);this.plugins=newState.facet(viewPlugin).map((spec=>new PluginInstance(spec)));this.pluginMap.clear();for(let plugin of this.plugins)plugin.update(this);this.docView=new DocView(this);this.inputState.ensureHandlers(this,this.plugins);this.mountStyles();this.updateAttrs();this.bidiCache=[]}finally{this.updateState=0}if(hadFocus)this.focus();this.requestMeasure()}updatePlugins(update){let prevSpecs=update.startState.facet(viewPlugin),specs=update.state.facet(viewPlugin);if(prevSpecs!=specs){let newPlugins=[];for(let spec of specs){let found=prevSpecs.indexOf(spec);if(found<0){newPlugins.push(new PluginInstance(spec))}else{let plugin=this.plugins[found];plugin.mustUpdate=update;newPlugins.push(plugin)}}for(let plugin of this.plugins)if(plugin.mustUpdate!=update)plugin.destroy(this);this.plugins=newPlugins;this.pluginMap.clear();this.inputState.ensureHandlers(this,this.plugins)}else{for(let p of this.plugins)p.mustUpdate=update}for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(flush=true){if(this.destroyed)return;if(this.measureScheduled>-1)cancelAnimationFrame(this.measureScheduled);this.measureScheduled=0;if(flush)this.observer.forceFlush();let updated=null;let{scrollHeight:scrollHeight,scrollTop:scrollTop,clientHeight:clientHeight}=this.scrollDOM;let refHeight=scrollTop>scrollHeight-clientHeight-4?scrollHeight:scrollTop;try{for(let i=0;;i++){this.updateState=1;let oldViewport=this.viewport;let refBlock=this.viewState.lineBlockAtHeight(refHeight);let changed=this.viewState.measure(this);if(!changed&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(i>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let measuring=[];if(!(changed&4))[this.measureRequests,measuring]=[measuring,this.measureRequests];let measured=measuring.map((m=>{try{return m.read(this)}catch(e){logException(this.state,e);return BadMeasure}}));let update=ViewUpdate.create(this,this.state,[]),redrawn=false,scrolled=false;update.flags|=changed;if(!updated)updated=update;else updated.flags|=changed;this.updateState=2;if(!update.empty){this.updatePlugins(update);this.inputState.update(update);this.updateAttrs();redrawn=this.docView.update(update)}for(let i=0;i<measuring.length;i++)if(measured[i]!=BadMeasure){try{let m=measuring[i];if(m.write)m.write(measured[i],this)}catch(e){logException(this.state,e)}}if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget);this.viewState.scrollTarget=null;scrolled=true}else{let diff=this.viewState.lineBlockAt(refBlock.from).top-refBlock.top;if(diff>1||diff<-1){this.scrollDOM.scrollTop+=diff;scrolled=true}}}if(redrawn)this.docView.updateSelection(true);if(this.viewport.from==oldViewport.from&&this.viewport.to==oldViewport.to&&!scrolled&&this.measureRequests.length==0)break}}finally{this.updateState=0;this.measureScheduled=-1}if(updated&&!updated.empty)for(let listener of this.state.facet(updateListener))listener(updated)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let editorAttrs=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses});let contentAttrs={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:!this.state.facet(editable)?"false":"true",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};if(this.state.readOnly)contentAttrs["aria-readonly"]="true";attrsFromFacet(this,contentAttributes,contentAttrs);let changed=this.observer.ignore((()=>{let changedContent=updateAttrs(this.contentDOM,this.contentAttrs,contentAttrs);let changedEditor=updateAttrs(this.dom,this.editorAttrs,editorAttrs);return changedContent||changedEditor}));this.editorAttrs=editorAttrs;this.contentAttrs=contentAttrs;return changed}showAnnouncements(trs){let first=true;for(let tr of trs)for(let effect of tr.effects)if(effect.is(EditorView.announce)){if(first)this.announceDOM.textContent="";first=false;let div=this.announceDOM.appendChild(document.createElement("div"));div.textContent=effect.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");if(this.updateState==0&&this.measureScheduled>-1)this.measure(false)}requestMeasure(request){if(this.measureScheduled<0)this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()));if(request){if(request.key!=null)for(let i=0;i<this.measureRequests.length;i++){if(this.measureRequests[i].key===request.key){this.measureRequests[i]=request;return}}this.measureRequests.push(request)}}plugin(plugin){let known=this.pluginMap.get(plugin);if(known===undefined||known&&known.spec!=plugin)this.pluginMap.set(plugin,known=this.plugins.find((p=>p.spec==plugin))||null);return known&&known.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(height){this.readMeasured();return this.viewState.elementAtHeight(height)}lineBlockAtHeight(height){this.readMeasured();return this.viewState.lineBlockAtHeight(height)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(pos){return this.viewState.lineBlockAt(pos)}get contentHeight(){return this.viewState.contentHeight}moveByChar(start,forward,by){return skipAtoms(this,start,moveByChar(this,start,forward,by))}moveByGroup(start,forward){return skipAtoms(this,start,moveByChar(this,start,forward,(initial=>byGroup(this,start.head,initial))))}moveToLineBoundary(start,forward,includeWrap=true){return moveToLineBoundary(this,start,forward,includeWrap)}moveVertically(start,forward,distance){return skipAtoms(this,start,moveVertically(this,start,forward,distance))}domAtPos(pos){return this.docView.domAtPos(pos)}posAtDOM(node,offset=0){return this.docView.posFromDOM(node,offset)}posAtCoords(coords,precise=true){this.readMeasured();return posAtCoords(this,coords,precise)}coordsAtPos(pos,side=1){this.readMeasured();let rect=this.docView.coordsAt(pos,side);if(!rect||rect.left==rect.right)return rect;let line=this.state.doc.lineAt(pos),order=this.bidiSpans(line);let span=order[BidiSpan.find(order,pos-line.from,-1,side)];return flattenRect(rect,span.dir==Direction.LTR==side>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(pos){let perLine=this.state.facet(perLineTextDirection);if(!perLine||pos<this.viewport.from||pos>this.viewport.to)return this.textDirection;this.readMeasured();return this.docView.textDirectionAt(pos)}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(line){if(line.length>MaxBidiLine)return trivialOrder(line.length);let dir=this.textDirectionAt(line.from);for(let entry of this.bidiCache)if(entry.from==line.from&&entry.dir==dir)return entry.order;let order=computeOrder(line.text,dir);this.bidiCache.push(new CachedOrder(line.from,line.to,dir,order));return order}get hasFocus(){var _a;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((_a=this.inputState)===null||_a===void 0?void 0:_a.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{focusPreventScroll(this.contentDOM);this.docView.updateSelection()}))}setRoot(root){if(this._root!=root){this._root=root;this.observer.setWindow((root.nodeType==9?root:root.ownerDocument).defaultView||window);this.mountStyles()}}destroy(){for(let plugin of this.plugins)plugin.destroy(this);this.plugins=[];this.inputState.destroy();this.dom.remove();this.observer.destroy();if(this.measureScheduled>-1)cancelAnimationFrame(this.measureScheduled);this.destroyed=true}static scrollIntoView(pos,options={}){return scrollIntoView$1.of(new ScrollTarget(typeof pos=="number"?EditorSelection.cursor(pos):pos,options.y,options.x,options.yMargin,options.xMargin))}static domEventHandlers(handlers){return ViewPlugin.define((()=>({})),{eventHandlers:handlers})}static theme(spec,options){let prefix=StyleModule.newName();let result=[theme.of(prefix),styleModule.of(buildTheme(`.${prefix}`,spec))];if(options&&options.dark)result.push(darkTheme.of(true));return result}static baseTheme(spec){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,spec,lightDarkIDs)))}static findFromDOM(dom){var _a;let content=dom.querySelector(".cm-content");let cView=content&&ContentView.get(content)||ContentView.get(dom);return((_a=cView===null||cView===void 0?void 0:cView.rootView)===null||_a===void 0?void 0:_a.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.atomicRanges=atomicRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096;const BadMeasure={};class CachedOrder{constructor(from,to,dir,order){this.from=from;this.to=to;this.dir=dir;this.order=order}static update(cache,changes){if(changes.empty)return cache;let result=[],lastDir=cache.length?cache[cache.length-1].dir:Direction.LTR;for(let i=Math.max(0,cache.length-10);i<cache.length;i++){let entry=cache[i];if(entry.dir==lastDir&&!changes.touchesRange(entry.from,entry.to))result.push(new CachedOrder(changes.mapPos(entry.from,1),changes.mapPos(entry.to,-1),entry.dir,entry.order))}return result}}function attrsFromFacet(view,facet,base){for(let sources=view.state.facet(facet),i=sources.length-1;i>=0;i--){let source=sources[i],value=typeof source=="function"?source(view):source;if(value)combineAttrs(value,base)}return base}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(name,platform){const parts=name.split(/-(?!$)/);let result=parts[parts.length-1];if(result=="Space")result=" ";let alt,ctrl,shift,meta;for(let i=0;i<parts.length-1;++i){const mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))meta=true;else if(/^a(lt)?$/i.test(mod))alt=true;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=true;else if(/^s(hift)?$/i.test(mod))shift=true;else if(/^mod$/i.test(mod)){if(platform=="mac")meta=true;else ctrl=true}else throw new Error("Unrecognized modifier name: "+mod)}if(alt)result="Alt-"+result;if(ctrl)result="Ctrl-"+result;if(meta)result="Meta-"+result;if(shift)result="Shift-"+result;return result}function modifiers(name,event,shift){if(event.altKey)name="Alt-"+name;if(event.ctrlKey)name="Ctrl-"+name;if(event.metaKey)name="Meta-"+name;if(shift!==false&&event.shiftKey)name="Shift-"+name;return name}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(event,view){return runHandlers(getKeymap(view.state),event,view,"editor")}}));const keymap=Facet.define({enables:handleKeyEvents});const Keymaps=new WeakMap;function getKeymap(state){let bindings=state.facet(keymap);let map=Keymaps.get(bindings);if(!map)Keymaps.set(bindings,map=buildKeymap(bindings.reduce(((a,b)=>a.concat(b)),[])));return map}function runScopeHandlers(view,event,scope){return runHandlers(getKeymap(view.state),event,view,scope)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(bindings,platform=currentPlatform){let bound=Object.create(null);let isPrefix=Object.create(null);let checkPrefix=(name,is)=>{let current=isPrefix[name];if(current==null)isPrefix[name]=is;else if(current!=is)throw new Error("Key binding "+name+" is used both as a regular binding and as a multi-stroke prefix")};let add=(scope,key,command,preventDefault)=>{var _a,_b;let scopeObj=bound[scope]||(bound[scope]=Object.create(null));let parts=key.split(/ (?!$)/).map((k=>normalizeKeyName(k,platform)));for(let i=1;i<parts.length;i++){let prefix=parts.slice(0,i).join(" ");checkPrefix(prefix,true);if(!scopeObj[prefix])scopeObj[prefix]={preventDefault:true,run:[view=>{let ourObj=storedPrefix={view:view,prefix:prefix,scope:scope};setTimeout((()=>{if(storedPrefix==ourObj)storedPrefix=null}),PrefixTimeout);return true}]}}let full=parts.join(" ");checkPrefix(full,false);let binding=scopeObj[full]||(scopeObj[full]={preventDefault:false,run:((_b=(_a=scopeObj._any)===null||_a===void 0?void 0:_a.run)===null||_b===void 0?void 0:_b.slice())||[]});if(command)binding.run.push(command);if(preventDefault)binding.preventDefault=true};for(let b of bindings){let scopes=b.scope?b.scope.split(" "):["editor"];if(b.any)for(let scope of scopes){let scopeObj=bound[scope]||(bound[scope]=Object.create(null));if(!scopeObj._any)scopeObj._any={preventDefault:false,run:[]};for(let key in scopeObj)scopeObj[key].run.push(b.any)}let name=b[platform]||b.key;if(!name)continue;for(let scope of scopes){add(scope,name,b.run,b.preventDefault);if(b.shift)add(scope,"Shift-"+name,b.shift,b.preventDefault)}}return bound}function runHandlers(map,event,view,scope){let name=keyName(event);let charCode=codePointAt(name,0),isChar=codePointSize(charCode)==name.length&&name!=" ";let prefix="",fallthrough=false;if(storedPrefix&&storedPrefix.view==view&&storedPrefix.scope==scope){prefix=storedPrefix.prefix+" ";if(fallthrough=modifierCodes.indexOf(event.keyCode)<0)storedPrefix=null}let ran=new Set;let runFor=binding=>{if(binding){for(let cmd of binding.run)if(!ran.has(cmd)){ran.add(cmd);if(cmd(view,event))return true}if(binding.preventDefault)fallthrough=true}return false};let scopeObj=map[scope],baseName,shiftName;if(scopeObj){if(runFor(scopeObj[prefix+modifiers(name,event,!isChar)]))return true;if(isChar&&(event.altKey||event.metaKey||event.ctrlKey)&&(baseName=base[event.keyCode])&&baseName!=name){if(runFor(scopeObj[prefix+modifiers(baseName,event,true)]))return true;else if(event.shiftKey&&(shiftName=shift[event.keyCode])!=name&&shiftName!=baseName&&runFor(scopeObj[prefix+modifiers(shiftName,event,false)]))return true}else if(isChar&&event.shiftKey){if(runFor(scopeObj[prefix+modifiers(name,event,true)]))return true}if(runFor(scopeObj._any))return true}return fallthrough}class RectangleMarker{constructor(className,left,top,width,height){this.className=className;this.left=left;this.top=top;this.width=width;this.height=height}draw(){let elt=document.createElement("div");elt.className=this.className;this.adjust(elt);return elt}update(elt,prev){if(prev.className!=this.className)return false;this.adjust(elt);return true}adjust(elt){elt.style.left=this.left+"px";elt.style.top=this.top+"px";if(this.width>=0)elt.style.width=this.width+"px";elt.style.height=this.height+"px"}eq(p){return this.left==p.left&&this.top==p.top&&this.width==p.width&&this.height==p.height&&this.className==p.className}}function sameMarker(a,b){return a.constructor==b.constructor&&a.eq(b)}class LayerView{constructor(view,layer){this.view=view;this.layer=layer;this.drawn=[];this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)};this.dom=view.scrollDOM.appendChild(document.createElement("div"));this.dom.classList.add("cm-layer");if(layer.above)this.dom.classList.add("cm-layer-above");if(layer.class)this.dom.classList.add(layer.class);this.dom.setAttribute("aria-hidden","true");this.setOrder(view.state);view.requestMeasure(this.measureReq);if(layer.mount)layer.mount(this.dom,view)}update(update){if(update.startState.facet(layerOrder)!=update.state.facet(layerOrder))this.setOrder(update.state);if(this.layer.update(update,this.dom)||update.geometryChanged)update.view.requestMeasure(this.measureReq)}setOrder(state){let pos=0,order=state.facet(layerOrder);while(pos<order.length&&order[pos]!=this.layer)pos++;this.dom.style.zIndex=String((this.layer.above?150:-1)-pos)}measure(){return this.layer.markers(this.view)}draw(markers){if(markers.length!=this.drawn.length||markers.some(((p,i)=>!sameMarker(p,this.drawn[i])))){let old=this.dom.firstChild,oldI=0;for(let marker of markers){if(marker.update&&old&&marker.constructor&&this.drawn[oldI].constructor&&marker.update(old,this.drawn[oldI])){old=old.nextSibling;oldI++}else{this.dom.insertBefore(marker.draw(),old)}}while(old){let next=old.nextSibling;old.remove();old=next}this.drawn=markers}}destroy(){this.dom.remove()}}const layerOrder=Facet.define();function layer(config){return[ViewPlugin.define((v=>new LayerView(v,config))),layerOrder.of(config)]}const CanHidePrimary=!browser.ios;const selectionConfig=Facet.define({combine(configs){return combineConfig(configs,{cursorBlinkRate:1200,drawRangeCursor:true},{cursorBlinkRate:(a,b)=>Math.min(a,b),drawRangeCursor:(a,b)=>a||b})}});function drawSelection(config={}){return[selectionConfig.of(config),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(true)]}function configChanged(update){return update.startState.facet(selectionConfig)!=update.startState.facet(selectionConfig)}const cursorLayer=layer({above:true,markers(view){let{state:state}=view,conf=state.facet(selectionConfig);let cursors=[];for(let r of state.selection.ranges){let prim=r==state.selection.main;if(r.empty?!prim||CanHidePrimary:conf.drawRangeCursor){let piece=measureCursor(view,r,prim);if(piece)cursors.push(piece)}}return cursors},update(update,dom){if(update.transactions.some((tr=>tr.scrollIntoView)))dom.style.animationName=dom.style.animationName=="cm-blink"?"cm-blink2":"cm-blink";let confChange=configChanged(update);if(confChange)setBlinkRate(update.state,dom);return update.docChanged||update.selectionSet||confChange},mount(dom,view){setBlinkRate(view.state,dom)},class:"cm-cursorLayer"});function setBlinkRate(state,dom){dom.style.animationDuration=state.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:false,markers(view){return view.state.selection.ranges.map((r=>r.empty?[]:measureRange(view,r))).reduce(((a,b)=>a.concat(b)))},update(update,dom){return update.docChanged||update.selectionSet||update.viewportChanged||configChanged(update)},class:"cm-selectionLayer"});const themeSpec={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};if(CanHidePrimary)themeSpec[".cm-line"].caretColor="transparent !important";const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec));function getBase(view){let rect=view.scrollDOM.getBoundingClientRect();let left=view.textDirection==Direction.LTR?rect.left:rect.right-view.scrollDOM.clientWidth;return{left:left-view.scrollDOM.scrollLeft,top:rect.top-view.scrollDOM.scrollTop}}function wrappedLine(view,pos,inside){let range=EditorSelection.cursor(pos);return{from:Math.max(inside.from,view.moveToLineBoundary(range,false,true).from),to:Math.min(inside.to,view.moveToLineBoundary(range,true,true).from),type:BlockType.Text}}function blockAt(view,pos){let line=view.lineBlockAt(pos);if(Array.isArray(line.type))for(let l of line.type){if(l.to>pos||l.to==pos&&(l.to==line.to||l.type==BlockType.Text))return l}return line}function measureRange(view,range){if(range.to<=view.viewport.from||range.from>=view.viewport.to)return[];let from=Math.max(range.from,view.viewport.from),to=Math.min(range.to,view.viewport.to);let ltr=view.textDirection==Direction.LTR;let content=view.contentDOM,contentRect=content.getBoundingClientRect(),base=getBase(view);let lineStyle=window.getComputedStyle(content.firstChild);let leftSide=contentRect.left+parseInt(lineStyle.paddingLeft)+Math.min(0,parseInt(lineStyle.textIndent));let rightSide=contentRect.right-parseInt(lineStyle.paddingRight);let startBlock=blockAt(view,from),endBlock=blockAt(view,to);let visualStart=startBlock.type==BlockType.Text?startBlock:null;let visualEnd=endBlock.type==BlockType.Text?endBlock:null;if(view.lineWrapping){if(visualStart)visualStart=wrappedLine(view,from,visualStart);if(visualEnd)visualEnd=wrappedLine(view,to,visualEnd)}if(visualStart&&visualEnd&&visualStart.from==visualEnd.from){return pieces(drawForLine(range.from,range.to,visualStart))}else{let top=visualStart?drawForLine(range.from,null,visualStart):drawForWidget(startBlock,false);let bottom=visualEnd?drawForLine(null,range.to,visualEnd):drawForWidget(endBlock,true);let between=[];if((visualStart||startBlock).to<(visualEnd||endBlock).from-1)between.push(piece(leftSide,top.bottom,rightSide,bottom.top));else if(top.bottom<bottom.top&&view.elementAtHeight((top.bottom+bottom.top)/2).type==BlockType.Text)top.bottom=bottom.top=(top.bottom+bottom.top)/2;return pieces(top).concat(between).concat(pieces(bottom))}function piece(left,top,right,bottom){return new RectangleMarker("cm-selectionBackground",left-base.left,top-base.top-.01,right-left,bottom-top+.01)}function pieces({top:top,bottom:bottom,horizontal:horizontal}){let pieces=[];for(let i=0;i<horizontal.length;i+=2)pieces.push(piece(horizontal[i],top,horizontal[i+1],bottom));return pieces}function drawForLine(from,to,line){let top=1e9,bottom=-1e9,horizontal=[];function addSpan(from,fromOpen,to,toOpen,dir){let fromCoords=view.coordsAtPos(from,from==line.to?-2:2);let toCoords=view.coordsAtPos(to,to==line.from?2:-2);top=Math.min(fromCoords.top,toCoords.top,top);bottom=Math.max(fromCoords.bottom,toCoords.bottom,bottom);if(dir==Direction.LTR)horizontal.push(ltr&&fromOpen?leftSide:fromCoords.left,ltr&&toOpen?rightSide:toCoords.right);else horizontal.push(!ltr&&toOpen?leftSide:toCoords.left,!ltr&&fromOpen?rightSide:fromCoords.right)}let start=from!==null&&from!==void 0?from:line.from,end=to!==null&&to!==void 0?to:line.to;for(let r of view.visibleRanges)if(r.to>start&&r.from<end){for(let pos=Math.max(r.from,start),endPos=Math.min(r.to,end);;){let docLine=view.state.doc.lineAt(pos);for(let span of view.bidiSpans(docLine)){let spanFrom=span.from+docLine.from,spanTo=span.to+docLine.from;if(spanFrom>=endPos)break;if(spanTo>pos)addSpan(Math.max(spanFrom,pos),from==null&&spanFrom<=start,Math.min(spanTo,endPos),to==null&&spanTo>=end,span.dir)}pos=docLine.to+1;if(pos>=endPos)break}}if(horizontal.length==0)addSpan(start,from==null,end,to==null,view.textDirection);return{top:top,bottom:bottom,horizontal:horizontal}}function drawForWidget(block,top){let y=contentRect.top+(top?block.top:block.bottom);return{top:y,bottom:y,horizontal:[]}}}function measureCursor(view,cursor,primary){let pos=view.coordsAtPos(cursor.head,cursor.assoc||1);if(!pos)return null;let base=getBase(view);return new RectangleMarker(primary?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",pos.left-base.left,pos.top-base.top,-1,pos.bottom-pos.top)}const setDropCursorPos=StateEffect.define({map(pos,mapping){return pos==null?null:mapping.mapPos(pos)}});const dropCursorPos=StateField.define({create(){return null},update(pos,tr){if(pos!=null)pos=tr.changes.mapPos(pos);return tr.effects.reduce(((pos,e)=>e.is(setDropCursorPos)?e.value:pos),pos)}});const drawDropCursor=ViewPlugin.fromClass(class{constructor(view){this.view=view;this.cursor=null;this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(update){var _a;let cursorPos=update.state.field(dropCursorPos);if(cursorPos==null){if(this.cursor!=null){(_a=this.cursor)===null||_a===void 0?void 0:_a.remove();this.cursor=null}}else{if(!this.cursor){this.cursor=this.view.scrollDOM.appendChild(document.createElement("div"));this.cursor.className="cm-dropCursor"}if(update.startState.field(dropCursorPos)!=cursorPos||update.docChanged||update.geometryChanged)this.view.requestMeasure(this.measureReq)}}readPos(){let pos=this.view.state.field(dropCursorPos);let rect=pos!=null&&this.view.coordsAtPos(pos);if(!rect)return null;let outer=this.view.scrollDOM.getBoundingClientRect();return{left:rect.left-outer.left+this.view.scrollDOM.scrollLeft,top:rect.top-outer.top+this.view.scrollDOM.scrollTop,height:rect.bottom-rect.top}}drawCursor(pos){if(this.cursor){if(pos){this.cursor.style.left=pos.left+"px";this.cursor.style.top=pos.top+"px";this.cursor.style.height=pos.height+"px"}else{this.cursor.style.left="-100000px"}}}destroy(){if(this.cursor)this.cursor.remove()}setDropPos(pos){if(this.view.state.field(dropCursorPos)!=pos)this.view.dispatch({effects:setDropCursorPos.of(pos)})}},{eventHandlers:{dragover(event){this.setDropPos(this.view.posAtCoords({x:event.clientX,y:event.clientY}))},dragleave(event){if(event.target==this.view.contentDOM||!this.view.contentDOM.contains(event.relatedTarget))this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(doc,re,from,to,f){re.lastIndex=0;for(let cursor=doc.iterRange(from,to),pos=from,m;!cursor.next().done;pos+=cursor.value.length){if(!cursor.lineBreak)while(m=re.exec(cursor.value))f(pos+m.index,m)}}function matchRanges(view,maxLength){let visible=view.visibleRanges;if(visible.length==1&&visible[0].from==view.viewport.from&&visible[0].to==view.viewport.to)return visible;let result=[];for(let{from:from,to:to}of visible){from=Math.max(view.state.doc.lineAt(from).from,from-maxLength);to=Math.min(view.state.doc.lineAt(to).to,to+maxLength);if(result.length&&result[result.length-1].to>=from)result[result.length-1].to=to;else result.push({from:from,to:to})}return result}class MatchDecorator{constructor(config){const{regexp:regexp,decoration:decoration,decorate:decorate,boundary:boundary,maxLength:maxLength=1e3}=config;if(!regexp.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=regexp;if(decorate){this.addMatch=(match,view,from,add)=>decorate(add,from,from+match[0].length,match,view)}else if(typeof decoration=="function"){this.addMatch=(match,view,from,add)=>{let deco=decoration(match,view,from);if(deco)add(from,from+match[0].length,deco)}}else if(decoration){this.addMatch=(match,_view,from,add)=>add(from,from+match[0].length,decoration)}else{throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator")}this.boundary=boundary;this.maxLength=maxLength}createDeco(view){let build=new RangeSetBuilder,add=build.add.bind(build);for(let{from:from,to:to}of matchRanges(view,this.maxLength))iterMatches(view.state.doc,this.regexp,from,to,((from,m)=>this.addMatch(m,view,from,add)));return build.finish()}updateDeco(update,deco){let changeFrom=1e9,changeTo=-1;if(update.docChanged)update.changes.iterChanges(((_f,_t,from,to)=>{if(to>update.view.viewport.from&&from<update.view.viewport.to){changeFrom=Math.min(from,changeFrom);changeTo=Math.max(to,changeTo)}}));if(update.viewportChanged||changeTo-changeFrom>1e3)return this.createDeco(update.view);if(changeTo>-1)return this.updateRange(update.view,deco.map(update.changes),changeFrom,changeTo);return deco}updateRange(view,deco,updateFrom,updateTo){for(let r of view.visibleRanges){let from=Math.max(r.from,updateFrom),to=Math.min(r.to,updateTo);if(to>from){let fromLine=view.state.doc.lineAt(from),toLine=fromLine.to<to?view.state.doc.lineAt(to):fromLine;let start=Math.max(r.from,fromLine.from),end=Math.min(r.to,toLine.to);if(this.boundary){for(;from>fromLine.from;from--)if(this.boundary.test(fromLine.text[from-1-fromLine.from])){start=from;break}for(;to<toLine.to;to++)if(this.boundary.test(toLine.text[to-toLine.from])){end=to;break}}let ranges=[],m;let add=(from,to,deco)=>ranges.push(deco.range(from,to));if(fromLine==toLine){this.regexp.lastIndex=start-fromLine.from;while((m=this.regexp.exec(fromLine.text))&&m.index<end-fromLine.from)this.addMatch(m,view,m.index+fromLine.from,add)}else{iterMatches(view.state.doc,this.regexp,start,end,((from,m)=>this.addMatch(m,view,from,add)))}deco=deco.update({filterFrom:start,filterTo:end,filter:(from,to)=>from<start||to>end,add:ranges})}}return deco}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g";const Specials=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",UnicodeRegexpSupport);const Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var _a;if(_supportsTabSize==null&&typeof document!="undefined"&&document.body){let styles=document.body.style;_supportsTabSize=((_a=styles.tabSize)!==null&&_a!==void 0?_a:styles.MozTabSize)!=null}return _supportsTabSize||false}const specialCharConfig=Facet.define({combine(configs){let config=combineConfig(configs,{render:null,specialChars:Specials,addSpecialChars:null});if(config.replaceTabs=!supportsTabSize())config.specialChars=new RegExp("\t|"+config.specialChars.source,UnicodeRegexpSupport);if(config.addSpecialChars)config.specialChars=new RegExp(config.specialChars.source+"|"+config.addSpecialChars.source,UnicodeRegexpSupport);return config}});function highlightSpecialChars(config={}){return[specialCharConfig.of(config),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(view){this.view=view;this.decorations=Decoration.none;this.decorationCache=Object.create(null);this.decorator=this.makeDecorator(view.state.facet(specialCharConfig));this.decorations=this.decorator.createDeco(view)}makeDecorator(conf){return new MatchDecorator({regexp:conf.specialChars,decoration:(m,view,pos)=>{let{doc:doc}=view.state;let code=codePointAt(m[0],0);if(code==9){let line=doc.lineAt(pos);let size=view.state.tabSize,col=countColumn(line.text,size,pos-line.from);return Decoration.replace({widget:new TabWidget((size-col%size)*this.view.defaultCharacterWidth)})}return this.decorationCache[code]||(this.decorationCache[code]=Decoration.replace({widget:new SpecialCharWidget(conf,code)}))},boundary:conf.replaceTabs?undefined:/[^]/})}update(update){let conf=update.state.facet(specialCharConfig);if(update.startState.facet(specialCharConfig)!=conf){this.decorator=this.makeDecorator(conf);this.decorations=this.decorator.createDeco(update.view)}else{this.decorations=this.decorator.updateDeco(update,this.decorations)}}},{decorations:v=>v.decorations}))}const DefaultPlaceholder="•";function placeholder$1(code){if(code>=32)return DefaultPlaceholder;if(code==10)return"␤";return String.fromCharCode(9216+code)}class SpecialCharWidget extends WidgetType{constructor(options,code){super();this.options=options;this.code=code}eq(other){return other.code==this.code}toDOM(view){let ph=placeholder$1(this.code);let desc=view.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16));let custom=this.options.render&&this.options.render(this.code,desc,ph);if(custom)return custom;let span=document.createElement("span");span.textContent=ph;span.title=desc;span.setAttribute("aria-label",desc);span.className="cm-specialChar";return span}ignoreEvent(){return false}}class TabWidget extends WidgetType{constructor(width){super();this.width=width}eq(other){return other.width==this.width}toDOM(){let span=document.createElement("span");span.textContent="\t";span.className="cm-tab";span.style.width=this.width+"px";return span}ignoreEvent(){return false}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"});const activeLineHighlighter=ViewPlugin.fromClass(class{constructor(view){this.decorations=this.getDeco(view)}update(update){if(update.docChanged||update.selectionSet)this.decorations=this.getDeco(update.view)}getDeco(view){let lastLineStart=-1,deco=[];for(let r of view.state.selection.ranges){let line=view.lineBlockAt(r.head);if(line.from>lastLineStart){deco.push(lineDeco.range(line.from));lastLineStart=line.from}}return Decoration.set(deco)}},{decorations:v=>v.decorations});const MaxOff=2e3;function rectangleFor(state,a,b){let startLine=Math.min(a.line,b.line),endLine=Math.max(a.line,b.line);let ranges=[];if(a.off>MaxOff||b.off>MaxOff||a.col<0||b.col<0){let startOff=Math.min(a.off,b.off),endOff=Math.max(a.off,b.off);for(let i=startLine;i<=endLine;i++){let line=state.doc.line(i);if(line.length<=endOff)ranges.push(EditorSelection.range(line.from+startOff,line.to+endOff))}}else{let startCol=Math.min(a.col,b.col),endCol=Math.max(a.col,b.col);for(let i=startLine;i<=endLine;i++){let line=state.doc.line(i);let start=findColumn(line.text,startCol,state.tabSize,true);if(start<0){ranges.push(EditorSelection.cursor(line.to))}else{let end=findColumn(line.text,endCol,state.tabSize);ranges.push(EditorSelection.range(line.from+start,line.from+end))}}}return ranges}function absoluteColumn(view,x){let ref=view.coordsAtPos(view.viewport.from);return ref?Math.round(Math.abs((ref.left-x)/view.defaultCharacterWidth)):-1}function getPos(view,event){let offset=view.posAtCoords({x:event.clientX,y:event.clientY},false);let line=view.state.doc.lineAt(offset),off=offset-line.from;let col=off>MaxOff?-1:off==line.length?absoluteColumn(view,event.clientX):countColumn(line.text,view.state.tabSize,offset-line.from);return{line:line.number,col:col,off:off}}function rectangleSelectionStyle(view,event){let start=getPos(view,event),startSel=view.state.selection;if(!start)return null;return{update(update){if(update.docChanged){let newStart=update.changes.mapPos(update.startState.doc.line(start.line).from);let newLine=update.state.doc.lineAt(newStart);start={line:newLine.number,col:start.col,off:Math.min(start.off,newLine.length)};startSel=startSel.map(update.changes)}},get(event,_extend,multiple){let cur=getPos(view,event);if(!cur)return startSel;let ranges=rectangleFor(view.state,start,cur);if(!ranges.length)return startSel;if(multiple)return EditorSelection.create(ranges.concat(startSel.ranges));else return EditorSelection.create(ranges)}}}function rectangularSelection(options){let filter=(options===null||options===void 0?void 0:options.eventFilter)||(e=>e.altKey&&e.button==0);return EditorView.mouseSelectionStyle.of(((view,event)=>filter(event)?rectangleSelectionStyle(view,event):null))}const keys={Alt:[18,e=>e.altKey],Control:[17,e=>e.ctrlKey],Shift:[16,e=>e.shiftKey],Meta:[91,e=>e.metaKey]};const showCrosshair={style:"cursor: crosshair"};function crosshairCursor(options={}){let[code,getter]=keys[options.key||"Alt"];let plugin=ViewPlugin.fromClass(class{constructor(view){this.view=view;this.isDown=false}set(isDown){if(this.isDown!=isDown){this.isDown=isDown;this.view.update([])}}},{eventHandlers:{keydown(e){this.set(e.keyCode==code||getter(e))},keyup(e){if(e.keyCode==code||!getter(e))this.set(false)},mousemove(e){this.set(getter(e))}}});return[plugin,EditorView.contentAttributes.of((view=>{var _a;return((_a=view.plugin(plugin))===null||_a===void 0?void 0:_a.isDown)?showCrosshair:null}))]}const Outside="-10000px";class TooltipViewManager{constructor(view,facet,createTooltipView){this.facet=facet;this.createTooltipView=createTooltipView;this.input=view.state.facet(facet);this.tooltips=this.input.filter((t=>t));this.tooltipViews=this.tooltips.map(createTooltipView)}update(update){var _a;let input=update.state.facet(this.facet);let tooltips=input.filter((x=>x));if(input===this.input){for(let t of this.tooltipViews)if(t.update)t.update(update);return false}let tooltipViews=[];for(let i=0;i<tooltips.length;i++){let tip=tooltips[i],known=-1;if(!tip)continue;for(let i=0;i<this.tooltips.length;i++){let other=this.tooltips[i];if(other&&other.create==tip.create)known=i}if(known<0){tooltipViews[i]=this.createTooltipView(tip)}else{let tooltipView=tooltipViews[i]=this.tooltipViews[known];if(tooltipView.update)tooltipView.update(update)}}for(let t of this.tooltipViews)if(tooltipViews.indexOf(t)<0){t.dom.remove();(_a=t.destroy)===null||_a===void 0?void 0:_a.call(t)}this.input=input;this.tooltips=tooltips;this.tooltipViews=tooltipViews;return true}}function windowSpace(view){let{win:win}=view;return{top:0,left:0,bottom:win.innerHeight,right:win.innerWidth}}const tooltipConfig=Facet.define({combine:values=>{var _a,_b,_c;return{position:browser.ios?"absolute":((_a=values.find((conf=>conf.position)))===null||_a===void 0?void 0:_a.position)||"fixed",parent:((_b=values.find((conf=>conf.parent)))===null||_b===void 0?void 0:_b.parent)||null,tooltipSpace:((_c=values.find((conf=>conf.tooltipSpace)))===null||_c===void 0?void 0:_c.tooltipSpace)||windowSpace}}});const tooltipPlugin=ViewPlugin.fromClass(class{constructor(view){this.view=view;this.inView=true;this.lastTransaction=0;this.measureTimeout=-1;let config=view.state.facet(tooltipConfig);this.position=config.position;this.parent=config.parent;this.classes=view.themeClasses;this.createContainer();this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this};this.manager=new TooltipViewManager(view,showTooltip,(t=>this.createTooltip(t)));this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver((entries=>{if(Date.now()>this.lastTransaction-50&&entries.length>0&&entries[entries.length-1].intersectionRatio<1)this.measureSoon()}),{threshold:[1]}):null;this.observeIntersection();view.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this));this.maybeMeasure()}createContainer(){if(this.parent){this.container=document.createElement("div");this.container.style.position="relative";this.container.className=this.view.themeClasses;this.parent.appendChild(this.container)}else{this.container=this.view.dom}}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let tooltip of this.manager.tooltipViews)this.intersectionObserver.observe(tooltip.dom)}}measureSoon(){if(this.measureTimeout<0)this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1;this.maybeMeasure()}),50)}update(update){if(update.transactions.length)this.lastTransaction=Date.now();let updated=this.manager.update(update);if(updated)this.observeIntersection();let shouldMeasure=updated||update.geometryChanged;let newConfig=update.state.facet(tooltipConfig);if(newConfig.position!=this.position){this.position=newConfig.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;shouldMeasure=true}if(newConfig.parent!=this.parent){if(this.parent)this.container.remove();this.parent=newConfig.parent;this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);shouldMeasure=true}else if(this.parent&&this.view.themeClasses!=this.classes){this.classes=this.container.className=this.view.themeClasses}if(shouldMeasure)this.maybeMeasure()}createTooltip(tooltip){let tooltipView=tooltip.create(this.view);tooltipView.dom.classList.add("cm-tooltip");if(tooltip.arrow&&!tooltipView.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let arrow=document.createElement("div");arrow.className="cm-tooltip-arrow";tooltipView.dom.appendChild(arrow)}tooltipView.dom.style.position=this.position;tooltipView.dom.style.top=Outside;this.container.appendChild(tooltipView.dom);if(tooltipView.mount)tooltipView.mount(this.view);return tooltipView}destroy(){var _a,_b;this.view.win.removeEventListener("resize",this.measureSoon);for(let tooltipView of this.manager.tooltipViews){tooltipView.dom.remove();(_a=tooltipView.destroy)===null||_a===void 0?void 0:_a.call(tooltipView)}(_b=this.intersectionObserver)===null||_b===void 0?void 0:_b.disconnect();clearTimeout(this.measureTimeout)}readMeasure(){let editor=this.view.dom.getBoundingClientRect();return{editor:editor,parent:this.parent?this.container.getBoundingClientRect():editor,pos:this.manager.tooltips.map(((t,i)=>{let tv=this.manager.tooltipViews[i];return tv.getCoords?tv.getCoords(t.pos):this.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((({dom:dom})=>dom.getBoundingClientRect())),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view)}}writeMeasure(measured){let{editor:editor,space:space}=measured;let others=[];for(let i=0;i<this.manager.tooltips.length;i++){let tooltip=this.manager.tooltips[i],tView=this.manager.tooltipViews[i],{dom:dom}=tView;let pos=measured.pos[i],size=measured.size[i];if(!pos||pos.bottom<=Math.max(editor.top,space.top)||pos.top>=Math.min(editor.bottom,space.bottom)||pos.right<Math.max(editor.left,space.left)-.1||pos.left>Math.min(editor.right,space.right)+.1){dom.style.top=Outside;continue}let arrow=tooltip.arrow?tView.dom.querySelector(".cm-tooltip-arrow"):null;let arrowHeight=arrow?7:0;let width=size.right-size.left,height=size.bottom-size.top;let offset=tView.offset||noOffset,ltr=this.view.textDirection==Direction.LTR;let left=size.width>space.right-space.left?ltr?space.left:space.right-size.width:ltr?Math.min(pos.left-(arrow?14:0)+offset.x,space.right-width):Math.max(space.left,pos.left-width+(arrow?14:0)-offset.x);let above=!!tooltip.above;if(!tooltip.strictSide&&(above?pos.top-(size.bottom-size.top)-offset.y<space.top:pos.bottom+(size.bottom-size.top)+offset.y>space.bottom)&&above==space.bottom-pos.bottom>pos.top-space.top)above=!above;let spaceVert=(above?pos.top-space.top:space.bottom-pos.bottom)-arrowHeight;if(spaceVert<height&&tView.resize!==false){if(spaceVert<this.view.defaultLineHeight){dom.style.top=Outside;continue}dom.style.height=(height=spaceVert)+"px"}else if(dom.style.height){dom.style.height=""}let top=above?pos.top-height-arrowHeight-offset.y:pos.bottom+arrowHeight+offset.y;let right=left+width;if(tView.overlap!==true)for(let r of others)if(r.left<right&&r.right>left&&r.top<top+height&&r.bottom>top)top=above?r.top-height-2-arrowHeight:r.bottom+arrowHeight+2;if(this.position=="absolute"){dom.style.top=top-measured.parent.top+"px";dom.style.left=left-measured.parent.left+"px"}else{dom.style.top=top+"px";dom.style.left=left+"px"}if(arrow)arrow.style.left=`${pos.left+(ltr?offset.x:-offset.x)-(left+14-7)}px`;if(tView.overlap!==true)others.push({left:left,top:top,right:right,bottom:top+height});dom.classList.toggle("cm-tooltip-above",above);dom.classList.toggle("cm-tooltip-below",!above);if(tView.positioned)tView.positioned(measured.space)}}maybeMeasure(){if(this.manager.tooltips.length){if(this.view.inView)this.view.requestMeasure(this.measureReq);if(this.inView!=this.view.inView){this.inView=this.view.inView;if(!this.inView)for(let tv of this.manager.tooltipViews)tv.dom.style.top=Outside}}}},{eventHandlers:{scroll(){this.maybeMeasure()}}});const baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}});const noOffset={x:0,y:0};const showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]});const showHoverTooltip=Facet.define();class HoverTooltipHost{constructor(view){this.view=view;this.mounted=false;this.dom=document.createElement("div");this.dom.classList.add("cm-tooltip-hover");this.manager=new TooltipViewManager(view,showHoverTooltip,(t=>this.createHostedView(t)))}static create(view){return new HoverTooltipHost(view)}createHostedView(tooltip){let hostedView=tooltip.create(this.view);hostedView.dom.classList.add("cm-tooltip-section");this.dom.appendChild(hostedView.dom);if(this.mounted&&hostedView.mount)hostedView.mount(this.view);return hostedView}mount(view){for(let hostedView of this.manager.tooltipViews){if(hostedView.mount)hostedView.mount(view)}this.mounted=true}positioned(space){for(let hostedView of this.manager.tooltipViews){if(hostedView.positioned)hostedView.positioned(space)}}update(update){this.manager.update(update)}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],(state=>{let tooltips=state.facet(showHoverTooltip).filter((t=>t));if(tooltips.length===0)return null;return{pos:Math.min(...tooltips.map((t=>t.pos))),end:Math.max(...tooltips.filter((t=>t.end!=null)).map((t=>t.end))),create:HoverTooltipHost.create,above:tooltips[0].above,arrow:tooltips.some((t=>t.arrow))}}));class HoverPlugin{constructor(view,source,field,setHover,hoverTime){this.view=view;this.source=source;this.field=field;this.setHover=setHover;this.hoverTime=hoverTime;this.hoverTimeout=-1;this.restartTimeout=-1;this.pending=null;this.lastMove={x:0,y:0,target:view.dom,time:0};this.checkHover=this.checkHover.bind(this);view.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this));view.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){if(this.pending){this.pending=null;clearTimeout(this.restartTimeout);this.restartTimeout=setTimeout((()=>this.startHover()),20)}}get active(){return this.view.state.field(this.field)}checkHover(){this.hoverTimeout=-1;if(this.active)return;let hovered=Date.now()-this.lastMove.time;if(hovered<this.hoverTime)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-hovered);else this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:lastMove}=this;let pos=this.view.contentDOM.contains(lastMove.target)?this.view.posAtCoords(lastMove):null;if(pos==null)return;let posCoords=this.view.coordsAtPos(pos);if(posCoords==null||lastMove.y<posCoords.top||lastMove.y>posCoords.bottom||lastMove.x<posCoords.left-this.view.defaultCharacterWidth||lastMove.x>posCoords.right+this.view.defaultCharacterWidth)return;let bidi=this.view.bidiSpans(this.view.state.doc.lineAt(pos)).find((s=>s.from<=pos&&s.to>=pos));let rtl=bidi&&bidi.dir==Direction.RTL?-1:1;let open=this.source(this.view,pos,lastMove.x<posCoords.left?-rtl:rtl);if(open===null||open===void 0?void 0:open.then){let pending=this.pending={pos:pos};open.then((result=>{if(this.pending==pending){this.pending=null;if(result)this.view.dispatch({effects:this.setHover.of(result)})}}),(e=>logException(this.view.state,e,"hover tooltip")))}else if(open){this.view.dispatch({effects:this.setHover.of(open)})}}mousemove(event){var _a;this.lastMove={x:event.clientX,y:event.clientY,target:event.target,time:Date.now()};if(this.hoverTimeout<0)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime);let tooltip=this.active;if(tooltip&&!isInTooltip(this.lastMove.target)||this.pending){let{pos:pos}=tooltip||this.pending,end=(_a=tooltip===null||tooltip===void 0?void 0:tooltip.end)!==null&&_a!==void 0?_a:pos;if(pos==end?this.view.posAtCoords(this.lastMove)!=pos:!isOverRange(this.view,pos,end,event.clientX,event.clientY,6)){this.view.dispatch({effects:this.setHover.of(null)});this.pending=null}}}mouseleave(e){clearTimeout(this.hoverTimeout);this.hoverTimeout=-1;if(this.active&&!isInTooltip(e.relatedTarget))this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout);this.view.dom.removeEventListener("mouseleave",this.mouseleave);this.view.dom.removeEventListener("mousemove",this.mousemove)}}function isInTooltip(elt){for(let cur=elt;cur;cur=cur.parentNode)if(cur.nodeType==1&&cur.classList.contains("cm-tooltip"))return true;return false}function isOverRange(view,from,to,x,y,margin){let range=document.createRange();let fromDOM=view.domAtPos(from),toDOM=view.domAtPos(to);range.setEnd(toDOM.node,toDOM.offset);range.setStart(fromDOM.node,fromDOM.offset);let rects=range.getClientRects();range.detach();for(let i=0;i<rects.length;i++){let rect=rects[i];let dist=Math.max(rect.top-y,y-rect.bottom,rect.left-x,x-rect.right);if(dist<=margin)return true}return false}function hoverTooltip(source,options={}){let setHover=StateEffect.define();let hoverState=StateField.define({create(){return null},update(value,tr){if(value&&(options.hideOnChange&&(tr.docChanged||tr.selection)||options.hideOn&&options.hideOn(tr,value)))return null;if(value&&tr.docChanged){let newPos=tr.changes.mapPos(value.pos,-1,MapMode.TrackDel);if(newPos==null)return null;let copy=Object.assign(Object.create(null),value);copy.pos=newPos;if(value.end!=null)copy.end=tr.changes.mapPos(value.end);value=copy}for(let effect of tr.effects){if(effect.is(setHover))value=effect.value;if(effect.is(closeHoverTooltipEffect))value=null}return value},provide:f=>showHoverTooltip.from(f)});return[hoverState,ViewPlugin.define((view=>new HoverPlugin(view,source,hoverState,setHover,options.hoverTime||300))),showHoverTooltipHost]}function getTooltip(view,tooltip){let plugin=view.plugin(tooltipPlugin);if(!plugin)return null;let found=plugin.manager.tooltips.indexOf(tooltip);return found<0?null:plugin.manager.tooltipViews[found]}const closeHoverTooltipEffect=StateEffect.define();const panelConfig=Facet.define({combine(configs){let topContainer,bottomContainer;for(let c of configs){topContainer=topContainer||c.topContainer;bottomContainer=bottomContainer||c.bottomContainer}return{topContainer:topContainer,bottomContainer:bottomContainer}}});function getPanel(view,panel){let plugin=view.plugin(panelPlugin);let index=plugin?plugin.specs.indexOf(panel):-1;return index>-1?plugin.panels[index]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(view){this.input=view.state.facet(showPanel);this.specs=this.input.filter((s=>s));this.panels=this.specs.map((spec=>spec(view)));let conf=view.state.facet(panelConfig);this.top=new PanelGroup(view,true,conf.topContainer);this.bottom=new PanelGroup(view,false,conf.bottomContainer);this.top.sync(this.panels.filter((p=>p.top)));this.bottom.sync(this.panels.filter((p=>!p.top)));for(let p of this.panels){p.dom.classList.add("cm-panel");if(p.mount)p.mount()}}update(update){let conf=update.state.facet(panelConfig);if(this.top.container!=conf.topContainer){this.top.sync([]);this.top=new PanelGroup(update.view,true,conf.topContainer)}if(this.bottom.container!=conf.bottomContainer){this.bottom.sync([]);this.bottom=new PanelGroup(update.view,false,conf.bottomContainer)}this.top.syncClasses();this.bottom.syncClasses();let input=update.state.facet(showPanel);if(input!=this.input){let specs=input.filter((x=>x));let panels=[],top=[],bottom=[],mount=[];for(let spec of specs){let known=this.specs.indexOf(spec),panel;if(known<0){panel=spec(update.view);mount.push(panel)}else{panel=this.panels[known];if(panel.update)panel.update(update)}panels.push(panel);(panel.top?top:bottom).push(panel)}this.specs=specs;this.panels=panels;this.top.sync(top);this.bottom.sync(bottom);for(let p of mount){p.dom.classList.add("cm-panel");if(p.mount)p.mount()}}else{for(let p of this.panels)if(p.update)p.update(update)}}destroy(){this.top.sync([]);this.bottom.sync([])}},{provide:plugin=>EditorView.scrollMargins.of((view=>{let value=view.plugin(plugin);return value&&{top:value.top.scrollMargin(),bottom:value.bottom.scrollMargin()}}))});class PanelGroup{constructor(view,top,container){this.view=view;this.top=top;this.container=container;this.dom=undefined;this.classes="";this.panels=[];this.syncClasses()}sync(panels){for(let p of this.panels)if(p.destroy&&panels.indexOf(p)<0)p.destroy();this.panels=panels;this.syncDOM()}syncDOM(){if(this.panels.length==0){if(this.dom){this.dom.remove();this.dom=undefined}return}if(!this.dom){this.dom=document.createElement("div");this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom";this.dom.style[this.top?"top":"bottom"]="0";let parent=this.container||this.view.dom;parent.insertBefore(this.dom,this.top?parent.firstChild:null)}let curDOM=this.dom.firstChild;for(let panel of this.panels){if(panel.dom.parentNode==this.dom){while(curDOM!=panel.dom)curDOM=rm(curDOM);curDOM=curDOM.nextSibling}else{this.dom.insertBefore(panel.dom,curDOM)}}while(curDOM)curDOM=rm(curDOM)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!this.container||this.classes==this.view.themeClasses)return;for(let cls of this.classes.split(" "))if(cls)this.container.classList.remove(cls);for(let cls of(this.classes=this.view.themeClasses).split(" "))if(cls)this.container.classList.add(cls)}}function rm(node){let next=node.nextSibling;node.remove();return next}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(other){return this==other||this.constructor==other.constructor&&this.eq(other)}eq(other){return false}destroy(dom){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=undefined;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=true;const gutterLineClass=Facet.define();const defaults$1={class:"",renderEmptyElements:false,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}};const activeGutters=Facet.define();function gutter(config){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$1),config))]}const unfixGutters=Facet.define({combine:values=>values.some((x=>x))});function gutters(config){let result=[gutterView];if(config&&config.fixed===false)result.push(unfixGutters.of(true));return result}const gutterView=ViewPlugin.fromClass(class{constructor(view){this.view=view;this.prevViewport=view.viewport;this.dom=document.createElement("div");this.dom.className="cm-gutters";this.dom.setAttribute("aria-hidden","true");this.dom.style.minHeight=this.view.contentHeight+"px";this.gutters=view.state.facet(activeGutters).map((conf=>new SingleGutterView(view,conf)));for(let gutter of this.gutters)this.dom.appendChild(gutter.dom);this.fixed=!view.state.facet(unfixGutters);if(this.fixed){this.dom.style.position="sticky"}this.syncGutters(false);view.scrollDOM.insertBefore(this.dom,view.contentDOM)}update(update){if(this.updateGutters(update)){let vpA=this.prevViewport,vpB=update.view.viewport;let vpOverlap=Math.min(vpA.to,vpB.to)-Math.max(vpA.from,vpB.from);this.syncGutters(vpOverlap<(vpB.to-vpB.from)*.8)}if(update.geometryChanged)this.dom.style.minHeight=this.view.contentHeight+"px";if(this.view.state.facet(unfixGutters)!=!this.fixed){this.fixed=!this.fixed;this.dom.style.position=this.fixed?"sticky":""}this.prevViewport=update.view.viewport}syncGutters(detach){let after=this.dom.nextSibling;if(detach)this.dom.remove();let lineClasses=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from);let classSet=[];let contexts=this.gutters.map((gutter=>new UpdateContext(gutter,this.view.viewport,-this.view.documentPadding.top)));for(let line of this.view.viewportLineBlocks){let text;if(Array.isArray(line.type)){for(let b of line.type)if(b.type==BlockType.Text){text=b;break}}else{text=line.type==BlockType.Text?line:undefined}if(!text)continue;if(classSet.length)classSet=[];advanceCursor(lineClasses,classSet,line.from);for(let cx of contexts)cx.line(this.view,text,classSet)}for(let cx of contexts)cx.finish();if(detach)this.view.scrollDOM.insertBefore(this.dom,after)}updateGutters(update){let prev=update.startState.facet(activeGutters),cur=update.state.facet(activeGutters);let change=update.docChanged||update.heightChanged||update.viewportChanged||!RangeSet.eq(update.startState.facet(gutterLineClass),update.state.facet(gutterLineClass),update.view.viewport.from,update.view.viewport.to);if(prev==cur){for(let gutter of this.gutters)if(gutter.update(update))change=true}else{change=true;let gutters=[];for(let conf of cur){let known=prev.indexOf(conf);if(known<0){gutters.push(new SingleGutterView(this.view,conf))}else{this.gutters[known].update(update);gutters.push(this.gutters[known])}}for(let g of this.gutters){g.dom.remove();if(gutters.indexOf(g)<0)g.destroy()}for(let g of gutters)this.dom.appendChild(g.dom);this.gutters=gutters}return change}destroy(){for(let view of this.gutters)view.destroy();this.dom.remove()}},{provide:plugin=>EditorView.scrollMargins.of((view=>{let value=view.plugin(plugin);if(!value||value.gutters.length==0||!value.fixed)return null;return view.textDirection==Direction.LTR?{left:value.dom.offsetWidth}:{right:value.dom.offsetWidth}}))});function asArray(val){return Array.isArray(val)?val:[val]}function advanceCursor(cursor,collect,pos){while(cursor.value&&cursor.from<=pos){if(cursor.from==pos)collect.push(cursor.value);cursor.next()}}class UpdateContext{constructor(gutter,viewport,height){this.gutter=gutter;this.height=height;this.localMarkers=[];this.i=0;this.cursor=RangeSet.iter(gutter.markers,viewport.from)}line(view,line,extraMarkers){if(this.localMarkers.length)this.localMarkers=[];advanceCursor(this.cursor,this.localMarkers,line.from);let localMarkers=extraMarkers.length?this.localMarkers.concat(extraMarkers):this.localMarkers;let forLine=this.gutter.config.lineMarker(view,line,localMarkers);if(forLine)localMarkers.unshift(forLine);let gutter=this.gutter;if(localMarkers.length==0&&!gutter.config.renderEmptyElements)return;let above=line.top-this.height;if(this.i==gutter.elements.length){let newElt=new GutterElement(view,line.height,above,localMarkers);gutter.elements.push(newElt);gutter.dom.appendChild(newElt.dom)}else{gutter.elements[this.i].update(view,line.height,above,localMarkers)}this.height=line.bottom;this.i++}finish(){let gutter=this.gutter;while(gutter.elements.length>this.i){let last=gutter.elements.pop();gutter.dom.removeChild(last.dom);last.destroy()}}}class SingleGutterView{constructor(view,config){this.view=view;this.config=config;this.elements=[];this.spacer=null;this.dom=document.createElement("div");this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let prop in config.domEventHandlers){this.dom.addEventListener(prop,(event=>{let line=view.lineBlockAtHeight(event.clientY-view.documentTop);if(config.domEventHandlers[prop](view,line,event))event.preventDefault()}))}this.markers=asArray(config.markers(view));if(config.initialSpacer){this.spacer=new GutterElement(view,0,0,[config.initialSpacer(view)]);this.dom.appendChild(this.spacer.dom);this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none"}}update(update){let prevMarkers=this.markers;this.markers=asArray(this.config.markers(update.view));if(this.spacer&&this.config.updateSpacer){let updated=this.config.updateSpacer(this.spacer.markers[0],update);if(updated!=this.spacer.markers[0])this.spacer.update(update.view,0,0,[updated])}let vp=update.view.viewport;return!RangeSet.eq(this.markers,prevMarkers,vp.from,vp.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(update):false)}destroy(){for(let elt of this.elements)elt.destroy()}}class GutterElement{constructor(view,height,above,markers){this.height=-1;this.above=0;this.markers=[];this.dom=document.createElement("div");this.dom.className="cm-gutterElement";this.update(view,height,above,markers)}update(view,height,above,markers){if(this.height!=height)this.dom.style.height=(this.height=height)+"px";if(this.above!=above)this.dom.style.marginTop=(this.above=above)?above+"px":"";if(!sameMarkers(this.markers,markers))this.setMarkers(view,markers)}setMarkers(view,markers){let cls="cm-gutterElement",domPos=this.dom.firstChild;for(let iNew=0,iOld=0;;){let skipTo=iOld,marker=iNew<markers.length?markers[iNew++]:null,matched=false;if(marker){let c=marker.elementClass;if(c)cls+=" "+c;for(let i=iOld;i<this.markers.length;i++)if(this.markers[i].compare(marker)){skipTo=i;matched=true;break}}else{skipTo=this.markers.length}while(iOld<skipTo){let next=this.markers[iOld++];if(next.toDOM){next.destroy(domPos);let after=domPos.nextSibling;domPos.remove();domPos=after}}if(!marker)break;if(marker.toDOM){if(matched)domPos=domPos.nextSibling;else this.dom.insertBefore(marker.toDOM(view),domPos)}if(matched)iOld++}this.dom.className=cls;this.markers=markers}destroy(){this.setMarkers(null,[])}}function sameMarkers(a,b){if(a.length!=b.length)return false;for(let i=0;i<a.length;i++)if(!a[i].compare(b[i]))return false;return true}const lineNumberMarkers=Facet.define();const lineNumberConfig=Facet.define({combine(values){return combineConfig(values,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(a,b){let result=Object.assign({},a);for(let event in b){let exists=result[event],add=b[event];result[event]=exists?(view,line,event)=>exists(view,line,event)||add(view,line,event):add}return result}})}});class NumberMarker extends GutterMarker{constructor(number){super();this.number=number}eq(other){return this.number==other.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(view,number){return view.state.facet(lineNumberConfig).formatNumber(number,view.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],(state=>({class:"cm-lineNumbers",renderEmptyElements:false,markers(view){return view.state.facet(lineNumberMarkers)},lineMarker(view,line,others){if(others.some((m=>m.toDOM)))return null;return new NumberMarker(formatNumber(view,view.state.doc.lineAt(line.from).number))},lineMarkerChange:update=>update.startState.facet(lineNumberConfig)!=update.state.facet(lineNumberConfig),initialSpacer(view){return new NumberMarker(formatNumber(view,maxLineNumber(view.state.doc.lines)))},updateSpacer(spacer,update){let max=formatNumber(update.view,maxLineNumber(update.view.state.doc.lines));return max==spacer.number?spacer:new NumberMarker(max)},domEventHandlers:state.facet(lineNumberConfig).domEventHandlers})));function lineNumbers(config={}){return[lineNumberConfig.of(config),gutters(),lineNumberGutter]}function maxLineNumber(lines){let last=9;while(last<lines)last=last*10+9;return last}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments);this.elementClass="cm-activeLineGutter"}};const activeLineGutterHighlighter=gutterLineClass.compute(["selection"],(state=>{let marks=[],last=-1;for(let range of state.selection.ranges){let linePos=state.doc.lineAt(range.head).from;if(linePos>last){last=linePos;marks.push(activeLineGutterMarker.range(linePos))}}return RangeSet.of(marks)}));function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(from,to){this.from=from;this.to=to}}class NodeProp{constructor(config={}){this.id=nextPropID++;this.perNode=!!config.perNode;this.deserialize=config.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(match){if(this.perNode)throw new RangeError("Can't add per-node props to node types");if(typeof match!="function")match=NodeType.match(match);return type=>{let result=match(type);return result===undefined?null:[this,result]}}}NodeProp.closedBy=new NodeProp({deserialize:str=>str.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:str=>str.split(" ")});NodeProp.group=new NodeProp({deserialize:str=>str.split(" ")});NodeProp.contextHash=new NodeProp({perNode:true});NodeProp.lookAhead=new NodeProp({perNode:true});NodeProp.mounted=new NodeProp({perNode:true});const noProps=Object.create(null);class NodeType{constructor(name,props,id,flags=0){this.name=name;this.props=props;this.id=id;this.flags=flags}static define(spec){let props=spec.props&&spec.props.length?Object.create(null):noProps;let flags=(spec.top?1:0)|(spec.skipped?2:0)|(spec.error?4:0)|(spec.name==null?8:0);let type=new NodeType(spec.name||"",props,spec.id,flags);if(spec.props)for(let src of spec.props){if(!Array.isArray(src))src=src(type);if(src){if(src[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");props[src[0].id]=src[1]}}return type}prop(prop){return this.props[prop.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(name){if(typeof name=="string"){if(this.name==name)return true;let group=this.prop(NodeProp.group);return group?group.indexOf(name)>-1:false}return this.id==name}static match(map){let direct=Object.create(null);for(let prop in map)for(let name of prop.split(" "))direct[name]=map[prop];return node=>{for(let groups=node.prop(NodeProp.group),i=-1;i<(groups?groups.length:0);i++){let found=direct[i<0?node.name:groups[i]];if(found)return found}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(types){this.types=types;for(let i=0;i<types.length;i++)if(types[i].id!=i)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...props){let newTypes=[];for(let type of this.types){let newProps=null;for(let source of props){let add=source(type);if(add){if(!newProps)newProps=Object.assign({},type.props);newProps[add[0].id]=add[1]}}newTypes.push(newProps?new NodeType(type.name,newProps,type.id,type.flags):type)}return new NodeSet(newTypes)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(IterMode){IterMode[IterMode["ExcludeBuffers"]=1]="ExcludeBuffers";IterMode[IterMode["IncludeAnonymous"]=2]="IncludeAnonymous";IterMode[IterMode["IgnoreMounts"]=4]="IgnoreMounts";IterMode[IterMode["IgnoreOverlays"]=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(type,children,positions,length,props){this.type=type;this.children=children;this.positions=positions;this.length=length;this.props=null;if(props&&props.length){this.props=Object.create(null);for(let[prop,value]of props)this.props[typeof prop=="number"?prop:prop.id]=value}}toString(){let mounted=this.prop(NodeProp.mounted);if(mounted&&!mounted.overlay)return mounted.tree.toString();let children="";for(let ch of this.children){let str=ch.toString();if(str){if(children)children+=",";children+=str}}return!this.type.name?children:(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(children.length?"("+children+")":"")}cursor(mode=0){return new TreeCursor(this.topNode,mode)}cursorAt(pos,side=0,mode=0){let scope=CachedNode.get(this)||this.topNode;let cursor=new TreeCursor(scope);cursor.moveTo(pos,side);CachedNode.set(this,cursor._tree);return cursor}get topNode(){return new TreeNode(this,0,0,null)}resolve(pos,side=0){let node=resolveNode(CachedNode.get(this)||this.topNode,pos,side,false);CachedNode.set(this,node);return node}resolveInner(pos,side=0){let node=resolveNode(CachedInnerNode.get(this)||this.topNode,pos,side,true);CachedInnerNode.set(this,node);return node}iterate(spec){let{enter:enter,leave:leave,from:from=0,to:to=this.length}=spec;for(let c=this.cursor((spec.mode||0)|IterMode.IncludeAnonymous);;){let entered=false;if(c.from<=to&&c.to>=from&&(c.type.isAnonymous||enter(c)!==false)){if(c.firstChild())continue;entered=true}for(;;){if(entered&&leave&&!c.type.isAnonymous)leave(c);if(c.nextSibling())break;if(!c.parent())return;entered=true}}}prop(prop){return!prop.perNode?this.type.prop(prop):this.props?this.props[prop.id]:undefined}get propValues(){let result=[];if(this.props)for(let id in this.props)result.push([+id,this.props[id]]);return result}balance(config={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,((children,positions,length)=>new Tree(this.type,children,positions,length,this.propValues)),config.makeTree||((children,positions,length)=>new Tree(NodeType.none,children,positions,length)))}static build(data){return buildTree(data)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(buffer,index){this.buffer=buffer;this.index=index}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(buffer,length,set){this.buffer=buffer;this.length=length;this.set=set}get type(){return NodeType.none}toString(){let result=[];for(let index=0;index<this.buffer.length;){result.push(this.childString(index));index=this.buffer[index+3]}return result.join(",")}childString(index){let id=this.buffer[index],endIndex=this.buffer[index+3];let type=this.set.types[id],result=type.name;if(/\W/.test(result)&&!type.isError)result=JSON.stringify(result);index+=4;if(endIndex==index)return result;let children=[];while(index<endIndex){children.push(this.childString(index));index=this.buffer[index+3]}return result+"("+children.join(",")+")"}findChild(startIndex,endIndex,dir,pos,side){let{buffer:buffer}=this,pick=-1;for(let i=startIndex;i!=endIndex;i=buffer[i+3]){if(checkSide(side,pos,buffer[i+1],buffer[i+2])){pick=i;if(dir>0)break}}return pick}slice(startI,endI,from){let b=this.buffer;let copy=new Uint16Array(endI-startI),len=0;for(let i=startI,j=0;i<endI;){copy[j++]=b[i++];copy[j++]=b[i++]-from;let to=copy[j++]=b[i++]-from;copy[j++]=b[i++]-startI;len=Math.max(len,to)}return new TreeBuffer(copy,len,this.set)}}function checkSide(side,pos,from,to){switch(side){case-2:return from<pos;case-1:return to>=pos&&from<pos;case 0:return from<pos&&to>pos;case 1:return from<=pos&&to>pos;case 2:return to>pos;case 4:return true}}function enterUnfinishedNodesBefore(node,pos){let scan=node.childBefore(pos);while(scan){let last=scan.lastChild;if(!last||last.to!=scan.to)break;if(last.type.isError&&last.from==last.to){node=scan;scan=last.prevSibling}else{scan=last}}return node}function resolveNode(node,pos,side,overlays){var _a;while(node.from==node.to||(side<1?node.from>=pos:node.from>pos)||(side>-1?node.to<=pos:node.to<pos)){let parent=!overlays&&node instanceof TreeNode&&node.index<0?null:node.parent;if(!parent)return node;node=parent}let mode=overlays?0:IterMode.IgnoreOverlays;if(overlays)for(let scan=node,parent=scan.parent;parent;scan=parent,parent=scan.parent){if(scan instanceof TreeNode&&scan.index<0&&((_a=parent.enter(pos,side,mode))===null||_a===void 0?void 0:_a.from)!=scan.from)node=parent}for(;;){let inner=node.enter(pos,side,mode);if(!inner)return node;node=inner}}class TreeNode{constructor(_tree,from,index,_parent){this._tree=_tree;this.from=from;this.index=index;this._parent=_parent}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(i,dir,pos,side,mode=0){for(let parent=this;;){for(let{children:children,positions:positions}=parent._tree,e=dir>0?children.length:-1;i!=e;i+=dir){let next=children[i],start=positions[i]+parent.from;if(!checkSide(side,pos,start,start+next.length))continue;if(next instanceof TreeBuffer){if(mode&IterMode.ExcludeBuffers)continue;let index=next.findChild(0,next.buffer.length,dir,pos-start,side);if(index>-1)return new BufferNode(new BufferContext(parent,next,i,start),null,index)}else if(mode&IterMode.IncludeAnonymous||(!next.type.isAnonymous||hasChild(next))){let mounted;if(!(mode&IterMode.IgnoreMounts)&&next.props&&(mounted=next.prop(NodeProp.mounted))&&!mounted.overlay)return new TreeNode(mounted.tree,start,i,parent);let inner=new TreeNode(next,start,i,parent);return mode&IterMode.IncludeAnonymous||!inner.type.isAnonymous?inner:inner.nextChild(dir<0?next.children.length-1:0,dir,pos,side)}}if(mode&IterMode.IncludeAnonymous||!parent.type.isAnonymous)return null;if(parent.index>=0)i=parent.index+dir;else i=dir<0?-1:parent._parent._tree.children.length;parent=parent._parent;if(!parent)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(pos){return this.nextChild(0,1,pos,2)}childBefore(pos){return this.nextChild(this._tree.children.length-1,-1,pos,-2)}enter(pos,side,mode=0){let mounted;if(!(mode&IterMode.IgnoreOverlays)&&(mounted=this._tree.prop(NodeProp.mounted))&&mounted.overlay){let rPos=pos-this.from;for(let{from:from,to:to}of mounted.overlay){if((side>0?from<=rPos:from<rPos)&&(side<0?to>=rPos:to>rPos))return new TreeNode(mounted.tree,mounted.overlay[0].from+this.from,-1,this)}}return this.nextChild(0,1,pos,side,mode)}nextSignificantParent(){let val=this;while(val.type.isAnonymous&&val._parent)val=val._parent;return val}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(mode=0){return new TreeCursor(this,mode)}get tree(){return this._tree}toTree(){return this._tree}resolve(pos,side=0){return resolveNode(this,pos,side,false)}resolveInner(pos,side=0){return resolveNode(this,pos,side,true)}enterUnfinishedNodesBefore(pos){return enterUnfinishedNodesBefore(this,pos)}getChild(type,before=null,after=null){let r=getChildren(this,type,before,after);return r.length?r[0]:null}getChildren(type,before=null,after=null){return getChildren(this,type,before,after)}toString(){return this._tree.toString()}get node(){return this}matchContext(context){return matchNodeContext(this,context)}}function getChildren(node,type,before,after){let cur=node.cursor(),result=[];if(!cur.firstChild())return result;if(before!=null)while(!cur.type.is(before))if(!cur.nextSibling())return result;for(;;){if(after!=null&&cur.type.is(after))return result;if(cur.type.is(type))result.push(cur.node);if(!cur.nextSibling())return after==null?result:[]}}function matchNodeContext(node,context,i=context.length-1){for(let p=node.parent;i>=0;p=p.parent){if(!p)return false;if(!p.type.isAnonymous){if(context[i]&&context[i]!=p.name)return false;i--}}return true}class BufferContext{constructor(parent,buffer,index,start){this.parent=parent;this.buffer=buffer;this.index=index;this.start=start}}class BufferNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(context,_parent,index){this.context=context;this._parent=_parent;this.index=index;this.type=context.buffer.set.types[context.buffer.buffer[index]]}child(dir,pos,side){let{buffer:buffer}=this.context;let index=buffer.findChild(this.index+4,buffer.buffer[this.index+3],dir,pos-this.context.start,side);return index<0?null:new BufferNode(this.context,this,index)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(pos){return this.child(1,pos,2)}childBefore(pos){return this.child(-1,pos,-2)}enter(pos,side,mode=0){if(mode&IterMode.ExcludeBuffers)return null;let{buffer:buffer}=this.context;let index=buffer.findChild(this.index+4,buffer.buffer[this.index+3],side>0?1:-1,pos-this.context.start,side);return index<0?null:new BufferNode(this.context,this,index)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(dir){return this._parent?null:this.context.parent.nextChild(this.context.index+dir,dir,0,4)}get nextSibling(){let{buffer:buffer}=this.context;let after=buffer.buffer[this.index+3];if(after<(this._parent?buffer.buffer[this._parent.index+3]:buffer.buffer.length))return new BufferNode(this.context,this._parent,after);return this.externalSibling(1)}get prevSibling(){let{buffer:buffer}=this.context;let parentStart=this._parent?this._parent.index+4:0;if(this.index==parentStart)return this.externalSibling(-1);return new BufferNode(this.context,this._parent,buffer.findChild(parentStart,this.index,-1,0,4))}cursor(mode=0){return new TreeCursor(this,mode)}get tree(){return null}toTree(){let children=[],positions=[];let{buffer:buffer}=this.context;let startI=this.index+4,endI=buffer.buffer[this.index+3];if(endI>startI){let from=buffer.buffer[this.index+1];children.push(buffer.slice(startI,endI,from));positions.push(0)}return new Tree(this.type,children,positions,this.to-this.from)}resolve(pos,side=0){return resolveNode(this,pos,side,false)}resolveInner(pos,side=0){return resolveNode(this,pos,side,true)}enterUnfinishedNodesBefore(pos){return enterUnfinishedNodesBefore(this,pos)}toString(){return this.context.buffer.childString(this.index)}getChild(type,before=null,after=null){let r=getChildren(this,type,before,after);return r.length?r[0]:null}getChildren(type,before=null,after=null){return getChildren(this,type,before,after)}get node(){return this}matchContext(context){return matchNodeContext(this,context)}}class TreeCursor{get name(){return this.type.name}constructor(node,mode=0){this.mode=mode;this.buffer=null;this.stack=[];this.index=0;this.bufferNode=null;if(node instanceof TreeNode){this.yieldNode(node)}else{this._tree=node.context.parent;this.buffer=node.context;for(let n=node._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=node;this.yieldBuf(node.index)}}yieldNode(node){if(!node)return false;this._tree=node;this.type=node.type;this.from=node.from;this.to=node.to;return true}yieldBuf(index,type){this.index=index;let{start:start,buffer:buffer}=this.buffer;this.type=type||buffer.set.types[buffer.buffer[index]];this.from=start+buffer.buffer[index+1];this.to=start+buffer.buffer[index+2];return true}yield(node){if(!node)return false;if(node instanceof TreeNode){this.buffer=null;return this.yieldNode(node)}this.buffer=node.context;return this.yieldBuf(node.index,node.type)}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(dir,pos,side){if(!this.buffer)return this.yield(this._tree.nextChild(dir<0?this._tree._tree.children.length-1:0,dir,pos,side,this.mode));let{buffer:buffer}=this.buffer;let index=buffer.findChild(this.index+4,buffer.buffer[this.index+3],dir,pos-this.buffer.start,side);if(index<0)return false;this.stack.push(this.index);return this.yieldBuf(index)}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(pos){return this.enterChild(1,pos,2)}childBefore(pos){return this.enterChild(-1,pos,-2)}enter(pos,side,mode=this.mode){if(!this.buffer)return this.yield(this._tree.enter(pos,side,mode));return mode&IterMode.ExcludeBuffers?false:this.enterChild(1,pos,side)}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let parent=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();this.buffer=null;return this.yieldNode(parent)}sibling(dir){if(!this.buffer)return!this._tree._parent?false:this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+dir,dir,0,4,this.mode));let{buffer:buffer}=this.buffer,d=this.stack.length-1;if(dir<0){let parentStart=d<0?0:this.stack[d]+4;if(this.index!=parentStart)return this.yieldBuf(buffer.findChild(parentStart,this.index,-1,0,4))}else{let after=buffer.buffer[this.index+3];if(after<(d<0?buffer.buffer.length:buffer.buffer[this.stack[d]+3]))return this.yieldBuf(after)}return d<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+dir,dir,0,4,this.mode)):false}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(dir){let index,parent,{buffer:buffer}=this;if(buffer){if(dir>0){if(this.index<buffer.buffer.buffer.length)return false}else{for(let i=0;i<this.index;i++)if(buffer.buffer.buffer[i+3]<this.index)return false}({index:index,parent:parent}=buffer)}else{({index:index,_parent:parent}=this._tree)}for(;parent;({index:index,_parent:parent}=parent)){if(index>-1)for(let i=index+dir,e=dir<0?-1:parent._tree.children.length;i!=e;i+=dir){let child=parent._tree.children[i];if(this.mode&IterMode.IncludeAnonymous||child instanceof TreeBuffer||!child.type.isAnonymous||hasChild(child))return false}}return true}move(dir,enter){if(enter&&this.enterChild(dir,0,4))return true;for(;;){if(this.sibling(dir))return true;if(this.atLastNode(dir)||!this.parent())return false}}next(enter=true){return this.move(1,enter)}prev(enter=true){return this.move(-1,enter)}moveTo(pos,side=0){while(this.from==this.to||(side<1?this.from>=pos:this.from>pos)||(side>-1?this.to<=pos:this.to<pos))if(!this.parent())break;while(this.enterChild(1,pos,side)){}return this}get node(){if(!this.buffer)return this._tree;let cache=this.bufferNode,result=null,depth=0;if(cache&&cache.context==this.buffer){scan:for(let index=this.index,d=this.stack.length;d>=0;){for(let c=cache;c;c=c._parent)if(c.index==index){if(index==this.index)return c;result=c;depth=d+1;break scan}index=this.stack[--d]}}for(let i=depth;i<this.stack.length;i++)result=new BufferNode(this.buffer,result,this.stack[i]);return this.bufferNode=new BufferNode(this.buffer,result,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(enter,leave){for(let depth=0;;){let mustLeave=false;if(this.type.isAnonymous||enter(this)!==false){if(this.firstChild()){depth++;continue}if(!this.type.isAnonymous)mustLeave=true}for(;;){if(mustLeave&&leave)leave(this);mustLeave=this.type.isAnonymous;if(this.nextSibling())break;if(!depth)return;this.parent();depth--;mustLeave=true}}}matchContext(context){if(!this.buffer)return matchNodeContext(this.node,context);let{buffer:buffer}=this.buffer,{types:types}=buffer.set;for(let i=context.length-1,d=this.stack.length-1;i>=0;d--){if(d<0)return matchNodeContext(this.node,context,i);let type=types[buffer.buffer[this.stack[d]]];if(!type.isAnonymous){if(context[i]&&context[i]!=type.name)return false;i--}}return true}}function hasChild(tree){return tree.children.some((ch=>ch instanceof TreeBuffer||!ch.type.isAnonymous||hasChild(ch)))}function buildTree(data){var _a;let{buffer:buffer,nodeSet:nodeSet,maxBufferLength:maxBufferLength=DefaultBufferLength,reused:reused=[],minRepeatType:minRepeatType=nodeSet.types.length}=data;let cursor=Array.isArray(buffer)?new FlatBufferCursor(buffer,buffer.length):buffer;let types=nodeSet.types;let contextHash=0,lookAhead=0;function takeNode(parentStart,minPos,children,positions,inRepeat){let{id:id,start:start,end:end,size:size}=cursor;let lookAheadAtStart=lookAhead;while(size<0){cursor.next();if(size==-1){let node=reused[id];children.push(node);positions.push(start-parentStart);return}else if(size==-3){contextHash=id;return}else if(size==-4){lookAhead=id;return}else{throw new RangeError(`Unrecognized record size: ${size}`)}}let type=types[id],node,buffer;let startPos=start-parentStart;if(end-start<=maxBufferLength&&(buffer=findBufferSize(cursor.pos-minPos,inRepeat))){let data=new Uint16Array(buffer.size-buffer.skip);let endPos=cursor.pos-buffer.size,index=data.length;while(cursor.pos>endPos)index=copyToBuffer(buffer.start,data,index);node=new TreeBuffer(data,end-buffer.start,nodeSet);startPos=buffer.start-parentStart}else{let endPos=cursor.pos-size;cursor.next();let localChildren=[],localPositions=[];let localInRepeat=id>=minRepeatType?id:-1;let lastGroup=0,lastEnd=end;while(cursor.pos>endPos){if(localInRepeat>=0&&cursor.id==localInRepeat&&cursor.size>=0){if(cursor.end<=lastEnd-maxBufferLength){makeRepeatLeaf(localChildren,localPositions,start,lastGroup,cursor.end,lastEnd,localInRepeat,lookAheadAtStart);lastGroup=localChildren.length;lastEnd=cursor.end}cursor.next()}else{takeNode(start,endPos,localChildren,localPositions,localInRepeat)}}if(localInRepeat>=0&&lastGroup>0&&lastGroup<localChildren.length)makeRepeatLeaf(localChildren,localPositions,start,lastGroup,start,lastEnd,localInRepeat,lookAheadAtStart);localChildren.reverse();localPositions.reverse();if(localInRepeat>-1&&lastGroup>0){let make=makeBalanced(type);node=balanceRange(type,localChildren,localPositions,0,localChildren.length,0,end-start,make,make)}else{node=makeTree(type,localChildren,localPositions,end-start,lookAheadAtStart-end)}}children.push(node);positions.push(startPos)}function makeBalanced(type){return(children,positions,length)=>{let lookAhead=0,lastI=children.length-1,last,lookAheadProp;if(lastI>=0&&(last=children[lastI])instanceof Tree){if(!lastI&&last.type==type&&last.length==length)return last;if(lookAheadProp=last.prop(NodeProp.lookAhead))lookAhead=positions[lastI]+last.length+lookAheadProp}return makeTree(type,children,positions,length,lookAhead)}}function makeRepeatLeaf(children,positions,base,i,from,to,type,lookAhead){let localChildren=[],localPositions=[];while(children.length>i){localChildren.push(children.pop());localPositions.push(positions.pop()+base-from)}children.push(makeTree(nodeSet.types[type],localChildren,localPositions,to-from,lookAhead-to));positions.push(from-base)}function makeTree(type,children,positions,length,lookAhead=0,props){if(contextHash){let pair=[NodeProp.contextHash,contextHash];props=props?[pair].concat(props):[pair]}if(lookAhead>25){let pair=[NodeProp.lookAhead,lookAhead];props=props?[pair].concat(props):[pair]}return new Tree(type,children,positions,length,props)}function findBufferSize(maxSize,inRepeat){let fork=cursor.fork();let size=0,start=0,skip=0,minStart=fork.end-maxBufferLength;let result={size:0,start:0,skip:0};scan:for(let minPos=fork.pos-maxSize;fork.pos>minPos;){let nodeSize=fork.size;if(fork.id==inRepeat&&nodeSize>=0){result.size=size;result.start=start;result.skip=skip;skip+=4;size+=4;fork.next();continue}let startPos=fork.pos-nodeSize;if(nodeSize<0||startPos<minPos||fork.start<minStart)break;let localSkipped=fork.id>=minRepeatType?4:0;let nodeStart=fork.start;fork.next();while(fork.pos>startPos){if(fork.size<0){if(fork.size==-3)localSkipped+=4;else break scan}else if(fork.id>=minRepeatType){localSkipped+=4}fork.next()}start=nodeStart;size+=nodeSize;skip+=localSkipped}if(inRepeat<0||size==maxSize){result.size=size;result.start=start;result.skip=skip}return result.size>4?result:undefined}function copyToBuffer(bufferStart,buffer,index){let{id:id,start:start,end:end,size:size}=cursor;cursor.next();if(size>=0&&id<minRepeatType){let startIndex=index;if(size>4){let endPos=cursor.pos-(size-4);while(cursor.pos>endPos)index=copyToBuffer(bufferStart,buffer,index)}buffer[--index]=startIndex;buffer[--index]=end-bufferStart;buffer[--index]=start-bufferStart;buffer[--index]=id}else if(size==-3){contextHash=id}else if(size==-4){lookAhead=id}return index}let children=[],positions=[];while(cursor.pos>0)takeNode(data.start||0,data.bufferStart||0,children,positions,-1);let length=(_a=data.length)!==null&&_a!==void 0?_a:children.length?positions[0]+children[0].length:0;return new Tree(types[data.topID],children.reverse(),positions.reverse(),length)}const nodeSizeCache=new WeakMap;function nodeSize(balanceType,node){if(!balanceType.isAnonymous||node instanceof TreeBuffer||node.type!=balanceType)return 1;let size=nodeSizeCache.get(node);if(size==null){size=1;for(let child of node.children){if(child.type!=balanceType||!(child instanceof Tree)){size=1;break}size+=nodeSize(balanceType,child)}nodeSizeCache.set(node,size)}return size}function balanceRange(balanceType,children,positions,from,to,start,length,mkTop,mkTree){let total=0;for(let i=from;i<to;i++)total+=nodeSize(balanceType,children[i]);let maxChild=Math.ceil(total*1.5/8);let localChildren=[],localPositions=[];function divide(children,positions,from,to,offset){for(let i=from;i<to;){let groupFrom=i,groupStart=positions[i],groupSize=nodeSize(balanceType,children[i]);i++;for(;i<to;i++){let nextSize=nodeSize(balanceType,children[i]);if(groupSize+nextSize>=maxChild)break;groupSize+=nextSize}if(i==groupFrom+1){if(groupSize>maxChild){let only=children[groupFrom];divide(only.children,only.positions,0,only.children.length,positions[groupFrom]+offset);continue}localChildren.push(children[groupFrom])}else{let length=positions[i-1]+children[i-1].length-groupStart;localChildren.push(balanceRange(balanceType,children,positions,groupFrom,i,groupStart,length,null,mkTree))}localPositions.push(groupStart+offset-start)}}divide(children,positions,from,to,0);return(mkTop||mkTree)(localChildren,localPositions,length)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(buffer,index,value){let inner=this.map.get(buffer);if(!inner)this.map.set(buffer,inner=new Map);inner.set(index,value)}getBuffer(buffer,index){let inner=this.map.get(buffer);return inner&&inner.get(index)}set(node,value){if(node instanceof BufferNode)this.setBuffer(node.context.buffer,node.index,value);else if(node instanceof TreeNode)this.map.set(node.tree,value)}get(node){return node instanceof BufferNode?this.getBuffer(node.context.buffer,node.index):node instanceof TreeNode?this.map.get(node.tree):undefined}cursorSet(cursor,value){if(cursor.buffer)this.setBuffer(cursor.buffer.buffer,cursor.index,value);else this.map.set(cursor.tree,value)}cursorGet(cursor){return cursor.buffer?this.getBuffer(cursor.buffer.buffer,cursor.index):this.map.get(cursor.tree)}}class TreeFragment{constructor(from,to,tree,offset,openStart=false,openEnd=false){this.from=from;this.to=to;this.tree=tree;this.offset=offset;this.open=(openStart?1:0)|(openEnd?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(tree,fragments=[],partial=false){let result=[new TreeFragment(0,tree.length,tree,0,false,partial)];for(let f of fragments)if(f.to>tree.length)result.push(f);return result}static applyChanges(fragments,changes,minGap=128){if(!changes.length)return fragments;let result=[];let fI=1,nextF=fragments.length?fragments[0]:null;for(let cI=0,pos=0,off=0;;cI++){let nextC=cI<changes.length?changes[cI]:null;let nextPos=nextC?nextC.fromA:1e9;if(nextPos-pos>=minGap)while(nextF&&nextF.from<nextPos){let cut=nextF;if(pos>=cut.from||nextPos<=cut.to||off){let fFrom=Math.max(cut.from,pos)-off,fTo=Math.min(cut.to,nextPos)-off;cut=fFrom>=fTo?null:new TreeFragment(fFrom,fTo,cut.tree,cut.offset+off,cI>0,!!nextC)}if(cut)result.push(cut);if(nextF.to>nextPos)break;nextF=fI<fragments.length?fragments[fI++]:null}if(!nextC)break;pos=nextC.toA;off=nextC.toA-nextC.toB}return result}}class Parser{startParse(input,fragments,ranges){if(typeof input=="string")input=new StringInput(input);ranges=!ranges?[new Range(0,input.length)]:ranges.length?ranges.map((r=>new Range(r.from,r.to))):[new Range(0,0)];return this.createParse(input,fragments||[],ranges)}parse(input,fragments,ranges){let parse=this.startParse(input,fragments,ranges);for(;;){let done=parse.advance();if(done)return done}}}class StringInput{constructor(string){this.string=string}get length(){return this.string.length}chunk(from){return this.string.slice(from)}get lineChunks(){return false}read(from,to){return this.string.slice(from,to)}}new NodeProp({perNode:true});let nextTagID=0;class Tag{constructor(set,base,modified){this.set=set;this.base=base;this.modified=modified;this.id=nextTagID++}static define(parent){if(parent===null||parent===void 0?void 0:parent.base)throw new Error("Can not derive from a modified tag");let tag=new Tag([],null,[]);tag.set.push(tag);if(parent)for(let t of parent.set)tag.set.push(t);return tag}static defineModifier(){let mod=new Modifier;return tag=>{if(tag.modified.indexOf(mod)>-1)return tag;return Modifier.get(tag.base||tag,tag.modified.concat(mod).sort(((a,b)=>a.id-b.id)))}}}let nextModifierID=0;class Modifier{constructor(){this.instances=[];this.id=nextModifierID++}static get(base,mods){if(!mods.length)return base;let exists=mods[0].instances.find((t=>t.base==base&&sameArray(mods,t.modified)));if(exists)return exists;let set=[],tag=new Tag(set,base,mods);for(let m of mods)m.instances.push(tag);let configs=powerSet(mods);for(let parent of base.set)if(!parent.modified.length)for(let config of configs)set.push(Modifier.get(parent,config));return tag}}function sameArray(a,b){return a.length==b.length&&a.every(((x,i)=>x==b[i]))}function powerSet(array){let sets=[[]];for(let i=0;i<array.length;i++){for(let j=0,e=sets.length;j<e;j++){sets.push(sets[j].concat(array[i]))}}return sets.sort(((a,b)=>b.length-a.length))}function styleTags(spec){let byName=Object.create(null);for(let prop in spec){let tags=spec[prop];if(!Array.isArray(tags))tags=[tags];for(let part of prop.split(" "))if(part){let pieces=[],mode=2,rest=part;for(let pos=0;;){if(rest=="..."&&pos>0&&pos+3==part.length){mode=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(rest);if(!m)throw new RangeError("Invalid path: "+part);pieces.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]);pos+=m[0].length;if(pos==part.length)break;let next=part[pos++];if(pos==part.length&&next=="!"){mode=0;break}if(next!="/")throw new RangeError("Invalid path: "+part);rest=part.slice(pos)}let last=pieces.length-1,inner=pieces[last];if(!inner)throw new RangeError("Invalid path: "+part);let rule=new Rule(tags,mode,last>0?pieces.slice(0,last):null);byName[inner]=rule.sort(byName[inner])}}return ruleNodeProp.add(byName)}const ruleNodeProp=new NodeProp;class Rule{constructor(tags,mode,context,next){this.tags=tags;this.mode=mode;this.context=context;this.next=next}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(other){if(!other||other.depth<this.depth){this.next=other;return this}other.next=this.sort(other.next);return other}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(tags,options){let map=Object.create(null);for(let style of tags){if(!Array.isArray(style.tag))map[style.tag.id]=style.class;else for(let tag of style.tag)map[tag.id]=style.class}let{scope:scope,all:all=null}=options||{};return{style:tags=>{let cls=all;for(let tag of tags){for(let sub of tag.set){let tagClass=map[sub.id];if(tagClass){cls=cls?cls+" "+tagClass:tagClass;break}}}return cls},scope:scope}}function highlightTags(highlighters,tags){let result=null;for(let highlighter of highlighters){let value=highlighter.style(tags);if(value)result=result?result+" "+value:value}return result}function highlightTree(tree,highlighter,putStyle,from=0,to=tree.length){let builder=new HighlightBuilder(from,Array.isArray(highlighter)?highlighter:[highlighter],putStyle);builder.highlightRange(tree.cursor(),from,to,"",builder.highlighters);builder.flush(to)}class HighlightBuilder{constructor(at,highlighters,span){this.at=at;this.highlighters=highlighters;this.span=span;this.class=""}startSpan(at,cls){if(cls!=this.class){this.flush(at);if(at>this.at)this.at=at;this.class=cls}}flush(to){if(to>this.at&&this.class)this.span(this.at,to,this.class)}highlightRange(cursor,from,to,inheritedClass,highlighters){let{type:type,from:start,to:end}=cursor;if(start>=to||end<=from)return;if(type.isTop)highlighters=this.highlighters.filter((h=>!h.scope||h.scope(type)));let cls=inheritedClass;let rule=getStyleTags(cursor)||Rule.empty;let tagCls=highlightTags(highlighters,rule.tags);if(tagCls){if(cls)cls+=" ";cls+=tagCls;if(rule.mode==1)inheritedClass+=(inheritedClass?" ":"")+tagCls}this.startSpan(cursor.from,cls);if(rule.opaque)return;let mounted=cursor.tree&&cursor.tree.prop(NodeProp.mounted);if(mounted&&mounted.overlay){let inner=cursor.node.enter(mounted.overlay[0].from+start,1);let innerHighlighters=this.highlighters.filter((h=>!h.scope||h.scope(mounted.tree.type)));let hasChild=cursor.firstChild();for(let i=0,pos=start;;i++){let next=i<mounted.overlay.length?mounted.overlay[i]:null;let nextPos=next?next.from+start:end;let rangeFrom=Math.max(from,pos),rangeTo=Math.min(to,nextPos);if(rangeFrom<rangeTo&&hasChild){while(cursor.from<rangeTo){this.highlightRange(cursor,rangeFrom,rangeTo,inheritedClass,highlighters);this.startSpan(Math.min(rangeTo,cursor.to),cls);if(cursor.to>=nextPos||!cursor.nextSibling())break}}if(!next||nextPos>to)break;pos=next.to+start;if(pos>from){this.highlightRange(inner.cursor(),Math.max(from,next.from+start),Math.min(to,pos),inheritedClass,innerHighlighters);this.startSpan(pos,cls)}}if(hasChild)cursor.parent()}else if(cursor.firstChild()){do{if(cursor.to<=from)continue;if(cursor.from>=to)break;this.highlightRange(cursor,from,to,inheritedClass,highlighters);this.startSpan(Math.min(to,cursor.to),cls)}while(cursor.nextSibling());cursor.parent()}}}function getStyleTags(node){let rule=node.type.prop(ruleNodeProp);while(rule&&rule.context&&!node.matchContext(rule.context))rule=rule.next;return rule||null}const t=Tag.define;const comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t();const tags={comment:comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name:name,variableName:t(name),typeName:typeName,tagName:t(typeName),propertyName:propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal:literal,string:string,docString:t(string),character:t(string),attributeValue:t(string),number:number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword:keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator:operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation:punctuation,separator:t(punctuation),bracket:bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content:content,heading:heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta:meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier(),constant:Tag.defineModifier(),function:Tag.defineModifier(),standard:Tag.defineModifier(),local:Tag.defineModifier(),special:Tag.defineModifier()};tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(baseData){return Facet.define({combine:baseData?values=>values.concat(baseData):undefined})}class Language{constructor(data,parser,extraExtensions=[],name=""){this.data=data;this.name=name;if(!EditorState.prototype.hasOwnProperty("tree"))Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}});this.parser=parser;this.extension=[language.of(this),EditorState.languageData.of(((state,pos,side)=>state.facet(languageDataFacetAt(state,pos,side))))].concat(extraExtensions)}isActiveAt(state,pos,side=-1){return languageDataFacetAt(state,pos,side)==this.data}findRegions(state){let lang=state.facet(language);if((lang===null||lang===void 0?void 0:lang.data)==this.data)return[{from:0,to:state.doc.length}];if(!lang||!lang.allowsNesting)return[];let result=[];let explore=(tree,from)=>{if(tree.prop(languageDataProp)==this.data){result.push({from:from,to:from+tree.length});return}let mount=tree.prop(NodeProp.mounted);if(mount){if(mount.tree.prop(languageDataProp)==this.data){if(mount.overlay)for(let r of mount.overlay)result.push({from:r.from+from,to:r.to+from});else result.push({from:from,to:from+tree.length});return}else if(mount.overlay){let size=result.length;explore(mount.tree,mount.overlay[0].from+from);if(result.length>size)return}}for(let i=0;i<tree.children.length;i++){let ch=tree.children[i];if(ch instanceof Tree)explore(ch,tree.positions[i]+from)}};explore(syntaxTree(state),0);return result}get allowsNesting(){return true}}Language.setState=StateEffect.define();function languageDataFacetAt(state,pos,side){let topLang=state.facet(language);if(!topLang)return null;let facet=topLang.data;if(topLang.allowsNesting){for(let node=syntaxTree(state).topNode;node;node=node.enter(pos,side,IterMode.ExcludeBuffers))facet=node.type.prop(languageDataProp)||facet}return facet}class LRLanguage extends Language{constructor(data,parser,name){super(data,parser,[],name);this.parser=parser}static define(spec){let data=defineLanguageFacet(spec.languageData);return new LRLanguage(data,spec.parser.configure({props:[languageDataProp.add((type=>type.isTop?data:undefined))]}),spec.name)}configure(options,name){return new LRLanguage(this.data,this.parser.configure(options),name||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(state){let field=state.field(Language.state,false);return field?field.tree:Tree.empty}class DocInput{constructor(doc,length=doc.length){this.doc=doc;this.length=length;this.cursorPos=0;this.string="";this.cursor=doc.iter()}syncTo(pos){this.string=this.cursor.next(pos-this.cursorPos).value;this.cursorPos=pos+this.string.length;return this.cursorPos-this.string.length}chunk(pos){this.syncTo(pos);return this.string}get lineChunks(){return true}read(from,to){let stringStart=this.cursorPos-this.string.length;if(from<stringStart||to>=this.cursorPos)return this.doc.sliceString(from,to);else return this.string.slice(from-stringStart,to-stringStart)}}let currentContext=null;class ParseContext{constructor(parser,state,fragments=[],tree,treeLen,viewport,skipped,scheduleOn){this.parser=parser;this.state=state;this.fragments=fragments;this.tree=tree;this.treeLen=treeLen;this.viewport=viewport;this.skipped=skipped;this.scheduleOn=scheduleOn;this.parse=null;this.tempSkipped=[]}static create(parser,state,viewport){return new ParseContext(parser,state,[],Tree.empty,0,viewport,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(until,upto){if(upto!=null&&upto>=this.state.doc.length)upto=undefined;if(this.tree!=Tree.empty&&this.isDone(upto!==null&&upto!==void 0?upto:this.state.doc.length)){this.takeTree();return true}return this.withContext((()=>{var _a;if(typeof until=="number"){let endTime=Date.now()+until;until=()=>Date.now()>endTime}if(!this.parse)this.parse=this.startParse();if(upto!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>upto)&&upto<this.state.doc.length)this.parse.stopAt(upto);for(;;){let done=this.parse.advance();if(done){this.fragments=this.withoutTempSkipped(TreeFragment.addTree(done,this.fragments,this.parse.stoppedAt!=null));this.treeLen=(_a=this.parse.stoppedAt)!==null&&_a!==void 0?_a:this.state.doc.length;this.tree=done;this.parse=null;if(this.treeLen<(upto!==null&&upto!==void 0?upto:this.state.doc.length))this.parse=this.startParse();else return true}if(until())return false}}))}takeTree(){let pos,tree;if(this.parse&&(pos=this.parse.parsedPos)>=this.treeLen){if(this.parse.stoppedAt==null||this.parse.stoppedAt>pos)this.parse.stopAt(pos);this.withContext((()=>{while(!(tree=this.parse.advance())){}}));this.treeLen=pos;this.tree=tree;this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,true));this.parse=null}}withContext(f){let prev=currentContext;currentContext=this;try{return f()}finally{currentContext=prev}}withoutTempSkipped(fragments){for(let r;r=this.tempSkipped.pop();)fragments=cutFragments(fragments,r.from,r.to);return fragments}changes(changes,newState){let{fragments:fragments,tree:tree,treeLen:treeLen,viewport:viewport,skipped:skipped}=this;this.takeTree();if(!changes.empty){let ranges=[];changes.iterChangedRanges(((fromA,toA,fromB,toB)=>ranges.push({fromA:fromA,toA:toA,fromB:fromB,toB:toB})));fragments=TreeFragment.applyChanges(fragments,ranges);tree=Tree.empty;treeLen=0;viewport={from:changes.mapPos(viewport.from,-1),to:changes.mapPos(viewport.to,1)};if(this.skipped.length){skipped=[];for(let r of this.skipped){let from=changes.mapPos(r.from,1),to=changes.mapPos(r.to,-1);if(from<to)skipped.push({from:from,to:to})}}}return new ParseContext(this.parser,newState,fragments,tree,treeLen,viewport,skipped,this.scheduleOn)}updateViewport(viewport){if(this.viewport.from==viewport.from&&this.viewport.to==viewport.to)return false;this.viewport=viewport;let startLen=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:from,to:to}=this.skipped[i];if(from<viewport.to&&to>viewport.from){this.fragments=cutFragments(this.fragments,from,to);this.skipped.splice(i--,1)}}if(this.skipped.length>=startLen)return false;this.reset();return true}reset(){if(this.parse){this.takeTree();this.parse=null}}skipUntilInView(from,to){this.skipped.push({from:from,to:to})}static getSkippingParser(until){return new class extends Parser{createParse(input,fragments,ranges){let from=ranges[0].from,to=ranges[ranges.length-1].to;let parser={parsedPos:from,advance(){let cx=currentContext;if(cx){for(let r of ranges)cx.tempSkipped.push(r);if(until)cx.scheduleOn=cx.scheduleOn?Promise.all([cx.scheduleOn,until]):until}this.parsedPos=to;return new Tree(NodeType.none,[],[],to-from)},stoppedAt:null,stopAt(){}};return parser}}}isDone(upto){upto=Math.min(upto,this.state.doc.length);let frags=this.fragments;return this.treeLen>=upto&&frags.length&&frags[0].from==0&&frags[0].to>=upto}static get(){return currentContext}}function cutFragments(fragments,from,to){return TreeFragment.applyChanges(fragments,[{fromA:from,toA:to,fromB:from,toB:to}])}class LanguageState{constructor(context){this.context=context;this.tree=context.tree}apply(tr){if(!tr.docChanged&&this.tree==this.context.tree)return this;let newCx=this.context.changes(tr.changes,tr.state);let upto=this.context.treeLen==tr.startState.doc.length?undefined:Math.max(tr.changes.mapPos(this.context.treeLen),newCx.viewport.to);if(!newCx.work(20,upto))newCx.takeTree();return new LanguageState(newCx)}static init(state){let vpTo=Math.min(3e3,state.doc.length);let parseState=ParseContext.create(state.facet(language).parser,state,{from:0,to:vpTo});if(!parseState.work(20,vpTo))parseState.takeTree();return new LanguageState(parseState)}}Language.state=StateField.define({create:LanguageState.init,update(value,tr){for(let e of tr.effects)if(e.is(Language.setState))return e.value;if(tr.startState.facet(language)!=tr.state.facet(language))return LanguageState.init(tr.state);return value.apply(tr)}});let requestIdle=callback=>{let timeout=setTimeout((()=>callback()),500);return()=>clearTimeout(timeout)};if(typeof requestIdleCallback!="undefined")requestIdle=callback=>{let idle=-1,timeout=setTimeout((()=>{idle=requestIdleCallback(callback,{timeout:500-100})}),100);return()=>idle<0?clearTimeout(timeout):cancelIdleCallback(idle)};const isInputPending=typeof navigator!="undefined"&&((_a=navigator.scheduling)===null||_a===void 0?void 0:_a.isInputPending)?()=>navigator.scheduling.isInputPending():null;const parseWorker=ViewPlugin.fromClass(class ParseWorker{constructor(view){this.view=view;this.working=null;this.workScheduled=0;this.chunkEnd=-1;this.chunkBudget=-1;this.work=this.work.bind(this);this.scheduleWork()}update(update){let cx=this.view.state.field(Language.state).context;if(cx.updateViewport(update.view.viewport)||this.view.viewport.to>cx.treeLen)this.scheduleWork();if(update.docChanged){if(this.view.hasFocus)this.chunkBudget+=50;this.scheduleWork()}this.checkAsyncSchedule(cx)}scheduleWork(){if(this.working)return;let{state:state}=this.view,field=state.field(Language.state);if(field.tree!=field.context.tree||!field.context.isDone(state.doc.length))this.working=requestIdle(this.work)}work(deadline){this.working=null;let now=Date.now();if(this.chunkEnd<now&&(this.chunkEnd<0||this.view.hasFocus)){this.chunkEnd=now+3e4;this.chunkBudget=3e3}if(this.chunkBudget<=0)return;let{state:state,viewport:{to:vpTo}}=this.view,field=state.field(Language.state);if(field.tree==field.context.tree&&field.context.isDone(vpTo+1e5))return;let endTime=Date.now()+Math.min(this.chunkBudget,100,deadline&&!isInputPending?Math.max(25,deadline.timeRemaining()-5):1e9);let viewportFirst=field.context.treeLen<vpTo&&state.doc.length>vpTo+1e3;let done=field.context.work((()=>isInputPending&&isInputPending()||Date.now()>endTime),vpTo+(viewportFirst?0:1e5));this.chunkBudget-=Date.now()-now;if(done||this.chunkBudget<=0){field.context.takeTree();this.view.dispatch({effects:Language.setState.of(new LanguageState(field.context))})}if(this.chunkBudget>0&&!(done&&!viewportFirst))this.scheduleWork();this.checkAsyncSchedule(field.context)}checkAsyncSchedule(cx){if(cx.scheduleOn){this.workScheduled++;cx.scheduleOn.then((()=>this.scheduleWork())).catch((err=>logException(this.view.state,err))).then((()=>this.workScheduled--));cx.scheduleOn=null}}destroy(){if(this.working)this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}});const language=Facet.define({combine(languages){return languages.length?languages[0]:null},enables:language=>[Language.state,parseWorker,EditorView.contentAttributes.compute([language],(state=>{let lang=state.facet(language);return lang&&lang.name?{"data-language":lang.name}:{}}))]});class LanguageSupport{constructor(language,support=[]){this.language=language;this.support=support;this.extension=[language,support]}}const indentService=Facet.define();const indentUnit=Facet.define({combine:values=>{if(!values.length)return"  ";if(!/^(?: +|\t+)$/.test(values[0]))throw new Error("Invalid indent unit: "+JSON.stringify(values[0]));return values[0]}});function getIndentUnit(state){let unit=state.facet(indentUnit);return unit.charCodeAt(0)==9?state.tabSize*unit.length:unit.length}function indentString(state,cols){let result="",ts=state.tabSize;if(state.facet(indentUnit).charCodeAt(0)==9)while(cols>=ts){result+="\t";cols-=ts}for(let i=0;i<cols;i++)result+=" ";return result}function getIndentation(context,pos){if(context instanceof EditorState)context=new IndentContext(context);for(let service of context.state.facet(indentService)){let result=service(context,pos);if(result!==undefined)return result}let tree=syntaxTree(context.state);return tree?syntaxIndentation(context,tree,pos):null}class IndentContext{constructor(state,options={}){this.state=state;this.options=options;this.unit=getIndentUnit(state)}lineAt(pos,bias=1){let line=this.state.doc.lineAt(pos);let{simulateBreak:simulateBreak,simulateDoubleBreak:simulateDoubleBreak}=this.options;if(simulateBreak!=null&&simulateBreak>=line.from&&simulateBreak<=line.to){if(simulateDoubleBreak&&simulateBreak==pos)return{text:"",from:pos};else if(bias<0?simulateBreak<pos:simulateBreak<=pos)return{text:line.text.slice(simulateBreak-line.from),from:simulateBreak};else return{text:line.text.slice(0,simulateBreak-line.from),from:line.from}}return line}textAfterPos(pos,bias=1){if(this.options.simulateDoubleBreak&&pos==this.options.simulateBreak)return"";let{text:text,from:from}=this.lineAt(pos,bias);return text.slice(pos-from,Math.min(text.length,pos+100-from))}column(pos,bias=1){let{text:text,from:from}=this.lineAt(pos,bias);let result=this.countColumn(text,pos-from);let override=this.options.overrideIndentation?this.options.overrideIndentation(from):-1;if(override>-1)result+=override-this.countColumn(text,text.search(/\S|$/));return result}countColumn(line,pos=line.length){return countColumn(line,this.state.tabSize,pos)}lineIndent(pos,bias=1){let{text:text,from:from}=this.lineAt(pos,bias);let override=this.options.overrideIndentation;if(override){let overriden=override(from);if(overriden>-1)return overriden}return this.countColumn(text,text.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(cx,ast,pos){return indentFrom(ast.resolveInner(pos).enterUnfinishedNodesBefore(pos),pos,cx)}function ignoreClosed(cx){return cx.pos==cx.options.simulateBreak&&cx.options.simulateDoubleBreak}function indentStrategy(tree){let strategy=tree.type.prop(indentNodeProp);if(strategy)return strategy;let first=tree.firstChild,close;if(first&&(close=first.type.prop(NodeProp.closedBy))){let last=tree.lastChild,closed=last&&close.indexOf(last.name)>-1;return cx=>delimitedStrategy(cx,true,1,undefined,closed&&!ignoreClosed(cx)?last.from:undefined)}return tree.parent==null?topIndent:null}function indentFrom(node,pos,base){for(;node;node=node.parent){let strategy=indentStrategy(node);if(strategy)return strategy(TreeIndentContext.create(base,pos,node))}return null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(base,pos,node){super(base.state,base.options);this.base=base;this.pos=pos;this.node=node}static create(base,pos,node){return new TreeIndentContext(base,pos,node)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let line=this.state.doc.lineAt(this.node.from);for(;;){let atBreak=this.node.resolve(line.from);while(atBreak.parent&&atBreak.parent.from==atBreak.from)atBreak=atBreak.parent;if(isParent(atBreak,this.node))break;line=this.state.doc.lineAt(atBreak.from)}return this.lineIndent(line.from)}continue(){let parent=this.node.parent;return parent?indentFrom(parent,this.pos,this.base):0}}function isParent(parent,of){for(let cur=of;cur;cur=cur.parent)if(parent==cur)return true;return false}function bracketedAligned(context){let tree=context.node;let openToken=tree.childAfter(tree.from),last=tree.lastChild;if(!openToken)return null;let sim=context.options.simulateBreak;let openLine=context.state.doc.lineAt(openToken.from);let lineEnd=sim==null||sim<=openLine.from?openLine.to:Math.min(openLine.to,sim);for(let pos=openToken.to;;){let next=tree.childAfter(pos);if(!next||next==last)return null;if(!next.type.isSkipped)return next.from<lineEnd?openToken:null;pos=next.to}}function delimitedIndent({closing:closing,align:align=true,units:units=1}){return context=>delimitedStrategy(context,align,units,closing)}function delimitedStrategy(context,align,units,closing,closedAt){let after=context.textAfter,space=after.match(/^\s*/)[0].length;let closed=closing&&after.slice(space,space+closing.length)==closing||closedAt==context.pos+space;let aligned=align?bracketedAligned(context):null;if(aligned)return closed?context.column(aligned.from):context.column(aligned.to);return context.baseIndent+(closed?0:context.unit*units)}const flatIndent=context=>context.baseIndent;function continuedIndent({except:except,units:units=1}={}){return context=>{let matchExcept=except&&except.test(context.textAfter);return context.baseIndent+(matchExcept?0:units*context.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of((tr=>{if(!tr.docChanged||!tr.isUserEvent("input.type")&&!tr.isUserEvent("input.complete"))return tr;let rules=tr.startState.languageDataAt("indentOnInput",tr.startState.selection.main.head);if(!rules.length)return tr;let doc=tr.newDoc,{head:head}=tr.newSelection.main,line=doc.lineAt(head);if(head>line.from+DontIndentBeyond)return tr;let lineStart=doc.sliceString(line.from,head);if(!rules.some((r=>r.test(lineStart))))return tr;let{state:state}=tr,last=-1,changes=[];for(let{head:head}of state.selection.ranges){let line=state.doc.lineAt(head);if(line.from==last)continue;last=line.from;let indent=getIndentation(state,line.from);if(indent==null)continue;let cur=/^\s*/.exec(line.text)[0];let norm=indentString(state,indent);if(cur!=norm)changes.push({from:line.from,to:line.from+cur.length,insert:norm})}return changes.length?[tr,{changes:changes,sequential:true}]:tr}))}const foldService=Facet.define();const foldNodeProp=new NodeProp;function foldInside(node){let first=node.firstChild,last=node.lastChild;return first&&first.to<last.from?{from:first.to,to:last.type.isError?node.to:last.from}:null}function syntaxFolding(state,start,end){let tree=syntaxTree(state);if(tree.length<end)return null;let inner=tree.resolveInner(end,1);let found=null;for(let cur=inner;cur;cur=cur.parent){if(cur.to<=end||cur.from>end)continue;if(found&&cur.from<start)break;let prop=cur.type.prop(foldNodeProp);if(prop&&(cur.to<tree.length-50||tree.length==state.doc.length||!isUnfinished(cur))){let value=prop(cur,state);if(value&&value.from<=end&&value.from>=start&&value.to>end)found=value}}return found}function isUnfinished(node){let ch=node.lastChild;return ch&&ch.to==node.to&&ch.type.isError}function foldable(state,lineStart,lineEnd){for(let service of state.facet(foldService)){let result=service(state,lineStart,lineEnd);if(result)return result}return syntaxFolding(state,lineStart,lineEnd)}function mapRange(range,mapping){let from=mapping.mapPos(range.from,1),to=mapping.mapPos(range.to,-1);return from>=to?undefined:{from:from,to:to}}const foldEffect=StateEffect.define({map:mapRange});const unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(view){let lines=[];for(let{head:head}of view.state.selection.ranges){if(lines.some((l=>l.from<=head&&l.to>=head)))continue;lines.push(view.lineBlockAt(head))}return lines}const foldState=StateField.define({create(){return Decoration.none},update(folded,tr){folded=folded.map(tr.changes);for(let e of tr.effects){if(e.is(foldEffect)&&!foldExists(folded,e.value.from,e.value.to))folded=folded.update({add:[foldWidget.range(e.value.from,e.value.to)]});else if(e.is(unfoldEffect))folded=folded.update({filter:(from,to)=>e.value.from!=from||e.value.to!=to,filterFrom:e.value.from,filterTo:e.value.to})}if(tr.selection){let onSelection=false,{head:head}=tr.selection.main;folded.between(head,head,((a,b)=>{if(a<head&&b>head)onSelection=true}));if(onSelection)folded=folded.update({filterFrom:head,filterTo:head,filter:(a,b)=>b<=head||a>=head})}return folded},provide:f=>EditorView.decorations.from(f),toJSON(folded,state){let ranges=[];folded.between(0,state.doc.length,((from,to)=>{ranges.push(from,to)}));return ranges},fromJSON(value){if(!Array.isArray(value)||value.length%2)throw new RangeError("Invalid JSON for fold state");let ranges=[];for(let i=0;i<value.length;){let from=value[i++],to=value[i++];if(typeof from!="number"||typeof to!="number")throw new RangeError("Invalid JSON for fold state");ranges.push(foldWidget.range(from,to))}return Decoration.set(ranges,true)}});function findFold(state,from,to){var _a;let found=null;(_a=state.field(foldState,false))===null||_a===void 0?void 0:_a.between(from,to,((from,to)=>{if(!found||found.from>from)found={from:from,to:to}}));return found}function foldExists(folded,from,to){let found=false;folded.between(from,from,((a,b)=>{if(a==from&&b==to)found=true}));return found}function maybeEnable(state,other){return state.field(foldState,false)?other:other.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=view=>{for(let line of selectedLines(view)){let range=foldable(view.state,line.from,line.to);if(range){view.dispatch({effects:maybeEnable(view.state,[foldEffect.of(range),announceFold(view,range)])});return true}}return false};const unfoldCode=view=>{if(!view.state.field(foldState,false))return false;let effects=[];for(let line of selectedLines(view)){let folded=findFold(view.state,line.from,line.to);if(folded)effects.push(unfoldEffect.of(folded),announceFold(view,folded,false))}if(effects.length)view.dispatch({effects:effects});return effects.length>0};function announceFold(view,range,fold=true){let lineFrom=view.state.doc.lineAt(range.from).number,lineTo=view.state.doc.lineAt(range.to).number;return EditorView.announce.of(`${view.state.phrase(fold?"Folded lines":"Unfolded lines")} ${lineFrom} ${view.state.phrase("to")} ${lineTo}.`)}const foldAll=view=>{let{state:state}=view,effects=[];for(let pos=0;pos<state.doc.length;){let line=view.lineBlockAt(pos),range=foldable(state,line.from,line.to);if(range)effects.push(foldEffect.of(range));pos=(range?view.lineBlockAt(range.to):line).to+1}if(effects.length)view.dispatch({effects:maybeEnable(view.state,effects)});return!!effects.length};const unfoldAll=view=>{let field=view.state.field(foldState,false);if(!field||!field.size)return false;let effects=[];field.between(0,view.state.doc.length,((from,to)=>{effects.push(unfoldEffect.of({from:from,to:to}))}));view.dispatch({effects:effects});return true};const foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}];const defaultConfig={placeholderDOM:null,placeholderText:"…"};const foldConfig=Facet.define({combine(values){return combineConfig(values,defaultConfig)}});function codeFolding(config){let result=[foldState,baseTheme$1$2];if(config)result.push(foldConfig.of(config));return result}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(view){let{state:state}=view,conf=state.facet(foldConfig);let onclick=event=>{let line=view.lineBlockAt(view.posAtDOM(event.target));let folded=findFold(view.state,line.from,line.to);if(folded)view.dispatch({effects:unfoldEffect.of(folded)});event.preventDefault()};if(conf.placeholderDOM)return conf.placeholderDOM(view,onclick);let element=document.createElement("span");element.textContent=conf.placeholderText;element.setAttribute("aria-label",state.phrase("folded code"));element.title=state.phrase("unfold");element.className="cm-foldPlaceholder";element.onclick=onclick;return element}}});const foldGutterDefaults={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>false};class FoldMarker extends GutterMarker{constructor(config,open){super();this.config=config;this.open=open}eq(other){return this.config==other.config&&this.open==other.open}toDOM(view){if(this.config.markerDOM)return this.config.markerDOM(this.open);let span=document.createElement("span");span.textContent=this.open?this.config.openText:this.config.closedText;span.title=view.state.phrase(this.open?"Fold line":"Unfold line");return span}}function foldGutter(config={}){let fullConfig=Object.assign(Object.assign({},foldGutterDefaults),config);let canFold=new FoldMarker(fullConfig,true),canUnfold=new FoldMarker(fullConfig,false);let markers=ViewPlugin.fromClass(class{constructor(view){this.from=view.viewport.from;this.markers=this.buildMarkers(view)}update(update){if(update.docChanged||update.viewportChanged||update.startState.facet(language)!=update.state.facet(language)||update.startState.field(foldState,false)!=update.state.field(foldState,false)||syntaxTree(update.startState)!=syntaxTree(update.state)||fullConfig.foldingChanged(update))this.markers=this.buildMarkers(update.view)}buildMarkers(view){let builder=new RangeSetBuilder;for(let line of view.viewportLineBlocks){let mark=findFold(view.state,line.from,line.to)?canUnfold:foldable(view.state,line.from,line.to)?canFold:null;if(mark)builder.add(line.from,line.from,mark)}return builder.finish()}});let{domEventHandlers:domEventHandlers}=fullConfig;return[markers,gutter({class:"cm-foldGutter",markers(view){var _a;return((_a=view.plugin(markers))===null||_a===void 0?void 0:_a.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(fullConfig,false)},domEventHandlers:Object.assign(Object.assign({},domEventHandlers),{click:(view,line,event)=>{if(domEventHandlers.click&&domEventHandlers.click(view,line,event))return true;let folded=findFold(view.state,line.from,line.to);if(folded){view.dispatch({effects:unfoldEffect.of(folded)});return true}let range=foldable(view.state,line.from,line.to);if(range){view.dispatch({effects:foldEffect.of(range)});return true}return false}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(specs,options){this.specs=specs;let modSpec;function def(spec){let cls=StyleModule.newName();(modSpec||(modSpec=Object.create(null)))["."+cls]=spec;return cls}const all=typeof options.all=="string"?options.all:options.all?def(options.all):undefined;const scopeOpt=options.scope;this.scope=scopeOpt instanceof Language?type=>type.prop(languageDataProp)==scopeOpt.data:scopeOpt?type=>type==scopeOpt:undefined;this.style=tagHighlighter(specs.map((style=>({tag:style.tag,class:style.class||def(Object.assign({},style,{tag:null}))}))),{all:all}).style;this.module=modSpec?new StyleModule(modSpec):null;this.themeType=options.themeType}static define(specs,options){return new HighlightStyle(specs,options||{})}}const highlighterFacet=Facet.define();const fallbackHighlighter=Facet.define({combine(values){return values.length?[values[0]]:null}});function getHighlighters(state){let main=state.facet(highlighterFacet);return main.length?main:state.facet(fallbackHighlighter)}function syntaxHighlighting(highlighter,options){let ext=[treeHighlighter],themeType;if(highlighter instanceof HighlightStyle){if(highlighter.module)ext.push(EditorView.styleModule.of(highlighter.module));themeType=highlighter.themeType}if(options===null||options===void 0?void 0:options.fallback)ext.push(fallbackHighlighter.of(highlighter));else if(themeType)ext.push(highlighterFacet.computeN([EditorView.darkTheme],(state=>state.facet(EditorView.darkTheme)==(themeType=="dark")?[highlighter]:[])));else ext.push(highlighterFacet.of(highlighter));return ext}class TreeHighlighter{constructor(view){this.markCache=Object.create(null);this.tree=syntaxTree(view.state);this.decorations=this.buildDeco(view,getHighlighters(view.state))}update(update){let tree=syntaxTree(update.state),highlighters=getHighlighters(update.state);let styleChange=highlighters!=getHighlighters(update.startState);if(tree.length<update.view.viewport.to&&!styleChange&&tree.type==this.tree.type){this.decorations=this.decorations.map(update.changes)}else if(tree!=this.tree||update.viewportChanged||styleChange){this.tree=tree;this.decorations=this.buildDeco(update.view,highlighters)}}buildDeco(view,highlighters){if(!highlighters||!this.tree.length)return Decoration.none;let builder=new RangeSetBuilder;for(let{from:from,to:to}of view.visibleRanges){highlightTree(this.tree,highlighters,((from,to,style)=>{builder.add(from,to,this.markCache[style]||(this.markCache[style]=Decoration.mark({class:style})))}),from,to)}return builder.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:v=>v.decorations}));const defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#7a757a"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]);const baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}});const DefaultScanDist=1e4,DefaultBrackets="()[]{}";const bracketMatchingConfig=Facet.define({combine(configs){return combineConfig(configs,{afterCursor:true,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}});const matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(match){let decorations=[];let mark=match.matched?matchingMark:nonmatchingMark;decorations.push(mark.range(match.start.from,match.start.to));if(match.end)decorations.push(mark.range(match.end.from,match.end.to));return decorations}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(deco,tr){if(!tr.docChanged&&!tr.selection)return deco;let decorations=[];let config=tr.state.facet(bracketMatchingConfig);for(let range of tr.state.selection.ranges){if(!range.empty)continue;let match=matchBrackets(tr.state,range.head,-1,config)||range.head>0&&matchBrackets(tr.state,range.head-1,1,config)||config.afterCursor&&(matchBrackets(tr.state,range.head,1,config)||range.head<tr.state.doc.length&&matchBrackets(tr.state,range.head+1,-1,config));if(match)decorations=decorations.concat(config.renderMatch(match,tr.state))}return Decoration.set(decorations,true)},provide:f=>EditorView.decorations.from(f)});const bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(config={}){return[bracketMatchingConfig.of(config),bracketMatchingUnique]}function matchingNodes(node,dir,brackets){let byProp=node.prop(dir<0?NodeProp.openedBy:NodeProp.closedBy);if(byProp)return byProp;if(node.name.length==1){let index=brackets.indexOf(node.name);if(index>-1&&index%2==(dir<0?1:0))return[brackets[index+dir]]}return null}function matchBrackets(state,pos,dir,config={}){let maxScanDistance=config.maxScanDistance||DefaultScanDist,brackets=config.brackets||DefaultBrackets;let tree=syntaxTree(state),node=tree.resolveInner(pos,dir);for(let cur=node;cur;cur=cur.parent){let matches=matchingNodes(cur.type,dir,brackets);if(matches&&cur.from<cur.to)return matchMarkedBrackets(state,pos,dir,cur,matches,brackets)}return matchPlainBrackets(state,pos,dir,tree,node.type,maxScanDistance,brackets)}function matchMarkedBrackets(_state,_pos,dir,token,matching,brackets){let parent=token.parent,firstToken={from:token.from,to:token.to};let depth=0,cursor=parent===null||parent===void 0?void 0:parent.cursor();if(cursor&&(dir<0?cursor.childBefore(token.from):cursor.childAfter(token.to)))do{if(dir<0?cursor.to<=token.from:cursor.from>=token.to){if(depth==0&&matching.indexOf(cursor.type.name)>-1&&cursor.from<cursor.to){return{start:firstToken,end:{from:cursor.from,to:cursor.to},matched:true}}else if(matchingNodes(cursor.type,dir,brackets)){depth++}else if(matchingNodes(cursor.type,-dir,brackets)){if(depth==0)return{start:firstToken,end:cursor.from==cursor.to?undefined:{from:cursor.from,to:cursor.to},matched:false};depth--}}}while(dir<0?cursor.prevSibling():cursor.nextSibling());return{start:firstToken,matched:false}}function matchPlainBrackets(state,pos,dir,tree,tokenType,maxScanDistance,brackets){let startCh=dir<0?state.sliceDoc(pos-1,pos):state.sliceDoc(pos,pos+1);let bracket=brackets.indexOf(startCh);if(bracket<0||bracket%2==0!=dir>0)return null;let startToken={from:dir<0?pos-1:pos,to:dir>0?pos+1:pos};let iter=state.doc.iterRange(pos,dir>0?state.doc.length:0),depth=0;for(let distance=0;!iter.next().done&&distance<=maxScanDistance;){let text=iter.value;if(dir<0)distance+=text.length;let basePos=pos+distance*dir;for(let pos=dir>0?0:text.length-1,end=dir>0?text.length:-1;pos!=end;pos+=dir){let found=brackets.indexOf(text[pos]);if(found<0||tree.resolveInner(basePos+pos,1).type!=tokenType)continue;if(found%2==0==dir>0){depth++}else if(depth==1){return{start:startToken,end:{from:basePos+pos,to:basePos+pos+1},matched:found>>1==bracket>>1}}else{depth--}}if(dir>0)distance+=text.length}return iter.done?{start:startToken,matched:false}:null}const noTokens=Object.create(null);const typeArray=[NodeType.none];const warned=[];const defaultTable=Object.create(null);for(let[legacyName,name]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[legacyName]=createTokenType(noTokens,name);function warnForPart(part,msg){if(warned.indexOf(part)>-1)return;warned.push(part);console.warn(msg)}function createTokenType(extra,tagStr){let tag=null;for(let part of tagStr.split(".")){let value=extra[part]||tags[part];if(!value){warnForPart(part,`Unknown highlighting tag ${part}`)}else if(typeof value=="function"){if(!tag)warnForPart(part,`Modifier ${part} used at start of tag`);else tag=value(tag)}else{if(tag)warnForPart(part,`Tag ${part} used as modifier`);else tag=value}}if(!tag)return 0;let name=tagStr.replace(/ /g,"_"),type=NodeType.define({id:typeArray.length,name:name,props:[styleTags({[name]:tag})]});typeArray.push(type);return type.id}const toggleComment=target=>{let config=getConfig(target.state);return config.line?toggleLineComment(target):config.block?toggleBlockCommentByLine(target):false};function command(f,option){return({state:state,dispatch:dispatch})=>{if(state.readOnly)return false;let tr=f(option,state);if(!tr)return false;dispatch(state.update(tr));return true}}const toggleLineComment=command(changeLineComment,0);const toggleBlockComment=command(changeBlockComment,0);const toggleBlockCommentByLine=command(((o,s)=>changeBlockComment(o,s,selectedLineRanges(s))),0);function getConfig(state,pos=state.selection.main.head){let data=state.languageDataAt("commentTokens",pos);return data.length?data[0]:{}}const SearchMargin=50;function findBlockComment(state,{open:open,close:close},from,to){let textBefore=state.sliceDoc(from-SearchMargin,from);let textAfter=state.sliceDoc(to,to+SearchMargin);let spaceBefore=/\s*$/.exec(textBefore)[0].length,spaceAfter=/^\s*/.exec(textAfter)[0].length;let beforeOff=textBefore.length-spaceBefore;if(textBefore.slice(beforeOff-open.length,beforeOff)==open&&textAfter.slice(spaceAfter,spaceAfter+close.length)==close){return{open:{pos:from-spaceBefore,margin:spaceBefore&&1},close:{pos:to+spaceAfter,margin:spaceAfter&&1}}}let startText,endText;if(to-from<=2*SearchMargin){startText=endText=state.sliceDoc(from,to)}else{startText=state.sliceDoc(from,from+SearchMargin);endText=state.sliceDoc(to-SearchMargin,to)}let startSpace=/^\s*/.exec(startText)[0].length,endSpace=/\s*$/.exec(endText)[0].length;let endOff=endText.length-endSpace-close.length;if(startText.slice(startSpace,startSpace+open.length)==open&&endText.slice(endOff,endOff+close.length)==close){return{open:{pos:from+startSpace+open.length,margin:/\s/.test(startText.charAt(startSpace+open.length))?1:0},close:{pos:to-endSpace-close.length,margin:/\s/.test(endText.charAt(endOff-1))?1:0}}}return null}function selectedLineRanges(state){let ranges=[];for(let r of state.selection.ranges){let fromLine=state.doc.lineAt(r.from);let toLine=r.to<=fromLine.to?fromLine:state.doc.lineAt(r.to);let last=ranges.length-1;if(last>=0&&ranges[last].to>fromLine.from)ranges[last].to=toLine.to;else ranges.push({from:fromLine.from,to:toLine.to})}return ranges}function changeBlockComment(option,state,ranges=state.selection.ranges){let tokens=ranges.map((r=>getConfig(state,r.from).block));if(!tokens.every((c=>c)))return null;let comments=ranges.map(((r,i)=>findBlockComment(state,tokens[i],r.from,r.to)));if(option!=2&&!comments.every((c=>c))){return{changes:state.changes(ranges.map(((range,i)=>{if(comments[i])return[];return[{from:range.from,insert:tokens[i].open+" "},{from:range.to,insert:" "+tokens[i].close}]})))}}else if(option!=1&&comments.some((c=>c))){let changes=[];for(let i=0,comment;i<comments.length;i++)if(comment=comments[i]){let token=tokens[i],{open:open,close:close}=comment;changes.push({from:open.pos-token.open.length,to:open.pos+open.margin},{from:close.pos-close.margin,to:close.pos+token.close.length})}return{changes:changes}}return null}function changeLineComment(option,state,ranges=state.selection.ranges){let lines=[];let prevLine=-1;for(let{from:from,to:to}of ranges){let startI=lines.length,minIndent=1e9;for(let pos=from;pos<=to;){let line=state.doc.lineAt(pos);if(line.from>prevLine&&(from==to||to>line.from)){prevLine=line.from;let token=getConfig(state,pos).line;if(!token)continue;let indent=/^\s*/.exec(line.text)[0].length;let empty=indent==line.length;let comment=line.text.slice(indent,indent+token.length)==token?indent:-1;if(indent<line.text.length&&indent<minIndent)minIndent=indent;lines.push({line:line,comment:comment,token:token,indent:indent,empty:empty,single:false})}pos=line.to+1}if(minIndent<1e9)for(let i=startI;i<lines.length;i++)if(lines[i].indent<lines[i].line.text.length)lines[i].indent=minIndent;if(lines.length==startI+1)lines[startI].single=true}if(option!=2&&lines.some((l=>l.comment<0&&(!l.empty||l.single)))){let changes=[];for(let{line:line,token:token,indent:indent,empty:empty,single:single}of lines)if(single||!empty)changes.push({from:line.from+indent,insert:token+" "});let changeSet=state.changes(changes);return{changes:changeSet,selection:state.selection.map(changeSet,1)}}else if(option!=1&&lines.some((l=>l.comment>=0))){let changes=[];for(let{line:line,comment:comment,token:token}of lines)if(comment>=0){let from=line.from+comment,to=from+token.length;if(line.text[to-line.from]==" ")to++;changes.push({from:from,to:to})}return{changes:changes}}return null}const fromHistory=Annotation.define();const isolateHistory=Annotation.define();const invertedEffects=Facet.define();const historyConfig=Facet.define({combine(configs){return combineConfig(configs,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});function changeEnd(changes){let end=0;changes.iterChangedRanges(((_,to)=>end=to));return end}const historyField_=StateField.define({create(){return HistoryState.empty},update(state,tr){let config=tr.state.facet(historyConfig);let fromHist=tr.annotation(fromHistory);if(fromHist){let selection=tr.docChanged?EditorSelection.single(changeEnd(tr.changes)):undefined;let item=HistEvent.fromTransaction(tr,selection),from=fromHist.side;let other=from==0?state.undone:state.done;if(item)other=updateBranch(other,other.length,config.minDepth,item);else other=addSelection(other,tr.startState.selection);return new HistoryState(from==0?fromHist.rest:other,from==0?other:fromHist.rest)}let isolate=tr.annotation(isolateHistory);if(isolate=="full"||isolate=="before")state=state.isolate();if(tr.annotation(Transaction.addToHistory)===false)return!tr.changes.empty?state.addMapping(tr.changes.desc):state;let event=HistEvent.fromTransaction(tr);let time=tr.annotation(Transaction.time),userEvent=tr.annotation(Transaction.userEvent);if(event)state=state.addChanges(event,time,userEvent,config.newGroupDelay,config.minDepth);else if(tr.selection)state=state.addSelection(tr.startState.selection,time,userEvent,config.newGroupDelay);if(isolate=="full"||isolate=="after")state=state.isolate();return state},toJSON(value){return{done:value.done.map((e=>e.toJSON())),undone:value.undone.map((e=>e.toJSON()))}},fromJSON(json){return new HistoryState(json.done.map(HistEvent.fromJSON),json.undone.map(HistEvent.fromJSON))}});function history(config={}){return[historyField_,historyConfig.of(config),EditorView.domEventHandlers({beforeinput(e,view){let command=e.inputType=="historyUndo"?undo:e.inputType=="historyRedo"?redo:null;if(!command)return false;e.preventDefault();return command(view)}})]}function cmd(side,selection){return function({state:state,dispatch:dispatch}){if(!selection&&state.readOnly)return false;let historyState=state.field(historyField_,false);if(!historyState)return false;let tr=historyState.pop(side,state,selection);if(!tr)return false;dispatch(tr);return true}}const undo=cmd(0,false);const redo=cmd(1,false);const undoSelection=cmd(0,true);const redoSelection=cmd(1,true);class HistEvent{constructor(changes,effects,mapped,startSelection,selectionsAfter){this.changes=changes;this.effects=effects;this.mapped=mapped;this.startSelection=startSelection;this.selectionsAfter=selectionsAfter}setSelAfter(after){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,after)}toJSON(){var _a,_b,_c;return{changes:(_a=this.changes)===null||_a===void 0?void 0:_a.toJSON(),mapped:(_b=this.mapped)===null||_b===void 0?void 0:_b.toJSON(),startSelection:(_c=this.startSelection)===null||_c===void 0?void 0:_c.toJSON(),selectionsAfter:this.selectionsAfter.map((s=>s.toJSON()))}}static fromJSON(json){return new HistEvent(json.changes&&ChangeSet.fromJSON(json.changes),[],json.mapped&&ChangeDesc.fromJSON(json.mapped),json.startSelection&&EditorSelection.fromJSON(json.startSelection),json.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(tr,selection){let effects=none$1;for(let invert of tr.startState.facet(invertedEffects)){let result=invert(tr);if(result.length)effects=effects.concat(result)}if(!effects.length&&tr.changes.empty)return null;return new HistEvent(tr.changes.invert(tr.startState.doc),effects,undefined,selection||tr.startState.selection,none$1)}static selection(selections){return new HistEvent(undefined,none$1,undefined,undefined,selections)}}function updateBranch(branch,to,maxLen,newEvent){let start=to+1>maxLen+20?to-maxLen-1:0;let newBranch=branch.slice(start,to);newBranch.push(newEvent);return newBranch}function isAdjacent(a,b){let ranges=[],isAdjacent=false;a.iterChangedRanges(((f,t)=>ranges.push(f,t)));b.iterChangedRanges(((_f,_t,f,t)=>{for(let i=0;i<ranges.length;){let from=ranges[i++],to=ranges[i++];if(t>=from&&f<=to)isAdjacent=true}}));return isAdjacent}function eqSelectionShape(a,b){return a.ranges.length==b.ranges.length&&a.ranges.filter(((r,i)=>r.empty!=b.ranges[i].empty)).length===0}function conc(a,b){return!a.length?b:!b.length?a:a.concat(b)}const none$1=[];const MaxSelectionsPerEvent=200;function addSelection(branch,selection){if(!branch.length){return[HistEvent.selection([selection])]}else{let lastEvent=branch[branch.length-1];let sels=lastEvent.selectionsAfter.slice(Math.max(0,lastEvent.selectionsAfter.length-MaxSelectionsPerEvent));if(sels.length&&sels[sels.length-1].eq(selection))return branch;sels.push(selection);return updateBranch(branch,branch.length-1,1e9,lastEvent.setSelAfter(sels))}}function popSelection(branch){let last=branch[branch.length-1];let newBranch=branch.slice();newBranch[branch.length-1]=last.setSelAfter(last.selectionsAfter.slice(0,last.selectionsAfter.length-1));return newBranch}function addMappingToBranch(branch,mapping){if(!branch.length)return branch;let length=branch.length,selections=none$1;while(length){let event=mapEvent(branch[length-1],mapping,selections);if(event.changes&&!event.changes.empty||event.effects.length){let result=branch.slice(0,length);result[length-1]=event;return result}else{mapping=event.mapped;length--;selections=event.selectionsAfter}}return selections.length?[HistEvent.selection(selections)]:none$1}function mapEvent(event,mapping,extraSelections){let selections=conc(event.selectionsAfter.length?event.selectionsAfter.map((s=>s.map(mapping))):none$1,extraSelections);if(!event.changes)return HistEvent.selection(selections);let mappedChanges=event.changes.map(mapping),before=mapping.mapDesc(event.changes,true);let fullMapping=event.mapped?event.mapped.composeDesc(before):before;return new HistEvent(mappedChanges,StateEffect.mapEffects(event.effects,mapping),fullMapping,event.startSelection.map(before),selections)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(done,undone,prevTime=0,prevUserEvent=undefined){this.done=done;this.undone=undone;this.prevTime=prevTime;this.prevUserEvent=prevUserEvent}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(event,time,userEvent,newGroupDelay,maxLen){let done=this.done,lastEvent=done[done.length-1];if(lastEvent&&lastEvent.changes&&!lastEvent.changes.empty&&event.changes&&(!userEvent||joinableUserEvent.test(userEvent))&&(!lastEvent.selectionsAfter.length&&time-this.prevTime<newGroupDelay&&isAdjacent(lastEvent.changes,event.changes)||userEvent=="input.type.compose")){done=updateBranch(done,done.length-1,maxLen,new HistEvent(event.changes.compose(lastEvent.changes),conc(event.effects,lastEvent.effects),lastEvent.mapped,lastEvent.startSelection,none$1))}else{done=updateBranch(done,done.length,maxLen,event)}return new HistoryState(done,none$1,time,userEvent)}addSelection(selection,time,userEvent,newGroupDelay){let last=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;if(last.length>0&&time-this.prevTime<newGroupDelay&&userEvent==this.prevUserEvent&&userEvent&&/^select($|\.)/.test(userEvent)&&eqSelectionShape(last[last.length-1],selection))return this;return new HistoryState(addSelection(this.done,selection),this.undone,time,userEvent)}addMapping(mapping){return new HistoryState(addMappingToBranch(this.done,mapping),addMappingToBranch(this.undone,mapping),this.prevTime,this.prevUserEvent)}pop(side,state,selection){let branch=side==0?this.done:this.undone;if(branch.length==0)return null;let event=branch[branch.length-1];if(selection&&event.selectionsAfter.length){return state.update({selection:event.selectionsAfter[event.selectionsAfter.length-1],annotations:fromHistory.of({side:side,rest:popSelection(branch)}),userEvent:side==0?"select.undo":"select.redo",scrollIntoView:true})}else if(!event.changes){return null}else{let rest=branch.length==1?none$1:branch.slice(0,branch.length-1);if(event.mapped)rest=addMappingToBranch(rest,event.mapped);return state.update({changes:event.changes,selection:event.startSelection,effects:event.effects,annotations:fromHistory.of({side:side,rest:rest}),filter:false,userEvent:side==0?"undo":"redo",scrollIntoView:true})}}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:true},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:true},{linux:"Ctrl-Shift-z",run:redo,preventDefault:true},{key:"Mod-u",run:undoSelection,preventDefault:true},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:true}];function updateSel(sel,by){return EditorSelection.create(sel.ranges.map(by),sel.mainIndex)}function setSel(state,selection){return state.update({selection:selection,scrollIntoView:true,userEvent:"select"})}function moveSel({state:state,dispatch:dispatch},how){let selection=updateSel(state.selection,how);if(selection.eq(state.selection))return false;dispatch(setSel(state,selection));return true}function rangeEnd(range,forward){return EditorSelection.cursor(forward?range.to:range.from)}function cursorByChar(view,forward){return moveSel(view,(range=>range.empty?view.moveByChar(range,forward):rangeEnd(range,forward)))}function ltrAtCursor(view){return view.textDirectionAt(view.state.selection.main.head)==Direction.LTR}const cursorCharLeft=view=>cursorByChar(view,!ltrAtCursor(view));const cursorCharRight=view=>cursorByChar(view,ltrAtCursor(view));function cursorByGroup(view,forward){return moveSel(view,(range=>range.empty?view.moveByGroup(range,forward):rangeEnd(range,forward)))}const cursorGroupLeft=view=>cursorByGroup(view,!ltrAtCursor(view));const cursorGroupRight=view=>cursorByGroup(view,ltrAtCursor(view));function interestingNode(state,node,bracketProp){if(node.type.prop(bracketProp))return true;let len=node.to-node.from;return len&&(len>2||/[^\s,.;:]/.test(state.sliceDoc(node.from,node.to)))||node.firstChild}function moveBySyntax(state,start,forward){let pos=syntaxTree(state).resolveInner(start.head);let bracketProp=forward?NodeProp.closedBy:NodeProp.openedBy;for(let at=start.head;;){let next=forward?pos.childAfter(at):pos.childBefore(at);if(!next)break;if(interestingNode(state,next,bracketProp))pos=next;else at=forward?next.to:next.from}let bracket=pos.type.prop(bracketProp),match,newPos;if(bracket&&(match=forward?matchBrackets(state,pos.from,1):matchBrackets(state,pos.to,-1))&&match.matched)newPos=forward?match.end.to:match.end.from;else newPos=forward?pos.to:pos.from;return EditorSelection.cursor(newPos,forward?-1:1)}const cursorSyntaxLeft=view=>moveSel(view,(range=>moveBySyntax(view.state,range,!ltrAtCursor(view))));const cursorSyntaxRight=view=>moveSel(view,(range=>moveBySyntax(view.state,range,ltrAtCursor(view))));function cursorByLine(view,forward){return moveSel(view,(range=>{if(!range.empty)return rangeEnd(range,forward);let moved=view.moveVertically(range,forward);return moved.head!=range.head?moved:view.moveToLineBoundary(range,forward)}))}const cursorLineUp=view=>cursorByLine(view,false);const cursorLineDown=view=>cursorByLine(view,true);function pageHeight(view){return Math.max(view.defaultLineHeight,Math.min(view.dom.clientHeight,innerHeight)-5)}function cursorByPage(view,forward){let{state:state}=view,selection=updateSel(state.selection,(range=>range.empty?view.moveVertically(range,forward,pageHeight(view)):rangeEnd(range,forward)));if(selection.eq(state.selection))return false;let startPos=view.coordsAtPos(state.selection.main.head);let scrollRect=view.scrollDOM.getBoundingClientRect();let effect;if(startPos&&startPos.top>scrollRect.top&&startPos.bottom<scrollRect.bottom&&startPos.top-scrollRect.top<=view.scrollDOM.scrollHeight-view.scrollDOM.scrollTop-view.scrollDOM.clientHeight)effect=EditorView.scrollIntoView(selection.main.head,{y:"start",yMargin:startPos.top-scrollRect.top});view.dispatch(setSel(state,selection),{effects:effect});return true}const cursorPageUp=view=>cursorByPage(view,false);const cursorPageDown=view=>cursorByPage(view,true);function moveByLineBoundary(view,start,forward){let line=view.lineBlockAt(start.head),moved=view.moveToLineBoundary(start,forward);if(moved.head==start.head&&moved.head!=(forward?line.to:line.from))moved=view.moveToLineBoundary(start,forward,false);if(!forward&&moved.head==line.from&&line.length){let space=/^\s*/.exec(view.state.sliceDoc(line.from,Math.min(line.from+100,line.to)))[0].length;if(space&&start.head!=line.from+space)moved=EditorSelection.cursor(line.from+space)}return moved}const cursorLineBoundaryForward=view=>moveSel(view,(range=>moveByLineBoundary(view,range,true)));const cursorLineBoundaryBackward=view=>moveSel(view,(range=>moveByLineBoundary(view,range,false)));const cursorLineBoundaryLeft=view=>moveSel(view,(range=>moveByLineBoundary(view,range,!ltrAtCursor(view))));const cursorLineBoundaryRight=view=>moveSel(view,(range=>moveByLineBoundary(view,range,ltrAtCursor(view))));const cursorLineStart=view=>moveSel(view,(range=>EditorSelection.cursor(view.lineBlockAt(range.head).from,1)));const cursorLineEnd=view=>moveSel(view,(range=>EditorSelection.cursor(view.lineBlockAt(range.head).to,-1)));function toMatchingBracket(state,dispatch,extend){let found=false,selection=updateSel(state.selection,(range=>{let matching=matchBrackets(state,range.head,-1)||matchBrackets(state,range.head,1)||range.head>0&&matchBrackets(state,range.head-1,1)||range.head<state.doc.length&&matchBrackets(state,range.head+1,-1);if(!matching||!matching.end)return range;found=true;let head=matching.start.from==range.head?matching.end.to:matching.end.from;return extend?EditorSelection.range(range.anchor,head):EditorSelection.cursor(head)}));if(!found)return false;dispatch(setSel(state,selection));return true}const cursorMatchingBracket=({state:state,dispatch:dispatch})=>toMatchingBracket(state,dispatch,false);function extendSel(view,how){let selection=updateSel(view.state.selection,(range=>{let head=how(range);return EditorSelection.range(range.anchor,head.head,head.goalColumn)}));if(selection.eq(view.state.selection))return false;view.dispatch(setSel(view.state,selection));return true}function selectByChar(view,forward){return extendSel(view,(range=>view.moveByChar(range,forward)))}const selectCharLeft=view=>selectByChar(view,!ltrAtCursor(view));const selectCharRight=view=>selectByChar(view,ltrAtCursor(view));function selectByGroup(view,forward){return extendSel(view,(range=>view.moveByGroup(range,forward)))}const selectGroupLeft=view=>selectByGroup(view,!ltrAtCursor(view));const selectGroupRight=view=>selectByGroup(view,ltrAtCursor(view));const selectSyntaxLeft=view=>extendSel(view,(range=>moveBySyntax(view.state,range,!ltrAtCursor(view))));const selectSyntaxRight=view=>extendSel(view,(range=>moveBySyntax(view.state,range,ltrAtCursor(view))));function selectByLine(view,forward){return extendSel(view,(range=>view.moveVertically(range,forward)))}const selectLineUp=view=>selectByLine(view,false);const selectLineDown=view=>selectByLine(view,true);function selectByPage(view,forward){return extendSel(view,(range=>view.moveVertically(range,forward,pageHeight(view))))}const selectPageUp=view=>selectByPage(view,false);const selectPageDown=view=>selectByPage(view,true);const selectLineBoundaryForward=view=>extendSel(view,(range=>moveByLineBoundary(view,range,true)));const selectLineBoundaryBackward=view=>extendSel(view,(range=>moveByLineBoundary(view,range,false)));const selectLineBoundaryLeft=view=>extendSel(view,(range=>moveByLineBoundary(view,range,!ltrAtCursor(view))));const selectLineBoundaryRight=view=>extendSel(view,(range=>moveByLineBoundary(view,range,ltrAtCursor(view))));const selectLineStart=view=>extendSel(view,(range=>EditorSelection.cursor(view.lineBlockAt(range.head).from)));const selectLineEnd=view=>extendSel(view,(range=>EditorSelection.cursor(view.lineBlockAt(range.head).to)));const cursorDocStart=({state:state,dispatch:dispatch})=>{dispatch(setSel(state,{anchor:0}));return true};const cursorDocEnd=({state:state,dispatch:dispatch})=>{dispatch(setSel(state,{anchor:state.doc.length}));return true};const selectDocStart=({state:state,dispatch:dispatch})=>{dispatch(setSel(state,{anchor:state.selection.main.anchor,head:0}));return true};const selectDocEnd=({state:state,dispatch:dispatch})=>{dispatch(setSel(state,{anchor:state.selection.main.anchor,head:state.doc.length}));return true};const selectAll=({state:state,dispatch:dispatch})=>{dispatch(state.update({selection:{anchor:0,head:state.doc.length},userEvent:"select"}));return true};const selectLine=({state:state,dispatch:dispatch})=>{let ranges=selectedLineBlocks(state).map((({from:from,to:to})=>EditorSelection.range(from,Math.min(to+1,state.doc.length))));dispatch(state.update({selection:EditorSelection.create(ranges),userEvent:"select"}));return true};const selectParentSyntax=({state:state,dispatch:dispatch})=>{let selection=updateSel(state.selection,(range=>{var _a;let context=syntaxTree(state).resolveInner(range.head,1);while(!(context.from<range.from&&context.to>=range.to||context.to>range.to&&context.from<=range.from||!((_a=context.parent)===null||_a===void 0?void 0:_a.parent)))context=context.parent;return EditorSelection.range(context.to,context.from)}));dispatch(setSel(state,selection));return true};const simplifySelection=({state:state,dispatch:dispatch})=>{let cur=state.selection,selection=null;if(cur.ranges.length>1)selection=EditorSelection.create([cur.main]);else if(!cur.main.empty)selection=EditorSelection.create([EditorSelection.cursor(cur.main.head)]);if(!selection)return false;dispatch(setSel(state,selection));return true};function deleteBy(target,by){if(target.state.readOnly)return false;let event="delete.selection",{state:state}=target;let changes=state.changeByRange((range=>{let{from:from,to:to}=range;if(from==to){let towards=by(from);if(towards<from){event="delete.backward";towards=skipAtomic(target,towards,false)}else if(towards>from){event="delete.forward";towards=skipAtomic(target,towards,true)}from=Math.min(from,towards);to=Math.max(to,towards)}else{from=skipAtomic(target,from,false);to=skipAtomic(target,to,true)}return from==to?{range:range}:{changes:{from:from,to:to},range:EditorSelection.cursor(from)}}));if(changes.changes.empty)return false;target.dispatch(state.update(changes,{scrollIntoView:true,userEvent:event,effects:event=="delete.selection"?EditorView.announce.of(state.phrase("Selection deleted")):undefined}));return true}function skipAtomic(target,pos,forward){if(target instanceof EditorView)for(let ranges of target.state.facet(EditorView.atomicRanges).map((f=>f(target))))ranges.between(pos,pos,((from,to)=>{if(from<pos&&to>pos)pos=forward?to:from}));return pos}const deleteByChar=(target,forward)=>deleteBy(target,(pos=>{let{state:state}=target,line=state.doc.lineAt(pos),before,targetPos;if(!forward&&pos>line.from&&pos<line.from+200&&!/[^ \t]/.test(before=line.text.slice(0,pos-line.from))){if(before[before.length-1]=="\t")return pos-1;let col=countColumn(before,state.tabSize),drop=col%getIndentUnit(state)||getIndentUnit(state);for(let i=0;i<drop&&before[before.length-1-i]==" ";i++)pos--;targetPos=pos}else{targetPos=findClusterBreak(line.text,pos-line.from,forward,forward)+line.from;if(targetPos==pos&&line.number!=(forward?state.doc.lines:1))targetPos+=forward?1:-1}return targetPos}));const deleteCharBackward=view=>deleteByChar(view,false);const deleteCharForward=view=>deleteByChar(view,true);const deleteByGroup=(target,forward)=>deleteBy(target,(start=>{let pos=start,{state:state}=target,line=state.doc.lineAt(pos);let categorize=state.charCategorizer(pos);for(let cat=null;;){if(pos==(forward?line.to:line.from)){if(pos==start&&line.number!=(forward?state.doc.lines:1))pos+=forward?1:-1;break}let next=findClusterBreak(line.text,pos-line.from,forward)+line.from;let nextChar=line.text.slice(Math.min(pos,next)-line.from,Math.max(pos,next)-line.from);let nextCat=categorize(nextChar);if(cat!=null&&nextCat!=cat)break;if(nextChar!=" "||pos!=start)cat=nextCat;pos=next}return pos}));const deleteGroupBackward=target=>deleteByGroup(target,false);const deleteGroupForward=target=>deleteByGroup(target,true);const deleteToLineEnd=view=>deleteBy(view,(pos=>{let lineEnd=view.lineBlockAt(pos).to;return pos<lineEnd?lineEnd:Math.min(view.state.doc.length,pos+1)}));const deleteToLineStart=view=>deleteBy(view,(pos=>{let lineStart=view.lineBlockAt(pos).from;return pos>lineStart?lineStart:Math.max(0,pos-1)}));const splitLine=({state:state,dispatch:dispatch})=>{if(state.readOnly)return false;let changes=state.changeByRange((range=>({changes:{from:range.from,to:range.to,insert:Text.of(["",""])},range:EditorSelection.cursor(range.from)})));dispatch(state.update(changes,{scrollIntoView:true,userEvent:"input"}));return true};const transposeChars=({state:state,dispatch:dispatch})=>{if(state.readOnly)return false;let changes=state.changeByRange((range=>{if(!range.empty||range.from==0||range.from==state.doc.length)return{range:range};let pos=range.from,line=state.doc.lineAt(pos);let from=pos==line.from?pos-1:findClusterBreak(line.text,pos-line.from,false)+line.from;let to=pos==line.to?pos+1:findClusterBreak(line.text,pos-line.from,true)+line.from;return{changes:{from:from,to:to,insert:state.doc.slice(pos,to).append(state.doc.slice(from,pos))},range:EditorSelection.cursor(to)}}));if(changes.changes.empty)return false;dispatch(state.update(changes,{scrollIntoView:true,userEvent:"move.character"}));return true};function selectedLineBlocks(state){let blocks=[],upto=-1;for(let range of state.selection.ranges){let startLine=state.doc.lineAt(range.from),endLine=state.doc.lineAt(range.to);if(!range.empty&&range.to==endLine.from)endLine=state.doc.lineAt(range.to-1);if(upto>=startLine.number){let prev=blocks[blocks.length-1];prev.to=endLine.to;prev.ranges.push(range)}else{blocks.push({from:startLine.from,to:endLine.to,ranges:[range]})}upto=endLine.number+1}return blocks}function moveLine(state,dispatch,forward){if(state.readOnly)return false;let changes=[],ranges=[];for(let block of selectedLineBlocks(state)){if(forward?block.to==state.doc.length:block.from==0)continue;let nextLine=state.doc.lineAt(forward?block.to+1:block.from-1);let size=nextLine.length+1;if(forward){changes.push({from:block.to,to:nextLine.to},{from:block.from,insert:nextLine.text+state.lineBreak});for(let r of block.ranges)ranges.push(EditorSelection.range(Math.min(state.doc.length,r.anchor+size),Math.min(state.doc.length,r.head+size)))}else{changes.push({from:nextLine.from,to:block.from},{from:block.to,insert:state.lineBreak+nextLine.text});for(let r of block.ranges)ranges.push(EditorSelection.range(r.anchor-size,r.head-size))}}if(!changes.length)return false;dispatch(state.update({changes:changes,scrollIntoView:true,selection:EditorSelection.create(ranges,state.selection.mainIndex),userEvent:"move.line"}));return true}const moveLineUp=({state:state,dispatch:dispatch})=>moveLine(state,dispatch,false);const moveLineDown=({state:state,dispatch:dispatch})=>moveLine(state,dispatch,true);function copyLine(state,dispatch,forward){if(state.readOnly)return false;let changes=[];for(let block of selectedLineBlocks(state)){if(forward)changes.push({from:block.from,insert:state.doc.slice(block.from,block.to)+state.lineBreak});else changes.push({from:block.to,insert:state.lineBreak+state.doc.slice(block.from,block.to)})}dispatch(state.update({changes:changes,scrollIntoView:true,userEvent:"input.copyline"}));return true}const copyLineUp=({state:state,dispatch:dispatch})=>copyLine(state,dispatch,false);const copyLineDown=({state:state,dispatch:dispatch})=>copyLine(state,dispatch,true);const deleteLine=view=>{if(view.state.readOnly)return false;let{state:state}=view,changes=state.changes(selectedLineBlocks(state).map((({from:from,to:to})=>{if(from>0)from--;else if(to<state.doc.length)to++;return{from:from,to:to}})));let selection=updateSel(state.selection,(range=>view.moveVertically(range,true))).map(changes);view.dispatch({changes:changes,selection:selection,scrollIntoView:true,userEvent:"delete.line"});return true};function isBetweenBrackets(state,pos){if(/\(\)|\[\]|\{\}/.test(state.sliceDoc(pos-1,pos+1)))return{from:pos,to:pos};let context=syntaxTree(state).resolveInner(pos);let before=context.childBefore(pos),after=context.childAfter(pos),closedBy;if(before&&after&&before.to<=pos&&after.from>=pos&&(closedBy=before.type.prop(NodeProp.closedBy))&&closedBy.indexOf(after.name)>-1&&state.doc.lineAt(before.to).from==state.doc.lineAt(after.from).from)return{from:before.to,to:after.from};return null}const insertNewlineAndIndent=newlineAndIndent(false);const insertBlankLine=newlineAndIndent(true);function newlineAndIndent(atEof){return({state:state,dispatch:dispatch})=>{if(state.readOnly)return false;let changes=state.changeByRange((range=>{let{from:from,to:to}=range,line=state.doc.lineAt(from);let explode=!atEof&&from==to&&isBetweenBrackets(state,from);if(atEof)from=to=(to<=line.to?line:state.doc.lineAt(to)).to;let cx=new IndentContext(state,{simulateBreak:from,simulateDoubleBreak:!!explode});let indent=getIndentation(cx,from);if(indent==null)indent=/^\s*/.exec(state.doc.lineAt(from).text)[0].length;while(to<line.to&&/\s/.test(line.text[to-line.from]))to++;if(explode)({from:from,to:to}=explode);else if(from>line.from&&from<line.from+100&&!/\S/.test(line.text.slice(0,from)))from=line.from;let insert=["",indentString(state,indent)];if(explode)insert.push(indentString(state,cx.lineIndent(line.from,-1)));return{changes:{from:from,to:to,insert:Text.of(insert)},range:EditorSelection.cursor(from+1+insert[1].length)}}));dispatch(state.update(changes,{scrollIntoView:true,userEvent:"input"}));return true}}function changeBySelectedLine(state,f){let atLine=-1;return state.changeByRange((range=>{let changes=[];for(let pos=range.from;pos<=range.to;){let line=state.doc.lineAt(pos);if(line.number>atLine&&(range.empty||range.to>line.from)){f(line,changes,range);atLine=line.number}pos=line.to+1}let changeSet=state.changes(changes);return{changes:changes,range:EditorSelection.range(changeSet.mapPos(range.anchor,1),changeSet.mapPos(range.head,1))}}))}const indentSelection=({state:state,dispatch:dispatch})=>{if(state.readOnly)return false;let updated=Object.create(null);let context=new IndentContext(state,{overrideIndentation:start=>{let found=updated[start];return found==null?-1:found}});let changes=changeBySelectedLine(state,((line,changes,range)=>{let indent=getIndentation(context,line.from);if(indent==null)return;if(!/\S/.test(line.text))indent=0;let cur=/^\s*/.exec(line.text)[0];let norm=indentString(state,indent);if(cur!=norm||range.from<line.from+cur.length){updated[line.from]=indent;changes.push({from:line.from,to:line.from+cur.length,insert:norm})}}));if(!changes.changes.empty)dispatch(state.update(changes,{userEvent:"indent"}));return true};const indentMore=({state:state,dispatch:dispatch})=>{if(state.readOnly)return false;dispatch(state.update(changeBySelectedLine(state,((line,changes)=>{changes.push({from:line.from,insert:state.facet(indentUnit)})})),{userEvent:"input.indent"}));return true};const indentLess=({state:state,dispatch:dispatch})=>{if(state.readOnly)return false;dispatch(state.update(changeBySelectedLine(state,((line,changes)=>{let space=/^\s*/.exec(line.text)[0];if(!space)return;let col=countColumn(space,state.tabSize),keep=0;let insert=indentString(state,Math.max(0,col-getIndentUnit(state)));while(keep<space.length&&keep<insert.length&&space.charCodeAt(keep)==insert.charCodeAt(keep))keep++;changes.push({from:line.from+keep,to:line.from+space.length,insert:insert.slice(keep)})})),{userEvent:"delete.dedent"}));return true};const emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:true},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}];const standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:true},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:true},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:true},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:true},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:true},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:true},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:true},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:true},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:true},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:true},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteToLineStart},{mac:"Mod-Delete",run:deleteToLineEnd}].concat(emacsStyleKeymap.map((b=>({mac:b.key,run:b.run,shift:b.shift}))));const defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:true},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment}].concat(standardKeymap);const indentWithTab={key:"Tab",run:indentMore,shift:indentLess};function crelt(){var elt=arguments[0];if(typeof elt=="string")elt=document.createElement(elt);var i=1,next=arguments[1];if(next&&typeof next=="object"&&next.nodeType==null&&!Array.isArray(next)){for(var name in next)if(Object.prototype.hasOwnProperty.call(next,name)){var value=next[name];if(typeof value=="string")elt.setAttribute(name,value);else if(value!=null)elt[name]=value}i++}for(;i<arguments.length;i++)add(elt,arguments[i]);return elt}function add(elt,child){if(typeof child=="string"){elt.appendChild(document.createTextNode(child))}else if(child==null);else if(child.nodeType!=null){elt.appendChild(child)}else if(Array.isArray(child)){for(var i=0;i<child.length;i++)add(elt,child[i])}else{throw new RangeError("Unsupported child node: "+child)}}const basicNormalize=typeof String.prototype.normalize=="function"?x=>x.normalize("NFKD"):x=>x;class SearchCursor{constructor(text,query,from=0,to=text.length,normalize,test){this.test=test;this.value={from:0,to:0};this.done=false;this.matches=[];this.buffer="";this.bufferPos=0;this.iter=text.iterRange(from,to);this.bufferStart=from;this.normalize=normalize?x=>normalize(basicNormalize(x)):basicNormalize;this.query=this.normalize(query)}peek(){if(this.bufferPos==this.buffer.length){this.bufferStart+=this.buffer.length;this.iter.next();if(this.iter.done)return-1;this.bufferPos=0;this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){while(this.matches.length)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let next=this.peek();if(next<0){this.done=true;return this}let str=fromCodePoint(next),start=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(next);let norm=this.normalize(str);for(let i=0,pos=start;;i++){let code=norm.charCodeAt(i);let match=this.match(code,pos);if(match){this.value=match;return this}if(i==norm.length-1)break;if(pos==start&&i<str.length&&str.charCodeAt(i)==code)pos++}}}match(code,pos){let match=null;for(let i=0;i<this.matches.length;i+=2){let index=this.matches[i],keep=false;if(this.query.charCodeAt(index)==code){if(index==this.query.length-1){match={from:this.matches[i+1],to:pos+1}}else{this.matches[i]++;keep=true}}if(!keep){this.matches.splice(i,2);i-=2}}if(this.query.charCodeAt(0)==code){if(this.query.length==1)match={from:pos,to:pos+1};else this.matches.push(1,pos)}if(match&&this.test&&!this.test(match.from,match.to,this.buffer,this.bufferPos))match=null;return match}}if(typeof Symbol!="undefined")SearchCursor.prototype[Symbol.iterator]=function(){return this};const empty={from:-1,to:-1,match:/.*/.exec("")};const baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(text,query,options,from=0,to=text.length){this.text=text;this.to=to;this.curLine="";this.done=false;this.value=empty;if(/\\[sWDnr]|\n|\r|\[\^/.test(query))return new MultilineRegExpCursor(text,query,options,from,to);this.re=new RegExp(query,baseFlags+((options===null||options===void 0?void 0:options.ignoreCase)?"i":""));this.test=options===null||options===void 0?void 0:options.test;this.iter=text.iter();let startLine=text.lineAt(from);this.curLineStart=startLine.from;this.matchPos=toCharEnd(text,from);this.getLine(this.curLineStart)}getLine(skip){this.iter.next(skip);if(this.iter.lineBreak){this.curLine=""}else{this.curLine=this.iter.value;if(this.curLineStart+this.curLine.length>this.to)this.curLine=this.curLine.slice(0,this.to-this.curLineStart);this.iter.next()}}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1;if(this.curLineStart>this.to)this.curLine="";else this.getLine(0)}next(){for(let off=this.matchPos-this.curLineStart;;){this.re.lastIndex=off;let match=this.matchPos<=this.to&&this.re.exec(this.curLine);if(match){let from=this.curLineStart+match.index,to=from+match[0].length;this.matchPos=toCharEnd(this.text,to+(from==to?1:0));if(from==this.curLineStart+this.curLine.length)this.nextLine();if((from<to||from>this.value.to)&&(!this.test||this.test(from,to,match))){this.value={from:from,to:to,match:match};return this}off=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to){this.nextLine();off=0}else{this.done=true;return this}}}}const flattened=new WeakMap;class FlattenedDoc{constructor(from,text){this.from=from;this.text=text}get to(){return this.from+this.text.length}static get(doc,from,to){let cached=flattened.get(doc);if(!cached||cached.from>=to||cached.to<=from){let flat=new FlattenedDoc(from,doc.sliceString(from,to));flattened.set(doc,flat);return flat}if(cached.from==from&&cached.to==to)return cached;let{text:text,from:cachedFrom}=cached;if(cachedFrom>from){text=doc.sliceString(from,cachedFrom)+text;cachedFrom=from}if(cached.to<to)text+=doc.sliceString(cached.to,to);flattened.set(doc,new FlattenedDoc(cachedFrom,text));return new FlattenedDoc(from,text.slice(from-cachedFrom,to-cachedFrom))}}class MultilineRegExpCursor{constructor(text,query,options,from,to){this.text=text;this.to=to;this.done=false;this.value=empty;this.matchPos=toCharEnd(text,from);this.re=new RegExp(query,baseFlags+((options===null||options===void 0?void 0:options.ignoreCase)?"i":""));this.test=options===null||options===void 0?void 0:options.test;this.flat=FlattenedDoc.get(text,from,this.chunkEnd(from+5e3))}chunkEnd(pos){return pos>=this.to?this.to:this.text.lineAt(pos).to}next(){for(;;){let off=this.re.lastIndex=this.matchPos-this.flat.from;let match=this.re.exec(this.flat.text);if(match&&!match[0]&&match.index==off){this.re.lastIndex=off+1;match=this.re.exec(this.flat.text)}if(match){let from=this.flat.from+match.index,to=from+match[0].length;if((this.flat.to>=this.to||match.index+match[0].length<=this.flat.text.length-10)&&(!this.test||this.test(from,to,match))){this.value={from:from,to:to,match:match};this.matchPos=toCharEnd(this.text,to+(from==to?1:0));return this}}if(this.flat.to==this.to){this.done=true;return this}this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}if(typeof Symbol!="undefined"){RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this}}function validRegExp(source){try{new RegExp(source,baseFlags);return true}catch(_a){return false}}function toCharEnd(text,pos){if(pos>=text.length)return pos;let line=text.lineAt(pos),next;while(pos<line.to&&(next=line.text.charCodeAt(pos-line.from))>=56320&&next<57344)pos++;return pos}function createLineDialog(view){let input=crelt("input",{class:"cm-textfield",name:"line"});let dom=crelt("form",{class:"cm-gotoLine",onkeydown:event=>{if(event.keyCode==27){event.preventDefault();view.dispatch({effects:dialogEffect.of(false)});view.focus()}else if(event.keyCode==13){event.preventDefault();go()}},onsubmit:event=>{event.preventDefault();go()}},crelt("label",view.state.phrase("Go to line"),": ",input)," ",crelt("button",{class:"cm-button",type:"submit"},view.state.phrase("go")));function go(){let match=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(input.value);if(!match)return;let{state:state}=view,startLine=state.doc.lineAt(state.selection.main.head);let[,sign,ln,cl,percent]=match;let col=cl?+cl.slice(1):0;let line=ln?+ln:startLine.number;if(ln&&percent){let pc=line/100;if(sign)pc=pc*(sign=="-"?-1:1)+startLine.number/state.doc.lines;line=Math.round(state.doc.lines*pc)}else if(ln&&sign){line=line*(sign=="-"?-1:1)+startLine.number}let docLine=state.doc.line(Math.max(1,Math.min(state.doc.lines,line)));view.dispatch({effects:dialogEffect.of(false),selection:EditorSelection.cursor(docLine.from+Math.max(0,Math.min(col,docLine.length))),scrollIntoView:true});view.focus()}return{dom:dom}}const dialogEffect=StateEffect.define();const dialogField=StateField.define({create(){return true},update(value,tr){for(let e of tr.effects)if(e.is(dialogEffect))value=e.value;return value},provide:f=>showPanel.from(f,(val=>val?createLineDialog:null))});const gotoLine=view=>{let panel=getPanel(view,createLineDialog);if(!panel){let effects=[dialogEffect.of(true)];if(view.state.field(dialogField,false)==null)effects.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1]));view.dispatch({effects:effects});panel=getPanel(view,createLineDialog)}if(panel)panel.dom.querySelector("input").focus();return true};const baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}});const defaultHighlightOptions={highlightWordAroundCursor:false,minSelectionLength:1,maxMatches:100,wholeWords:false};const highlightConfig=Facet.define({combine(options){return combineConfig(options,defaultHighlightOptions,{highlightWordAroundCursor:(a,b)=>a||b,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(options){let ext=[defaultTheme,matchHighlighter];if(options)ext.push(highlightConfig.of(options));return ext}const matchDeco=Decoration.mark({class:"cm-selectionMatch"});const mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(check,state,from,to){return(from==0||check(state.sliceDoc(from-1,from))!=CharCategory.Word)&&(to==state.doc.length||check(state.sliceDoc(to,to+1))!=CharCategory.Word)}function insideWord(check,state,from,to){return check(state.sliceDoc(from,from+1))==CharCategory.Word&&check(state.sliceDoc(to-1,to))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(view){this.decorations=this.getDeco(view)}update(update){if(update.selectionSet||update.docChanged||update.viewportChanged)this.decorations=this.getDeco(update.view)}getDeco(view){let conf=view.state.facet(highlightConfig);let{state:state}=view,sel=state.selection;if(sel.ranges.length>1)return Decoration.none;let range=sel.main,query,check=null;if(range.empty){if(!conf.highlightWordAroundCursor)return Decoration.none;let word=state.wordAt(range.head);if(!word)return Decoration.none;check=state.charCategorizer(range.head);query=state.sliceDoc(word.from,word.to)}else{let len=range.to-range.from;if(len<conf.minSelectionLength||len>200)return Decoration.none;if(conf.wholeWords){query=state.sliceDoc(range.from,range.to);check=state.charCategorizer(range.head);if(!(insideWordBoundaries(check,state,range.from,range.to)&&insideWord(check,state,range.from,range.to)))return Decoration.none}else{query=state.sliceDoc(range.from,range.to).trim();if(!query)return Decoration.none}}let deco=[];for(let part of view.visibleRanges){let cursor=new SearchCursor(state.doc,query,part.from,part.to);while(!cursor.next().done){let{from:from,to:to}=cursor.value;if(!check||insideWordBoundaries(check,state,from,to)){if(range.empty&&from<=range.from&&to>=range.to)deco.push(mainMatchDeco.range(from,to));else if(from>=range.to||to<=range.from)deco.push(matchDeco.range(from,to));if(deco.length>conf.maxMatches)return Decoration.none}}}return Decoration.set(deco)}},{decorations:v=>v.decorations});const defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const selectWord=({state:state,dispatch:dispatch})=>{let{selection:selection}=state;let newSel=EditorSelection.create(selection.ranges.map((range=>state.wordAt(range.head)||EditorSelection.cursor(range.head))),selection.mainIndex);if(newSel.eq(selection))return false;dispatch(state.update({selection:newSel}));return true};function findNextOccurrence(state,query){let{main:main,ranges:ranges}=state.selection;let word=state.wordAt(main.head),fullWord=word&&word.from==main.from&&word.to==main.to;for(let cycled=false,cursor=new SearchCursor(state.doc,query,ranges[ranges.length-1].to);;){cursor.next();if(cursor.done){if(cycled)return null;cursor=new SearchCursor(state.doc,query,0,Math.max(0,ranges[ranges.length-1].from-1));cycled=true}else{if(cycled&&ranges.some((r=>r.from==cursor.value.from)))continue;if(fullWord){let word=state.wordAt(cursor.value.from);if(!word||word.from!=cursor.value.from||word.to!=cursor.value.to)continue}return cursor.value}}}const selectNextOccurrence=({state:state,dispatch:dispatch})=>{let{ranges:ranges}=state.selection;if(ranges.some((sel=>sel.from===sel.to)))return selectWord({state:state,dispatch:dispatch});let searchedText=state.sliceDoc(ranges[0].from,ranges[0].to);if(state.selection.ranges.some((r=>state.sliceDoc(r.from,r.to)!=searchedText)))return false;let range=findNextOccurrence(state,searchedText);if(!range)return false;dispatch(state.update({selection:state.selection.addRange(EditorSelection.range(range.from,range.to),false),effects:EditorView.scrollIntoView(range.to)}));return true};const searchConfigFacet=Facet.define({combine(configs){return combineConfig(configs,{top:false,caseSensitive:false,literal:false,wholeWord:false,createPanel:view=>new SearchPanel(view)})}});class SearchQuery{constructor(config){this.search=config.search;this.caseSensitive=!!config.caseSensitive;this.literal=!!config.literal;this.regexp=!!config.regexp;this.replace=config.replace||"";this.valid=!!this.search&&(!this.regexp||validRegExp(this.search));this.unquoted=this.unquote(this.search);this.wholeWord=!!config.wholeWord}unquote(text){return this.literal?text:text.replace(/\\([nrt\\])/g,((_,ch)=>ch=="n"?"\n":ch=="r"?"\r":ch=="t"?"\t":"\\"))}eq(other){return this.search==other.search&&this.replace==other.replace&&this.caseSensitive==other.caseSensitive&&this.regexp==other.regexp&&this.wholeWord==other.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(state,from=0,to){let st=state.doc?state:EditorState.create({doc:state});if(to==null)to=st.doc.length;return this.regexp?regexpCursor(this,st,from,to):stringCursor(this,st,from,to)}}class QueryType{constructor(spec){this.spec=spec}}function stringCursor(spec,state,from,to){return new SearchCursor(state.doc,spec.unquoted,from,to,spec.caseSensitive?undefined:x=>x.toLowerCase(),spec.wholeWord?stringWordTest(state.doc,state.charCategorizer(state.selection.main.head)):undefined)}function stringWordTest(doc,categorizer){return(from,to,buf,bufPos)=>{if(bufPos>from||bufPos+buf.length<to){bufPos=Math.max(0,from-2);buf=doc.sliceString(bufPos,Math.min(doc.length,to+2))}return(categorizer(charBefore(buf,from-bufPos))!=CharCategory.Word||categorizer(charAfter(buf,from-bufPos))!=CharCategory.Word)&&(categorizer(charAfter(buf,to-bufPos))!=CharCategory.Word||categorizer(charBefore(buf,to-bufPos))!=CharCategory.Word)}}class StringQuery extends QueryType{constructor(spec){super(spec)}nextMatch(state,curFrom,curTo){let cursor=stringCursor(this.spec,state,curTo,state.doc.length).nextOverlapping();if(cursor.done)cursor=stringCursor(this.spec,state,0,curFrom).nextOverlapping();return cursor.done?null:cursor.value}prevMatchInRange(state,from,to){for(let pos=to;;){let start=Math.max(from,pos-1e4-this.spec.unquoted.length);let cursor=stringCursor(this.spec,state,start,pos),range=null;while(!cursor.nextOverlapping().done)range=cursor.value;if(range)return range;if(start==from)return null;pos-=1e4}}prevMatch(state,curFrom,curTo){return this.prevMatchInRange(state,0,curFrom)||this.prevMatchInRange(state,curTo,state.doc.length)}getReplacement(_result){return this.spec.unquote(this.spec.replace)}matchAll(state,limit){let cursor=stringCursor(this.spec,state,0,state.doc.length),ranges=[];while(!cursor.next().done){if(ranges.length>=limit)return null;ranges.push(cursor.value)}return ranges}highlight(state,from,to,add){let cursor=stringCursor(this.spec,state,Math.max(0,from-this.spec.unquoted.length),Math.min(to+this.spec.unquoted.length,state.doc.length));while(!cursor.next().done)add(cursor.value.from,cursor.value.to)}}function regexpCursor(spec,state,from,to){return new RegExpCursor(state.doc,spec.search,{ignoreCase:!spec.caseSensitive,test:spec.wholeWord?regexpWordTest(state.charCategorizer(state.selection.main.head)):undefined},from,to)}function charBefore(str,index){return str.slice(findClusterBreak(str,index,false),index)}function charAfter(str,index){return str.slice(index,findClusterBreak(str,index))}function regexpWordTest(categorizer){return(_from,_to,match)=>!match[0].length||(categorizer(charBefore(match.input,match.index))!=CharCategory.Word||categorizer(charAfter(match.input,match.index))!=CharCategory.Word)&&(categorizer(charAfter(match.input,match.index+match[0].length))!=CharCategory.Word||categorizer(charBefore(match.input,match.index+match[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(state,curFrom,curTo){let cursor=regexpCursor(this.spec,state,curTo,state.doc.length).next();if(cursor.done)cursor=regexpCursor(this.spec,state,0,curFrom).next();return cursor.done?null:cursor.value}prevMatchInRange(state,from,to){for(let size=1;;size++){let start=Math.max(from,to-size*1e4);let cursor=regexpCursor(this.spec,state,start,to),range=null;while(!cursor.next().done)range=cursor.value;if(range&&(start==from||range.from>start+10))return range;if(start==from)return null}}prevMatch(state,curFrom,curTo){return this.prevMatchInRange(state,0,curFrom)||this.prevMatchInRange(state,curTo,state.doc.length)}getReplacement(result){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,((m,i)=>i=="$"?"$":i=="&"?result.match[0]:i!="0"&&+i<result.match.length?result.match[i]:m)))}matchAll(state,limit){let cursor=regexpCursor(this.spec,state,0,state.doc.length),ranges=[];while(!cursor.next().done){if(ranges.length>=limit)return null;ranges.push(cursor.value)}return ranges}highlight(state,from,to,add){let cursor=regexpCursor(this.spec,state,Math.max(0,from-250),Math.min(to+250,state.doc.length));while(!cursor.next().done)add(cursor.value.from,cursor.value.to)}}const setSearchQuery=StateEffect.define();const togglePanel$1=StateEffect.define();const searchState=StateField.define({create(state){return new SearchState(defaultQuery(state).create(),null)},update(value,tr){for(let effect of tr.effects){if(effect.is(setSearchQuery))value=new SearchState(effect.value.create(),value.panel);else if(effect.is(togglePanel$1))value=new SearchState(value.query,effect.value?createSearchPanel:null)}return value},provide:f=>showPanel.from(f,(val=>val.panel))});class SearchState{constructor(query,panel){this.query=query;this.panel=panel}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"});const searchHighlighter=ViewPlugin.fromClass(class{constructor(view){this.view=view;this.decorations=this.highlight(view.state.field(searchState))}update(update){let state=update.state.field(searchState);if(state!=update.startState.field(searchState)||update.docChanged||update.selectionSet||update.viewportChanged)this.decorations=this.highlight(state)}highlight({query:query,panel:panel}){if(!panel||!query.spec.valid)return Decoration.none;let{view:view}=this;let builder=new RangeSetBuilder;for(let i=0,ranges=view.visibleRanges,l=ranges.length;i<l;i++){let{from:from,to:to}=ranges[i];while(i<l-1&&to>ranges[i+1].from-2*250)to=ranges[++i].to;query.highlight(view.state,from,to,((from,to)=>{let selected=view.state.selection.ranges.some((r=>r.from==from&&r.to==to));builder.add(from,to,selected?selectedMatchMark:matchMark)}))}return builder.finish()}},{decorations:v=>v.decorations});function searchCommand(f){return view=>{let state=view.state.field(searchState,false);return state&&state.query.spec.valid?f(view,state):openSearchPanel(view)}}const findNext=searchCommand(((view,{query:query})=>{let{to:to}=view.state.selection.main;let next=query.nextMatch(view.state,to,to);if(!next)return false;view.dispatch({selection:{anchor:next.from,head:next.to},scrollIntoView:true,effects:announceMatch(view,next),userEvent:"select.search"});return true}));const findPrevious=searchCommand(((view,{query:query})=>{let{state:state}=view,{from:from}=state.selection.main;let range=query.prevMatch(state,from,from);if(!range)return false;view.dispatch({selection:{anchor:range.from,head:range.to},scrollIntoView:true,effects:announceMatch(view,range),userEvent:"select.search"});return true}));const selectMatches=searchCommand(((view,{query:query})=>{let ranges=query.matchAll(view.state,1e3);if(!ranges||!ranges.length)return false;view.dispatch({selection:EditorSelection.create(ranges.map((r=>EditorSelection.range(r.from,r.to)))),userEvent:"select.search.matches"});return true}));const selectSelectionMatches=({state:state,dispatch:dispatch})=>{let sel=state.selection;if(sel.ranges.length>1||sel.main.empty)return false;let{from:from,to:to}=sel.main;let ranges=[],main=0;for(let cur=new SearchCursor(state.doc,state.sliceDoc(from,to));!cur.next().done;){if(ranges.length>1e3)return false;if(cur.value.from==from)main=ranges.length;ranges.push(EditorSelection.range(cur.value.from,cur.value.to))}dispatch(state.update({selection:EditorSelection.create(ranges,main),userEvent:"select.search.matches"}));return true};const replaceNext=searchCommand(((view,{query:query})=>{let{state:state}=view,{from:from,to:to}=state.selection.main;if(state.readOnly)return false;let next=query.nextMatch(state,from,from);if(!next)return false;let changes=[],selection,replacement;let announce=[];if(next.from==from&&next.to==to){replacement=state.toText(query.getReplacement(next));changes.push({from:next.from,to:next.to,insert:replacement});next=query.nextMatch(state,next.from,next.to);announce.push(EditorView.announce.of(state.phrase("replaced match on line $",state.doc.lineAt(from).number)+"."))}if(next){let off=changes.length==0||changes[0].from>=next.to?0:next.to-next.from-replacement.length;selection={anchor:next.from-off,head:next.to-off};announce.push(announceMatch(view,next))}view.dispatch({changes:changes,selection:selection,scrollIntoView:!!selection,effects:announce,userEvent:"input.replace"});return true}));const replaceAll=searchCommand(((view,{query:query})=>{if(view.state.readOnly)return false;let changes=query.matchAll(view.state,1e9).map((match=>{let{from:from,to:to}=match;return{from:from,to:to,insert:query.getReplacement(match)}}));if(!changes.length)return false;let announceText=view.state.phrase("replaced $ matches",changes.length)+".";view.dispatch({changes:changes,effects:EditorView.announce.of(announceText),userEvent:"input.replace.all"});return true}));function createSearchPanel(view){return view.state.facet(searchConfigFacet).createPanel(view)}function defaultQuery(state,fallback){var _a,_b,_c,_d;let sel=state.selection.main;let selText=sel.empty||sel.to>sel.from+100?"":state.sliceDoc(sel.from,sel.to);if(fallback&&!selText)return fallback;let config=state.facet(searchConfigFacet);return new SearchQuery({search:((_a=fallback===null||fallback===void 0?void 0:fallback.literal)!==null&&_a!==void 0?_a:config.literal)?selText:selText.replace(/\n/g,"\\n"),caseSensitive:(_b=fallback===null||fallback===void 0?void 0:fallback.caseSensitive)!==null&&_b!==void 0?_b:config.caseSensitive,literal:(_c=fallback===null||fallback===void 0?void 0:fallback.literal)!==null&&_c!==void 0?_c:config.literal,wholeWord:(_d=fallback===null||fallback===void 0?void 0:fallback.wholeWord)!==null&&_d!==void 0?_d:config.wholeWord})}const openSearchPanel=view=>{let state=view.state.field(searchState,false);if(state&&state.panel){let panel=getPanel(view,createSearchPanel);if(!panel)return false;let searchInput=panel.dom.querySelector("[main-field]");if(searchInput&&searchInput!=view.root.activeElement){let query=defaultQuery(view.state,state.query.spec);if(query.valid)view.dispatch({effects:setSearchQuery.of(query)});searchInput.focus();searchInput.select()}}else{view.dispatch({effects:[togglePanel$1.of(true),state?setSearchQuery.of(defaultQuery(view.state,state.query.spec)):StateEffect.appendConfig.of(searchExtensions)]})}return true};const closeSearchPanel=view=>{let state=view.state.field(searchState,false);if(!state||!state.panel)return false;let panel=getPanel(view,createSearchPanel);if(panel&&panel.dom.contains(view.root.activeElement))view.focus();view.dispatch({effects:togglePanel$1.of(false)});return true};const searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:true},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:true},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:true}];class SearchPanel{constructor(view){this.view=view;let query=this.query=view.state.field(searchState).query.spec;this.commit=this.commit.bind(this);this.searchField=crelt("input",{value:query.search,placeholder:phrase(view,"Find"),"aria-label":phrase(view,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit});this.replaceField=crelt("input",{value:query.replace,placeholder:phrase(view,"Replace"),"aria-label":phrase(view,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit});this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:query.caseSensitive,onchange:this.commit});this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:query.regexp,onchange:this.commit});this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:query.wholeWord,onchange:this.commit});function button(name,onclick,content){return crelt("button",{class:"cm-button",name:name,onclick:onclick,type:"button"},content)}this.dom=crelt("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,button("next",(()=>findNext(view)),[phrase(view,"next")]),button("prev",(()=>findPrevious(view)),[phrase(view,"previous")]),button("select",(()=>selectMatches(view)),[phrase(view,"all")]),crelt("label",null,[this.caseField,phrase(view,"match case")]),crelt("label",null,[this.reField,phrase(view,"regexp")]),crelt("label",null,[this.wordField,phrase(view,"by word")]),...view.state.readOnly?[]:[crelt("br"),this.replaceField,button("replace",(()=>replaceNext(view)),[phrase(view,"replace")]),button("replaceAll",(()=>replaceAll(view)),[phrase(view,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(view),"aria-label":phrase(view,"close"),type:"button"},["×"])])}commit(){let query=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});if(!query.eq(this.query)){this.query=query;this.view.dispatch({effects:setSearchQuery.of(query)})}}keydown(e){if(runScopeHandlers(this.view,e,"search-panel")){e.preventDefault()}else if(e.keyCode==13&&e.target==this.searchField){e.preventDefault();(e.shiftKey?findPrevious:findNext)(this.view)}else if(e.keyCode==13&&e.target==this.replaceField){e.preventDefault();replaceNext(this.view)}}update(update){for(let tr of update.transactions)for(let effect of tr.effects){if(effect.is(setSearchQuery)&&!effect.value.eq(this.query))this.setQuery(effect.value)}}setQuery(query){this.query=query;this.searchField.value=query.search;this.replaceField.value=query.replace;this.caseField.checked=query.caseSensitive;this.reField.checked=query.regexp;this.wordField.checked=query.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(view,phrase){return view.state.phrase(phrase)}const AnnounceMargin=30;const Break=/[\s\.,:;?!]/;function announceMatch(view,{from:from,to:to}){let line=view.state.doc.lineAt(from),lineEnd=view.state.doc.lineAt(to).to;let start=Math.max(line.from,from-AnnounceMargin),end=Math.min(lineEnd,to+AnnounceMargin);let text=view.state.sliceDoc(start,end);if(start!=line.from){for(let i=0;i<AnnounceMargin;i++)if(!Break.test(text[i+1])&&Break.test(text[i])){text=text.slice(i);break}}if(end!=lineEnd){for(let i=text.length-1;i>text.length-AnnounceMargin;i--)if(!Break.test(text[i-1])&&Break.test(text[i])){text=text.slice(0,i);break}}return EditorView.announce.of(`${view.state.phrase("current match")}. ${text} ${view.state.phrase("on line")} ${line.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}});const searchExtensions=[searchState,Prec.lowest(searchHighlighter),baseTheme$2];class CompletionContext{constructor(state,pos,explicit){this.state=state;this.pos=pos;this.explicit=explicit;this.abortListeners=[]}tokenBefore(types){let token=syntaxTree(this.state).resolveInner(this.pos,-1);while(token&&types.indexOf(token.name)<0)token=token.parent;return token?{from:token.from,to:this.pos,text:this.state.sliceDoc(token.from,this.pos),type:token.type}:null}matchBefore(expr){let line=this.state.doc.lineAt(this.pos);let start=Math.max(line.from,this.pos-250);let str=line.text.slice(start-line.from,this.pos-line.from);let found=str.search(ensureAnchor(expr,false));return found<0?null:{from:start+found,to:this.pos,text:str.slice(found)}}get aborted(){return this.abortListeners==null}addEventListener(type,listener){if(type=="abort"&&this.abortListeners)this.abortListeners.push(listener)}}function toSet(chars){let flat=Object.keys(chars).join("");let words=/\w/.test(flat);if(words)flat=flat.replace(/\w/g,"");return`[${words?"\\w":""}${flat.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(options){let first=Object.create(null),rest=Object.create(null);for(let{label:label}of options){first[label[0]]=true;for(let i=1;i<label.length;i++)rest[label[i]]=true}let source=toSet(first)+toSet(rest)+"*$";return[new RegExp("^"+source),new RegExp(source)]}function completeFromList(list){let options=list.map((o=>typeof o=="string"?{label:o}:o));let[validFor,match]=options.every((o=>/^\w+$/.test(o.label)))?[/\w*$/,/\w+$/]:prefixMatch(options);return context=>{let token=context.matchBefore(match);return token||context.explicit?{from:token?token.from:context.pos,options:options,validFor:validFor}:null}}function ifNotIn(nodes,source){return context=>{for(let pos=syntaxTree(context.state).resolveInner(context.pos,-1);pos;pos=pos.parent)if(nodes.indexOf(pos.name)>-1)return null;return source(context)}}class Option{constructor(completion,source,match){this.completion=completion;this.source=source;this.match=match}}function cur(state){return state.selection.main.head}function ensureAnchor(expr,start){var _a;let{source:source}=expr;let addStart=start&&source[0]!="^",addEnd=source[source.length-1]!="$";if(!addStart&&!addEnd)return expr;return new RegExp(`${addStart?"^":""}(?:${source})${addEnd?"$":""}`,(_a=expr.flags)!==null&&_a!==void 0?_a:expr.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(state,text,from,to){return Object.assign(Object.assign({},state.changeByRange((range=>{if(range==state.selection.main)return{changes:{from:from,to:to,insert:text},range:EditorSelection.cursor(from+text.length)};let len=to-from;if(!range.empty||len&&state.sliceDoc(range.from-len,range.from)!=state.sliceDoc(from,to))return{range:range};return{changes:{from:range.from-len,to:range.from,insert:text},range:EditorSelection.cursor(range.from-len+text.length)}}))),{userEvent:"input.complete"})}function applyCompletion(view,option){const apply=option.completion.apply||option.completion.label;let result=option.source;if(typeof apply=="string")view.dispatch(Object.assign(Object.assign({},insertCompletionText(view.state,apply,result.from,result.to)),{annotations:pickedCompletion.of(option.completion)}));else apply(view,option.completion,result.from,result.to)}const SourceCache=new WeakMap;function asSource(source){if(!Array.isArray(source))return source;let known=SourceCache.get(source);if(!known)SourceCache.set(source,known=completeFromList(source));return known}class FuzzyMatcher{constructor(pattern){this.pattern=pattern;this.chars=[];this.folded=[];this.any=[];this.precise=[];this.byWord=[];for(let p=0;p<pattern.length;){let char=codePointAt(pattern,p),size=codePointSize(char);this.chars.push(char);let part=pattern.slice(p,p+size),upper=part.toUpperCase();this.folded.push(codePointAt(upper==part?part.toLowerCase():upper,0));p+=size}this.astral=pattern.length!=this.chars.length}match(word){if(this.pattern.length==0)return[0];if(word.length<this.pattern.length)return null;let{chars:chars,folded:folded,any:any,precise:precise,byWord:byWord}=this;if(chars.length==1){let first=codePointAt(word,0);return first==chars[0]?[0,0,codePointSize(first)]:first==folded[0]?[-200,0,codePointSize(first)]:null}let direct=word.indexOf(this.pattern);if(direct==0)return[0,0,this.pattern.length];let len=chars.length,anyTo=0;if(direct<0){for(let i=0,e=Math.min(word.length,200);i<e&&anyTo<len;){let next=codePointAt(word,i);if(next==chars[anyTo]||next==folded[anyTo])any[anyTo++]=i;i+=codePointSize(next)}if(anyTo<len)return null}let preciseTo=0;let byWordTo=0,byWordFolded=false;let adjacentTo=0,adjacentStart=-1,adjacentEnd=-1;let hasLower=/[a-z]/.test(word),wordAdjacent=true;for(let i=0,e=Math.min(word.length,200),prevType=0;i<e&&byWordTo<len;){let next=codePointAt(word,i);if(direct<0){if(preciseTo<len&&next==chars[preciseTo])precise[preciseTo++]=i;if(adjacentTo<len){if(next==chars[adjacentTo]||next==folded[adjacentTo]){if(adjacentTo==0)adjacentStart=i;adjacentEnd=i+1;adjacentTo++}else{adjacentTo=0}}}let ch,type=next<255?next>=48&&next<=57||next>=97&&next<=122?2:next>=65&&next<=90?1:0:(ch=fromCodePoint(next))!=ch.toLowerCase()?1:ch!=ch.toUpperCase()?2:0;if(!i||type==1&&hasLower||prevType==0&&type!=0){if(chars[byWordTo]==next||folded[byWordTo]==next&&(byWordFolded=true))byWord[byWordTo++]=i;else if(byWord.length)wordAdjacent=false}prevType=type;i+=codePointSize(next)}if(byWordTo==len&&byWord[0]==0&&wordAdjacent)return this.result(-100+(byWordFolded?-200:0),byWord,word);if(adjacentTo==len&&adjacentStart==0)return[-200-word.length,0,adjacentEnd];if(direct>-1)return[-700-word.length,direct,direct+this.pattern.length];if(adjacentTo==len)return[-200+-700-word.length,adjacentStart,adjacentEnd];if(byWordTo==len)return this.result(-100+(byWordFolded?-200:0)+-700+(wordAdjacent?0:-1100),byWord,word);return chars.length==2?null:this.result((any[0]?-700:0)+-200+-1100,any,word)}result(score,positions,word){let result=[score-word.length],i=1;for(let pos of positions){let to=pos+(this.astral?codePointSize(codePointAt(word,pos)):1);if(i>1&&result[i-1]==pos)result[i-1]=to;else{result[i++]=pos;result[i++]=to}}return result}}const completionConfig=Facet.define({combine(configs){return combineConfig(configs,{activateOnTyping:true,selectOnOpen:true,override:null,closeOnBlur:true,maxRenderedOptions:100,defaultKeymap:true,optionClass:()=>"",aboveCursor:false,icons:true,addToOptions:[],compareCompletions:(a,b)=>a.label.localeCompare(b.label),interactionDelay:75},{defaultKeymap:(a,b)=>a&&b,closeOnBlur:(a,b)=>a&&b,icons:(a,b)=>a&&b,optionClass:(a,b)=>c=>joinClass(a(c),b(c)),addToOptions:(a,b)=>a.concat(b)})}});function joinClass(a,b){return a?b?a+" "+b:a:b}function optionContent(config){let content=config.addToOptions.slice();if(config.icons)content.push({render(completion){let icon=document.createElement("div");icon.classList.add("cm-completionIcon");if(completion.type)icon.classList.add(...completion.type.split(/\s+/g).map((cls=>"cm-completionIcon-"+cls)));icon.setAttribute("aria-hidden","true");return icon},position:20});content.push({render(completion,_s,match){let labelElt=document.createElement("span");labelElt.className="cm-completionLabel";let{label:label}=completion,off=0;for(let j=1;j<match.length;){let from=match[j++],to=match[j++];if(from>off)labelElt.appendChild(document.createTextNode(label.slice(off,from)));let span=labelElt.appendChild(document.createElement("span"));span.appendChild(document.createTextNode(label.slice(from,to)));span.className="cm-completionMatchedText";off=to}if(off<label.length)labelElt.appendChild(document.createTextNode(label.slice(off)));return labelElt},position:50},{render(completion){if(!completion.detail)return null;let detailElt=document.createElement("span");detailElt.className="cm-completionDetail";detailElt.textContent=completion.detail;return detailElt},position:80});return content.sort(((a,b)=>a.position-b.position)).map((a=>a.render))}function rangeAroundSelected(total,selected,max){if(total<=max)return{from:0,to:total};if(selected<0)selected=0;if(selected<=total>>1){let off=Math.floor(selected/max);return{from:off*max,to:(off+1)*max}}let off=Math.floor((total-selected)/max);return{from:total-(off+1)*max,to:total-off*max}}class CompletionTooltip{constructor(view,stateField){this.view=view;this.stateField=stateField;this.info=null;this.placeInfo={read:()=>this.measureInfo(),write:pos=>this.positionInfo(pos),key:this};this.space=null;let cState=view.state.field(stateField);let{options:options,selected:selected}=cState.open;let config=view.state.facet(completionConfig);this.optionContent=optionContent(config);this.optionClass=config.optionClass;this.range=rangeAroundSelected(options.length,selected,config.maxRenderedOptions);this.dom=document.createElement("div");this.dom.className="cm-tooltip-autocomplete";this.dom.addEventListener("mousedown",(e=>{for(let dom=e.target,match;dom&&dom!=this.dom;dom=dom.parentNode){if(dom.nodeName=="LI"&&(match=/-(\d+)$/.exec(dom.id))&&+match[1]<options.length){applyCompletion(view,options[+match[1]]);e.preventDefault();return}}}));this.list=this.dom.appendChild(this.createListBox(options,cState.id,this.range));this.list.addEventListener("scroll",(()=>{if(this.info)this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(update){var _a,_b,_c;let cState=update.state.field(this.stateField);let prevState=update.startState.field(this.stateField);if(cState!=prevState){this.updateSel();if(((_a=cState.open)===null||_a===void 0?void 0:_a.disabled)!=((_b=prevState.open)===null||_b===void 0?void 0:_b.disabled))this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!((_c=cState.open)===null||_c===void 0?void 0:_c.disabled))}}positioned(space){this.space=space;if(this.info)this.view.requestMeasure(this.placeInfo)}updateSel(){let cState=this.view.state.field(this.stateField),open=cState.open;if(open.selected>-1&&open.selected<this.range.from||open.selected>=this.range.to){this.range=rangeAroundSelected(open.options.length,open.selected,this.view.state.facet(completionConfig).maxRenderedOptions);this.list.remove();this.list=this.dom.appendChild(this.createListBox(open.options,cState.id,this.range));this.list.addEventListener("scroll",(()=>{if(this.info)this.view.requestMeasure(this.placeInfo)}))}if(this.updateSelectedOption(open.selected)){if(this.info){this.info.remove();this.info=null}let{completion:completion}=open.options[open.selected];let{info:info}=completion;if(!info)return;let infoResult=typeof info==="string"?document.createTextNode(info):info(completion);if(!infoResult)return;if("then"in infoResult){infoResult.then((node=>{if(node&&this.view.state.field(this.stateField,false)==cState)this.addInfoPane(node)})).catch((e=>logException(this.view.state,e,"completion info")))}else{this.addInfoPane(infoResult)}}}addInfoPane(content){let dom=this.info=document.createElement("div");dom.className="cm-tooltip cm-completionInfo";dom.appendChild(content);this.dom.appendChild(dom);this.view.requestMeasure(this.placeInfo)}updateSelectedOption(selected){let set=null;for(let opt=this.list.firstChild,i=this.range.from;opt;opt=opt.nextSibling,i++){if(i==selected){if(!opt.hasAttribute("aria-selected")){opt.setAttribute("aria-selected","true");set=opt}}else{if(opt.hasAttribute("aria-selected"))opt.removeAttribute("aria-selected")}}if(set)scrollIntoView(this.list,set);return set}measureInfo(){let sel=this.dom.querySelector("[aria-selected]");if(!sel||!this.info)return null;let listRect=this.dom.getBoundingClientRect();let infoRect=this.info.getBoundingClientRect();let selRect=sel.getBoundingClientRect();let space=this.space;if(!space){let win=this.dom.ownerDocument.defaultView||window;space={left:0,top:0,right:win.innerWidth,bottom:win.innerHeight}}if(selRect.top>Math.min(space.bottom,listRect.bottom)-10||selRect.bottom<Math.max(space.top,listRect.top)+10)return null;let rtl=this.view.textDirection==Direction.RTL,left=rtl,narrow=false,maxWidth;let top="",bottom="";let spaceLeft=listRect.left-space.left,spaceRight=space.right-listRect.right;if(left&&spaceLeft<Math.min(infoRect.width,spaceRight))left=false;else if(!left&&spaceRight<Math.min(infoRect.width,spaceLeft))left=true;if(infoRect.width<=(left?spaceLeft:spaceRight)){top=Math.max(space.top,Math.min(selRect.top,space.bottom-infoRect.height))-listRect.top+"px";maxWidth=Math.min(400,left?spaceLeft:spaceRight)+"px"}else{narrow=true;maxWidth=Math.min(400,(rtl?listRect.right:space.right-listRect.left)-30)+"px";let spaceBelow=space.bottom-listRect.bottom;if(spaceBelow>=infoRect.height||spaceBelow>listRect.top)top=selRect.bottom-listRect.top+"px";else bottom=listRect.bottom-selRect.top+"px"}return{top:top,bottom:bottom,maxWidth:maxWidth,class:narrow?rtl?"left-narrow":"right-narrow":left?"left":"right"}}positionInfo(pos){if(this.info){if(pos){this.info.style.top=pos.top;this.info.style.bottom=pos.bottom;this.info.style.maxWidth=pos.maxWidth;this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+pos.class}else{this.info.style.top="-1e6px"}}}createListBox(options,id,range){const ul=document.createElement("ul");ul.id=id;ul.setAttribute("role","listbox");ul.setAttribute("aria-expanded","true");ul.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let i=range.from;i<range.to;i++){let{completion:completion,match:match}=options[i];const li=ul.appendChild(document.createElement("li"));li.id=id+"-"+i;li.setAttribute("role","option");let cls=this.optionClass(completion);if(cls)li.className=cls;for(let source of this.optionContent){let node=source(completion,this.view.state,match);if(node)li.appendChild(node)}}if(range.from)ul.classList.add("cm-completionListIncompleteTop");if(range.to<options.length)ul.classList.add("cm-completionListIncompleteBottom");return ul}}function completionTooltip(stateField){return view=>new CompletionTooltip(view,stateField)}function scrollIntoView(container,element){let parent=container.getBoundingClientRect();let self=element.getBoundingClientRect();if(self.top<parent.top)container.scrollTop-=parent.top-self.top;else if(self.bottom>parent.bottom)container.scrollTop+=self.bottom-parent.bottom}function score(option){return(option.boost||0)*100+(option.apply?10:0)+(option.info?5:0)+(option.type?1:0)}function sortOptions(active,state){let options=[],i=0;for(let a of active)if(a.hasResult()){if(a.result.filter===false){let getMatch=a.result.getMatch;for(let option of a.result.options){let match=[1e9-i++];if(getMatch)for(let n of getMatch(option))match.push(n);options.push(new Option(option,a,match))}}else{let matcher=new FuzzyMatcher(state.sliceDoc(a.from,a.to)),match;for(let option of a.result.options)if(match=matcher.match(option.label)){if(option.boost!=null)match[0]+=option.boost;options.push(new Option(option,a,match))}}}let result=[],prev=null;let compare=state.facet(completionConfig).compareCompletions;for(let opt of options.sort(((a,b)=>b.match[0]-a.match[0]||compare(a.completion,b.completion)))){if(!prev||prev.label!=opt.completion.label||prev.detail!=opt.completion.detail||prev.type!=null&&opt.completion.type!=null&&prev.type!=opt.completion.type||prev.apply!=opt.completion.apply)result.push(opt);else if(score(opt.completion)>score(prev))result[result.length-1]=opt;prev=opt.completion}return result}class CompletionDialog{constructor(options,attrs,tooltip,timestamp,selected,disabled){this.options=options;this.attrs=attrs;this.tooltip=tooltip;this.timestamp=timestamp;this.selected=selected;this.disabled=disabled}setSelected(selected,id){return selected==this.selected||selected>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(id,selected),this.tooltip,this.timestamp,selected,this.disabled)}static build(active,state,id,prev,conf){let options=sortOptions(active,state);if(!options.length){return prev&&active.some((a=>a.state==1))?new CompletionDialog(prev.options,prev.attrs,prev.tooltip,prev.timestamp,prev.selected,true):null}let selected=state.facet(completionConfig).selectOnOpen?0:-1;if(prev&&prev.selected!=selected&&prev.selected!=-1){let selectedValue=prev.options[prev.selected].completion;for(let i=0;i<options.length;i++)if(options[i].completion==selectedValue){selected=i;break}}return new CompletionDialog(options,makeAttrs(id,selected),{pos:active.reduce(((a,b)=>b.hasResult()?Math.min(a,b.from):a),1e8),create:completionTooltip(completionState),above:conf.aboveCursor},prev?prev.timestamp:Date.now(),selected,false)}map(changes){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:changes.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class CompletionState{constructor(active,id,open){this.active=active;this.id=id;this.open=open}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(tr){let{state:state}=tr,conf=state.facet(completionConfig);let sources=conf.override||state.languageDataAt("autocomplete",cur(state)).map(asSource);let active=sources.map((source=>{let value=this.active.find((s=>s.source==source))||new ActiveSource(source,this.active.some((a=>a.state!=0))?1:0);return value.update(tr,conf)}));if(active.length==this.active.length&&active.every(((a,i)=>a==this.active[i])))active=this.active;let open=this.open;if(tr.selection||active.some((a=>a.hasResult()&&tr.changes.touchesRange(a.from,a.to)))||!sameResults(active,this.active))open=CompletionDialog.build(active,state,this.id,this.open,conf);else if(open&&open.disabled&&!active.some((a=>a.state==1)))open=null;else if(open&&tr.docChanged)open=open.map(tr.changes);if(!open&&active.every((a=>a.state!=1))&&active.some((a=>a.hasResult())))active=active.map((a=>a.hasResult()?new ActiveSource(a.source,0):a));for(let effect of tr.effects)if(effect.is(setSelectedEffect))open=open&&open.setSelected(effect.value,this.id);return active==this.active&&open==this.open?this:new CompletionState(active,this.id,open)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:baseAttrs}}function sameResults(a,b){if(a==b)return true;for(let iA=0,iB=0;;){while(iA<a.length&&!a[iA].hasResult)iA++;while(iB<b.length&&!b[iB].hasResult)iB++;let endA=iA==a.length,endB=iB==b.length;if(endA||endB)return endA==endB;if(a[iA++].result!=b[iB++].result)return false}}const baseAttrs={"aria-autocomplete":"list"};function makeAttrs(id,selected){let result={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":id};if(selected>-1)result["aria-activedescendant"]=id+"-"+selected;return result}const none=[];function getUserEvent(tr){return tr.isUserEvent("input.type")?"input":tr.isUserEvent("delete.backward")?"delete":null}class ActiveSource{constructor(source,state,explicitPos=-1){this.source=source;this.state=state;this.explicitPos=explicitPos}hasResult(){return false}update(tr,conf){let event=getUserEvent(tr),value=this;if(event)value=value.handleUserEvent(tr,event,conf);else if(tr.docChanged)value=value.handleChange(tr);else if(tr.selection&&value.state!=0)value=new ActiveSource(value.source,0);for(let effect of tr.effects){if(effect.is(startCompletionEffect))value=new ActiveSource(value.source,1,effect.value?cur(tr.state):-1);else if(effect.is(closeCompletionEffect))value=new ActiveSource(value.source,0);else if(effect.is(setActiveEffect))for(let active of effect.value)if(active.source==value.source)value=active}return value}handleUserEvent(tr,type,conf){return type=="delete"||!conf.activateOnTyping?this.map(tr.changes):new ActiveSource(this.source,1)}handleChange(tr){return tr.changes.touchesRange(cur(tr.startState))?new ActiveSource(this.source,0):this.map(tr.changes)}map(changes){return changes.empty||this.explicitPos<0?this:new ActiveSource(this.source,this.state,changes.mapPos(this.explicitPos))}}class ActiveResult extends ActiveSource{constructor(source,explicitPos,result,from,to){super(source,2,explicitPos);this.result=result;this.from=from;this.to=to}hasResult(){return true}handleUserEvent(tr,type,conf){var _a;let from=tr.changes.mapPos(this.from),to=tr.changes.mapPos(this.to,1);let pos=cur(tr.state);if((this.explicitPos<0?pos<=from:pos<this.from)||pos>to||type=="delete"&&cur(tr.startState)==this.from)return new ActiveSource(this.source,type=="input"&&conf.activateOnTyping?1:0);let explicitPos=this.explicitPos<0?-1:tr.changes.mapPos(this.explicitPos),updated;if(checkValid(this.result.validFor,tr.state,from,to))return new ActiveResult(this.source,explicitPos,this.result,from,to);if(this.result.update&&(updated=this.result.update(this.result,from,to,new CompletionContext(tr.state,pos,explicitPos>=0))))return new ActiveResult(this.source,explicitPos,updated,updated.from,(_a=updated.to)!==null&&_a!==void 0?_a:cur(tr.state));return new ActiveSource(this.source,1,explicitPos)}handleChange(tr){return tr.changes.touchesRange(this.from,this.to)?new ActiveSource(this.source,0):this.map(tr.changes)}map(mapping){return mapping.empty?this:new ActiveResult(this.source,this.explicitPos<0?-1:mapping.mapPos(this.explicitPos),this.result,mapping.mapPos(this.from),mapping.mapPos(this.to,1))}}function checkValid(validFor,state,from,to){if(!validFor)return false;let text=state.sliceDoc(from,to);return typeof validFor=="function"?validFor(text,from,to,state):ensureAnchor(validFor,true).test(text)}const startCompletionEffect=StateEffect.define();const closeCompletionEffect=StateEffect.define();const setActiveEffect=StateEffect.define({map(sources,mapping){return sources.map((s=>s.map(mapping)))}});const setSelectedEffect=StateEffect.define();const completionState=StateField.define({create(){return CompletionState.start()},update(value,tr){return value.update(tr)},provide:f=>[showTooltip.from(f,(val=>val.tooltip)),EditorView.contentAttributes.from(f,(state=>state.attrs))]});function moveCompletionSelection(forward,by="option"){return view=>{let cState=view.state.field(completionState,false);if(!cState||!cState.open||cState.open.disabled||Date.now()-cState.open.timestamp<view.state.facet(completionConfig).interactionDelay)return false;let step=1,tooltip;if(by=="page"&&(tooltip=getTooltip(view,cState.open.tooltip)))step=Math.max(2,Math.floor(tooltip.dom.offsetHeight/tooltip.dom.querySelector("li").offsetHeight)-1);let{length:length}=cState.open.options;let selected=cState.open.selected>-1?cState.open.selected+step*(forward?1:-1):forward?0:length-1;if(selected<0)selected=by=="page"?0:length-1;else if(selected>=length)selected=by=="page"?length-1:0;view.dispatch({effects:setSelectedEffect.of(selected)});return true}}const acceptCompletion=view=>{let cState=view.state.field(completionState,false);if(view.state.readOnly||!cState||!cState.open||cState.open.selected<0||Date.now()-cState.open.timestamp<view.state.facet(completionConfig).interactionDelay)return false;if(!cState.open.disabled)applyCompletion(view,cState.open.options[cState.open.selected]);return true};const startCompletion=view=>{let cState=view.state.field(completionState,false);if(!cState)return false;view.dispatch({effects:startCompletionEffect.of(true)});return true};const closeCompletion=view=>{let cState=view.state.field(completionState,false);if(!cState||!cState.active.some((a=>a.state!=0)))return false;view.dispatch({effects:closeCompletionEffect.of(null)});return true};class RunningQuery{constructor(active,context){this.active=active;this.context=context;this.time=Date.now();this.updates=[];this.done=undefined}}const DebounceTime=50,MaxUpdateCount=50,MinAbortTime=1e3;const completionPlugin=ViewPlugin.fromClass(class{constructor(view){this.view=view;this.debounceUpdate=-1;this.running=[];this.debounceAccept=-1;this.composing=0;for(let active of view.state.field(completionState).active)if(active.state==1)this.startQuery(active)}update(update){let cState=update.state.field(completionState);if(!update.selectionSet&&!update.docChanged&&update.startState.field(completionState)==cState)return;let doesReset=update.transactions.some((tr=>(tr.selection||tr.docChanged)&&!getUserEvent(tr)));for(let i=0;i<this.running.length;i++){let query=this.running[i];if(doesReset||query.updates.length+update.transactions.length>MaxUpdateCount&&Date.now()-query.time>MinAbortTime){for(let handler of query.context.abortListeners){try{handler()}catch(e){logException(this.view.state,e)}}query.context.abortListeners=null;this.running.splice(i--,1)}else{query.updates.push(...update.transactions)}}if(this.debounceUpdate>-1)clearTimeout(this.debounceUpdate);this.debounceUpdate=cState.active.some((a=>a.state==1&&!this.running.some((q=>q.active.source==a.source))))?setTimeout((()=>this.startUpdate()),DebounceTime):-1;if(this.composing!=0)for(let tr of update.transactions){if(getUserEvent(tr)=="input")this.composing=2;else if(this.composing==2&&tr.selection)this.composing=3}}startUpdate(){this.debounceUpdate=-1;let{state:state}=this.view,cState=state.field(completionState);for(let active of cState.active){if(active.state==1&&!this.running.some((r=>r.active.source==active.source)))this.startQuery(active)}}startQuery(active){let{state:state}=this.view,pos=cur(state);let context=new CompletionContext(state,pos,active.explicitPos==pos);let pending=new RunningQuery(active,context);this.running.push(pending);Promise.resolve(active.source(context)).then((result=>{if(!pending.context.aborted){pending.done=result||null;this.scheduleAccept()}}),(err=>{this.view.dispatch({effects:closeCompletionEffect.of(null)});logException(this.view.state,err)}))}scheduleAccept(){if(this.running.every((q=>q.done!==undefined)))this.accept();else if(this.debounceAccept<0)this.debounceAccept=setTimeout((()=>this.accept()),DebounceTime)}accept(){var _a;if(this.debounceAccept>-1)clearTimeout(this.debounceAccept);this.debounceAccept=-1;let updated=[];let conf=this.view.state.facet(completionConfig);for(let i=0;i<this.running.length;i++){let query=this.running[i];if(query.done===undefined)continue;this.running.splice(i--,1);if(query.done){let active=new ActiveResult(query.active.source,query.active.explicitPos,query.done,query.done.from,(_a=query.done.to)!==null&&_a!==void 0?_a:cur(query.updates.length?query.updates[0].startState:this.view.state));for(let tr of query.updates)active=active.update(tr,conf);if(active.hasResult()){updated.push(active);continue}}let current=this.view.state.field(completionState).active.find((a=>a.source==query.active.source));if(current&&current.state==1){if(query.done==null){let active=new ActiveSource(query.active.source,0);for(let tr of query.updates)active=active.update(tr,conf);if(active.state!=1)updated.push(active)}else{this.startQuery(current)}}}if(updated.length)this.view.dispatch({effects:setActiveEffect.of(updated)})}},{eventHandlers:{blur(){let state=this.view.state.field(completionState,false);if(state&&state.tooltip&&this.view.state.facet(completionConfig).closeOnBlur)this.view.dispatch({effects:closeCompletionEffect.of(null)})},compositionstart(){this.composing=1},compositionend(){if(this.composing==3){setTimeout((()=>this.view.dispatch({effects:startCompletionEffect.of(false)})),20)}this.composing=0}}});const baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:`${400}px`,boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`${30}px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`${30}px`},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(field,line,from,to){this.field=field;this.line=line;this.from=from;this.to=to}}class FieldRange{constructor(field,from,to){this.field=field;this.from=from;this.to=to}map(changes){let from=changes.mapPos(this.from,-1,MapMode.TrackDel);let to=changes.mapPos(this.to,1,MapMode.TrackDel);return from==null||to==null?null:new FieldRange(this.field,from,to)}}class Snippet{constructor(lines,fieldPositions){this.lines=lines;this.fieldPositions=fieldPositions}instantiate(state,pos){let text=[],lineStart=[pos];let lineObj=state.doc.lineAt(pos),baseIndent=/^\s*/.exec(lineObj.text)[0];for(let line of this.lines){if(text.length){let indent=baseIndent,tabs=/^\t*/.exec(line)[0].length;for(let i=0;i<tabs;i++)indent+=state.facet(indentUnit);lineStart.push(pos+indent.length-tabs);line=indent+line.slice(tabs)}text.push(line);pos+=line.length+1}let ranges=this.fieldPositions.map((pos=>new FieldRange(pos.field,lineStart[pos.line]+pos.from,lineStart[pos.line]+pos.to)));return{text:text,ranges:ranges}}static parse(template){let fields=[];let lines=[],positions=[],m;for(let line of template.split(/\r\n?|\n/)){while(m=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(line)){let seq=m[1]?+m[1]:null,name=m[2]||m[3]||"",found=-1;for(let i=0;i<fields.length;i++){if(seq!=null?fields[i].seq==seq:name?fields[i].name==name:false)found=i}if(found<0){let i=0;while(i<fields.length&&(seq==null||fields[i].seq!=null&&fields[i].seq<seq))i++;fields.splice(i,0,{seq:seq,name:name});found=i;for(let pos of positions)if(pos.field>=found)pos.field++}positions.push(new FieldPos(found,lines.length,m.index,m.index+name.length));line=line.slice(0,m.index)+name+line.slice(m.index+m[0].length)}for(let esc;esc=/\\([{}])/.exec(line);){line=line.slice(0,esc.index)+esc[1]+line.slice(esc.index+esc[0].length);for(let pos of positions)if(pos.line==lines.length&&pos.from>esc.index){pos.from--;pos.to--}}lines.push(line)}return new Snippet(lines,positions)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let span=document.createElement("span");span.className="cm-snippetFieldPosition";return span}ignoreEvent(){return false}}});let fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(ranges,active){this.ranges=ranges;this.active=active;this.deco=Decoration.set(ranges.map((r=>(r.from==r.to?fieldMarker:fieldRange).range(r.from,r.to))))}map(changes){let ranges=[];for(let r of this.ranges){let mapped=r.map(changes);if(!mapped)return null;ranges.push(mapped)}return new ActiveSnippet(ranges,this.active)}selectionInsideField(sel){return sel.ranges.every((range=>this.ranges.some((r=>r.field==this.active&&r.from<=range.from&&r.to>=range.to))))}}const setActive=StateEffect.define({map(value,changes){return value&&value.map(changes)}});const moveToField=StateEffect.define();const snippetState=StateField.define({create(){return null},update(value,tr){for(let effect of tr.effects){if(effect.is(setActive))return effect.value;if(effect.is(moveToField)&&value)return new ActiveSnippet(value.ranges,effect.value)}if(value&&tr.docChanged)value=value.map(tr.changes);if(value&&tr.selection&&!value.selectionInsideField(tr.selection))value=null;return value},provide:f=>EditorView.decorations.from(f,(val=>val?val.deco:Decoration.none))});function fieldSelection(ranges,field){return EditorSelection.create(ranges.filter((r=>r.field==field)).map((r=>EditorSelection.range(r.from,r.to))))}function snippet(template){let snippet=Snippet.parse(template);return(editor,_completion,from,to)=>{let{text:text,ranges:ranges}=snippet.instantiate(editor.state,from);let spec={changes:{from:from,to:to,insert:Text.of(text)},scrollIntoView:true};if(ranges.length)spec.selection=fieldSelection(ranges,0);if(ranges.length>1){let active=new ActiveSnippet(ranges,0);let effects=spec.effects=[setActive.of(active)];if(editor.state.field(snippetState,false)===undefined)effects.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}editor.dispatch(editor.state.update(spec))}}function moveField(dir){return({state:state,dispatch:dispatch})=>{let active=state.field(snippetState,false);if(!active||dir<0&&active.active==0)return false;let next=active.active+dir,last=dir>0&&!active.ranges.some((r=>r.field==next+dir));dispatch(state.update({selection:fieldSelection(active.ranges,next),effects:setActive.of(last?null:new ActiveSnippet(active.ranges,next))}));return true}}const clearSnippet=({state:state,dispatch:dispatch})=>{let active=state.field(snippetState,false);if(!active)return false;dispatch(state.update({effects:setActive.of(null)}));return true};const nextSnippetField=moveField(1);const prevSnippetField=moveField(-1);const defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}];const snippetKeymap=Facet.define({combine(maps){return maps.length?maps[0]:defaultSnippetKeymap}});const addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],(state=>state.facet(snippetKeymap))));function snippetCompletion(template,completion){return Object.assign(Object.assign({},completion),{apply:snippet(template)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(event,view){let active=view.state.field(snippetState,false),pos;if(!active||(pos=view.posAtCoords({x:event.clientX,y:event.clientY}))==null)return false;let match=active.ranges.find((r=>r.from<=pos&&r.to>=pos));if(!match||match.field==active.active)return false;view.dispatch({selection:fieldSelection(active.ranges,match.field),effects:setActive.of(active.ranges.some((r=>r.field>match.field))?new ActiveSnippet(active.ranges,match.field):null)});return true}});const defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]};const closeBracketEffect=StateEffect.define({map(value,mapping){let mapped=mapping.mapPos(value,-1,MapMode.TrackAfter);return mapped==null?undefined:mapped}});const skipBracketEffect=StateEffect.define({map(value,mapping){return mapping.mapPos(value)}});const closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(value,tr){if(tr.selection){let lineStart=tr.state.doc.lineAt(tr.selection.main.head).from;let prevLineStart=tr.startState.doc.lineAt(tr.startState.selection.main.head).from;if(lineStart!=tr.changes.mapPos(prevLineStart,-1))value=RangeSet.empty}value=value.map(tr.changes);for(let effect of tr.effects){if(effect.is(closeBracketEffect))value=value.update({add:[closedBracket.range(effect.value,effect.value+1)]});else if(effect.is(skipBracketEffect))value=value.update({filter:from=>from!=effect.value})}return value}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(ch){for(let i=0;i<definedClosing.length;i+=2)if(definedClosing.charCodeAt(i)==ch)return definedClosing.charAt(i+1);return fromCodePoint(ch<128?ch:ch+1)}function config$1(state,pos){return state.languageDataAt("closeBrackets",pos)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent);const inputHandler=EditorView.inputHandler.of(((view,from,to,insert)=>{if((android$1?view.composing:view.compositionStarted)||view.state.readOnly)return false;let sel=view.state.selection.main;if(insert.length>2||insert.length==2&&codePointSize(codePointAt(insert,0))==1||from!=sel.from||to!=sel.to)return false;let tr=insertBracket(view.state,insert);if(!tr)return false;view.dispatch(tr);return true}));const deleteBracketPair=({state:state,dispatch:dispatch})=>{if(state.readOnly)return false;let conf=config$1(state,state.selection.main.head);let tokens=conf.brackets||defaults.brackets;let dont=null,changes=state.changeByRange((range=>{if(range.empty){let before=prevChar(state.doc,range.head);for(let token of tokens){if(token==before&&nextChar(state.doc,range.head)==closing(codePointAt(token,0)))return{changes:{from:range.head-token.length,to:range.head+token.length},range:EditorSelection.cursor(range.head-token.length)}}}return{range:dont=range}}));if(!dont)dispatch(state.update(changes,{scrollIntoView:true,userEvent:"delete.backward"}));return!dont};const closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(state,bracket){let conf=config$1(state,state.selection.main.head);let tokens=conf.brackets||defaults.brackets;for(let tok of tokens){let closed=closing(codePointAt(tok,0));if(bracket==tok)return closed==tok?handleSame(state,tok,tokens.indexOf(tok+tok+tok)>-1,conf):handleOpen(state,tok,closed,conf.before||defaults.before);if(bracket==closed&&closedBracketAt(state,state.selection.main.from))return handleClose(state,tok,closed)}return null}function closedBracketAt(state,pos){let found=false;state.field(bracketState).between(0,state.doc.length,(from=>{if(from==pos)found=true}));return found}function nextChar(doc,pos){let next=doc.sliceString(pos,pos+2);return next.slice(0,codePointSize(codePointAt(next,0)))}function prevChar(doc,pos){let prev=doc.sliceString(pos-2,pos);return codePointSize(codePointAt(prev,0))==prev.length?prev:prev.slice(1)}function handleOpen(state,open,close,closeBefore){let dont=null,changes=state.changeByRange((range=>{if(!range.empty)return{changes:[{insert:open,from:range.from},{insert:close,from:range.to}],effects:closeBracketEffect.of(range.to+open.length),range:EditorSelection.range(range.anchor+open.length,range.head+open.length)};let next=nextChar(state.doc,range.head);if(!next||/\s/.test(next)||closeBefore.indexOf(next)>-1)return{changes:{insert:open+close,from:range.head},effects:closeBracketEffect.of(range.head+open.length),range:EditorSelection.cursor(range.head+open.length)};return{range:dont=range}}));return dont?null:state.update(changes,{scrollIntoView:true,userEvent:"input.type"})}function handleClose(state,_open,close){let dont=null,moved=state.selection.ranges.map((range=>{if(range.empty&&nextChar(state.doc,range.head)==close)return EditorSelection.cursor(range.head+close.length);return dont=range}));return dont?null:state.update({selection:EditorSelection.create(moved,state.selection.mainIndex),scrollIntoView:true,effects:state.selection.ranges.map((({from:from})=>skipBracketEffect.of(from)))})}function handleSame(state,token,allowTriple,config){let stringPrefixes=config.stringPrefixes||defaults.stringPrefixes;let dont=null,changes=state.changeByRange((range=>{if(!range.empty)return{changes:[{insert:token,from:range.from},{insert:token,from:range.to}],effects:closeBracketEffect.of(range.to+token.length),range:EditorSelection.range(range.anchor+token.length,range.head+token.length)};let pos=range.head,next=nextChar(state.doc,pos),start;if(next==token){if(nodeStart(state,pos)){return{changes:{insert:token+token,from:pos},effects:closeBracketEffect.of(pos+token.length),range:EditorSelection.cursor(pos+token.length)}}else if(closedBracketAt(state,pos)){let isTriple=allowTriple&&state.sliceDoc(pos,pos+token.length*3)==token+token+token;return{range:EditorSelection.cursor(pos+token.length*(isTriple?3:1)),effects:skipBracketEffect.of(pos)}}}else if(allowTriple&&state.sliceDoc(pos-2*token.length,pos)==token+token&&(start=canStartStringAt(state,pos-2*token.length,stringPrefixes))>-1&&nodeStart(state,start)){return{changes:{insert:token+token+token+token,from:pos},effects:closeBracketEffect.of(pos+token.length),range:EditorSelection.cursor(pos+token.length)}}else if(state.charCategorizer(pos)(next)!=CharCategory.Word){if(canStartStringAt(state,pos,stringPrefixes)>-1&&!probablyInString(state,pos,token,stringPrefixes))return{changes:{insert:token+token,from:pos},effects:closeBracketEffect.of(pos+token.length),range:EditorSelection.cursor(pos+token.length)}}return{range:dont=range}}));return dont?null:state.update(changes,{scrollIntoView:true,userEvent:"input.type"})}function nodeStart(state,pos){let tree=syntaxTree(state).resolveInner(pos+1);return tree.parent&&tree.from==pos}function probablyInString(state,pos,quoteToken,prefixes){let node=syntaxTree(state).resolveInner(pos,-1);let maxPrefix=prefixes.reduce(((m,p)=>Math.max(m,p.length)),0);for(let i=0;i<5;i++){let start=state.sliceDoc(node.from,Math.min(node.to,node.from+quoteToken.length+maxPrefix));let quotePos=start.indexOf(quoteToken);if(!quotePos||quotePos>-1&&prefixes.indexOf(start.slice(0,quotePos))>-1){let first=node.firstChild;while(first&&first.from==node.from&&first.to-first.from>quoteToken.length+quotePos){if(state.sliceDoc(first.to-quoteToken.length,first.to)==quoteToken)return false;first=first.firstChild}return true}let parent=node.to==pos&&node.parent;if(!parent)break;node=parent}return false}function canStartStringAt(state,pos,prefixes){let charCat=state.charCategorizer(pos);if(charCat(state.sliceDoc(pos-1,pos))!=CharCategory.Word)return pos;for(let prefix of prefixes){let start=pos-prefix.length;if(state.sliceDoc(start,pos)==prefix&&charCat(state.sliceDoc(start-1,start))!=CharCategory.Word)return start}return-1}function autocompletion(config={}){return[completionState,completionConfig.of(config),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(true)},{key:"ArrowUp",run:moveCompletionSelection(false)},{key:"PageDown",run:moveCompletionSelection(true,"page")},{key:"PageUp",run:moveCompletionSelection(false,"page")},{key:"Enter",run:acceptCompletion}];const completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],(state=>state.facet(completionConfig).defaultKeymap?[completionKeymap]:[])));class SelectedDiagnostic{constructor(from,to,diagnostic){this.from=from;this.to=to;this.diagnostic=diagnostic}}class LintState{constructor(diagnostics,panel,selected){this.diagnostics=diagnostics;this.panel=panel;this.selected=selected}static init(diagnostics,panel,state){let markedDiagnostics=diagnostics;let diagnosticFilter=state.facet(lintConfig).markerFilter;if(diagnosticFilter)markedDiagnostics=diagnosticFilter(markedDiagnostics);let ranges=Decoration.set(markedDiagnostics.map((d=>d.from==d.to||d.from==d.to-1&&state.doc.lineAt(d.from).to==d.from?Decoration.widget({widget:new DiagnosticWidget(d),diagnostic:d}).range(d.from):Decoration.mark({attributes:{class:"cm-lintRange cm-lintRange-"+d.severity},diagnostic:d}).range(d.from,d.to))),true);return new LintState(ranges,panel,findDiagnostic(ranges))}}function findDiagnostic(diagnostics,diagnostic=null,after=0){let found=null;diagnostics.between(after,1e9,((from,to,{spec:spec})=>{if(diagnostic&&spec.diagnostic!=diagnostic)return;found=new SelectedDiagnostic(from,to,spec.diagnostic);return false}));return found}function hideTooltip(tr,tooltip){return!!(tr.effects.some((e=>e.is(setDiagnosticsEffect)))||tr.changes.touchesRange(tooltip.pos))}function maybeEnableLint(state,effects){return state.field(lintState,false)?effects:effects.concat(StateEffect.appendConfig.of([lintState,EditorView.decorations.compute([lintState],(state=>{let{selected:selected,panel:panel}=state.field(lintState);return!selected||!panel||selected.from==selected.to?Decoration.none:Decoration.set([activeMark.range(selected.from,selected.to)])})),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme]))}function setDiagnostics(state,diagnostics){return{effects:maybeEnableLint(state,[setDiagnosticsEffect.of(diagnostics)])}}const setDiagnosticsEffect=StateEffect.define();const togglePanel=StateEffect.define();const movePanelSelection=StateEffect.define();const lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(value,tr){if(tr.docChanged){let mapped=value.diagnostics.map(tr.changes),selected=null;if(value.selected){let selPos=tr.changes.mapPos(value.selected.from,1);selected=findDiagnostic(mapped,value.selected.diagnostic,selPos)||findDiagnostic(mapped,null,selPos)}value=new LintState(mapped,value.panel,selected)}for(let effect of tr.effects){if(effect.is(setDiagnosticsEffect)){value=LintState.init(effect.value,value.panel,tr.state)}else if(effect.is(togglePanel)){value=new LintState(value.diagnostics,effect.value?LintPanel.open:null,value.selected)}else if(effect.is(movePanelSelection)){value=new LintState(value.diagnostics,value.panel,effect.value)}}return value},provide:f=>[showPanel.from(f,(val=>val.panel)),EditorView.decorations.from(f,(s=>s.diagnostics))]});const activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(view,pos,side){let{diagnostics:diagnostics}=view.state.field(lintState);let found=[],stackStart=2e8,stackEnd=0;diagnostics.between(pos-(side<0?1:0),pos+(side>0?1:0),((from,to,{spec:spec})=>{if(pos>=from&&pos<=to&&(from==to||(pos>from||side>0)&&(pos<to||side<0))){found.push(spec.diagnostic);stackStart=Math.min(from,stackStart);stackEnd=Math.max(to,stackEnd)}}));let diagnosticFilter=view.state.facet(lintConfig).tooltipFilter;if(diagnosticFilter)found=diagnosticFilter(found);if(!found.length)return null;return{pos:stackStart,end:stackEnd,above:view.state.doc.lineAt(stackStart).to<stackEnd,create(){return{dom:diagnosticsTooltip(view,found)}}}}function diagnosticsTooltip(view,diagnostics){return crelt("ul",{class:"cm-tooltip-lint"},diagnostics.map((d=>renderDiagnostic(view,d,false))))}const openLintPanel=view=>{let field=view.state.field(lintState,false);if(!field||!field.panel)view.dispatch({effects:maybeEnableLint(view.state,[togglePanel.of(true)])});let panel=getPanel(view,LintPanel.open);if(panel)panel.dom.querySelector(".cm-panel-lint ul").focus();return true};const closeLintPanel=view=>{let field=view.state.field(lintState,false);if(!field||!field.panel)return false;view.dispatch({effects:togglePanel.of(false)});return true};const nextDiagnostic=view=>{let field=view.state.field(lintState,false);if(!field)return false;let sel=view.state.selection.main,next=field.diagnostics.iter(sel.to+1);if(!next.value){next=field.diagnostics.iter(0);if(!next.value||next.from==sel.from&&next.to==sel.to)return false}view.dispatch({selection:{anchor:next.from,head:next.to},scrollIntoView:true});return true};const lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:true},{key:"F8",run:nextDiagnostic}];const lintPlugin=ViewPlugin.fromClass(class{constructor(view){this.view=view;this.timeout=-1;this.set=true;let{delay:delay}=view.state.facet(lintConfig);this.lintTime=Date.now()+delay;this.run=this.run.bind(this);this.timeout=setTimeout(this.run,delay)}run(){let now=Date.now();if(now<this.lintTime-10){setTimeout(this.run,this.lintTime-now)}else{this.set=false;let{state:state}=this.view,{sources:sources}=state.facet(lintConfig);Promise.all(sources.map((source=>Promise.resolve(source(this.view))))).then((annotations=>{let all=annotations.reduce(((a,b)=>a.concat(b)));if(this.view.state.doc==state.doc)this.view.dispatch(setDiagnostics(this.view.state,all))}),(error=>{logException(this.view.state,error)}))}}update(update){let config=update.state.facet(lintConfig);if(update.docChanged||config!=update.startState.facet(lintConfig)){this.lintTime=Date.now()+config.delay;if(!this.set){this.set=true;this.timeout=setTimeout(this.run,config.delay)}}}force(){if(this.set){this.lintTime=Date.now();this.run()}}destroy(){clearTimeout(this.timeout)}});const lintConfig=Facet.define({combine(input){return Object.assign({sources:input.map((i=>i.source))},combineConfig(input.map((i=>i.config)),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:lintPlugin});function linter(source,config={}){return lintConfig.of({source:source,config:config})}function assignKeys(actions){let assigned=[];if(actions)actions:for(let{name:name}of actions){for(let i=0;i<name.length;i++){let ch=name[i];if(/[a-zA-Z]/.test(ch)&&!assigned.some((c=>c.toLowerCase()==ch.toLowerCase()))){assigned.push(ch);continue actions}}assigned.push("")}return assigned}function renderDiagnostic(view,diagnostic,inPanel){var _a;let keys=inPanel?assignKeys(diagnostic.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+diagnostic.severity},crelt("span",{class:"cm-diagnosticText"},diagnostic.renderMessage?diagnostic.renderMessage():diagnostic.message),(_a=diagnostic.actions)===null||_a===void 0?void 0:_a.map(((action,i)=>{let click=e=>{e.preventDefault();let found=findDiagnostic(view.state.field(lintState).diagnostics,diagnostic);if(found)action.apply(view,found.from,found.to)};let{name:name}=action,keyIndex=keys[i]?name.indexOf(keys[i]):-1;let nameElt=keyIndex<0?name:[name.slice(0,keyIndex),crelt("u",name.slice(keyIndex,keyIndex+1)),name.slice(keyIndex+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:click,onmousedown:click,"aria-label":` Action: ${name}${keyIndex<0?"":` (access key "${keys[i]})"`}.`},nameElt)})),diagnostic.source&&crelt("div",{class:"cm-diagnosticSource"},diagnostic.source))}class DiagnosticWidget extends WidgetType{constructor(diagnostic){super();this.diagnostic=diagnostic}eq(other){return other.diagnostic==this.diagnostic}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class PanelItem{constructor(view,diagnostic){this.diagnostic=diagnostic;this.id="item_"+Math.floor(Math.random()*4294967295).toString(16);this.dom=renderDiagnostic(view,diagnostic,true);this.dom.id=this.id;this.dom.setAttribute("role","option")}}class LintPanel{constructor(view){this.view=view;this.items=[];let onkeydown=event=>{if(event.keyCode==27){closeLintPanel(this.view);this.view.focus()}else if(event.keyCode==38||event.keyCode==33){this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length)}else if(event.keyCode==40||event.keyCode==34){this.moveSelection((this.selectedIndex+1)%this.items.length)}else if(event.keyCode==36){this.moveSelection(0)}else if(event.keyCode==35){this.moveSelection(this.items.length-1)}else if(event.keyCode==13){this.view.focus()}else if(event.keyCode>=65&&event.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:diagnostic}=this.items[this.selectedIndex],keys=assignKeys(diagnostic.actions);for(let i=0;i<keys.length;i++)if(keys[i].toUpperCase().charCodeAt(0)==event.keyCode){let found=findDiagnostic(this.view.state.field(lintState).diagnostics,diagnostic);if(found)diagnostic.actions[i].apply(view,found.from,found.to)}}else{return}event.preventDefault()};let onclick=event=>{for(let i=0;i<this.items.length;i++){if(this.items[i].dom.contains(event.target))this.moveSelection(i)}};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:onkeydown,onclick:onclick});this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"×"));this.update()}get selectedIndex(){let selected=this.view.state.field(lintState).selected;if(!selected)return-1;for(let i=0;i<this.items.length;i++)if(this.items[i].diagnostic==selected.diagnostic)return i;return-1}update(){let{diagnostics:diagnostics,selected:selected}=this.view.state.field(lintState);let i=0,needsSync=false,newSelectedItem=null;diagnostics.between(0,this.view.state.doc.length,((_start,_end,{spec:spec})=>{let found=-1,item;for(let j=i;j<this.items.length;j++)if(this.items[j].diagnostic==spec.diagnostic){found=j;break}if(found<0){item=new PanelItem(this.view,spec.diagnostic);this.items.splice(i,0,item);needsSync=true}else{item=this.items[found];if(found>i){this.items.splice(i,found-i);needsSync=true}}if(selected&&item.diagnostic==selected.diagnostic){if(!item.dom.hasAttribute("aria-selected")){item.dom.setAttribute("aria-selected","true");newSelectedItem=item}}else if(item.dom.hasAttribute("aria-selected")){item.dom.removeAttribute("aria-selected")}i++}));while(i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0)){needsSync=true;this.items.pop()}if(this.items.length==0){this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")}));needsSync=true}if(newSelectedItem){this.list.setAttribute("aria-activedescendant",newSelectedItem.id);this.view.requestMeasure({key:this,read:()=>({sel:newSelectedItem.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:sel,panel:panel})=>{if(sel.top<panel.top)this.list.scrollTop-=panel.top-sel.top;else if(sel.bottom>panel.bottom)this.list.scrollTop+=sel.bottom-panel.bottom}})}else if(this.selectedIndex<0){this.list.removeAttribute("aria-activedescendant")}if(needsSync)this.sync()}sync(){let domPos=this.list.firstChild;function rm(){let prev=domPos;domPos=prev.nextSibling;prev.remove()}for(let item of this.items){if(item.dom.parentNode==this.list){while(domPos!=item.dom)rm();domPos=item.dom.nextSibling}else{this.list.insertBefore(item.dom,domPos)}}while(domPos)rm()}moveSelection(selectedIndex){if(this.selectedIndex<0)return;let field=this.view.state.field(lintState);let selection=findDiagnostic(field.diagnostics,this.items[selectedIndex].diagnostic);if(!selection)return;this.view.dispatch({selection:{anchor:selection.from,head:selection.to},scrollIntoView:true,effects:movePanelSelection.of(selection)})}static open(view){return new LintPanel(view)}}function svg(content,attrs=`viewBox="0 0 40 40"`){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${attrs}>${encodeURIComponent(content)}</svg>')`}function underline(color){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${color}" fill="none" stroke-width=".7"/>`,`width="6" height="3"`)}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class LintGutterMarker extends GutterMarker{constructor(diagnostics){super();this.diagnostics=diagnostics;this.severity=diagnostics.reduce(((max,d)=>{let s=d.severity;return s=="error"||s=="warning"&&max=="info"?s:max}),"info")}toDOM(view){let elt=document.createElement("div");elt.className="cm-lint-marker cm-lint-marker-"+this.severity;let diagnostics=this.diagnostics;let diagnosticsFilter=view.state.facet(lintGutterConfig).tooltipFilter;if(diagnosticsFilter)diagnostics=diagnosticsFilter(diagnostics);if(diagnostics.length)elt.onmouseover=()=>gutterMarkerMouseOver(view,elt,diagnostics);return elt}}function trackHoverOn(view,marker){let mousemove=event=>{let rect=marker.getBoundingClientRect();if(event.clientX>rect.left-10&&event.clientX<rect.right+10&&event.clientY>rect.top-10&&event.clientY<rect.bottom+10)return;for(let target=event.target;target;target=target.parentNode){if(target.nodeType==1&&target.classList.contains("cm-tooltip-lint"))return}window.removeEventListener("mousemove",mousemove);if(view.state.field(lintGutterTooltip))view.dispatch({effects:setLintGutterTooltip.of(null)})};window.addEventListener("mousemove",mousemove)}function gutterMarkerMouseOver(view,marker,diagnostics){function hovered(){let line=view.elementAtHeight(marker.getBoundingClientRect().top+5-view.documentTop);const linePos=view.coordsAtPos(line.from);if(linePos){view.dispatch({effects:setLintGutterTooltip.of({pos:line.from,above:false,create(){return{dom:diagnosticsTooltip(view,diagnostics),getCoords:()=>marker.getBoundingClientRect()}}})})}marker.onmouseout=marker.onmousemove=null;trackHoverOn(view,marker)}let{hoverTime:hoverTime}=view.state.facet(lintGutterConfig);let hoverTimeout=setTimeout(hovered,hoverTime);marker.onmouseout=()=>{clearTimeout(hoverTimeout);marker.onmouseout=marker.onmousemove=null};marker.onmousemove=()=>{clearTimeout(hoverTimeout);hoverTimeout=setTimeout(hovered,hoverTime)}}function markersForDiagnostics(doc,diagnostics){let byLine=Object.create(null);for(let diagnostic of diagnostics){let line=doc.lineAt(diagnostic.from);(byLine[line.from]||(byLine[line.from]=[])).push(diagnostic)}let markers=[];for(let line in byLine){markers.push(new LintGutterMarker(byLine[line]).range(+line))}return RangeSet.of(markers,true)}const lintGutterExtension=gutter({class:"cm-gutter-lint",markers:view=>view.state.field(lintGutterMarkers)});const lintGutterMarkers=StateField.define({create(){return RangeSet.empty},update(markers,tr){markers=markers.map(tr.changes);let diagnosticFilter=tr.state.facet(lintGutterConfig).markerFilter;for(let effect of tr.effects){if(effect.is(setDiagnosticsEffect)){let diagnostics=effect.value;if(diagnosticFilter)diagnostics=diagnosticFilter(diagnostics||[]);markers=markersForDiagnostics(tr.state.doc,diagnostics.slice(0))}}return markers}});const setLintGutterTooltip=StateEffect.define();const lintGutterTooltip=StateField.define({create(){return null},update(tooltip,tr){if(tooltip&&tr.docChanged)tooltip=hideTooltip(tr,tooltip)?null:Object.assign(Object.assign({},tooltip),{pos:tr.changes.mapPos(tooltip.pos)});return tr.effects.reduce(((t,e)=>e.is(setLintGutterTooltip)?e.value:t),tooltip)},provide:field=>showTooltip.from(field)});const lintGutterTheme=EditorView.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:svg(`<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>`)},".cm-lint-marker-warning":{content:svg(`<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>`)},".cm-lint-marker-error":{content:svg(`<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>`)}});const lintGutterConfig=Facet.define({combine(configs){return combineConfig(configs,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function lintGutter(config={}){return[lintGutterConfig.of(config),lintGutterMarkers,lintGutterExtension,lintGutterTheme,lintGutterTooltip]}const basicSetup=(()=>[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(true),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:true}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])])();class Stack{constructor(p,stack,state,reducePos,pos,score,buffer,bufferBase,curContext,lookAhead=0,parent){this.p=p;this.stack=stack;this.state=state;this.reducePos=reducePos;this.pos=pos;this.score=score;this.buffer=buffer;this.bufferBase=bufferBase;this.curContext=curContext;this.lookAhead=lookAhead;this.parent=parent}toString(){return`[${this.stack.filter(((_,i)=>i%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(p,state,pos=0){let cx=p.parser.context;return new Stack(p,[],state,pos,pos,0,[],0,cx?new StackContext(cx,cx.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(state,start){this.stack.push(this.state,start,this.bufferBase+this.buffer.length);this.state=state}reduce(action){let depth=action>>19,type=action&65535;let{parser:parser}=this.p;let dPrec=parser.dynamicPrecedence(type);if(dPrec)this.score+=dPrec;if(depth==0){this.pushState(parser.getGoto(this.state,type,true),this.reducePos);if(type<parser.minRepeatTerm)this.storeNode(type,this.reducePos,this.reducePos,4,true);this.reduceContext(type,this.reducePos);return}let base=this.stack.length-(depth-1)*3-(action&262144?6:0);let start=this.stack[base-2];let bufferBase=this.stack[base-1],count=this.bufferBase+this.buffer.length-bufferBase;if(type<parser.minRepeatTerm||action&131072){let pos=parser.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(type,start,pos,count+4,true)}if(action&262144){this.state=this.stack[base]}else{let baseStateID=this.stack[base-3];this.state=parser.getGoto(baseStateID,type,true)}while(this.stack.length>base)this.stack.pop();this.reduceContext(type,start)}storeNode(term,start,end,size=4,isReduce=false){if(term==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let cur=this,top=this.buffer.length;if(top==0&&cur.parent){top=cur.bufferBase-cur.parent.bufferBase;cur=cur.parent}if(top>0&&cur.buffer[top-4]==0&&cur.buffer[top-1]>-1){if(start==end)return;if(cur.buffer[top-2]>=start){cur.buffer[top-2]=end;return}}}if(!isReduce||this.pos==end){this.buffer.push(term,start,end,size)}else{let index=this.buffer.length;if(index>0&&this.buffer[index-4]!=0)while(index>0&&this.buffer[index-2]>end){this.buffer[index]=this.buffer[index-4];this.buffer[index+1]=this.buffer[index-3];this.buffer[index+2]=this.buffer[index-2];this.buffer[index+3]=this.buffer[index-1];index-=4;if(size>4)size-=4}this.buffer[index]=term;this.buffer[index+1]=start;this.buffer[index+2]=end;this.buffer[index+3]=size}}shift(action,next,nextEnd){let start=this.pos;if(action&131072){this.pushState(action&65535,this.pos)}else if((action&262144)==0){let nextState=action,{parser:parser}=this.p;if(nextEnd>this.pos||next<=parser.maxNode){this.pos=nextEnd;if(!parser.stateFlag(nextState,1))this.reducePos=nextEnd}this.pushState(nextState,start);this.shiftContext(next,start);if(next<=parser.maxNode)this.buffer.push(next,start,nextEnd,4)}else{this.pos=nextEnd;this.shiftContext(next,start);if(next<=this.p.parser.maxNode)this.buffer.push(next,start,nextEnd,4)}}apply(action,next,nextEnd){if(action&65536)this.reduce(action);else this.shift(action,next,nextEnd)}useNode(value,next){let index=this.p.reused.length-1;if(index<0||this.p.reused[index]!=value){this.p.reused.push(value);index++}let start=this.pos;this.reducePos=this.pos=start+value.length;this.pushState(next,start);this.buffer.push(index,start,this.reducePos,-1);if(this.curContext)this.updateContext(this.curContext.tracker.reuse(this.curContext.context,value,this,this.p.stream.reset(this.pos-value.length)))}split(){let parent=this;let off=parent.buffer.length;while(off>0&&parent.buffer[off-2]>parent.reducePos)off-=4;let buffer=parent.buffer.slice(off),base=parent.bufferBase+off;while(parent&&base==parent.bufferBase)parent=parent.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,buffer,base,this.curContext,this.lookAhead,parent)}recoverByDelete(next,nextEnd){let isNode=next<=this.p.parser.maxNode;if(isNode)this.storeNode(next,this.pos,nextEnd,4);this.storeNode(0,this.pos,nextEnd,isNode?8:4);this.pos=this.reducePos=nextEnd;this.score-=190}canShift(term){for(let sim=new SimulatedStack(this);;){let action=this.p.parser.stateSlot(sim.state,4)||this.p.parser.hasAction(sim.state,term);if(action==0)return false;if((action&65536)==0)return true;sim.reduce(action)}}recoverByInsert(next){if(this.stack.length>=300)return[];let nextStates=this.p.parser.nextStates(this.state);if(nextStates.length>4<<1||this.stack.length>=120){let best=[];for(let i=0,s;i<nextStates.length;i+=2){if((s=nextStates[i+1])!=this.state&&this.p.parser.hasAction(s,next))best.push(nextStates[i],s)}if(this.stack.length<120)for(let i=0;best.length<4<<1&&i<nextStates.length;i+=2){let s=nextStates[i+1];if(!best.some(((v,i)=>i&1&&v==s)))best.push(nextStates[i],s)}nextStates=best}let result=[];for(let i=0;i<nextStates.length&&result.length<4;i+=2){let s=nextStates[i+1];if(s==this.state)continue;let stack=this.split();stack.pushState(s,this.pos);stack.storeNode(0,stack.pos,stack.pos,4,true);stack.shiftContext(nextStates[i],this.pos);stack.score-=200;result.push(stack)}return result}forceReduce(){let reduce=this.p.parser.stateSlot(this.state,5);if((reduce&65536)==0)return false;let{parser:parser}=this.p;if(!parser.validAction(this.state,reduce)){let depth=reduce>>19,term=reduce&65535;let target=this.stack.length-depth*3;if(target<0||parser.getGoto(this.stack[target],term,false)<0)return false;this.storeNode(0,this.reducePos,this.reducePos,4,true);this.score-=100}this.reducePos=this.pos;this.reduce(reduce);return true}forceAll(){while(!this.p.parser.stateFlag(this.state,2)){if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,true);break}}return this}get deadEnd(){if(this.stack.length!=3)return false;let{parser:parser}=this.p;return parser.data[parser.stateSlot(this.state,1)]==65535&&!parser.stateSlot(this.state,4)}restart(){this.state=this.stack[0];this.stack.length=0}sameState(other){if(this.state!=other.state||this.stack.length!=other.stack.length)return false;for(let i=0;i<this.stack.length;i+=3)if(this.stack[i]!=other.stack[i])return false;return true}get parser(){return this.p.parser}dialectEnabled(dialectID){return this.p.parser.dialect.flags[dialectID]}shiftContext(term,start){if(this.curContext)this.updateContext(this.curContext.tracker.shift(this.curContext.context,term,this,this.p.stream.reset(start)))}reduceContext(term,start){if(this.curContext)this.updateContext(this.curContext.tracker.reduce(this.curContext.context,term,this,this.p.stream.reset(start)))}emitContext(){let last=this.buffer.length-1;if(last<0||this.buffer[last]!=-3)this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let last=this.buffer.length-1;if(last<0||this.buffer[last]!=-4)this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(context){if(context!=this.curContext.context){let newCx=new StackContext(this.curContext.tracker,context);if(newCx.hash!=this.curContext.hash)this.emitContext();this.curContext=newCx}}setLookAhead(lookAhead){if(lookAhead>this.lookAhead){this.emitLookAhead();this.lookAhead=lookAhead}}close(){if(this.curContext&&this.curContext.tracker.strict)this.emitContext();if(this.lookAhead>0)this.emitLookAhead()}}class StackContext{constructor(tracker,context){this.tracker=tracker;this.context=context;this.hash=tracker.strict?tracker.hash(context):0}}var Recover;(function(Recover){Recover[Recover["Insert"]=200]="Insert";Recover[Recover["Delete"]=190]="Delete";Recover[Recover["Reduce"]=100]="Reduce";Recover[Recover["MaxNext"]=4]="MaxNext";Recover[Recover["MaxInsertStackDepth"]=300]="MaxInsertStackDepth";Recover[Recover["DampenInsertStackDepth"]=120]="DampenInsertStackDepth"})(Recover||(Recover={}));class SimulatedStack{constructor(start){this.start=start;this.state=start.state;this.stack=start.stack;this.base=this.stack.length}reduce(action){let term=action&65535,depth=action>>19;if(depth==0){if(this.stack==this.start.stack)this.stack=this.stack.slice();this.stack.push(this.state,0,0);this.base+=3}else{this.base-=(depth-1)*3}let goto=this.start.p.parser.getGoto(this.stack[this.base-3],term,true);this.state=goto}}class StackBufferCursor{constructor(stack,pos,index){this.stack=stack;this.pos=pos;this.index=index;this.buffer=stack.buffer;if(this.index==0)this.maybeNext()}static create(stack,pos=stack.bufferBase+stack.buffer.length){return new StackBufferCursor(stack,pos,pos-stack.bufferBase)}maybeNext(){let next=this.stack.parent;if(next!=null){this.index=this.stack.bufferBase-next.bufferBase;this.stack=next;this.buffer=next.buffer}}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4;this.pos-=4;if(this.index==0)this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}class CachedToken{constructor(){this.start=-1;this.value=-1;this.end=-1;this.extended=-1;this.lookAhead=0;this.mask=0;this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(input,ranges){this.input=input;this.ranges=ranges;this.chunk="";this.chunkOff=0;this.chunk2="";this.chunk2Pos=0;this.next=-1;this.token=nullToken;this.rangeIndex=0;this.pos=this.chunkPos=ranges[0].from;this.range=ranges[0];this.end=ranges[ranges.length-1].to;this.readNext()}resolveOffset(offset,assoc){let range=this.range,index=this.rangeIndex;let pos=this.pos+offset;while(pos<range.from){if(!index)return null;let next=this.ranges[--index];pos-=range.from-next.to;range=next}while(assoc<0?pos>range.to:pos>=range.to){if(index==this.ranges.length-1)return null;let next=this.ranges[++index];pos+=next.from-range.to;range=next}return pos}clipPos(pos){if(pos>=this.range.from&&pos<this.range.to)return pos;for(let range of this.ranges)if(range.to>pos)return Math.max(pos,range.from);return this.end}peek(offset){let idx=this.chunkOff+offset,pos,result;if(idx>=0&&idx<this.chunk.length){pos=this.pos+offset;result=this.chunk.charCodeAt(idx)}else{let resolved=this.resolveOffset(offset,1);if(resolved==null)return-1;pos=resolved;if(pos>=this.chunk2Pos&&pos<this.chunk2Pos+this.chunk2.length){result=this.chunk2.charCodeAt(pos-this.chunk2Pos)}else{let i=this.rangeIndex,range=this.range;while(range.to<=pos)range=this.ranges[++i];this.chunk2=this.input.chunk(this.chunk2Pos=pos);if(pos+this.chunk2.length>range.to)this.chunk2=this.chunk2.slice(0,range.to-pos);result=this.chunk2.charCodeAt(0)}}if(pos>=this.token.lookAhead)this.token.lookAhead=pos+1;return result}acceptToken(token,endOffset=0){let end=endOffset?this.resolveOffset(endOffset,-1):this.pos;if(end==null||end<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=token;this.token.end=end}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:chunk,chunkPos:chunkPos}=this;this.chunk=this.chunk2;this.chunkPos=this.chunk2Pos;this.chunk2=chunk;this.chunk2Pos=chunkPos;this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk;this.chunk2Pos=this.chunkPos;let nextChunk=this.input.chunk(this.pos);let end=this.pos+nextChunk.length;this.chunk=end>this.range.to?nextChunk.slice(0,this.range.to-this.pos):nextChunk;this.chunkPos=this.pos;this.chunkOff=0}}readNext(){if(this.chunkOff>=this.chunk.length){this.getChunk();if(this.chunkOff==this.chunk.length)return this.next=-1}return this.next=this.chunk.charCodeAt(this.chunkOff)}advance(n=1){this.chunkOff+=n;while(this.pos+n>=this.range.to){if(this.rangeIndex==this.ranges.length-1)return this.setDone();n-=this.range.to-this.pos;this.range=this.ranges[++this.rangeIndex];this.pos=this.range.from}this.pos+=n;if(this.pos>=this.token.lookAhead)this.token.lookAhead=this.pos+1;return this.readNext()}setDone(){this.pos=this.chunkPos=this.end;this.range=this.ranges[this.rangeIndex=this.ranges.length-1];this.chunk="";return this.next=-1}reset(pos,token){if(token){this.token=token;token.start=pos;token.lookAhead=pos+1;token.value=token.extended=-1}else{this.token=nullToken}if(this.pos!=pos){this.pos=pos;if(pos==this.end){this.setDone();return this}while(pos<this.range.from)this.range=this.ranges[--this.rangeIndex];while(pos>=this.range.to)this.range=this.ranges[++this.rangeIndex];if(pos>=this.chunkPos&&pos<this.chunkPos+this.chunk.length){this.chunkOff=pos-this.chunkPos}else{this.chunk="";this.chunkOff=0}this.readNext()}return this}read(from,to){if(from>=this.chunkPos&&to<=this.chunkPos+this.chunk.length)return this.chunk.slice(from-this.chunkPos,to-this.chunkPos);if(from>=this.chunk2Pos&&to<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(from-this.chunk2Pos,to-this.chunk2Pos);if(from>=this.range.from&&to<=this.range.to)return this.input.read(from,to);let result="";for(let r of this.ranges){if(r.from>=to)break;if(r.to>from)result+=this.input.read(Math.max(r.from,from),Math.min(r.to,to))}return result}}class TokenGroup{constructor(data,id){this.data=data;this.id=id}token(input,stack){readToken(this.data,input,stack,this.id)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=false;class ExternalTokenizer{constructor(token,options={}){this.token=token;this.contextual=!!options.contextual;this.fallback=!!options.fallback;this.extend=!!options.extend}}function readToken(data,input,stack,group){let state=0,groupMask=1<<group,{parser:parser}=stack.p,{dialect:dialect}=parser;scan:for(;;){if((groupMask&data[state])==0)break;let accEnd=data[state+1];for(let i=state+3;i<accEnd;i+=2)if((data[i+1]&groupMask)>0){let term=data[i];if(dialect.allows(term)&&(input.token.value==-1||input.token.value==term||parser.overrides(term,input.token.value))){input.acceptToken(term);break}}let next=input.next,low=0,high=data[state+2];if(input.next<0&&high>low&&data[accEnd+high*3-3]==65535&&data[accEnd+high*3-3]==65535){state=data[accEnd+high*3-1];continue scan}for(;low<high;){let mid=low+high>>1;let index=accEnd+mid+(mid<<1);let from=data[index],to=data[index+1]||65536;if(next<from)high=mid;else if(next>=to)low=mid+1;else{state=data[index+2];input.advance();continue scan}}break}}function decodeArray(input,Type=Uint16Array){if(typeof input!="string")return input;let array=null;for(let pos=0,out=0;pos<input.length;){let value=0;for(;;){let next=input.charCodeAt(pos++),stop=false;if(next==126){value=65535;break}if(next>=92)next--;if(next>=34)next--;let digit=next-32;if(digit>=46){digit-=46;stop=true}value+=digit;if(stop)break;value*=46}if(array)array[out++]=value;else array=new Type(value)}return array}const verbose=typeof process!="undefined"&&process.env&&/\bparse\b/.test(process.env.LOG);let stackIDs=null;var Safety;(function(Safety){Safety[Safety["Margin"]=25]="Margin"})(Safety||(Safety={}));function cutAt(tree,pos,side){let cursor=tree.cursor(IterMode.IncludeAnonymous);cursor.moveTo(pos);for(;;){if(!(side<0?cursor.childBefore(pos):cursor.childAfter(pos)))for(;;){if((side<0?cursor.to<pos:cursor.from>pos)&&!cursor.type.isError)return side<0?Math.max(0,Math.min(cursor.to-1,pos-25)):Math.min(tree.length,Math.max(cursor.from+1,pos+25));if(side<0?cursor.prevSibling():cursor.nextSibling())break;if(!cursor.parent())return side<0?0:tree.length}}}class FragmentCursor{constructor(fragments,nodeSet){this.fragments=fragments;this.nodeSet=nodeSet;this.i=0;this.fragment=null;this.safeFrom=-1;this.safeTo=-1;this.trees=[];this.start=[];this.index=[];this.nextFragment()}nextFragment(){let fr=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(fr){this.safeFrom=fr.openStart?cutAt(fr.tree,fr.from+fr.offset,1)-fr.offset:fr.from;this.safeTo=fr.openEnd?cutAt(fr.tree,fr.to+fr.offset,-1)-fr.offset:fr.to;while(this.trees.length){this.trees.pop();this.start.pop();this.index.pop()}this.trees.push(fr.tree);this.start.push(-fr.offset);this.index.push(0);this.nextStart=this.safeFrom}else{this.nextStart=1e9}}nodeAt(pos){if(pos<this.nextStart)return null;while(this.fragment&&this.safeTo<=pos)this.nextFragment();if(!this.fragment)return null;for(;;){let last=this.trees.length-1;if(last<0){this.nextFragment();return null}let top=this.trees[last],index=this.index[last];if(index==top.children.length){this.trees.pop();this.start.pop();this.index.pop();continue}let next=top.children[index];let start=this.start[last]+top.positions[index];if(start>pos){this.nextStart=start;return null}if(next instanceof Tree){if(start==pos){if(start<this.safeFrom)return null;let end=start+next.length;if(end<=this.safeTo){let lookAhead=next.prop(NodeProp.lookAhead);if(!lookAhead||end+lookAhead<this.fragment.to)return next}}this.index[last]++;if(start+next.length>=Math.max(this.safeFrom,pos)){this.trees.push(next);this.start.push(start);this.index.push(0)}}else{this.index[last]++;this.nextStart=start+next.length}}}}class TokenCache{constructor(parser,stream){this.stream=stream;this.tokens=[];this.mainToken=null;this.actions=[];this.tokens=parser.tokenizers.map((_=>new CachedToken))}getActions(stack){let actionIndex=0;let main=null;let{parser:parser}=stack.p,{tokenizers:tokenizers}=parser;let mask=parser.stateSlot(stack.state,3);let context=stack.curContext?stack.curContext.hash:0;let lookAhead=0;for(let i=0;i<tokenizers.length;i++){if((1<<i&mask)==0)continue;let tokenizer=tokenizers[i],token=this.tokens[i];if(main&&!tokenizer.fallback)continue;if(tokenizer.contextual||token.start!=stack.pos||token.mask!=mask||token.context!=context){this.updateCachedToken(token,tokenizer,stack);token.mask=mask;token.context=context}if(token.lookAhead>token.end+25)lookAhead=Math.max(token.lookAhead,lookAhead);if(token.value!=0){let startIndex=actionIndex;if(token.extended>-1)actionIndex=this.addActions(stack,token.extended,token.end,actionIndex);actionIndex=this.addActions(stack,token.value,token.end,actionIndex);if(!tokenizer.extend){main=token;if(actionIndex>startIndex)break}}}while(this.actions.length>actionIndex)this.actions.pop();if(lookAhead)stack.setLookAhead(lookAhead);if(!main&&stack.pos==this.stream.end){main=new CachedToken;main.value=stack.p.parser.eofTerm;main.start=main.end=stack.pos;actionIndex=this.addActions(stack,main.value,main.end,actionIndex)}this.mainToken=main;return this.actions}getMainToken(stack){if(this.mainToken)return this.mainToken;let main=new CachedToken,{pos:pos,p:p}=stack;main.start=pos;main.end=Math.min(pos+1,p.stream.end);main.value=pos==p.stream.end?p.parser.eofTerm:0;return main}updateCachedToken(token,tokenizer,stack){let start=this.stream.clipPos(stack.pos);tokenizer.token(this.stream.reset(start,token),stack);if(token.value>-1){let{parser:parser}=stack.p;for(let i=0;i<parser.specialized.length;i++)if(parser.specialized[i]==token.value){let result=parser.specializers[i](this.stream.read(token.start,token.end),stack);if(result>=0&&stack.p.parser.dialect.allows(result>>1)){if((result&1)==0)token.value=result>>1;else token.extended=result>>1;break}}}else{token.value=0;token.end=this.stream.clipPos(start+1)}}putAction(action,token,end,index){for(let i=0;i<index;i+=3)if(this.actions[i]==action)return index;this.actions[index++]=action;this.actions[index++]=token;this.actions[index++]=end;return index}addActions(stack,token,end,index){let{state:state}=stack,{parser:parser}=stack.p,{data:data}=parser;for(let set=0;set<2;set++){for(let i=parser.stateSlot(state,set?2:1);;i+=3){if(data[i]==65535){if(data[i+1]==1){i=pair(data,i+2)}else{if(index==0&&data[i+1]==2)index=this.putAction(pair(data,i+2),token,end,index);break}}if(data[i]==token)index=this.putAction(pair(data,i+1),token,end,index)}}return index}}var Rec;(function(Rec){Rec[Rec["Distance"]=5]="Distance";Rec[Rec["MaxRemainingPerStep"]=3]="MaxRemainingPerStep";Rec[Rec["MinBufferLengthPrune"]=500]="MinBufferLengthPrune";Rec[Rec["ForceReduceLimit"]=10]="ForceReduceLimit";Rec[Rec["CutDepth"]=15e3]="CutDepth";Rec[Rec["CutTo"]=9e3]="CutTo"})(Rec||(Rec={}));class Parse{constructor(parser,input,fragments,ranges){this.parser=parser;this.input=input;this.ranges=ranges;this.recovering=0;this.nextStackID=9812;this.minStackPos=0;this.reused=[];this.stoppedAt=null;this.stream=new InputStream(input,ranges);this.tokens=new TokenCache(parser,this.stream);this.topTerm=parser.top[1];let{from:from}=ranges[0];this.stacks=[Stack.start(this,parser.top[0],from)];this.fragments=fragments.length&&this.stream.end-from>parser.bufferLength*4?new FragmentCursor(fragments,parser.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let stacks=this.stacks,pos=this.minStackPos;let newStacks=this.stacks=[];let stopped,stoppedTokens;for(let i=0;i<stacks.length;i++){let stack=stacks[i];for(;;){this.tokens.mainToken=null;if(stack.pos>pos){newStacks.push(stack)}else if(this.advanceStack(stack,newStacks,stacks)){continue}else{if(!stopped){stopped=[];stoppedTokens=[]}stopped.push(stack);let tok=this.tokens.getMainToken(stack);stoppedTokens.push(tok.value,tok.end)}break}}if(!newStacks.length){let finished=stopped&&findFinished(stopped);if(finished)return this.stackToTree(finished);if(this.parser.strict){if(verbose&&stopped)console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none"));throw new SyntaxError("No parse at "+pos)}if(!this.recovering)this.recovering=5}if(this.recovering&&stopped){let finished=this.stoppedAt!=null&&stopped[0].pos>this.stoppedAt?stopped[0]:this.runRecovery(stopped,stoppedTokens,newStacks);if(finished)return this.stackToTree(finished.forceAll())}if(this.recovering){let maxRemaining=this.recovering==1?1:this.recovering*3;if(newStacks.length>maxRemaining){newStacks.sort(((a,b)=>b.score-a.score));while(newStacks.length>maxRemaining)newStacks.pop()}if(newStacks.some((s=>s.reducePos>pos)))this.recovering--}else if(newStacks.length>1){outer:for(let i=0;i<newStacks.length-1;i++){let stack=newStacks[i];for(let j=i+1;j<newStacks.length;j++){let other=newStacks[j];if(stack.sameState(other)||stack.buffer.length>500&&other.buffer.length>500){if((stack.score-other.score||stack.buffer.length-other.buffer.length)>0){newStacks.splice(j--,1)}else{newStacks.splice(i--,1);continue outer}}}}}this.minStackPos=newStacks[0].pos;for(let i=1;i<newStacks.length;i++)if(newStacks[i].pos<this.minStackPos)this.minStackPos=newStacks[i].pos;return null}stopAt(pos){if(this.stoppedAt!=null&&this.stoppedAt<pos)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=pos}advanceStack(stack,stacks,split){let start=stack.pos,{parser:parser}=this;let base=verbose?this.stackID(stack)+" -> ":"";if(this.stoppedAt!=null&&start>this.stoppedAt)return stack.forceReduce()?stack:null;if(this.fragments){let strictCx=stack.curContext&&stack.curContext.tracker.strict,cxHash=strictCx?stack.curContext.hash:0;for(let cached=this.fragments.nodeAt(start);cached;){let match=this.parser.nodeSet.types[cached.type.id]==cached.type?parser.getGoto(stack.state,cached.type.id):-1;if(match>-1&&cached.length&&(!strictCx||(cached.prop(NodeProp.contextHash)||0)==cxHash)){stack.useNode(cached,match);if(verbose)console.log(base+this.stackID(stack)+` (via reuse of ${parser.getName(cached.type.id)})`);return true}if(!(cached instanceof Tree)||cached.children.length==0||cached.positions[0]>0)break;let inner=cached.children[0];if(inner instanceof Tree&&cached.positions[0]==0)cached=inner;else break}}let defaultReduce=parser.stateSlot(stack.state,4);if(defaultReduce>0){stack.reduce(defaultReduce);if(verbose)console.log(base+this.stackID(stack)+` (via always-reduce ${parser.getName(defaultReduce&65535)})`);return true}if(stack.stack.length>=15e3){while(stack.stack.length>9e3&&stack.forceReduce()){}}let actions=this.tokens.getActions(stack);for(let i=0;i<actions.length;){let action=actions[i++],term=actions[i++],end=actions[i++];let last=i==actions.length||!split;let localStack=last?stack:stack.split();localStack.apply(action,term,end);if(verbose)console.log(base+this.stackID(localStack)+` (via ${(action&65536)==0?"shift":`reduce of ${parser.getName(action&65535)}`} for ${parser.getName(term)} @ ${start}${localStack==stack?"":", split"})`);if(last)return true;else if(localStack.pos>start)stacks.push(localStack);else split.push(localStack)}return false}advanceFully(stack,newStacks){let pos=stack.pos;for(;;){if(!this.advanceStack(stack,null,null))return false;if(stack.pos>pos){pushStackDedup(stack,newStacks);return true}}}runRecovery(stacks,tokens,newStacks){let finished=null,restarted=false;for(let i=0;i<stacks.length;i++){let stack=stacks[i],token=tokens[i<<1],tokenEnd=tokens[(i<<1)+1];let base=verbose?this.stackID(stack)+" -> ":"";if(stack.deadEnd){if(restarted)continue;restarted=true;stack.restart();if(verbose)console.log(base+this.stackID(stack)+" (restarted)");let done=this.advanceFully(stack,newStacks);if(done)continue}let force=stack.split(),forceBase=base;for(let j=0;force.forceReduce()&&j<10;j++){if(verbose)console.log(forceBase+this.stackID(force)+" (via force-reduce)");let done=this.advanceFully(force,newStacks);if(done)break;if(verbose)forceBase=this.stackID(force)+" -> "}for(let insert of stack.recoverByInsert(token)){if(verbose)console.log(base+this.stackID(insert)+" (via recover-insert)");this.advanceFully(insert,newStacks)}if(this.stream.end>stack.pos){if(tokenEnd==stack.pos){tokenEnd++;token=0}stack.recoverByDelete(token,tokenEnd);if(verbose)console.log(base+this.stackID(stack)+` (via recover-delete ${this.parser.getName(token)})`);pushStackDedup(stack,newStacks)}else if(!finished||finished.score<stack.score){finished=stack}}return finished}stackToTree(stack){stack.close();return Tree.build({buffer:StackBufferCursor.create(stack),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:stack.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(stack){let id=(stackIDs||(stackIDs=new WeakMap)).get(stack);if(!id)stackIDs.set(stack,id=String.fromCodePoint(this.nextStackID++));return id+stack}}function pushStackDedup(stack,newStacks){for(let i=0;i<newStacks.length;i++){let other=newStacks[i];if(other.pos==stack.pos&&other.sameState(stack)){if(newStacks[i].score<stack.score)newStacks[i]=stack;return}}newStacks.push(stack)}class Dialect{constructor(source,flags,disabled){this.source=source;this.flags=flags;this.disabled=disabled}allows(term){return!this.disabled||this.disabled[term]==0}}const id=x=>x;class ContextTracker{constructor(spec){this.start=spec.start;this.shift=spec.shift||id;this.reduce=spec.reduce||id;this.reuse=spec.reuse||id;this.hash=spec.hash||(()=>0);this.strict=spec.strict!==false}}class LRParser extends Parser{constructor(spec){super();this.wrappers=[];if(spec.version!=14)throw new RangeError(`Parser version (${spec.version}) doesn't match runtime version (${14})`);let nodeNames=spec.nodeNames.split(" ");this.minRepeatTerm=nodeNames.length;for(let i=0;i<spec.repeatNodeCount;i++)nodeNames.push("");let topTerms=Object.keys(spec.topRules).map((r=>spec.topRules[r][1]));let nodeProps=[];for(let i=0;i<nodeNames.length;i++)nodeProps.push([]);function setProp(nodeID,prop,value){nodeProps[nodeID].push([prop,prop.deserialize(String(value))])}if(spec.nodeProps)for(let propSpec of spec.nodeProps){let prop=propSpec[0];if(typeof prop=="string")prop=NodeProp[prop];for(let i=1;i<propSpec.length;){let next=propSpec[i++];if(next>=0){setProp(next,prop,propSpec[i++])}else{let value=propSpec[i+-next];for(let j=-next;j>0;j--)setProp(propSpec[i++],prop,value);i++}}}this.nodeSet=new NodeSet(nodeNames.map(((name,i)=>NodeType.define({name:i>=this.minRepeatTerm?undefined:name,id:i,props:nodeProps[i],top:topTerms.indexOf(i)>-1,error:i==0,skipped:spec.skippedNodes&&spec.skippedNodes.indexOf(i)>-1}))));if(spec.propSources)this.nodeSet=this.nodeSet.extend(...spec.propSources);this.strict=false;this.bufferLength=DefaultBufferLength;let tokenArray=decodeArray(spec.tokenData);this.context=spec.context;this.specializerSpecs=spec.specialized||[];this.specialized=new Uint16Array(this.specializerSpecs.length);for(let i=0;i<this.specializerSpecs.length;i++)this.specialized[i]=this.specializerSpecs[i].term;this.specializers=this.specializerSpecs.map(getSpecializer);this.states=decodeArray(spec.states,Uint32Array);this.data=decodeArray(spec.stateData);this.goto=decodeArray(spec.goto);this.maxTerm=spec.maxTerm;this.tokenizers=spec.tokenizers.map((value=>typeof value=="number"?new TokenGroup(tokenArray,value):value));this.topRules=spec.topRules;this.dialects=spec.dialects||{};this.dynamicPrecedences=spec.dynamicPrecedences||null;this.tokenPrecTable=spec.tokenPrec;this.termNames=spec.termNames||null;this.maxNode=this.nodeSet.types.length-1;this.dialect=this.parseDialect();this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(input,fragments,ranges){let parse=new Parse(this,input,fragments,ranges);for(let w of this.wrappers)parse=w(parse,input,fragments,ranges);return parse}getGoto(state,term,loose=false){let table=this.goto;if(term>=table[0])return-1;for(let pos=table[term+1];;){let groupTag=table[pos++],last=groupTag&1;let target=table[pos++];if(last&&loose)return target;for(let end=pos+(groupTag>>1);pos<end;pos++)if(table[pos]==state)return target;if(last)return-1}}hasAction(state,terminal){let data=this.data;for(let set=0;set<2;set++){for(let i=this.stateSlot(state,set?2:1),next;;i+=3){if((next=data[i])==65535){if(data[i+1]==1)next=data[i=pair(data,i+2)];else if(data[i+1]==2)return pair(data,i+2);else break}if(next==terminal||next==0)return pair(data,i+1)}}return 0}stateSlot(state,slot){return this.states[state*6+slot]}stateFlag(state,flag){return(this.stateSlot(state,0)&flag)>0}validAction(state,action){if(action==this.stateSlot(state,4))return true;for(let i=this.stateSlot(state,1);;i+=3){if(this.data[i]==65535){if(this.data[i+1]==1)i=pair(this.data,i+2);else return false}if(action==pair(this.data,i+1))return true}}nextStates(state){let result=[];for(let i=this.stateSlot(state,1);;i+=3){if(this.data[i]==65535){if(this.data[i+1]==1)i=pair(this.data,i+2);else break}if((this.data[i+2]&65536>>16)==0){let value=this.data[i+1];if(!result.some(((v,i)=>i&1&&v==value)))result.push(this.data[i],value)}}return result}overrides(token,prev){let iPrev=findOffset(this.data,this.tokenPrecTable,prev);return iPrev<0||findOffset(this.data,this.tokenPrecTable,token)<iPrev}configure(config){let copy=Object.assign(Object.create(LRParser.prototype),this);if(config.props)copy.nodeSet=this.nodeSet.extend(...config.props);if(config.top){let info=this.topRules[config.top];if(!info)throw new RangeError(`Invalid top rule name ${config.top}`);copy.top=info}if(config.tokenizers)copy.tokenizers=this.tokenizers.map((t=>{let found=config.tokenizers.find((r=>r.from==t));return found?found.to:t}));if(config.specializers){copy.specializers=this.specializers.slice();copy.specializerSpecs=this.specializerSpecs.map(((s,i)=>{let found=config.specializers.find((r=>r.from==s.external));if(!found)return s;let spec=Object.assign(Object.assign({},s),{external:found.to});copy.specializers[i]=getSpecializer(spec);return spec}))}if(config.contextTracker)copy.context=config.contextTracker;if(config.dialect)copy.dialect=this.parseDialect(config.dialect);if(config.strict!=null)copy.strict=config.strict;if(config.wrap)copy.wrappers=copy.wrappers.concat(config.wrap);if(config.bufferLength!=null)copy.bufferLength=config.bufferLength;return copy}hasWrappers(){return this.wrappers.length>0}getName(term){return this.termNames?this.termNames[term]:String(term<=this.maxNode&&this.nodeSet.types[term].name||term)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(term){let prec=this.dynamicPrecedences;return prec==null?0:prec[term]||0}parseDialect(dialect){let values=Object.keys(this.dialects),flags=values.map((()=>false));if(dialect)for(let part of dialect.split(" ")){let id=values.indexOf(part);if(id>=0)flags[id]=true}let disabled=null;for(let i=0;i<values.length;i++)if(!flags[i]){for(let j=this.dialects[values[i]],id;(id=this.data[j++])!=65535;)(disabled||(disabled=new Uint8Array(this.maxTerm+1)))[id]=1}return new Dialect(dialect,flags,disabled)}static deserialize(spec){return new LRParser(spec)}}function pair(data,off){return data[off]|data[off+1]<<16}function findOffset(data,start,term){for(let i=start,next;(next=data[i])!=65535;i++)if(next==term)return i-start;return-1}function findFinished(stacks){let best=null;for(let stack of stacks){let stopped=stack.p.stoppedAt;if((stack.pos==stack.p.stream.end||stopped!=null&&stack.pos>stopped)&&stack.p.parser.stateFlag(stack.state,2)&&(!best||best.score<stack.score))best=stack}return best}function getSpecializer(spec){if(spec.external){let mask=spec.extend?1:0;return(value,stack)=>spec.external(value,stack)<<1|mask}return spec.get}const TSExtends=1,noSemi=293,incdec=2,incdecPrefix=3,templateContent=294,InterpolationStart=4,templateEnd=295,insertSemi=296,spaces=298,newline=299,LineComment=5,BlockComment=6,Dialect_ts=1;const space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288];const braceR=125,braceL=123,semicolon=59,slash=47,star=42,plus=43,minus=45,dollar=36,backtick=96,backslash=92;const trackNewline=new ContextTracker({start:false,shift(context,term){return term==LineComment||term==BlockComment||term==spaces?context:term==newline},strict:false});const insertSemicolon=new ExternalTokenizer(((input,stack)=>{let{next:next}=input;if((next==braceR||next==-1||stack.context)&&stack.canShift(insertSemi))input.acceptToken(insertSemi)}),{contextual:true,fallback:true});const noSemicolon=new ExternalTokenizer(((input,stack)=>{let{next:next}=input,after;if(space.indexOf(next)>-1)return;if(next==slash&&((after=input.peek(1))==slash||after==star))return;if(next!=braceR&&next!=semicolon&&next!=-1&&!stack.context&&stack.canShift(noSemi))input.acceptToken(noSemi)}),{contextual:true});const incdecToken=new ExternalTokenizer(((input,stack)=>{let{next:next}=input;if(next==plus||next==minus){input.advance();if(next==input.next){input.advance();let mayPostfix=!stack.context&&stack.canShift(incdec);input.acceptToken(mayPostfix?incdec:incdecPrefix)}}}),{contextual:true});const template=new ExternalTokenizer((input=>{for(let afterDollar=false,i=0;;i++){let{next:next}=input;if(next<0){if(i)input.acceptToken(templateContent);break}else if(next==backtick){if(i)input.acceptToken(templateContent);else input.acceptToken(templateEnd,1);break}else if(next==braceL&&afterDollar){if(i==1)input.acceptToken(InterpolationStart,1);else input.acceptToken(templateContent,-1);break}else if(next==10&&i){input.advance();input.acceptToken(templateContent);break}else if(next==backslash){input.advance()}afterDollar=next==dollar;input.advance()}}));const tsExtends=new ExternalTokenizer(((input,stack)=>{if(input.next!=101||!stack.dialectEnabled(Dialect_ts))return;input.advance();for(let i=0;i<6;i++){if(input.next!="xtends".charCodeAt(i))return;input.advance()}if(input.next>=57&&input.next<=65||input.next>=48&&input.next<=90||input.next==95||input.next>=97&&input.next<=122||input.next>160)return;input.acceptToken(TSExtends)}));const jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case":tags.controlKeyword,"in of await yield void typeof delete instanceof":tags.operatorKeyword,"let var const function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger as new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,LineComment:tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,"@":tags.meta,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName,"JSXBuiltin/JSXIdentifier":tags.standard(tags.tagName)});const spec_identifier={__proto__:null,export:18,as:23,from:29,default:32,async:37,function:38,this:50,true:58,false:58,null:68,void:72,typeof:76,super:92,new:126,await:143,yield:145,delete:146,class:156,extends:158,public:211,private:211,protected:211,readonly:213,instanceof:232,satisfies:235,in:236,const:238,import:270,keyof:325,unique:329,infer:335,is:371,abstract:391,implements:393,type:395,let:398,var:400,interface:407,enum:411,namespace:417,module:419,declare:423,global:427,for:448,of:457,while:460,with:464,do:468,if:472,else:474,switch:478,case:484,try:490,catch:494,finally:498,return:502,throw:506,break:510,continue:514,debugger:518};const spec_word={__proto__:null,async:113,get:115,set:117,public:173,private:173,protected:173,static:175,abstract:177,override:179,readonly:185,accessor:187,new:375};const spec_LessThan={__proto__:null,"<":133};const parser=LRParser.deserialize({version:14,states:"$CWO`QdOOO$}QdOOO)WQ(C|O'#ChO)_OWO'#DYO+jQdO'#D_O+zQdO'#DjO$}QdO'#DtO.OQdO'#DzOOQ(C['#ES'#ESO.fQ`O'#EQOOQO'#IV'#IVO.nQ`O'#GfOOQO'#Ed'#EdO.yQ`O'#EcO/OQ`O'#EcO1QQ(C|O'#JPO3nQ(C|O'#JQO4_Q`O'#FRO4dQ!bO'#FjOOQ(C['#FZ'#FZO4oO#tO'#FZO4}Q&jO'#FqO6bQ`O'#FpOOQ(C['#JQ'#JQOOQ(CW'#JP'#JPOOQS'#Jk'#JkO6gQ`O'#HzO6lQ(ChO'#H{OOQS'#It'#ItOOQS'#H}'#H}Q`QdOOO$}QdO'#DlO6tQ`O'#GfO6yQ&jO'#CmO7XQ`O'#EbO7dQ`O'#EmO7iQ&jO'#FYO8TQ`O'#GfO8YQ`O'#GjO8eQ`O'#GjO8sQ`O'#GmO8sQ`O'#GnO8sQ`O'#GpO6tQ`O'#GsO9dQ`O'#GvO:uQ`O'#CdO;VQ`O'#HTO;_Q`O'#HZO;_Q`O'#H]O`QdO'#H_O;_Q`O'#HaO;_Q`O'#HdO;dQ`O'#HjO;iQ(CjO'#HpO$}QdO'#HrO;tQ(CjO'#HtO<PQ(CjO'#HvO6lQ(ChO'#HxO<[Q(C|O'#ChO<xQ,UO'#DdQOQ`OOO=mQaO'#D{O6yQ&jO'#EbO={Q`O'#EbO>WQpO'#FYO$}QdO'#DZOOOW'#IP'#IPO>`OWO,59tOOQ(C[,59t,59tO>kQdO'#IQO?OQ`O'#JROAQQtO'#JRO)jQdO'#JROAXQ`O,59yOAoQ`O'#EdOA|Q`O'#J`OBXQ`O'#J_OBXQ`O'#J_OBaQ`O,5;QOBfQ`O'#J^OOQ(C[,5:U,5:UOBmQdO,5:UODnQ(C|O,5:`OE_Q`O,5:fOEdQ`O'#J[OF^Q(ChO'#J]O8YQ`O'#J[OFeQ`O'#J[OFmQ`O,5;POFrQ`O'#J[OOQ(C]'#Ch'#ChO$}QdO'#DzOGfQpO,5:lOOQO'#JX'#JXOOQO-E<T-E<TO6tQ`O,5=QOG|Q`O,5=QOHRQdO,5:}OJRQ&jO'#E_OKcQ`O,5:}OLxQ&jO'#DnOMPQdO'#DsOMZQ,UO,5;WOMcQ,UO,5;WO$}QdO,5;WOOQS'#Ey'#EyOOQS'#E{'#E{O$}QdO,5;XO$}QdO,5;XO$}QdO,5;XO$}QdO,5;XO$}QdO,5;XO$}QdO,5;XO$}QdO,5;XO$}QdO,5;XO$}QdO,5;XO$}QdO,5;XO$}QdO,5;XOOQS'#FP'#FPOMqQdO,5;jOOQ(C[,5;o,5;oOOQ(C[,5;p,5;pO! qQ`O,5;pOOQ(C[,5;q,5;qO$}QdO'#I]O! yQ(ChO,5<^OJRQ&jO,5;XO!!hQ&jO,5;XO$}QdO,5;mO!!oQ!bO'#F`O!#lQ!bO'#JdO!#WQ!bO'#JdO!#sQ!bO'#JdOOQO'#Jd'#JdO!$XQ!bO,5;xOOOO,5<U,5<UO!$jQdO'#FlOOOO'#I['#I[O4oO#tO,5;uO!$qQ!bO'#FnOOQ(C[,5;u,5;uO!%bQ7]O'#CsOOQ(C]'#Cv'#CvO!%uQ`O'#CvO!%zOWO'#CzO!&hQ&kO,5<ZO!&oQ`O,5<]O!(RQMhO'#F{O!(`Q`O'#F|O!(eQ`O'#F|O!(jQMhO'#GQO!)iQ,UO'#GUO!*_Q7]O'#I|OOQ(C]'#I|'#I|O!+eQaO'#I{O!+sQ`O'#IzO!+{Q`O'#CrOOQ(C]'#Ct'#CtOOQ(C]'#C}'#C}OOQ(C]'#DP'#DPO.iQ`O'#DROKhQ&jO'#FsOKhQ&jO'#FuO!,TQ`O'#FwO!,YQ`O'#FxO!(eQ`O'#GOOKhQ&jO'#GTO!,_Q`O'#EeO!,yQ`O,5<[O`QdO,5>fOOQS'#Iw'#IwOOQS,5>g,5>gOOQS-E;{-E;{O!.xQ(C|O,5:WOOQ(CX'#Cp'#CpO!/lQ&kO,5=QOOQO'#Cf'#CfO!/}Q(ChO'#IxO6bQ`O'#IxO;dQ`O,59XO!0`Q!bO,59XO!0hQ&jO,59XO6yQ&jO,59XO!0sQ`O,5:}O!0{Q`O'#HSO!1ZQ`O'#JoO$}QdO,5;rO!1cQ,UO,5;tO!1hQ`O,5=mO!1mQ`O,5=mO!1rQ`O,5=mO6lQ(ChO,5=mO!2QQ`O'#EfO!2wQ,UO'#EgOOQ(CW'#J^'#J^O!3OQ(ChO'#JlO6lQ(ChO,5=UO8sQ`O,5=[OOQP'#Cs'#CsO!3ZQ!bO,5=XO!3cQ!cO,5=YO!3nQ`O,5=[O!3sQpO,5=_O;dQ`O'#GxO6tQ`O'#GzO!3{Q`O'#GzO6yQ&jO'#G}O!4QQ`O'#G}OOQS,5=b,5=bO!4VQ`O'#HOO!4_Q`O'#CmO!4dQ`O,59OO!4nQ`O,59OO!6sQdO,59OOOQS,59O,59OO!7QQ(ChO,59OO$}QdO,59OO!7]QdO'#HVOOQS'#HW'#HWOOQS'#HX'#HXO`QdO,5=oO!7mQ`O,5=oO`QdO,5=uO`QdO,5=wO!7rQ`O,5=yO`QdO,5={O!7wQ`O,5>OO!7|QdO,5>UOOQS,5>[,5>[O$}QdO,5>[O6lQ(ChO,5>^OOQS,5>`,5>`O!<QQ`O,5>`OOQS,5>b,5>bO!<QQ`O,5>bOOQS,5>d,5>dO!<VQ!bO'#DWOOQ(CW'#JT'#JTO$}QdO'#JTO!<tQ!bO'#JTO!=cQ!bO'#DeO!=tQ,UO'#DeO!@PQdO'#DeO!@WQ`O'#JSO!@`Q`O,5:OO!@eQ`O'#EhO!@sQ`O'#JaO!@{Q`O,5;RO!AcQ,UO'#DeO!AmQ,UO'#EOOOQ(C[,5:g,5:gO$}QdO,5:gOJRQ&jO,5:gO!BjQaO,5:gO;dQ`O,5:|O!0`Q!bO,5:|O!0hQ&jO,5:|O6yQ&jO,5:|O!BuQpO,59uOOOW-E;}-E;}OOQ(C[1G/`1G/`O!BzQtO,5>lO)jQdO,5>lOOQO,5>r,5>rO!CUQdO'#IQOOQO-E<O-E<OO!CcQ`O,5?mO!CkQtO,5?mO!CrQ`O,5?yOOQ(C[1G/e1G/eO$}QdO,5?zO!CzQ`O'#IWOOQO-E<U-E<UO!CrQ`O,5?yOOQ(CW1G0l1G0lOOQ(C[1G/p1G/pOOQ(C[1G0Q1G0QO!D`Q`O,5?vO8YQ`O,5?vO!DhQ`O,5?vOOQ(CW'#E^'#E^O$}QdO,5?wO!DvQ(ChO,5?wO!EXQ(ChO,5?wO!E`Q`O'#IYO!D`Q`O,5?vOOQ(CW1G0k1G0kOMZQ,UO,5:mOMfQ,UO,5:mOOQO,5:o,5:oO!E}Q`O,5:oO!FVQ&kO1G2lO6tQ`O1G2lOOQ(C[1G0i1G0iO!FhQ(C|O1G0iO!GmQ(CyO,5:yOOQ(C]'#Fz'#FzO!JWQ(C}O'#I|OHRQdO1G0iO!J}Q&kO'#JUO!KXQ`O,5:YO!K^QtO'#JVO$}QdO'#JVO!KhQ`O,5:_OOQ(C]'#DW'#DWOOQ(C[1G0r1G0rO$}QdO1G0rOOQ(C[1G1[1G1[O!KmQ`O1G0rO!NUQ(C|O1G0sO!N]Q(C|O1G0sO#!vQ(C|O1G0sO#!}Q(C|O1G0sO#%XQ(C|O1G0sO#%oQ(C|O1G0sO#(iQ(C|O1G0sO#(pQ(C|O1G0sO#+ZQ(C|O1G0sO#+bQ(C|O1G0sO#-YQ(C|O1G0sO#0YQ!LUO'#ChO#2WQ!LUO1G1UO#4UQ!LUO'#JQO! tQ`O1G1[O#4iQ(C|O,5>wOOQ(CW-E<Z-E<ZO#5]Q(C}O1G0sOOQ(C[1G0s1G0sO#7hQ(C|O1G1XO#8[Q!bO,5;|O#8dQ!bO,5;}O#8lQ!bO'#FeO#9TQ`O'#FdOOQO'#Je'#JeOOQO'#IZ'#IZO#9YQ!bO1G1dOOQ(C[1G1d1G1dOOOO1G1o1G1oO#9kQ!LUO'#JPO#9uQ`O,5<WOMqQdO,5<WOOOO-E<Y-E<YOOQ(C[1G1a1G1aOOQ(C[,5<Y,5<YO#9zQ!bO,5<YOOQ(C],59b,59bOJRQ&jO'#C|OOOW'#IO'#IOO#:POWO,59fOOQ(C],59f,59fO$}QdO1G1uO!,YQ`O'#I_O#:[Q`O,5<nOOQ(C],5<k,5<kOOQO'#Ga'#GaOKhQ&jO,5<zOOQO'#Gc'#GcOKhQ&jO,5<|OJRQ&jO,5=OOOQO1G1w1G1wO#:gQqO'#CpO#:zQqO,5<gO#;RQ`O'#JhO6tQ`O'#JhO#;aQ`O,5<iOKhQ&jO,5<hO#;fQ`O'#F}O#;qQ`O,5<hO#;vQqO'#FzO#<TQqO'#JiO#<_Q`O'#JiOJRQ&jO'#JiO#<dQ`O,5<lOOQ(CW'#Di'#DiO#<iQ!bO'#GVO!)dQ,UO'#GVO#<zQ`O'#GXO#=PQ`O'#GZO!(eQ`O'#G^O#=UQ(ChO'#IaO#=aQ,UO,5<pOOQ(C],5<p,5<pO#=hQ,UO'#GVO#=vQ,UO'#GWO#>OQ,UO'#GWOOQ(C],5=P,5=POKhQ&jO,5?gOKhQ&jO,5?gO#>TQ`O'#IbO#>`Q`O,5?fO#>hQ`O,59^O#?XQ&kO,59mOOQ(C],59m,59mO#?zQ&kO,5<_O#@mQ&kO,5<aO#@wQ`O,5<cOOQ(C],5<d,5<dO#@|Q`O,5<jO#ARQ&kO,5<oOHRQdO1G1vO#AcQ`O1G1vOOQS1G4Q1G4QOOQ(C[1G/r1G/rO! qQ`O1G/rOOQS1G2l1G2lOJRQ&jO1G2lO$}QdO1G2lOJRQ&jO1G2lO#AhQaO1G2lO#CQQ&jO'#E_OOQ(CW,5?d,5?dO#C[Q(ChO,5?dOOQS1G.s1G.sO;dQ`O1G.sO!0`Q!bO1G.sO!0hQ&jO1G.sO#CmQ`O1G0iO#CrQ`O'#ChO#C}Q`O'#JpO#DVQ`O,5=nO#D[Q`O'#JpO#DaQ`O'#JpO#DiQ`O'#IjO#DwQ`O,5@ZO#EPQtO1G1^OOQ(C[1G1`1G1`O6tQ`O1G3XO#EWQ`O1G3XO#E]Q`O1G3XO#EbQ`O1G3XOOQS1G3X1G3XO8YQ`O'#J_O8YQ`O'#EhO$}QdO'#EhO8YQ`O'#IdO#EgQ(ChO,5@WOOQS1G2p1G2pO!3nQ`O1G2vOJRQ&jO1G2sO#ErQ`O1G2sOOQS1G2t1G2tOJRQ&jO1G2tO#EwQaO1G2tO#FPQ,UO'#GrOOQS1G2v1G2vO!)dQ,UO'#IfO!3sQpO1G2yOOQS1G2y1G2yOOQS,5=d,5=dO#FXQ&kO,5=fO6tQ`O,5=fO#=PQ`O,5=iO6bQ`O,5=iO!0`Q!bO,5=iO!0hQ&jO,5=iO6yQ&jO,5=iO#FjQ`O'#JnO#FuQ`O,5=jOOQS1G.j1G.jO#FzQ(ChO1G.jO#GVQ`O1G.jO#G[Q`O1G.jO6lQ(ChO1G.jO#GdQtO,5@]O#GnQ`O,5@]O#GyQdO,5=qO#HQQ`O,5=qO8YQ`O,5@]OOQS1G3Z1G3ZO`QdO1G3ZOOQS1G3a1G3aOOQS1G3c1G3cO;_Q`O1G3eO#HVQdO1G3gO#LTQdO'#HfOOQS1G3j1G3jO#LbQ`O'#HlO;dQ`O'#HnOOQS1G3p1G3pO#LjQdO1G3pO6lQ(ChO1G3vOOQS1G3x1G3xOOQ(CW'#GR'#GRO6lQ(ChO1G3zO6lQ(ChO1G3|O$!kQ`O,5?oOMqQdO,5;SO8YQ`O,5;SO;dQ`O,5:POMqQdO,5:PO$}QdO'#JTO!0`Q!bO,5:PO$!pQ!LUO,5:POOQO,5;S,5;SO$!zQ,UO'#IRO$#bQ`O,5?nOOQ(C[1G/j1G/jO$#jQ,UO'#IXO$#tQ`O,5?{OOQ(CW1G0m1G0mO!=tQ,UO,5:PO$#|Q,UO'#EZOOQ(CW'#EY'#EYO$$sQ(DjO'#EZO$%_Q,UO'#EPOOQO'#IU'#IUO$%pQ,UO,5:jOOQ(C[,5:j,5:jO$&mQ,UO'#EPO$&zQ,UO'#EPO$'[Q,UO'#EaO$'_Q,UO'#EZO$'xQ,UO'#EZO$%_Q,UO'#EZO$(iQ`O1G0RO$(nQqO1G0ROOQ(C[1G0R1G0RO$}QdO1G0ROJRQ&jO1G0ROOQ(C[1G0h1G0hO;dQ`O1G0hO!0`Q!bO1G0hO!0hQ&jO1G0hOOOW1G/a1G/aO$(uQpO,5<^O$(}QtO1G4WOOQO1G4^1G4^O$}QdO,5>lO$)XQ`O1G5XO$)aQ`O1G5eO$)iQtO1G5fO8YQ`O,5>rO$)sQ`O1G5bO$)sQ`O1G5bO8YQ`O1G5bO$){Q(C|O1G5cO$}QdO1G5cO$*]Q(ChO1G5cO$*nQ`O,5>tO8YQ`O,5>tOOQO,5>t,5>tO$+SQ`O,5>tOOQO-E<W-E<WOOQO1G0X1G0XOOQO1G0Z1G0ZO! tQ`O1G0ZOOQS7+(W7+(WOJRQ&jO7+(WO$}QdO7+(WOJRQ&jO7+(WO$+bQaO7+(WO$+pQ&kO7+(WO$,RQ(C}O,59mO$.ZQ(C}O,5<_O$0fQ(C}O,5<aO$2qQ(C}O,5<oOOQ(C[7+&T7+&TO$5SQ(C|O7+&TO$5vQ&jO'#ISO$6QQ`O,5?pOOQ(C]1G/t1G/tO$6YQdO'#ITO$6gQ`O,5?qO$6oQtO,5?qOOQ(C[1G/y1G/yO$6yQ`O7+&^OOQ(C[7+&^7+&^O$7OQ!LUO,5:`O$}QdO7+&pO$7YQ!LUO,5:WOOQ(C[7+&v7+&vOOQO1G1h1G1hOOQO1G1i1G1iO$7gQ$ISO,5<POMqQdO,5<OOOQO-E<X-E<XOOQ(C[7+'O7+'OOOOO7+'Z7+'ZOOOO1G1r1G1rO$7rQ`O1G1rOOQ(C[1G1t1G1tO$7wQqO,59hOOOW-E;|-E;|OOQ(C]1G/Q1G/QO$8OQ(C|O7+'aOOQ(C],5>y,5>yO$8rQ`O,5>yOOQ(C]1G2Y1G2YP$8wQ`O'#I_POQ(C]-E<]-E<]O$9hQ&kO1G2fO$:ZQ&kO1G2hO$:eQqO1G2jOOQ(C]1G2R1G2RO$:lQ`O'#I^O$:zQ`O,5@SO$:zQ`O,5@SO$;SQ`O,5@SO$;_Q`O,5@SOOQO1G2T1G2TO$;mQ&kO1G2SOKhQ&jO1G2SO$;}QMhO'#I`O$<_Q`O,5@TOJRQ&jO,5@TO$<gQqO,5@TOOQ(C]1G2W1G2WOOQ(CW,5<q,5<qOOQ(CW,5<r,5<rO$<qQ`O,5<rO#<uQ`O,5<rO!0`Q!bO,5<qOOQO'#GY'#GYO$<vQ`O,5<sOOQ(CW,5<u,5<uO$<qQ`O,5<xOOQO,5>{,5>{OOQO-E<_-E<_OOQ(C]1G2[1G2[O!)dQ,UO,5<qO$=OQ`O,5<rO#<zQ`O,5<sO!)dQ,UO,5<rO$=ZQ&kO1G5RO$=eQ&kO1G5ROOQO,5>|,5>|OOQO-E<`-E<`OOQP1G.x1G.xO!1cQ,UO,59oO$}QdO,59oO$=rQ`O1G1}OKhQ&jO1G2UO$=wQ(C|O7+'bOOQ(C[7+'b7+'bOHRQdO7+'bOOQ(C[7+%^7+%^O$>kQqO'#JjO$(iQ`O7+(WO$>uQ`O7+(WO$>}QqO7+(WO$?XQ(CyO'#ChO$?lQ(CyO,5<vO$@^Q`O,5<vOOQ(CW1G5O1G5OOOQS7+$_7+$_O;dQ`O7+$_O!0`Q!bO7+$_OHRQdO7+&TO$@cQ`O'#IiO$@tQ`O,5@[OOQO1G3Y1G3YO6tQ`O,5@[O$@tQ`O,5@[O$@|Q`O,5@[OOQO,5?U,5?UOOQO-E<h-E<hOOQ(C[7+&x7+&xO$ARQ`O7+(sO6lQ(ChO7+(sO6tQ`O7+(sO$AWQ`O7+(sO$A]Q`O,5;SOOQ(CW,5?O,5?OOOQ(CW-E<b-E<bOOQS7+(b7+(bO$AbQ(CyO7+(_OJRQ&jO7+(_O$AlQqO7+(`OOQS7+(`7+(`OJRQ&jO7+(`O$AsQ`O'#JmO$BOQ`O,5=^OOQO,5?Q,5?QOOQO-E<d-E<dOOQS7+(e7+(eO$CUQ,UO'#G{OOQS1G3Q1G3QOJRQ&jO1G3QO$}QdO1G3QOJRQ&jO1G3QO$C]QaO1G3QO$CkQ&kO1G3QO6lQ(ChO1G3TO#=PQ`O1G3TO6bQ`O1G3TO!0`Q!bO1G3TO!0hQ&jO1G3TO$C|Q`O'#IhO$DXQ`O,5@YO$DaQ,UO,5@YOOQ(CW1G3U1G3UOOQS7+$U7+$UO$DiQ`O7+$UO6lQ(ChO7+$UO$DnQ`O7+$UO$}QdO1G5wO$}QdO1G5xO$DsQdO1G3]O$DzQ`O1G3]O$EPQdO1G3]O$EWQ(ChO1G5wOOQS7+(u7+(uO6lQ(ChO7+)PO`QdO7+)ROOQS'#Js'#JsOOQS'#Ik'#IkO$EbQdO,5>QOOQS,5>Q,5>QO$}QdO'#HgO$EoQ`O'#HiOOQS,5>W,5>WO8YQ`O,5>WOOQS,5>Y,5>YOOQS7+)[7+)[OOQS7+)b7+)bOOQS7+)f7+)fOOQS7+)h7+)hO$EtQ!bO1G5ZO$FYQ!LUO1G0nO$FdQ`O1G0nOOQO1G/k1G/kO$FoQ!LUO1G/kO$FyQ`O,5?oO;dQ`O1G/kOMqQdO'#DeOOQO,5>m,5>mOOQO-E<P-E<POOQO,5>s,5>sOOQO-E<V-E<VO!0`Q!bO1G/kO$GOQ7[O,5:lO$HOQ(DjO,5:uO$%_Q,UO,5:kO$HjQ,UO,5:kO$HwQ,UO,5:kO$IXQ,UO,5:uO$IrQ,UO,5:uO$%_Q,UO,5:uO;dQ`O,5:kOOQO,5:u,5:uO$}QdO,5:uO$JcQ(ChO,5:uO$JnQ(ChO,5:uO!0`Q!bO,5:kOOQO-E<S-E<SOOQ(C[1G0U1G0UOOQO,5:{,5:{O$J|Q(ChO,5:uOOQ(C[7+%m7+%mO$(iQ`O7+%mO$(nQqO7+%mOOQ(C[7+&S7+&SO;dQ`O7+&SO!0`Q!bO7+&SO$KbQ`O7+*|O$KbQ`O7+*|O$KjQ(C|O7+*}O$}QdO7+*}OOQO1G4`1G4`O8YQ`O1G4`O$KzQ`O1G4`OOQO7+%u7+%uO$(iQ`O<<KrO$LYQ`O<<KrO$LbQqO<<KrOOQS<<Kr<<KrOJRQ&jO<<KrO$}QdO<<KrOJRQ&jO<<KrO$LlQaO<<KrO$LzQ(C}O1G2fO% VQ(C}O1G2hO%#bQ(C}O1G2SO%%sQ&kO,5>nOOQO-E<Q-E<QO%%}QtO,5>oO$}QdO,5>oOOQO-E<R-E<RO%&XQ`O1G5]OOQ(C[<<Ix<<IxO%&aQ!LUO1G0iO%(kQ!LUO1G0sO%(rQ!LUO1G0sO%*vQ!LUO1G0sO%*}Q!LUO1G0sO%,rQ!LUO1G0sO%-YQ!LUO1G0sO%/mQ!LUO1G0sO%/tQ!LUO1G0sO%1xQ!LUO1G0sO%2PQ!LUO1G0sO%3wQ!LUO1G0sO%4[Q(C|O<<J[O%5aQ!LVO1G0sO%7VQ!LVO'#I|O%7aQ!LUO1G1XOMqQdO'#FgOOQO'#Jf'#JfOOQO1G1k1G1kO%7nQ`O1G1jO%7sQ!LUO,5>wOOOO7+'^7+'^OOOW1G/S1G/SOOQ(C]1G4e1G4eOKhQ&jO7+(UO%7}Q`O,5>xO6tQ`O,5>xOOQO-E<[-E<[O%8]Q`O1G5nO%8]Q`O1G5nO%8eQ`O1G5nO%8pQ&kO7+'nO%9QQqO,5>zO%9[Q`O,5>zOJRQ&jO,5>zOOQO-E<^-E<^O%9aQqO1G5oO%9kQ`O1G5oOOQ(CW1G2^1G2^O$<qQ`O1G2^OOQ(CW1G2]1G2]O%9sQ`O1G2_OJRQ&jO1G2_OOQ(CW1G2d1G2dO!0`Q!bO1G2]O#<uQ`O1G2^O%9xQ`O1G2_O%:QQ`O1G2^OKhQ&jO7+*mOOQ(C]1G/Z1G/ZO%:]Q`O1G/ZOOQ(C]7+'i7+'iO%:bQ&kO7+'pO%:rQ(C|O<<J|OOQ(C[<<J|<<J|OJRQ&jO'#IcO%;fQ`O,5@UOJRQ&jO1G2bOOQS<<Gy<<GyO;dQ`O<<GyO%;nQ(C|O<<IoOOQ(C[<<Io<<IoOOQO,5?T,5?TO%<bQ`O,5?TO%<gQ`O,5?TOOQO-E<g-E<gO%<oQ`O1G5vO%<oQ`O1G5vO6tQ`O1G5vO%<wQ`O<<L_OOQS<<L_<<L_O%<|Q`O<<L_O6lQ(ChO<<L_O%=RQ`O1G0nOOQS<<Ky<<KyO$AbQ(CyO<<KyOOQS<<Kz<<KzO$AlQqO<<KzO%=WQ,UO'#IeO%=cQ`O,5@XOMqQdO,5@XOOQS1G2x1G2xO%=kQ(DjO'#JTO%>VQdO'#JTO%>^Q,UO'#EZO%>tQ(ChO'#EZO$$sQ(DjO'#EZO$%hQ,UO'#G|OOQO'#Ig'#IgO%?YQ,UO,5=gOOQS,5=g,5=gO%?aQ,UO'#EZO%?rQ,UO'#EZO%@YQ,UO'#EZO%@vQ,UO'#G|O%AXQ`O7+(lO%A^Q`O7+(lO%AfQqO7+(lOOQS7+(l7+(lOJRQ&jO7+(lO$}QdO7+(lOJRQ&jO7+(lO%ApQaO7+(lOOQS7+(o7+(oO6lQ(ChO7+(oO#=PQ`O7+(oO6bQ`O7+(oO!0`Q!bO7+(oO%BOQ`O,5?SOOQO-E<f-E<fOOQO'#HP'#HPO%BZQ`O1G5tO6lQ(ChO<<GpOOQS<<Gp<<GpO%BcQ`O<<GpO%BhQ`O7++cO%BmQ`O7++dOOQS7+(w7+(wO%BrQ`O7+(wO%BwQdO7+(wO%COQ`O7+(wO$}QdO7++cO$}QdO7++dOOQS<<Lk<<LkOOQS<<Lm<<LmOOQS-E<i-E<iOOQS1G3l1G3lO%CTQ`O,5>ROOQS,5>T,5>TO%CYQ`O1G3rO8YQ`O7+&YOMqQdO7+&YOOQ(CW1G5Z1G5ZOOQO7+%V7+%VO%C_Q!LUO1G5fO;dQ`O7+%VO;dQ`O1G0VOOQO1G0a1G0aO$}QdO1G0aO%CiQ(ChO1G0aO%CtQ(ChO1G0aO!0`Q!bO1G0VO$%_Q,UO1G0VO%DSQ,UO1G0VO%DaQ(DjO1G0aO%D{Q,UO1G0VO$%_Q,UO1G0aO%E]Q,UO1G0aO%EvQ(ChO1G0aOOQO1G0V1G0VO%F[Q(C|O1G0aOOQ(C[<<IX<<IXOOQ(C[<<In<<InO;dQ`O<<InO%FfQ`O<<NhO%FnQ(C|O<<NiOOQO7+)z7+)zO8YQ`O7+)zOOQSANA^ANA^OJRQ&jOANA^O$(iQ`OANA^O%GOQ`OANA^O%GWQqOANA^O$}QdOANA^OJRQ&jOANA^O%GbQ(C}O7+'nO%IsQ(C}O7+'pO%LUQtO1G4ZO%L`Q!LUO7+&TO%MUQ!LVO,59mO& YQ!LVO,5<_O&#aQ!LVO,5<aO&%SQ!LVO,5<oO&&xQ!LUO7+'aO&'VQ!LUO7+'bO&'dQ`O,5<ROOQO7+'U7+'UO&'iQ&kO<<KpOOQO1G4d1G4dO&'pQ`O1G4dO&'{Q`O1G4dO&(ZQ`O7++YO&(ZQ`O7++YOJRQ&jO1G4fO&(cQqO1G4fO&(mQ`O7++ZOOQ(CW7+'x7+'xO$<qQ`O7+'yO&(uQqO7+'yOOQ(CW7+'w7+'wO$<qQ`O7+'xO&(|Q`O7+'yOJRQ&jO7+'yO#<uQ`O7+'xO&)RQ&kO<<NXOOQ(C]7+$u7+$uO&)]QqO,5>}OOQO-E<a-E<aO&)gQ(CyO7+'|OOQSAN=eAN=eO6tQ`O1G4oOOQO1G4o1G4oO&)wQ`O1G4oO&)|Q`O7++bO&)|Q`O7++bO6lQ(ChOANAyO&*UQ`OANAyOOQSANAyANAyOOQSANAeANAeOOQSANAfANAfO&*ZQ`O,5?POOQO-E<c-E<cO&*fQ!LUO1G5sO#=PQ`O,5=hO6bQ`O,5=hO&,vQtO'#ChO&-QQ,UO,5:uO&-[Q,UO,5:uO!0`Q!bO,5=hOOQO-E<e-E<eOOQS1G3R1G3RO%>VQdO,5<sO%=kQ(DjO,5=hO$HOQ(DjO,5:uO$%hQ,UO,5=hO&-lQ,UO,5=hO&-}Q,UO,5:uOOQS<<LW<<LWOJRQ&jO<<LWO%AXQ`O<<LWO&.eQ`O<<LWO&.mQqO<<LWO$}QdO<<LWOJRQ&jO<<LWOOQS<<LZ<<LZO6lQ(ChO<<LZO#=PQ`O<<LZO6bQ`O<<LZO&.wQ,UO1G4nO&/PQ`O7++`OOQSAN=[AN=[O6lQ(ChOAN=[OOQS<<N}<<N}OOQS<= O<= OOOQS<<Lc<<LcO&/XQ`O<<LcO&/^QdO<<LcO&/eQ`O<<N}O&/jQ`O<= OOOQS1G3m1G3mO;dQ`O7+)^O&/oQ`O<<ItO&/zQ!LUO<<ItOOQO<<Hq<<HqOOQO7+%q7+%qO%F[Q(C|O7+%{OOQO7+%{7+%{O$}QdO7+%{O&0UQ(ChO7+%{O;dQ`O7+%qO!0`Q!bO7+%qO$%_Q,UO7+%qO&0aQ(ChO7+%{O&0oQ,UO7+%qO&0|Q(ChO7+%{O&1bQ(DjO7+%{O&1lQ,UO7+%qO$%_Q,UO7+%{OOQ(C[AN?YAN?YOOQO<<Mf<<MfO$(iQ`OG26xOOQSG26xG26xOJRQ&jOG26xO&1|Q`OG26xO&2UQqOG26xO&2`Q!LUO<<J[O&2mQ!LVO1G2SO&4wQ!LVO1G2fO&7OQ!LVO1G2hO&8qQ!LUO<<J|O&9OQ!LUO<<IoOOQO1G1m1G1mOKhQ&jOANA[OOQO7+*O7+*OO&9]Q`O7+*OO&9hQ`O<<NtO&9pQqO7+*QOOQ(CW<<Ke<<KeO$<qQ`O<<KeOOQ(CW<<Kd<<KdO&9zQqO<<KeO$<qQ`O<<KdOOQO7+*Z7+*ZO6tQ`O7+*ZO&:RQ`O<<N|OOQSG27eG27eO6lQ(ChOG27eOMqQdO1G4kO&:ZQ`O7++_O6lQ(ChO1G3SO#=PQ`O1G3SO&:cQ,UO1G0aO6bQ`O1G3SO!0`Q!bO1G3SO$%hQ,UO1G3SO%=kQ(DjO1G3SO%DaQ(DjO1G0aO&:mQ,UO1G3SO%AXQ`OANArOOQSANArANArOJRQ&jOANArO&;OQ`OANArO&;WQqOANArOOQSANAuANAuO6lQ(ChOANAuO#=PQ`OANAuOOQO'#HQ'#HQOOQO7+*Y7+*YOOQSG22vG22vOOQSANA}ANA}O&;bQ`OANA}OOQSANDiANDiOOQSANDjANDjOOQS<<Lx<<LxOMqQdOAN?`OOQO<<Ig<<IgO%F[Q(C|O<<IgO$}QdO<<IgOOQO<<I]<<I]O;dQ`O<<I]O!0`Q!bO<<I]O&;gQ(ChO<<IgO$%_Q,UO<<I]O&;rQ(ChO<<IgO&<QQ,UO<<I]O&<_Q(ChO<<IgOOQSLD,dLD,dO$(iQ`OLD,dOJRQ&jOLD,dO&<sQ!LVO7+'nO&>iQ!LVO7+'pO&@_Q&kOG26vOOQO<<Mj<<MjOOQ(CWANAPANAPO$<qQ`OANAPOOQ(CWANAOANAOOOQO<<Mu<<MuOOQSLD-PLD-PO&@oQ!LUO7+*VOOQO7+(n7+(nO6lQ(ChO7+(nO#=PQ`O7+(nO6bQ`O7+(nO!0`Q!bO7+(nO$%hQ,UO7+(nOOQSG27^G27^O%AXQ`OG27^OJRQ&jOG27^OOQSG27aG27aO6lQ(ChOG27aOOQSG27iG27iO&@yQ!LUOG24zOOQOAN?RAN?RO%F[Q(C|OAN?ROOQOAN>wAN>wO;dQ`OAN>wO$}QdOAN?RO!0`Q!bOAN>wO&ATQ(ChOAN?RO$%_Q,UOAN>wO&A`Q(ChOAN?ROOQS!$(!O!$(!OO$(iQ`O!$(!OO&AnQ(C}OG26vOOQ(CWG26kG26kOOQO<<LY<<LYO6lQ(ChO<<LYO#=PQ`O<<LYO6bQ`O<<LYO!0`Q!bO<<LYOOQSLD,xLD,xO%AXQ`OLD,xOOQSLD,{LD,{OOQOG24mG24mOOQOG24cG24cO%F[Q(C|OG24mO;dQ`OG24cO$}QdOG24mO!0`Q!bOG24cO&DPQ(ChOG24mOOQS!)9Ej!)9EjO&DmQ7]O,5:yOOQOANAtANAtO6lQ(ChOANAtO#=PQ`OANAtO6bQ`OANAtOOQS!$(!d!$(!dOOQOLD*XLD*XOOQOLD)}LD)}O%F[Q(C|OLD*XO;dQ`OLD)}O$}QdOLD*XO&EpQ!LVOG26vO&GfQ7]O,59mO&HfQ7]O,5<_O&IfQ7]O,5<aO&JfQ7]O,5<oOOQOG27`G27`O6lQ(ChOG27`O#=PQ`OG27`OOQO!$'Ms!$'MsOOQO!$'Mi!$'MiO%F[Q(C|O!$'MsO&KiQ7]O1G2fO&LiQ7]O1G2hO&MiQ7]O1G2SOOQOLD,zLD,zO6lQ(ChOLD,zOOQO!)9C_!)9C_O&NlQ7]O7+'nO' oQ7]O7+'pOOQO!$(!f!$(!fO'!rQ7]OG26vOMqQdO'#DtO.fQ`O'#EQO'#uQtO'#JPOMqQdO'#DlO'#|QtO'#ChO'&dQtO'#ChO'&tQdO,5:}O'(tQ&jO'#E_OMqQdO,5;XOMqQdO,5;XOMqQdO,5;XOMqQdO,5;XOMqQdO,5;XOMqQdO,5;XOMqQdO,5;XOMqQdO,5;XOMqQdO,5;XOMqQdO,5;XOMqQdO,5;XOMqQdO'#I]O'*UQ`O,5<^O'*^Q&jO,5;XO'+nQ&jO,5;XOMqQdO,5;mO.iQ`O'#DRO.iQ`O'#DRO.iQ`O'#DROJRQ&jO'#FsO'(tQ&jO'#FsO'*^Q&jO'#FsOJRQ&jO'#FuO'(tQ&jO'#FuO'*^Q&jO'#FuOJRQ&jO'#GTO'(tQ&jO'#GTO'*^Q&jO'#GTOMqQdO,5?zO'&tQdO1G0iO'+uQ!LUO'#ChOMqQdO1G1uOJRQ&jO,5<zO'(tQ&jO,5<zO'*^Q&jO,5<zOJRQ&jO,5<|O'(tQ&jO,5<|O'*^Q&jO,5<|OJRQ&jO,5<hO'(tQ&jO,5<hO'*^Q&jO,5<hO'&tQdO1G1vOMqQdO7+&pOJRQ&jO1G2SO'(tQ&jO1G2SO'*^Q&jO1G2SOJRQ&jO1G2UO'(tQ&jO1G2UO'*^Q&jO1G2UO'&tQdO7+'bO'&tQdO7+&TO',PQ`O7+'yOJRQ&jOANA[O'(tQ&jOANA[O'*^Q&jOANA[O',PQ`O<<KeO',PQ`OANAPO',UQ`O'#EcO',ZQ`O'#EcO',cQ`O'#FRO',hQ`O'#EmO',mQ`O'#J`O',xQ`O'#J^O'-TQ`O,5:}O'-YQ&kO,5<ZO'-aQ`O'#F|O'-fQ`O'#F|O'-kQ`O'#F|O'-pQ`O,5<[O'-xQ`O,5:}O'.QQ!LUO1G1UO'.XQ`O,5<hO'.^Q`O,5<hO'.cQ`O,5<hO'.hQ`O,5<jO'.mQ`O,5<jO'.rQ`O,5<jO'.wQ`O1G1vO'.|Q`O1G0iO'/RQ`O1G2_O'/WQ&kO<<KpO'/_Q&kO<<KpO'/fQ&kO<<KpO'/mQqO7+'yO'/tQ`O7+'yO'/yQqO<<KeO4}Q&jO'#FqO6bQ`O'#FpO={Q`O'#EbOMqQdO,5;jO!(eQ`O'#F|O!(eQ`O'#F|O!(eQ`O'#F|O!(eQ`O'#GOO!(eQ`O'#GOO!(eQ`O'#GOO'0QQ`O,5<sOKhQ&jO7+(UOKhQ&jO7+(UOKhQ&jO7+(UOJRQ&jO1G2_O'0YQ`O1G2_OJRQ&jO7+'yO$:eQqO1G2jO$:eQqO1G2jO$:eQqO1G2jOJRQ&jO,5=OOJRQ&jO,5=OOJRQ&jO,5=O",stateData:"'1c~O'fOS'gOSTOSUOS~OQUORUOX}O]gO_lObrOcqOigOkUOlgOmgOrgOtUOvUO{SO!OgO!PgO!VTO!aoO!fVO!iUO!jUO!kUO!lUO!mUO!ppO#kwO#{tO$PbO%ZuO%]xO%_vO%`vO%cyO%ezO%h{O%i{O%k|O%x!OO&O!PO&Q!QO&S!RO&U!SO&X!TO&_!UO&e!VO&g!WO&i!XO&k!YO&m!ZO'iQO'qRO'zXO'|WO(ZeO~OQUORUO]gOb!aOc!`OigOkUOlgOmgOrgOtUOvUO{SO!OgO!PgO!V!]O!aoO!fVO!iUO!jUO!kUO!lUO!mUO!p!_O#{!bO$PbO'i![O'qRO'|WO(ZeO~OQ[XZ[X_[Xk[Xx[Xy[X{[X!T[X!c[X!d[X!f[X!l[X#S[X#_dX#b[X#c[X#d[X#e[X#f[X#g[X#h[X#i[X#j[X#l[X#n[X#p[X#q[X#v[X'd[X'q[X'}[X(U[X(V[X~O!_$uX~P&}OS!cO'b!dO'c!fO~OQUORUO]gOb!aOc!`OigOkUOlgOmgOrgOtUOvUO{SO!OgO!PgO!V!]O!aoO!fVO!iUO!jUO!kUO!lUO!mUO!p!_O#{!bO$PbO'i;ZO'qRO'|WO(ZeO~O!S!jO!T!gO!Q'uP!Q(RP~P)jO!U!rO~P`OQUORUO]gOb!aOc!`OigOkUOlgOmgOrgOtUOvUO{SO!OgO!PgO!V!]O!aoO!fVO!iUO!jUO!kUO!lUO!mUO!p!_O#{!bO$PbO'qRO'|WO(ZeO~O!S!xO#]!{O#^!xO'i;[O'zXO!e(OP~P,RO!f!}O'i!|O~O!p#RO%Z#SO'zXO~O#_#TO~O!_#UO#_#TO~OQ#lOZ#sOk#aOx#YOy#ZO{#[O!T#pO!c#cO!d#WO!f#XO!l#lO#b#_O#c#`O#d#`O#e#`O#f#bO#g#cO#h#cO#i#rO#j#cO#l#dO#n#fO#p#hO#q#iO'qRO'}#jO(U#]O(V#^O~O_'sX'd'sX'`'sX!e'sX!Q'sX!V'sX%['sX!_'sX~P/WO#S#tO#v#tOQ'tXZ'tX_'tXk'tXx'tXy'tX{'tX!T'tX!c'tX!d'tX!f'tX!l'tX#b'tX#c'tX#d'tX#e'tX#f'tX#g'tX#h'tX#i'tX#l'tX#n'tX#p'tX#q'tX'q'tX'}'tX(U'tX(V'tX~O#j'tX'd'tX'`'tX!Q'tX!e'tXo'tX!V'tX%['tX!_'tX~P1nO#S#tO~O$R#vO$T#uO$[#{O~O!V#|O$PbO$_#}O$a$PO~O]$SOi$cOk$TOl$SOm$SOr$dOt$eOv$fO{$[O!V$]O!a$kO!f$XO#^$lO#{$iO$h$gO$j$hO$m$jO'i$RO'm$bO'q$UOe'nP~O!f$mO~O!_$oO~O_$pO'd$pO~O'i$tO~O!f$mO'i$tO'j$vO'm$bO~Oc$|O!f$mO'i$tO~O#j#cO~O]%VOx%RO!V%OO!f%QO%]%UO'i$tO'j$vO^(cP~O!p#RO~O{%WO!V%XO'i$tO~O{%WO!V%XO%e%]O'i$tO~O'i%^O~O#kwO%]xO%_vO%`vO%cyO%ezO%h{O%i{O~Ob%gOc%fO!p%dO%Z%eO%m%cO~P8xOb%jOcqO!V%iO!ppO#kwO%ZuO%_vO%`vO%cyO%ezO%h{O%i{O%k|O'zXO~O`%mO#S%pO%]%kO'j$vO~P9wO!f%qO!i%uO~O!f!}O~O!VTO~O_$pO'a%}O'd$pO~O_$pO'a&QO'd$pO~O_$pO'a&SO'd$pO~O'`[Xo[X!Q[X!e[X%|[X!V[X%[[X!_[X~P&}O]&XOl&XO{&WO!S&[O!Y&bO!Z&ZO![&ZO'j$vO'r&UO!U'vP!U(TP~OP&fO!V&cO!q&eO'i$tO~Oc&kO!f$mO'i$tO~Ox%RO!f%QO~OS!cO'b!dO'c&nO~O!S&pO!Q&tX!Q&zX!T&tX!T&zX~P)jO!T&rO!Q'uX~OQ#lOZ#sOk#aOx#YOy#ZO{#[O!T&rO!c#cO!d#WO!f#XO!l#lO#b#_O#c#`O#d#`O#e#`O#f#bO#g#cO#h#cO#i#rO#j#cO#l#dO#n#fO#p#hO#q#iO'qRO'}#jO(U#]O(V#^O~O!Q'uX~P?WO!Q&wO~O!Q(QX!T(QX!_(QX!e(QX'}(QX~O#S(QX#_#WX!U(QX~PA^O#S&xO!Q(SX!T(SX~O!T&yO!Q(RX~O!Q&|O~O#S#tO~PA^O!U&}O~P`Ox#YOy#ZO{#[O!d#WO!f#XO'qROQ!haZ!hak!ha!T!ha!c!ha!l!ha#b!ha#c!ha#d!ha#e!ha#f!ha#g!ha#h!ha#i!ha#j!ha#l!ha#n!ha#p!ha#q!ha'}!ha(U!ha(V!ha~O_!ha'd!ha'`!ha!Q!ha!e!hao!ha!V!ha%[!ha!_!ha~PBtO!e'OO~O{%WO!V%XO#]'RO#^'QO'i$tO'zXO~O!_#UO#S'TO'}'SO!T(PX_(PX'd(PX~O!e(PX~PExO!T'WO!e(OX~O!e'YO~O{%WO!V%XO#^'QO'i$tO~Ox'ZOy'[O!d#WO!f#XO'z!ta{!ta~O!p!ta%Z!ta!V!ta#]!ta#^!ta'i!ta~PGQO!p'`O~OQUORUO]gOb!aOc!`OigOkUOlgOmgOrgOtUOvUO{SO!OgO!PgO!VTO!aoO!fVO!iUO!jUO!kUO!lUO!mUO!p!_O#{!bO$PbO'i![O'qRO'|WO(ZeO~O]$SOi$cOk$TOl$SOm$SOr$dOt$eOv;oO{$[O!V$]O!a=`O!f$XO#^;xO#{$iO$h;rO$j;uO$m$jO'i'dO'm$bO'q$UO~O#_'fO~O]$SOi$cOk$TOl$SOm$SOr$dOt$eOv$fO{$[O!V$]O!a$kO!f$XO#^$lO#{$iO$h$gO$j$hO$m$jO'i'dO'm$bO'q$UO~Oe'xP~PKhO!S'jO!e'yP~P$}O'r'lO'|WO~O{'nO!f#XO'r'lO'|WO~OQ;VOR;VO]gOb=ZOc!`OigOk;VOlgOmgOrgOt;VOv;VO{SO!OgO!PgO!V!]O!a;YO!fVO!i;VO!j;VO!k;VO!l;VO!m;VO!p!_O#{!bO$PbO'i'|O'qRO'|WO(Z=XO~Oy(PO!f#XO~O!T#pO_$fa'd$fa'`$fa!e$fa!Q$fa!V$fa%[$fa!_$fa~O#k(TO~PJROx(WO!_(VO!V$SX$O$SX$R$SX$T$SX$[$SX~O!_(VO!V(WX$O(WX$R(WX$T(WX$[(WX~Ox(WO~P!#WOx(WO!V(WX$O(WX$R(WX$T(WX$[(WX~O!V(YO$O(^O$R(XO$T(XO$[(_O~O!S(bO~PMqO$R#vO$T#uO$[(eO~OP$nXx$nX{$nX!d$nX(U$nX(V$nX~OPgXegXe$nX!TgX#SgX~P!$|Ol(gO~OS(hO'b(iO'c(kO~OP(tOx(mO{(nO(U(pO(V(rO~Oe(lO~P!&VOe(uO~O]$SOi$cOk$TOl$SOm$SOr$dOt$eOv;oO{$[O!V$]O!a=`O!f$XO#^;xO#{$iO$h;rO$j;uO$m$jO'm$bO'q$UO~O!S(yO'i(vO!e([P~P!&tO#_({O~O!f(|O~O!S)RO'i)OO!Q(]P~P!&tOk)`O{)WO!Y)^O!Z)VO![)VO!f(|O#O)_O%R)YO'j$vO'r)TO~O!U)]O~P!(wO!d#WOP'pXx'pX{'pX(U'pX(V'pX!T'pX#t'pX!U'pX~Oe'pX#S'pX]'pXl'pX!Y'pX!Z'pX!['pX!x'pX!y'pX!z'pX#O'pX#P'pX'j'pX'r'pX'z'pX'|'pX~P!)pOP)cO#S)bOe'oX!T'oX~O!T)dOe'nX~O'i%^Oe'nP~O!f)kO~O'i'dO~O{%WO!S!xO!V%XO#]!{O#^!xO'i$tO'zXO!e(OP~O!_#UO#_)oO~OQ#lOZ#sOk#aOx#YOy#ZO{#[O!c#cO!d#WO!f#XO!l#lO#b#_O#c#`O#d#`O#e#`O#f#bO#g#cO#h#cO#i#rO#j#cO#l#dO#n#fO#p#hO#q#iO'qRO'}#jO(U#]O(V#^O~O_!`a!T!`a'd!`a'`!`a!Q!`a!e!`ao!`a!V!`a%[!`a!_!`a~P!-ROP)wO!V&cO!q)vO%[)uO'm$bO~O!_)yO!V'lX_'lX!T'lX'd'lX~O!f$mO'm$bO~O!f$mO'i$tO'm$bO~O!_#UO#_'fO~O]*UO%]*VO'i*RO!U(dP~O!T*WO^(cX~O'r'lO~OZ*[O~O^*]O~O!V%OO'i$tO'j$vO^(cP~O{%WO!S*aO!T&yO!V%XO'i$tO!Q(RP~O]&_Ol&_O{*cO!S*bO'r'lO~O!U(TP~P!2fO!T*dO_(`X'd(`X~O#S*hO'm$bO~OP*kO!V$]O'm$bO~O!V*mO~Ox*oO!VTO~O!p*tO~Oc*yO~O'i!|O!U(bP~Oc$|O~O%]xO'i%^O~P9wOZ+PO^+OO~OQUORUO]gObrOcqOigOkUOlgOmgOrgOtUOvUO{SO!OgO!PgO!aoO!fVO!iUO!jUO!kUO!lUO!mUO!ppO$PbO%ZuO'qRO'zXO'|WO(ZeO~O!V!]O#{!bO'i![O~P!4vO^+OO_$pO'd$pO~O_+TO#k+VO%_+VO%`+VO~P$}O!f%qO~O&O+[O~O!V+^O~O&a+`O&c+aOQ&^aR&^aX&^a]&^a_&^ab&^ac&^ai&^ak&^al&^am&^ar&^at&^av&^a{&^a!O&^a!P&^a!V&^a!a&^a!f&^a!i&^a!j&^a!k&^a!l&^a!m&^a!p&^a#k&^a#{&^a$P&^a%Z&^a%]&^a%_&^a%`&^a%c&^a%e&^a%h&^a%i&^a%k&^a%x&^a&O&^a&Q&^a&S&^a&U&^a&X&^a&_&^a&e&^a&g&^a&i&^a&k&^a&m&^a'`&^a'i&^a'q&^a'z&^a'|&^a(Z&^a!U&^a&V&^a`&^a&[&^a~O'i+fO~O!TzX!T!]X!UzX!U!]X!_zX!_!]X!f!]X#SzX'm!]X~O!_+kO#S+jO!T#[X!T'wX!U#[X!U'wX!_'wX!f'wX'm'wX~O!_+mO!f$mO'm$bO!T!XX!U!XX~O]&VOl&VO{+nO'r)TO~OQ;VOR;VO]gOb=ZOc!`OigOk;VOlgOmgOrgOt;VOv;VO{SO!OgO!PgO!V!]O!a;YO!fVO!i;VO!j;VO!k;VO!l;VO!m;VO!p!_O#{!bO$PbO'qRO'|WO(Z=XO~O'i;}O~P!>SO!T+rO!U'vX~O!U+tO~O!_+kO#S+jO!T#[X!U#[X~O!T+uO!U(TX~O!U+wO~O]&VOl&VO{+nO'j$vO'r)TO~O!Z+xO![+xO~P!AQO_+}O!U,PO!Y,QO!Z+|O![+|O!x,UO!y,SO!z,TO!{,RO#O,VO#P,VO'z;WO'|+zO~P!AQOP,[O!V&cO!q,ZO~Oo,aO~O!Q&ta!T&ta~P!-RO!S,eO!Q&tX!T&tX~P$}O!T&rO!Q'ua~O!Q'ua~P?WO!T&yO!Q(Ra~O{%WO!S,iO!V%XO'i$tO!Q&zX!T&zX~O!T'WO!e(Oa~O{%WO!V%XO#^,lO'i$tO~O#S,nO!T(Pa!e(Pa_(Pa'd(Pa~O!_#UO~P!DvO{%WO!S,qO!V%XO#],sO#^,qO'i$tO'zXO!T&|X!e&|X~Oy,wO!f#XO~OP,{O!V&cO!q,zO%[,yO'm$bO~O_#Vi!T#Vi'd#Vi'`#Vi!Q#Vi!e#Vio#Vi!V#Vi%[#Vi!_#Vi~P!-ROP=mOx(mO{(nO(U(pO(V(rO~O#_#Ra!T#Ra!e#Ra#S#Ra!V#Ra_#Ra'd#Ra!Q#Ra~P!G[O!d#WOP'pXx'pX{'pX(U'pX(V'pXQ'pXZ'pXk'pXy'pX!T'pX!c'pX!f'pX!l'pX#b'pX#c'pX#d'pX#e'pX#f'pX#g'pX#h'pX#i'pX#j'pX#l'pX#n'pX#p'pX#q'pX'q'pX'}'pX~O#_'pX_'pX'd'pX!e'pX!Q'pX'`'pX!V'pX#S'pXo'pX%['pX!_'pX~P!HZO!T-UOe'xX~P!&VOe-WO~O!T-XO!e'yX~P!-RO!e-[O~O!Q-^O~OQ#lOx#YOy#ZO{#[O!d#WO!f#XO!l#lO'qROZ#ai_#aik#ai!T#ai!c#ai#c#ai#d#ai#e#ai#f#ai#g#ai#h#ai#i#ai#j#ai#l#ai#n#ai#p#ai#q#ai'd#ai'}#ai(U#ai(V#ai'`#ai!Q#ai!e#aio#ai!V#ai%[#ai!_#ai~O#b#ai~P!KrO#b#_O~P!KrOQ#lOx#YOy#ZO{#[O!d#WO!f#XO!l#lO#b#_O#c#`O#d#`O#e#`O'qROZ#ai_#ai!T#ai!c#ai#f#ai#g#ai#h#ai#i#ai#j#ai#l#ai#n#ai#p#ai#q#ai'd#ai'}#ai(U#ai(V#ai'`#ai!Q#ai!e#aio#ai!V#ai%[#ai!_#ai~Ok#ai~P!NdOk#aO~P!NdOQ#lOk#aOx#YOy#ZO{#[O!d#WO!f#XO!l#lO#b#_O#c#`O#d#`O#e#`O#f#bO'qRO_#ai!T#ai#l#ai#n#ai#p#ai#q#ai'd#ai'}#ai(U#ai(V#ai'`#ai!Q#ai!e#aio#ai!V#ai%[#ai!_#ai~OZ#ai!c#ai#g#ai#h#ai#i#ai#j#ai~P##UOZ#sO!c#cO#g#cO#h#cO#i#rO#j#cO~P##UOQ#lOZ#sOk#aOx#YOy#ZO{#[O!c#cO!d#WO!f#XO!l#lO#b#_O#c#`O#d#`O#e#`O#f#bO#g#cO#h#cO#i#rO#j#cO#l#dO'qRO_#ai!T#ai#n#ai#p#ai#q#ai'd#ai'}#ai(V#ai'`#ai!Q#ai!e#aio#ai!V#ai%[#ai!_#ai~O(U#ai~P#&VO(U#]O~P#&VOQ#lOZ#sOk#aOx#YOy#ZO{#[O!c#cO!d#WO!f#XO!l#lO#b#_O#c#`O#d#`O#e#`O#f#bO#g#cO#h#cO#i#rO#j#cO#l#dO#n#fO'qRO(U#]O_#ai!T#ai#p#ai#q#ai'd#ai'}#ai'`#ai!Q#ai!e#aio#ai!V#ai%[#ai!_#ai~O(V#ai~P#(wO(V#^O~P#(wOQ#lOZ#sOk#aOx#YOy#ZO{#[O!c#cO!d#WO!f#XO!l#lO#b#_O#c#`O#d#`O#e#`O#f#bO#g#cO#h#cO#i#rO#j#cO#l#dO#n#fO#p#hO'qRO(U#]O(V#^O~O_#ai!T#ai#q#ai'd#ai'}#ai'`#ai!Q#ai!e#aio#ai!V#ai%[#ai!_#ai~P#+iOQ[XZ[Xk[Xx[Xy[X{[X!c[X!d[X!f[X!l[X#S[X#_dX#b[X#c[X#d[X#e[X#f[X#g[X#h[X#i[X#j[X#l[X#n[X#p[X#q[X#v[X'q[X'}[X(U[X(V[X!T[X!U[X~O#t[X~P#.SOQ#lOZ;mOk;aOx#YOy#ZO{#[O!c;cO!d#WO!f#XO!l#lO#b;_O#c;`O#d;`O#e;`O#f;bO#g;cO#h;cO#i;lO#j;cO#l;dO#n;fO#p;hO#q;iO'qRO'}#jO(U#]O(V#^O~O#t-`O~P#0aOQ'tXZ'tXk'tXx'tXy'tX{'tX!c'tX!d'tX!f'tX!l'tX#b'tX#c'tX#d'tX#e'tX#f'tX#g'tX#h'tX#i'tX#l'tX#n'tX#p'tX#q'tX'q'tX'}'tX(U'tX(V'tX!T'tX~O#S;nO#v;nO#j'tX#t'tX!U'tX~P#2_O_'Pa!T'Pa'd'Pa'`'Pa!e'Pao'Pa!Q'Pa!V'Pa%['Pa!_'Pa~P!-ROQ#aiZ#ai_#aik#aiy#ai!T#ai!c#ai!d#ai!f#ai!l#ai#b#ai#c#ai#d#ai#e#ai#f#ai#g#ai#h#ai#i#ai#j#ai#l#ai#n#ai#p#ai#q#ai'd#ai'q#ai'}#ai'`#ai!Q#ai!e#aio#ai!V#ai%[#ai!_#ai~P!G[O_#ui!T#ui'd#ui'`#ui!Q#ui!e#uio#ui!V#ui%[#ui!_#ui~P!-RO$R-cO$T-cO~O$R-dO$T-dO~O!_(VO#S-eO!V$XX$O$XX$R$XX$T$XX$[$XX~O!S-fO~O!V(YO$O-hO$R(XO$T(XO$[-iO~O!T;jO!U'sX~P#0aO!U-jO~O$[-lO~OS(hO'b(iO'c-oO~O]-rOl-rO!Q-sO~O!TdX!_dX!edX!e$nX'}dX~P!$|O!e-yO~P!G[O!T-zO!_#UO'}'SO!e([X~O!e.PO~O!S(yO'i$tO!e([P~O#_.RO~O!Q$nX!T$nX!_$uX~P!$|O!T.SO!Q(]X~P!G[O!_.UO~O!Q.WO~Ok.[O!_#UO!f$mO'm$bO'}'SO~O'i.^O~O!_)yO~O_$pO!T.bO'd$pO~O!U.dO~P!(wO!Z.eO![.eO'j$vO'r)TO~O{.gO'r)TO~O#O.hO~O'i%^Oe'UX!T'UX~O!T)dOe'na~Oe.mO~Ox.nOy.nO{.oOPua(Uua(Vua!Tua#Sua~Oeua#tua~P#>mOx(mO{(nOP$ga(U$ga(V$ga!T$ga#S$ga~Oe$ga#t$ga~P#?cOx(mO{(nOP$ia(U$ia(V$ia!T$ia#S$ia~Oe$ia#t$ia~P#@UO].pO~O#_.qO~Oe$wa!T$wa#S$wa#t$wa~P!&VO#_.tO~OP,{O!V&cO!q,zO%[,yO~O]$SOk$TOl$SOm$SOr$dOt$eOv;oO{$[O!V$]O!a=`O!f$XO#^;xO#{$iO$h;rO$j;uO$m$jO'm$bO'q$UO~Oi.{O'i.zO~P#AvO!_)yO!V'la_'la!T'la'd'la~O#_/RO~OZ[X!TdX!UdX~O!T/SO!U(dX~O!U/UO~OZ/VO~O]/XO'i*RO~O!V%OO'i$tO^'^X!T'^X~O!T*WO^(ca~O!e/[O~P!-RO]/^O~OZ/_O~O^/`O~O!T*dO_(`a'd(`a~O#S/fO~OP/iO!V$]O~O'r'lO!U(aP~OP/sO!V/oO!q/rO%[/qO'm$bO~OZ/}O!T/{O!U(bX~O!U0OO~O^0QO_$pO'd$pO~O]0RO~O]0SO'i!|O~O#j0TO%|0UO~P1nO#S#tO#j0TO%|0UO~O_0VO~P$}O_0XO~O&V0]OQ&TiR&TiX&Ti]&Ti_&Tib&Tic&Tii&Tik&Til&Tim&Tir&Tit&Tiv&Ti{&Ti!O&Ti!P&Ti!V&Ti!a&Ti!f&Ti!i&Ti!j&Ti!k&Ti!l&Ti!m&Ti!p&Ti#k&Ti#{&Ti$P&Ti%Z&Ti%]&Ti%_&Ti%`&Ti%c&Ti%e&Ti%h&Ti%i&Ti%k&Ti%x&Ti&O&Ti&Q&Ti&S&Ti&U&Ti&X&Ti&_&Ti&e&Ti&g&Ti&i&Ti&k&Ti&m&Ti'`&Ti'i&Ti'q&Ti'z&Ti'|&Ti(Z&Ti!U&Ti`&Ti&[&Ti~O`0cO!U0aO&[0bO~P`O!VTO!f0eO~O&c+aOQ&^iR&^iX&^i]&^i_&^ib&^ic&^ii&^ik&^il&^im&^ir&^it&^iv&^i{&^i!O&^i!P&^i!V&^i!a&^i!f&^i!i&^i!j&^i!k&^i!l&^i!m&^i!p&^i#k&^i#{&^i$P&^i%Z&^i%]&^i%_&^i%`&^i%c&^i%e&^i%h&^i%i&^i%k&^i%x&^i&O&^i&Q&^i&S&^i&U&^i&X&^i&_&^i&e&^i&g&^i&i&^i&k&^i&m&^i'`&^i'i&^i'q&^i'z&^i'|&^i(Z&^i!U&^i&V&^i`&^i&[&^i~O!Q0kO~O!T!Xa!U!Xa~P#0aO!S0rO!Y&bO!Z&ZO![&ZO!T&uX!U&uX~P!AQO!T+rO!U'va~O!T&{X!U&{X~P!2fO!T+uO!U(Ta~O!Y0{O!Z0zO![0zO!x1OO!y0}O!z0}O!{0|O#O1PO#P1PO'z;WO'|+zO~P!AQO_$pO!_#UO!f$mO!l1UO#S1SO'd$pO'm$bO'}'SO~O]&VOl&VO{+nO'r)TO'|+zO~O_+}O!U1XO!Y,QO!Z+|O![+|O!x,UO!y,SO!z,TO!{,RO#O,VO#P,VO'z;WO'|+zO~P!AQO!Z0zO![0zO'|+zO~P!AQO!Y0{O!Z0zO![0zO'|+zO~P!AQO!VTO!Y0{O!Z0zO![0zO!{0|O#O1PO#P1PO'|+zO~P!AQO!Y0{O!Z0zO![0zO!y0}O!z0}O!{0|O#O1PO#P1PO'|+zO~P!AQO!V&cO~O!V&cO~P!G[O!T#pOo$fa~O!Q&ti!T&ti~P!-RO!T&rO!Q'ui~O!T&yO!Q(Ri~O!Q(Si!T(Si~P!-RO!T'WO!e(Oi~O!T(Pi!e(Pi_(Pi'd(Pi~P!-RO#S1eO!T(Pi!e(Pi_(Pi'd(Pi~O{%WO!V%XO#]1hO#^1gO'i$tO'zXO~O{%WO!V%XO#^1gO'i$tO~OP1pO!V&cO!q1oO%[1nO~OP1pO!V&cO!q1oO%[1nO'm$bO~O#_uaQuaZua_uakua!cua!dua!fua!lua#bua#cua#dua#eua#fua#gua#hua#iua#jua#lua#nua#pua#qua'dua'qua'}ua!eua!Qua'`ua!Vuaoua%[ua!_ua~P#>mO#_$gaQ$gaZ$ga_$gak$gay$ga!c$ga!d$ga!f$ga!l$ga#b$ga#c$ga#d$ga#e$ga#f$ga#g$ga#h$ga#i$ga#j$ga#l$ga#n$ga#p$ga#q$ga'd$ga'q$ga'}$ga!e$ga!Q$ga'`$ga!V$gao$ga%[$ga!_$ga~P#?cO#_$iaQ$iaZ$ia_$iak$iay$ia!c$ia!d$ia!f$ia!l$ia#b$ia#c$ia#d$ia#e$ia#f$ia#g$ia#h$ia#i$ia#j$ia#l$ia#n$ia#p$ia#q$ia'd$ia'q$ia'}$ia!e$ia!Q$ia'`$ia!V$iao$ia%[$ia!_$ia~P#@UO#_$waQ$waZ$wa_$wak$way$wa!T$wa!c$wa!d$wa!f$wa!l$wa#b$wa#c$wa#d$wa#e$wa#f$wa#g$wa#h$wa#i$wa#j$wa#l$wa#n$wa#p$wa#q$wa'd$wa'q$wa'}$wa!e$wa!Q$wa'`$wa!V$wa#S$wao$wa%[$wa!_$wa~P!G[O_#Vq!T#Vq'd#Vq'`#Vq!Q#Vq!e#Vqo#Vq!V#Vq%[#Vq!_#Vq~P!-ROe&vX!T&vX~PKhO!T-UOe'xa~O!S1xO!T&wX!e&wX~P$}O!T-XO!e'ya~O!T-XO!e'ya~P!-RO!Q1{O~O#t!ha!U!ha~PBtO#t!`a!T!`a!U!`a~P#0aO!V2^O$PbO$Y2_O~O!U2cO~Oo2dO~P!G[O_$cq!T$cq'd$cq'`$cq!Q$cq!e$cqo$cq!V$cq%[$cq!_$cq~P!-RO!Q2eO~O]-rOl-rO~Ox(mO{(nO(V(rOP%Si(U%Si!T%Si#S%Si~Oe%Si#t%Si~P$9POx(mO{(nOP%Ui(U%Ui(V%Ui!T%Ui#S%Ui~Oe%Ui#t%Ui~P$9rO'}#jO~P!G[O!S2hO'i$tO!T'QX!e'QX~O!T-zO!e([a~O!T-zO!_#UO!e([a~O!T-zO!_#UO'}'SO!e([a~Oe$pi!T$pi#S$pi#t$pi~P!&VO!S2pO'i)OO!Q'SX!T'SX~P!&tO!T.SO!Q(]a~O!T.SO!Q(]a~P!G[O!_#UO~O!_#UO#j2xO~Ok2{O!_#UO'}'SO~Oe'oi!T'oi~P!&VO#S3OOe'oi!T'oi~P!&VO!e3RO~O_$dq!T$dq'd$dq'`$dq!Q$dq!e$dqo$dq!V$dq%[$dq!_$dq~P!-RO!T3VO!V(^X~P!G[O!V&cO%[1nO~O!V&cO%[1nO~P!G[O!V$nX%P[X_$nX!T$nX'd$nX~P!$|O%P3XOPhXxhX{hX!VhX(UhX(VhX_hX!ThX'dhX~O%P3XO~O]3_O%]3`O'i*RO!T']X!U']X~O!T/SO!U(da~OZ3dO~O^3eO~O]3hO~O!Q3iO~O_$pO'd$pO~P!G[O!V$]O~P!G[O!T3nO#S3pO!U(aX~O!U3qO~O]&VOl&VO{3sO!Y4OO!Z3wO![3wO!x3}O!y3|O!z3|O#O3{O#P,VO'j$vO'r)TO'z;WO'|+zO~O!U3zO~P$BTOP4VO!V/oO!q4UO%[4TO~OP4VO!V/oO!q4UO%[4TO'm$bO~O'i!|O!T'[X!U'[X~O!T/{O!U(ba~O]4aO'r4`O~O]4bO~O^4dO~O!e4gO~P$}O_4iO~O_4iO~P$}O#j4kO%|4lO~PExO`0cO!U4pO&[0bO~P`O!_4rO~O!_4tO!T'wi!U'wi!_'wi!f'wi'm'wi~O!T#[i!U#[i~P#0aO#S4uO!T#[i!U#[i~O!T!Xi!U!Xi~P#0aO!Q4vO~O]!tal!ta!Y!ta!Z!ta![!ta!x!ta!y!ta!z!ta!{!ta#O!ta#P!ta'j!ta'r!ta'|!ta~PGQO_$pO!_#UO!f$mO!l5OO#S4|O'd$pO'm$bO'}'SO~O!Z5QO![5QO'|+zO~P!AQO!Y5RO!Z5QO![5QO'|+zO~P!AQO!Y5RO!Z5QO![5QO!{5TO#O5UO#P5UO'|+zO~P!AQO!Y5RO!Z5QO![5QO!y5VO!z5VO!{5TO#O5UO#P5UO'|+zO~P!AQO_$pO#S4|O'd$pO~O_$pO!_#UO#S4|O'd$pO~O_$pO!_#UO!l5OO#S4|O'd$pO'}'SO~O!T'WO!e(Oq~O!T(Pq!e(Pq_(Pq'd(Pq~P!-RO{%WO!V%XO#^5aO'i$tO~O!V&cO%[5cO~O!V&cO%[5cO~P!G[OP5hO!V&cO!q5gO%[5cO~O#_%SiQ%SiZ%Si_%Sik%Siy%Si!c%Si!d%Si!f%Si!l%Si#b%Si#c%Si#d%Si#e%Si#f%Si#g%Si#h%Si#i%Si#j%Si#l%Si#n%Si#p%Si#q%Si'd%Si'q%Si'}%Si!e%Si!Q%Si'`%Si!V%Sio%Si%[%Si!_%Si~P$9PO#_%UiQ%UiZ%Ui_%Uik%Uiy%Ui!c%Ui!d%Ui!f%Ui!l%Ui#b%Ui#c%Ui#d%Ui#e%Ui#f%Ui#g%Ui#h%Ui#i%Ui#j%Ui#l%Ui#n%Ui#p%Ui#q%Ui'd%Ui'q%Ui'}%Ui!e%Ui!Q%Ui'`%Ui!V%Uio%Ui%[%Ui!_%Ui~P$9rO#_$piQ$piZ$pi_$pik$piy$pi!T$pi!c$pi!d$pi!f$pi!l$pi#b$pi#c$pi#d$pi#e$pi#f$pi#g$pi#h$pi#i$pi#j$pi#l$pi#n$pi#p$pi#q$pi'd$pi'q$pi'}$pi!e$pi!Q$pi'`$pi!V$pi#S$pio$pi%[$pi!_$pi~P!G[Oe&va!T&va~P!&VO!T&wa!e&wa~P!-RO!T-XO!e'yi~O#t#Vi!T#Vi!U#Vi~P#0aOQ#lOx#YOy#ZO{#[O!d#WO!f#XO!l#lO'qROZ#aik#ai!c#ai#c#ai#d#ai#e#ai#f#ai#g#ai#h#ai#i#ai#j#ai#l#ai#n#ai#p#ai#q#ai#t#ai'}#ai(U#ai(V#ai!T#ai!U#ai~O#b#ai~P%&nO#b;_O~P%&nOQ#lOx#YOy#ZO{#[O!d#WO!f#XO!l#lO#b;_O#c;`O#d;`O#e;`O'qROZ#ai!c#ai#f#ai#g#ai#h#ai#i#ai#j#ai#l#ai#n#ai#p#ai#q#ai#t#ai'}#ai(U#ai(V#ai!T#ai!U#ai~Ok#ai~P%(yOk;aO~P%(yOQ#lOk;aOx#YOy#ZO{#[O!d#WO!f#XO!l#lO#b;_O#c;`O#d;`O#e;`O#f;bO'qRO#l#ai#n#ai#p#ai#q#ai#t#ai'}#ai(U#ai(V#ai!T#ai!U#ai~OZ#ai!c#ai#g#ai#h#ai#i#ai#j#ai~P%+UOZ;mO!c;cO#g;cO#h;cO#i;lO#j;cO~P%+UOQ#lOZ;mOk;aOx#YOy#ZO{#[O!c;cO!d#WO!f#XO!l#lO#b;_O#c;`O#d;`O#e;`O#f;bO#g;cO#h;cO#i;lO#j;cO#l;dO'qRO#n#ai#p#ai#q#ai#t#ai'}#ai(V#ai!T#ai!U#ai~O(U#ai~P%-pO(U#]O~P%-pOQ#lOZ;mOk;aOx#YOy#ZO{#[O!c;cO!d#WO!f#XO!l#lO#b;_O#c;`O#d;`O#e;`O#f;bO#g;cO#h;cO#i;lO#j;cO#l;dO#n;fO'qRO(U#]O#p#ai#q#ai#t#ai'}#ai!T#ai!U#ai~O(V#ai~P%/{O(V#^O~P%/{OQ#lOZ;mOk;aOx#YOy#ZO{#[O!c;cO!d#WO!f#XO!l#lO#b;_O#c;`O#d;`O#e;`O#f;bO#g;cO#h;cO#i;lO#j;cO#l;dO#n;fO#p;hO'qRO(U#]O(V#^O~O#q#ai#t#ai'}#ai!T#ai!U#ai~P%2WO_#ry!T#ry'd#ry'`#ry!Q#ry!e#ryo#ry!V#ry%[#ry!_#ry~P!-ROP=oOx(mO{(nO(U(pO(V(rO~OQ#aiZ#aik#aiy#ai!c#ai!d#ai!f#ai!l#ai#b#ai#c#ai#d#ai#e#ai#f#ai#g#ai#h#ai#i#ai#j#ai#l#ai#n#ai#p#ai#q#ai#t#ai'q#ai'}#ai!T#ai!U#ai~P%5OO#t'pX!U'pX~P!HZO#t#ui!T#ui!U#ui~P#0aO!U5tO~O!T'Pa!U'Pa~P#0aO!_#UO'}'SO!T'Qa!e'Qa~O!T-zO!e([i~O!T-zO!_#UO!e([i~Oe$pq!T$pq#S$pq#t$pq~P!&VO!Q'Sa!T'Sa~P!G[O!_5{O~O!T.SO!Q(]i~P!G[O!T.SO!Q(]i~O!Q6PO~O!_#UO#j6UO~Ok6VO!_#UO'}'SO~O!Q6XO~Oe$rq!T$rq#S$rq#t$rq~P!&VO_$dy!T$dy'd$dy'`$dy!Q$dy!e$dyo$dy!V$dy%[$dy!_$dy~P!-RO!T3VO!V(^a~O_#Vy!T#Vy'd#Vy'`#Vy!Q#Vy!e#Vyo#Vy!V#Vy%[#Vy!_#Vy~P!-ROZ6^O~O]6`O'i*RO~O!T/SO!U(di~O]6cO~O^6dO~O!_4tO~O'r'lO!T'XX!U'XX~O!T3nO!U(aa~O!f$mO'm$bO_'wX!_'wX!l'wX#S'wX'd'wX'}'wX~O'i6mO~P,RO!x6oO!y6nO!z6nO#O1PO#P1PO'z;WO~P$%_O_$pO!_#UO!l1UO#S1SO'd$pO'}'SO~O!U6rO~P$BTO]&VOl&VO{6sO'r)TO'|+zO~O!Y6wO!Z6vO![6vO#O1PO#P1PO'|+zO~P!AQO!Y6wO!Z6vO![6vO!y6xO!z6xO#O1PO#P1PO'|+zO~P!AQO!Z6vO![6vO'j$vO'r)TO'|+zO~O!V/oO~O!V/oO%[6zO~O!V/oO%[6zO~P!G[OP7PO!V/oO!q7OO%[6zO~OZ7UO!T'[a!U'[a~O!T/{O!U(bi~O]7XO~O!e7YO~O!e7ZO~O!e7[O~O!e7[O~P$}O_7^O~O!_7aO~O!e7bO~O!T(Si!U(Si~P#0aO_$pO#S7iO'd$pO~O_$pO!_#UO#S7iO'd$pO~O!Z7mO![7mO'|+zO~P!AQO_$pO!_#UO!f$mO!l7nO#S7iO'd$pO'm$bO'}'SO~O!Y7oO!Z7mO![7mO'|+zO~P!AQO!Y7oO!Z7mO![7mO!{7rO#O7sO#P7sO'|+zO~P!AQO_$pO!_#UO!l7nO#S7iO'd$pO'}'SO~O_$pO'd$pO~P!-RO!T'WO!e(Oy~O!T(Py!e(Py_(Py'd(Py~P!-RO!V&cO%[7xO~O!V&cO%[7xO~P!G[O#_$pqQ$pqZ$pq_$pqk$pqy$pq!T$pq!c$pq!d$pq!f$pq!l$pq#b$pq#c$pq#d$pq#e$pq#f$pq#g$pq#h$pq#i$pq#j$pq#l$pq#n$pq#p$pq#q$pq'd$pq'q$pq'}$pq!e$pq!Q$pq'`$pq!V$pq#S$pqo$pq%[$pq!_$pq~P!G[O#_$rqQ$rqZ$rq_$rqk$rqy$rq!T$rq!c$rq!d$rq!f$rq!l$rq#b$rq#c$rq#d$rq#e$rq#f$rq#g$rq#h$rq#i$rq#j$rq#l$rq#n$rq#p$rq#q$rq'd$rq'q$rq'}$rq!e$rq!Q$rq'`$rq!V$rq#S$rqo$rq%[$rq!_$rq~P!G[O!T&wi!e&wi~P!-RO#t#Vq!T#Vq!U#Vq~P#0aOx.nOy.nO{.oOPua(Uua(Vua!Uua~OQuaZuakua!cua!dua!fua!lua#bua#cua#dua#eua#fua#gua#hua#iua#jua#lua#nua#pua#qua#tua'qua'}ua!Tua~P%LmOx(mO{(nOP$ga(U$ga(V$ga!U$ga~OQ$gaZ$gak$gay$ga!c$ga!d$ga!f$ga!l$ga#b$ga#c$ga#d$ga#e$ga#f$ga#g$ga#h$ga#i$ga#j$ga#l$ga#n$ga#p$ga#q$ga#t$ga'q$ga'}$ga!T$ga~P%NtOx(mO{(nOP$ia(U$ia(V$ia!U$ia~OQ$iaZ$iak$iay$ia!c$ia!d$ia!f$ia!l$ia#b$ia#c$ia#d$ia#e$ia#f$ia#g$ia#h$ia#i$ia#j$ia#l$ia#n$ia#p$ia#q$ia#t$ia'q$ia'}$ia!T$ia~P&!{OQ$waZ$wak$way$wa!c$wa!d$wa!f$wa!l$wa#b$wa#c$wa#d$wa#e$wa#f$wa#g$wa#h$wa#i$wa#j$wa#l$wa#n$wa#p$wa#q$wa#t$wa'q$wa'}$wa!T$wa!U$wa~P%5OO#t$cq!T$cq!U$cq~P#0aO#t$dq!T$dq!U$dq~P#0aO!U8RO~O#t8SO~P!&VO!_#UO!T'Qi!e'Qi~O!_#UO'}'SO!T'Qi!e'Qi~O!T-zO!e([q~O!Q'Si!T'Si~P!G[O!T.SO!Q(]q~O!Q8YO~P!G[O!Q8YO~Oe'oy!T'oy~P!&VO!T'Va!V'Va~P!G[O!V%Oq_%Oq!T%Oq'd%Oq~P!G[OZ8_O~O!T/SO!U(dq~O]8bO~O#S8cO!T'Xa!U'Xa~O!T3nO!U(ai~P#0aOQ[XZ[Xk[Xx[Xy[X{[X!Q[X!T[X!c[X!d[X!f[X!l[X#S[X#_dX#b[X#c[X#d[X#e[X#f[X#g[X#h[X#i[X#j[X#l[X#n[X#p[X#q[X#v[X'q[X'}[X(U[X(V[X~O!_$|X#j$|X~P&*pO#O5UO#P5UO~P$%_O!y8gO!z8gO#O5UO#P5UO~P$%_O!Z8jO![8jO'j$vO'r)TO'|+zO~O!Y8mO!Z8jO![8jO#O5UO#P5UO'|+zO~P!AQO!V/oO%[8pO~O!V/oO%[8pO~P!G[O]8wO'r8vO~O!T/{O!U(bq~O!e8yO~O!e8yO~P$}O!e8{O~O!e8|O~O#S9OO!T#[y!U#[y~O!T#[y!U#[y~P#0aO_$pO#S9RO'd$pO~O_$pO!_#UO#S9RO'd$pO~O!Z9WO![9WO'|+zO~P!AQO_$pO!_#UO!l9XO#S9RO'd$pO'}'SO~O!f$mO'm$bO~P&0|O!Y9YO!Z9WO![9WO'|+zO~P!AQO!V&cO%[9^O~O!V&cO%[9^O~P!G[O#t#ry!T#ry!U#ry~P#0aOQ$piZ$pik$piy$pi!c$pi!d$pi!f$pi!l$pi#b$pi#c$pi#d$pi#e$pi#f$pi#g$pi#h$pi#i$pi#j$pi#l$pi#n$pi#p$pi#q$pi#t$pi'q$pi'}$pi!T$pi!U$pi~P%5OOx(mO{(nO(V(rOP%Si(U%Si!U%Si~OQ%SiZ%Sik%Siy%Si!c%Si!d%Si!f%Si!l%Si#b%Si#c%Si#d%Si#e%Si#f%Si#g%Si#h%Si#i%Si#j%Si#l%Si#n%Si#p%Si#q%Si#t%Si'q%Si'}%Si!T%Si~P&4cOx(mO{(nOP%Ui(U%Ui(V%Ui!U%Ui~OQ%UiZ%Uik%Uiy%Ui!c%Ui!d%Ui!f%Ui!l%Ui#b%Ui#c%Ui#d%Ui#e%Ui#f%Ui#g%Ui#h%Ui#i%Ui#j%Ui#l%Ui#n%Ui#p%Ui#q%Ui#t%Ui'q%Ui'}%Ui!T%Ui~P&6jO#t$dy!T$dy!U$dy~P#0aO#t#Vy!T#Vy!U#Vy~P#0aO!_#UO!T'Qq!e'Qq~O!T-zO!e([y~O!Q'Sq!T'Sq~P!G[O!Q9dO~P!G[O!T/SO!U(dy~O!T3nO!U(aq~O#O7sO#P7sO~P$%_O!Z9nO![9nO'j$vO'r)TO'|+zO~O!V/oO%[9qO~O!V/oO%[9qO~P!G[O!e9tO~O_$pO#S9zO'd$pO~O_$pO!_#UO#S9zO'd$pO~O!Z9}O![9}O'|+zO~P!AQO_$pO!_#UO!l:OO#S9zO'd$pO'}'SO~OQ$pqZ$pqk$pqy$pq!c$pq!d$pq!f$pq!l$pq#b$pq#c$pq#d$pq#e$pq#f$pq#g$pq#h$pq#i$pq#j$pq#l$pq#n$pq#p$pq#q$pq#t$pq'q$pq'}$pq!T$pq!U$pq~P%5OOQ$rqZ$rqk$rqy$rq!c$rq!d$rq!f$rq!l$rq#b$rq#c$rq#d$rq#e$rq#f$rq#g$rq#h$rq#i$rq#j$rq#l$rq#n$rq#p$rq#q$rq#t$rq'q$rq'}$rq!T$rq!U$rq~P%5OOe%W!Z!T%W!Z#S%W!Z#t%W!Z~P!&VO!T'Xq!U'Xq~P#0aO!T#[!Z!U#[!Z~P#0aO_$pO#S:aO'd$pO~O_$pO!_#UO#S:aO'd$pO~O#_%W!ZQ%W!ZZ%W!Z_%W!Zk%W!Zy%W!Z!T%W!Z!c%W!Z!d%W!Z!f%W!Z!l%W!Z#b%W!Z#c%W!Z#d%W!Z#e%W!Z#f%W!Z#g%W!Z#h%W!Z#i%W!Z#j%W!Z#l%W!Z#n%W!Z#p%W!Z#q%W!Z'd%W!Z'q%W!Z'}%W!Z!e%W!Z!Q%W!Z'`%W!Z!V%W!Z#S%W!Zo%W!Z%[%W!Z!_%W!Z~P!G[O_$pO#S:oO'd$pO~OP=nOx(mO{(nO(U(pO(V(rO~O]#Ral#Ra!U#Ra!Y#Ra!Z#Ra![#Ra!x#Ra!y#Ra!z#Ra#O#Ra#P#Ra'j#Ra'r#Ra'z#Ra'|#Ra~P&D[OQ%W!ZZ%W!Zk%W!Zy%W!Z!c%W!Z!d%W!Z!f%W!Z!l%W!Z#b%W!Z#c%W!Z#d%W!Z#e%W!Z#f%W!Z#g%W!Z#h%W!Z#i%W!Z#j%W!Z#l%W!Z#n%W!Z#p%W!Z#q%W!Z#t%W!Z'q%W!Z'}%W!Z!T%W!Z!U%W!Z~P%5OO]ualua!Yua!Zua![ua!xua!yua!zua#Oua#Pua'jua'rua'zua'|ua~P%LmO]$gal$ga!Y$ga!Z$ga![$ga!x$ga!y$ga!z$ga#O$ga#P$ga'j$ga'r$ga'z$ga'|$ga~P%NtO]$ial$ia!Y$ia!Z$ia![$ia!x$ia!y$ia!z$ia#O$ia#P$ia'j$ia'r$ia'z$ia'|$ia~P&!{O]$wal$wa!U$wa!Y$wa!Z$wa![$wa!x$wa!y$wa!z$wa#O$wa#P$wa'j$wa'r$wa'z$wa'|$wa~P&D[O]%Sil%Si!Y%Si!Z%Si![%Si!x%Si!y%Si!z%Si#O%Si#P%Si'j%Si'r%Si'z%Si'|%Si~P&4cO]%Uil%Ui!Y%Ui!Z%Ui![%Ui!x%Ui!y%Ui!z%Ui#O%Ui#P%Ui'j%Ui'r%Ui'z%Ui'|%Ui~P&6jO]$pil$pi!U$pi!Y$pi!Z$pi![$pi!x$pi!y$pi!z$pi#O$pi#P$pi'j$pi'r$pi'z$pi'|$pi~P&D[O]$pql$pq!U$pq!Y$pq!Z$pq![$pq!x$pq!y$pq!z$pq#O$pq#P$pq'j$pq'r$pq'z$pq'|$pq~P&D[O]$rql$rq!U$rq!Y$rq!Z$rq![$rq!x$rq!y$rq!z$rq#O$rq#P$rq'j$rq'r$rq'z$rq'|$rq~P&D[O]%W!Zl%W!Z!U%W!Z!Y%W!Z!Z%W!Z![%W!Z!x%W!Z!y%W!Z!z%W!Z#O%W!Z#P%W!Z'j%W!Z'r%W!Z'z%W!Z'|%W!Z~P&D[Oo'sX~P/WO!QdX!TdX#SdX~P&*pOQ[XZ[Xk[Xx[Xy[X{[X!T[X!TdX!c[X!d[X!f[X!l[X#S[X#SdX#_dX#b[X#c[X#d[X#e[X#f[X#g[X#h[X#i[X#j[X#l[X#n[X#p[X#q[X#v[X'q[X'}[X(U[X(V[X~O!_dX!e[X!edX'}dX~P'$ZOQ;VOR;VO]gOb=ZOc!`OigOk;VOlgOmgOrgOt;VOv;VO{SO!OgO!PgO!VTO!a;YO!fVO!i;VO!j;VO!k;VO!l;VO!m;VO!p!_O#{!bO$PbO'i'|O'qRO'|WO(Z=XO~O]$SOi$cOk$TOl$SOm$SOr$dOt$eOv;pO{$[O!V$]O!a=aO!f$XO#^;yO#{$iO$h;sO$j;vO$m$jO'i'dO'm$bO'q$UO~O!T;jO!U$fa~O]$SOi$cOk$TOl$SOm$SOr$dOt$eOv;qO{$[O!V$]O!a=bO!f$XO#^;zO#{$iO$h;tO$j;wO$m$jO'i'dO'm$bO'q$UO~O#k(TO~P'*^O!U[X!UdX~P'$ZO!_;^O~O#_;]O~O!_#UO#_;]O~O#S;nO~O#j;cO~O#S;{O!T(SX!U(SX~O#S;nO!T(QX!U(QX~O#_;|O~Oe<OO~P!&VO#_<VO~O#_<WO~O#_<XO~O!_#UO#_<YO~O!_#UO#_;|O~O#t<ZO~P#0aO#_<[O~O#_<]O~O#_<^O~O#_<_O~O#_<`O~O#_<aO~O#_<bO~O#_<cO~O!Q<dO~O#t<eO~P!&VO#t<fO~P!&VO#t<gO~P!&VO!Q<hO~P!G[O!Q<hO~O!Q<iO~P!G[O!_#UO#j=gO~O!_#UO#j=iO~O$P~!d!x!z!{#O#]#^#i(Z$h$j$m%P%Z%[%]%c%e%h%i%k%m~UT$P(Z#c!P'f'j#dl#b#ekx'g'r'g'i$R$T$R~",goto:"$(n(hPPPPPPPP(iP(yP*tPPPP.mPP/SP4y9R9fP9fPPP9fP;l9fP9fP9fP;pPP;vP<a@}PPPARPPPPARC|PPPDSE|PARPHdPPPPJbARPPPPPLlARPP! z!#O!#S!#s!#w!#sPPPP!&|!(wPP!)P!*VP!#OARAR!-m!0q!5r!5r!9cPPP!9jARPPPPPPPPPPP!<iP!=|PPAR!?]PARPARARARARPAR!@tPP!CvP!FtP!Fx!GQ!GU!GUP!CsP!GY!GYP!JWP!J[ARAR!Jb!M_9fP9fP9f9fP!Ni9f9f#!y9f#%v9f#(Q9f9f#(n#+Q#+Q#+U#+^#+Q#+jP#+QP9f#,f9f#.T9f9f.mPPP#/vPP#0`#0`P#0`P#0u#0`PP#0{P#0rP#0r#1_!({#0r#1|#2S#2V(i#2Y(iP#2a#2a#2aP(iP(iP(iP(iPP(iP#2g#2jP#2j(iP#2nP#2qP(iP(iP(iP(iP(iP(i(iP#2w#3R#3X#3_#3m#3s#3y#4T#4Z#5U#5e#5k#5}#6T#6Z#6i#7O#8w#9V#9]#9c#9i#9o#9y#:P#:V#:a#:s#:yPPPPPPPP#;PPP#;s#?TP#@o#@v#AOPP#Fp#If$ o$ r$ u$#h$#kP$#nPP$#t$#x$$q$%q$%u$&ZPP$&_$&e$&iP$&l$&p$&s$'f$'|$(R$(U$(X$(_$(b$(f$(jmlOTn!R!s$o%t%v%w%y+X+^0]0`Q${qQ%StQ%l}S&Z!]+rQ&j!`S)V$])[Q*P$|Q*^%UQ*x%fQ+x&bS+|&c,OQ,`&kQ.e)^Q/z*y[0z+y,Q,R,S,T,US3w/o3yW5Q0{0|0}1OU6v3|3}4OU7m5R5T5VS8j6w6xS9W7o7rQ9n8mR9}9Y%Q`OPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%t%v%w%y%}&W&e&p&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:oS#PX;W!l(O#k#|&[(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[Q)g$fQ*U%OQ*z%iQ+R%qQ-O;oQ.|)yQ/X*VQ0S+PQ3_/SQ4^/{Q5m;qQ6`3`R:q;ppiOTn}!R!s$o%k%t%v%w%y+X+^0]0`R*|%m&j[OPTUnor!R!W!a!c!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$o%Q%m%p%q%t%v%w%y%}&W&e&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=Z=[[!lSV!g!j&[&pQ$upQ$zqS%Pt%U!U%Yvw!v!x!{$m%W&y'Q'R'W*a*b*d+V+k,i,l,p,q,s0e1g1h4t5aQ%b{Q&g!_Q&i!`Q'_#RS(x$X(|S*O${$|Q*S%OQ*s%dQ*w%fS,_&j&kQ,}'`Q.O(yQ/Q*PQ/W*VQ/Y*WQ/]*[Q/u*tS/y*x*yQ1a,`Q2g-zQ3^/SQ3b/VQ3g/_Q4]/zQ5x2hQ6_3`Q6b3dQ8^6^R9f8_x$Ze#W$g$h$l(q(s({)b)c-U.R.q2f3O8S=X=d=e=f!^$xq!`$z${$|&Y&i&j&k)U*O*P+o+{,_,`.]/Q0w0y1V1a2z5P5S7l7q9U9{:bQ)x$uQ*i%_Q*l%`Q*v%fQ,|'_Q/t*sU/x*w*x*yQ1q,}Q4W/uS4[/y/zS6l3r3vQ7T4]U8h6p6t6uU9l8i8k8lQ:W9mQ:i:X#b=]#U#r#s$X$[&f(h(t)R)u)w)y*h*k,[,y,{.S.U/f/i/q/s1n1p2p2x3V3X4T4V5c5h5{6U6z7P7x8p9^9q;r;u;x<P<S<V<[<_<e=g=i=m=n=od=^;^;s;v;y<Q<T<W<]<`<fg=_;l;m;t;w;z<R<U<X<^<a<gW$`e$b)d=XS%_x%kQ%`yQ%azR*g%]%X$_e#U#W#r#s$X$[$g$h$l&f(h(q(s(t({)R)b)c)u)w)y*h*k,[,y,{-U.R.S.U.q/f/i/q/s1n1p2f2p2x3O3V3X4T4V5c5h5{6U6z7P7x8S8p9^9q;^;l;m;r;s;t;u;v;w;x;y;z<P<Q<R<S<T<U<V<W<X<[<]<^<_<`<a<e<f<g=X=d=e=f=g=i=m=n=oT(i$U(jX)h$f;o;p;qU&_!]%X+uS'm#Y#ZQ*Z%RS,u'Z'[Q/j*mQ3P.nR6h3n&pgOPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$o%Q%m%p%q%t%v%w%y%}&W&[&e&p&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[$a#o_!i!t$s&o&u'b'i'q'r's't'u'v'w'x'y'z'{'}(Q(U(`*Y+p,c,h,m-T-Z-_-a-p.r0l0o1d1w1|1}2O2P2Q2R2S2T2U2V2W2X2Y2]2b3T3[4x5Y5_5k5l5q5r6j7d7g7{8P8Q9Q9h9u9w:_:m:z;X<wT!dR!e&qgOPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$o%Q%m%p%q%t%v%w%y%}&W&[&e&p&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[Q&]!]R0s+r!n&V!]&Z&b&c+r+x+y+|,O,Q,R,S,T,U,V0z0{0|0}1O1P3t3{5Q5R5T5U5V6n6o7m7o7r7s8g9W9Y9}S)U$])[S.])V)^Q.f)_Q/l*oQ2z.eQ2}.hS3r/o3yS6p3w4OS6t3|3}S8i6v6wQ8k6xS9m8j8mR:X9nllOTn!R!s$o%t%v%w%y+X+^0]0`Q%{!US'a#T;]Q)|$yQ*q%bQ*r%cQ,]&hS-S'f;|S.s)o<YQ/O)}Q/n*pQ0d+`Q0f+aQ0n+lQ1Y,SQ1_,^S3U.t<bQ3Y/PS3]/R<cQ4w0qQ5X1QQ5[1`Q6]3ZQ7e4yQ7f4zQ7t5]Q8}7bQ9S7kQ9x9TQ:^9yQ:l:`R:y:n$[#n_!i!t&o&u'b'i'q'r's't'u'v'w'x'y'z'{'}(Q(U(`*Y+p,c,h,m-T-Z-_-p.r0l0o1d1w1|1}2O2P2Q2R2S2T2U2V2W2X2Y2]2b3T3[4x5Y5_5k5l5q5r6j7d7g7{8P8Q9Q9h9u9w:_:m:z;X<wS'^#O0xU)a$^'e2[T)s$s-a$[#m_!i!t&o&u'b'i'q'r's't'u'v'w'x'y'z'{'}(Q(U(`*Y+p,c,h,m-T-Z-_-p.r0l0o1d1w1|1}2O2P2Q2R2S2T2U2V2W2X2Y2]2b3T3[4x5Y5_5k5l5q5r6j7d7g7{8P8Q9Q9h9u9w:_:m:z;X<wS']#O0xS'o#Z#nS)r$s-aS,v'['^Q-b(PQ.u)sR1i,w&pgOPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$o%Q%m%p%q%t%v%w%y%}&W&[&e&p&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[S#PX;WQ%v!PQ%w!QQ%y!SQ%z!TR0[+[Q&d!_Q)t$uQ,Y&gS,x'_)xS1[,W,XY1m,|,}.w.x.yS5Z1]1^W5b1j1k1l1qU7w5d5e5fU9[7v7y7zQ:P9]R:d:QT+}&c,O!]YOTVZn}!R!s!v$m$o%k%m%t%v%w%y&c'W+X+^+y,O,p/o0]0`3t3yT#PX;W%SsOPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%q%t%v%w%y%}&W&e&p&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:oS'm#Y#ZS,u'Z'[!m<m#k#|&[(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[S+{&c,OW0y+y,S,T,UU1V+|,Q,RU1Z,V3t3{S3v/o3yU5P0z0{0|S5S0}1OU5W1P6n6oS6p3w4OS6u3|3}U7l5Q5R5TS7p5U8gQ7q5VS8i6v6wQ8l6xU9U7m7o7rQ9Z7sS9m8j8mS9{9W9YQ:X9nR:b9}S+}&c,OT3x/o3yS'V!w0YQ-}(xQ.Z)UU1U+{3u3vQ2l.OS2u.[.fU5O0y1Z6uQ5w2gS6S2{2}U7n5S5W8lQ8U5xQ8]6VS9X7p7qR:O9ZQ#V^S'U!w0YQ)p$nQ)z$wQ*Q$}Q,o'VQ-|(xQ.Y)UQ.`)XQ.}){Q/v*uU1T+{3u3vS2k-}.OS2t.Z.fQ2w._Q2y.aQ4Y/wW4}0y1U1Z6uQ5v2gQ5z2lS6O2u2}Q6T2|Q7R4ZW7j5O5S5W8lS8T5w5xS8X6P<dQ8Z6SQ8e6kQ8t7SU9V7n7p7qQ9b8US9c8Y<hQ9e8]Q9j8fQ9s8uS9|9X9ZS:S9d<iQ:U9kQ:c:OQ:g:VQ:v:hQ;P:wQ<p<kQ=O<uQ=P<vQ=Q=cR=V=h%S]OPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%q%t%v%w%y%}&W&e&p&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:oS#Vr!a!l<j#k#|&[(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[R<p=Z%S^OPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%q%t%v%w%y%}&W&e&p&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:oQ$nf!^$wq!`$z${$|&Y&i&j&k)U*O*P+o+{,_,`.]/Q0w0y1V1a2z5P5S7l7q9U9{:bS$}r!aQ){$xQ*u%fW/w*v*w*x*yU4Z/x/y/zS6k3r3vS7S4[4]W8f6l6p6t6uQ8u7TW9k8h8i8k8lS:V9l9mS:h:W:XQ:w:i!l<k#k#|&[(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[Q<u=YR<v=Z$vaOPTUno!R!W!c!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%t%v%w%y%}&W&e&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:oY!qSV!g!j&p!U%Yvw!v!x!{$m%W&y'Q'R'W*a*b*d+V+k,i,l,p,q,s0e1g1h4t5aQ+S%q!j<l#k#|(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[R<o&[S&`!]%XR0u+u%Q`OPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%t%v%w%y%}&W&e&p&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:o!l(O#k#|&[(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[R+R%q!j#e_!i$s&o&u'b'i'x'y'z'{(Q(U*Y,c,h,m-T-Z-p.r1d1w2Y3T3[5Y5_5k7g9Q9w:_:m:z;X!T;e'}(`+p-a0l0o1|2U2V2W2X2]2b4x5l5q5r6j7d7{8P8Q9h9u<w!f#g_!i$s&o&u'b'i'z'{(Q(U*Y,c,h,m-T-Z-p.r1d1w2Y3T3[5Y5_5k7g9Q9w:_:m:z;X!P;g'}(`+p-a0l0o1|2W2X2]2b4x5l5q5r6j7d7{8P8Q9h9u<w!b#k_!i$s&o&u'b'i(Q(U*Y,c,h,m-T-Z-p.r1d1w2Y3T3[5Y5_5k7g9Q9w:_:m:z;XQ2f-xz=['}(`+p-a0l0o1|2]2b4x5l5q5r6j7d7{8P8Q9h9u<wQ=d=jQ=e=kR=f=l&pgOPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$o%Q%m%p%q%t%v%w%y%}&W&[&e&p&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[S#}d$OR2_-e&wcOPSTUVdno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$O$o%Q%m%p%q%t%v%w%y%}&W&[&e&p&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-e-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[T#yb$PS#wb$PT(X#z(]T#xb$PT(Z#z(]&wdOPSTUVdno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$O$o%Q%m%p%q%t%v%w%y%}&W&[&e&p&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-e-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[T#}d$OQ$QdR(d$O%SfOPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%q%t%v%w%y%}&W&e&p&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:o!m=Y#k#|&[(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[#ahOPTVn!R!W!c!s!}#[#|$o%m%p%q%t%v%w%y%}&W&e'n(b)v*c+T+X+^+n,Z,z-f.o/r0T0U0V0X0]0`0b1o2^3s4U4i4k4l5g6s7O7^!^$^e#W$g$h$l(q(s({)b)c-U.R.q2f3O8S;^;s;v;y<Q<T<W<]<`<f=X=d=e=f#b'e#U#r#s$X$[&f(h(t)R)u)w)y*h*k,[,y,{.S.U/f/i/q/s1n1p2p2x3V3X4T4V5c5h5{6U6z7P7x8p9^9q;r;u;x<P<S<V<[<_<e=g=i=m=n=oQ)l$jQ-q(mg2[;l;m;t;w;z<R<U<X<^<a<gx$Ye#W$g$h$l(q(s({)b)c-U.R.q2f3O8S=X=d=e=fQ(}$ZS)X$])[Q)m$kQ.a)Y#b<r#U#r#s$X$[&f(h(t)R)u)w)y*h*k,[,y,{.S.U/f/i/q/s1n1p2p2x3V3X4T4V5c5h5{6U6z7P7x8p9^9q;r;u;x<P<S<V<[<_<e=g=i=m=n=od<s;^;s;v;y<Q<T<W<]<`<ff<t;l;m;t;w;z<R<U<X<^<a<gQ<x=]Q<y=^Q<z=_Q<{=`Q<|=aR<}=b!^$^e#W$g$h$l(q(s({)b)c-U.R.q2f3O8S;^;s;v;y<Q<T<W<]<`<f=X=d=e=f#b'e#U#r#s$X$[&f(h(t)R)u)w)y*h*k,[,y,{.S.U/f/i/q/s1n1p2p2x3V3X4T4V5c5h5{6U6z7P7x8p9^9q;r;u;x<P<S<V<[<_<e=g=i=m=n=og2[;l;m;t;w;z<R<U<X<^<a<gljOTn!R!s$o%t%v%w%y+X+^0]0`Q)Q$[Q+g&QQ+h&SR2o.S%W$_e#U#W#r#s$X$[$g$h$l&f(h(q(s(t({)R)b)c)u)w)y*h*k,[,y,{-U.R.S.U.q/f/i/q/s1n1p2f2p2x3O3V3X4T4V5c5h5{6U6z7P7x8S8p9^9q;^;l;m;r;s;t;u;v;w;x;y;z<P<Q<R<S<T<U<V<W<X<[<]<^<_<`<a<e<f<g=X=d=e=f=g=i=m=n=oQ*j%`Q/h*lQ3l/gR6g3mT)Z$])[S)Z$])[T3x/o3yQ._)WQ2|.gQ=c3sR=h6sQ)z$wQ.`)XQ.}){Q/v*uQ4Y/wQ7R4ZQ8e6kQ8t7SQ9j8fQ9s8uQ:U9kQ:g:VQ:v:hR;P:wp(q$V'g)n.Q.i.j1u2m3S5u6W9a<q=R=S=T!p<P'c(S(w)P,X-R-m-x.V.v.y/e/g1^1l1t2n2r3k3m4R5f5i5j5|6Q6Y6[6}7z8W8[8r:R=U=W=j=k=l[<Q:e:t:};R;S;U]<R2Z5p7|9_9`:pr(s$V'g)n-v.Q.i.j1u2m3S5u6W9a<q=R=S=T!r<S'c(S(w)P,X-R-m-x.V.v.y/e/g1^1l1r1t2n2r3k3m4R5f5i5j5|6Q6Y6[6}7z8W8[8r:R=U=W=j=k=l^<T:e:t:{:};R;S;U_<U2Z5p7|7}9_9`:ppiOTn}!R!s$o%k%t%v%w%y+X+^0]0`Q%h|R+T%qpiOTn}!R!s$o%k%t%v%w%y+X+^0]0`R%h|Q*n%aR/d*gqiOTn}!R!s$o%k%t%v%w%y+X+^0]0`Q/p*sS4S/t/uW6y4P4Q4R4WU8o6{6|6}U9o8n8q8rQ:Y9pR:j:ZQ%o}R*}%kR4a/}R8w7US%Pt%UR/Y*WQ%t!OR+X%uR+_%zT0^+^0`R+c%{Q+b%{R0g+cQnOQ!sTT$rn!sQ(j$UR-n(jQ!eRR&m!eQ!hSU&s!h&t,fQ&t!iR,f&uQ+s&]R0t+sQ-V'gR1v-VQ-Y'iS1y-Y1zR1z-ZQ,O&cR1W,OrZOTn}!R!s$o%k%m%t%v%w%y+X+^0]0`S!vV$mY#QZ!v+y,p3tS+y&c,OQ,p'WT3t/o3yS!nS%WU&z!n&{,gQ&{!oR,g&vQ+v&`R0v+vQ'X!yQ,j'PW,t'X,j1b5^Q1b,kR5^1cQ(]#zR-g(]Q$OdR(c$OQ#q_U(R#q,b;kQ,b;XR;k(`Q-{(xW2i-{2j5y8VU2j-|-}.OS5y2k2lR8V5z$m(o$V'c'g(S(w)P)i)j)n,X-P-Q-R-m-v-w-x.Q.V.i.j.v.y/e/g1^1l1r1s1t1u2Z2m2n2r3S3k3m4R5f5i5j5n5o5p5u5|6Q6W6Y6[6}7z7|7}8O8W8[8r9_9`9a:R:e:p:r:s:t:{:|:};R;S;U<q=R=S=T=U=W=j=k=lQ.T)PU2q.T2s5}Q2s.VR5}2rQ)[$]R.c)[Q)e$aR.l)eQ3W.vR6Z3WQ*e%ZR/c*eQ3o/jS6i3o8dR8d6jQ*p%bR/m*pQ3y/oR6q3yQ/|*zS4_/|7VR7V4aQ/T*SW3a/T3c6a8`Q3c/WQ6a3bR8`6bQ*X%PR/Z*XQ0`+^R4o0`WmOTn!sQ%x!RQ)q$oQ+W%tQ+Y%vQ+Z%wQ+]%yQ0Z+XS0^+^0`R4n0]Q$qkQ%|!VQ&P!XQ&R!YQ&T!ZQ*`%VQ*f%[Q*|%oQ+e&OQ.b)ZS0P*}+QQ0h+dQ0i+gQ0j+hU1R+{3u3vQ3f/^Q3j/eQ4X/vQ4c0RQ4m0[Y4{0y1T1U1Z6uQ6e3hQ6f3kQ7Q4YQ7W4b[7h4}5O5S5W5Y8lQ8a6cQ8s7RQ8x7XY9P7g7j7n7p7qQ9g8bQ9i8eQ9r8tW9v9Q9V9X9ZQ:T9jQ:[9sU:]9w9|:OQ:f:US:k:_:cQ:u:gQ:x:mQ;O:vQ;Q:zR;T;PQ$yqQ&h!`U)}$z${$|Q+l&YU,^&i&j&kQ.X)US/P*O*PQ0q+oQ1Q+{S1`,_,`Q2v.]Q3Z/QQ4y0wS4z0y1VQ5]1aQ6R2zS7k5P5SS9T7l7qQ9y9UQ:`9{R:n:bS$We=XR)f$bU$ae$b=XR.k)dQ$VeS'c#U)yQ'g#WS(S#r#sQ(w$XQ)P$[Q)i$gQ)j$hQ)n$lQ,X&fQ-P;rQ-Q;uQ-R;xQ-m(hQ-v(qQ-w(sQ-x(tQ.Q({Q.V)RQ.i)bQ.j)cf.v)u,y/q1n4T5c6z7x8p9^9qQ.y)wQ/e*hQ/g*kQ1^,[Q1l,{Q1r<PQ1s<SQ1t<VQ1u-US2Z;l;mQ2m.RQ2n.SQ2r.UQ3S.qQ3k/fQ3m/iQ4R/sQ5f1pQ5i<[Q5j<_Q5n;tQ5o;wQ5p;zQ5u2fQ5|2pQ6Q2xQ6W3OQ6Y3VQ6[3XQ6}4VQ7z5hQ7|<XQ7}<RQ8O<UQ8W5{Q8[6UQ8r7PQ9_<^Q9`<aQ9a8SQ:R<eQ:e;^Q:p<gQ:r;sQ:s;vQ:t;yQ:{<QQ:|<TQ:}<WQ;R<]Q;S<`Q;U<fQ<q=XQ=R=dQ=S=eQ=T=fQ=U=gQ=W=iQ=j=mQ=k=nR=l=olkOTn!R!s$o%t%v%w%y+X+^0]0`Q!^PS!uV!}Q&O!WQ&l!cQ'p#[Q(a#|S+Q%m%pQ+U%qQ+d%}Q+i&WQ,W&eQ-]'nQ-k(bQ.x)vQ/a*cQ0W+TU0p+n3s6sQ1],ZQ1k,zQ2a-fQ3Q.oQ4Q/rQ4e0TQ4f0UQ4h0VQ4j0XQ4q0bQ5e1oQ5s2^Q6|4UQ7]4iQ7_4kQ7`4lQ7y5gQ8q7OR8z7^#U_OPTVn!R!W!s!}#[$o%m%p%q%t%v%w%y%}&W&e'n)v*c+T+X+^+n,Z,z.o/r0T0U0V0X0]0`0b1o3s4U4i4k4l5g6s7O7^Q!iSQ!tUQ$soS&o!g&rQ&u!jQ'b#TQ'i#XQ'q#_Q'r#`Q's#aQ't#bQ'u#cQ'v#dQ'w#eQ'x#fQ'y#gQ'z#hQ'{#iQ'}#kQ(Q#pQ(U#tW(`#|(b-f2^Q*Y%QS+p&[0rS,c&p,eQ,h&xQ,m'TQ-T'fQ-Z'jQ-_;VQ-a;YQ-p(lQ.r)oQ0l+jQ0o+mQ1d,nQ1w-XQ1|;]Q1};_Q2O;`Q2P;aQ2Q;bQ2R;cQ2S;dQ2T;eQ2U;fQ2V;gQ2W;hQ2X;iQ2Y-`Q2];nQ2b;jQ3T.tQ3[/RQ4x;{Q5Y1SQ5_1eQ5k1xQ5l;|Q5q<OQ5r<YQ6j3pQ7d4uQ7g4|Q7{<ZQ8P<bQ8Q<cQ9Q7iQ9h8cQ9u9OQ9w9RQ:_9zQ:m:aQ:z:oQ;X!cR<w=[R!kSR&^!]S&Y!]+rS+o&Z&bS+{&c,OQ0w+xW0y+y,S,T,UU1V+|,Q,RY1Z,V3t3{3|3}S3u/o3yU5P0z0{0|S5S0}1OW5W1P6n6o6xU7l5Q5R5TS7p5U8gQ7q5VU9U7m7o7rQ9Z7sS9{9W9YR:b9}R'h#WR'k#XQ#OXR0x;WT!zV$mS!yV$mU%Zvw+VU'P!v!x!{S,k'Q'RQ,r'WQ/b*dQ1c,lU1f,p,q,sS5`1g1hR7u5a`!mS!g!j%W&p&y*a,it!wVvw!v!x!{$m'Q'R'W*d,l,p,q,s1g1h5aQ0Y+VQ0m+kQ4s0eQ7c4tT<n&[*bT!pS%WS!oS%WS&q!g&yS&v!j*aS+q&[*bT,d&p,iT&a!]%XQ#zbR(f$PT([#z(]R2`-eT(z$X(|R)S$[Q.w)uQ1j,yQ4P/qQ5d1nQ6{4TQ7v5cQ8n6zQ9]7xQ9p8pQ:Q9^R:Z9qllOTn!R!s$o%t%v%w%y+X+^0]0`Q%n}R*|%kV%[vw+VR/k*mR*{%iQ%TtR*_%UR*T%OT%r!O%uT%s!O%uT0_+^0`",nodeNames:"⚠ extends ArithOp ArithOp InterpolationStart LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Decorator MemberExpression PrivatePropertyName CallExpression Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression",maxTerm:345,context:trackNewline,nodeProps:[["closedBy",4,"InterpolationEnd",43,"]",53,"}",68,")",139,"JSXSelfCloseEndTag JSXEndTag",155,"JSXEndTag"],["group",-26,8,15,17,60,194,198,201,202,204,207,210,221,223,229,231,233,235,238,244,250,252,254,256,258,260,261,"Statement",-30,12,13,25,28,29,34,44,46,47,49,54,62,70,76,77,98,99,108,109,126,129,131,132,133,134,136,137,157,158,160,"Expression",-23,24,26,30,33,35,37,161,163,165,166,168,169,170,172,173,174,176,177,178,188,190,192,193,"Type",-3,81,91,97,"ClassItem"],["openedBy",31,"InterpolationStart",48,"[",52,"{",67,"(",138,"JSXStartTag",150,"JSXStartTag JSXStartCloseTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6],repeatNodeCount:29,tokenData:"#2k~R!bOX%ZXY%uYZ'kZ[%u[]%Z]^'k^p%Zpq%uqr(Rrs)mst7]tu9guv<avw=bwx>lxyJcyzJyz{Ka{|Lm|}MW}!OLm!O!PMn!P!Q!$v!Q!R!Er!R![!G_![!]!Nc!]!^!N{!^!_# c!_!`#!`!`!a##d!a!b#%s!b!c#'h!c!}9g!}#O#(O#O#P%Z#P#Q#(f#Q#R#(|#R#S9g#S#T#)g#T#o#)}#o#p#,w#p#q#,|#q#r#-j#r#s#.S#s$f%Z$f$g%u$g#BY9g#BY#BZ#.j#BZ$IS9g$IS$I_#.j$I_$I|9g$I|$I}#1X$I}$JO#1X$JO$JT9g$JT$JU#.j$JU$KV9g$KV$KW#.j$KW&FU9g&FU&FV#.j&FV;'S9g;'S;=`<Z<%l?HT9g?HT?HU#.j?HUO9gW%`T$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%ZW%rP;=`<%l%Z7Z%|i$_W'f7ROX%ZXY%uYZ%ZZ[%u[p%Zpq%uq!^%Z!_#o%Z#p$f%Z$f$g%u$g#BY%Z#BY#BZ%u#BZ$IS%Z$IS$I_%u$I_$JT%Z$JT$JU%u$JU$KV%Z$KV$KW%u$KW&FU%Z&FU&FV%u&FV;'S%Z;'S;=`%o<%l?HT%Z?HT?HU%u?HUO%Z7Z'rT$_W'g7RO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&y(YU$_W!l&qO!^%Z!_!`(l!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t(sU#l&l$_WO!^%Z!_!`)V!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t)^T#l&l$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z1i)t]$_W]&ZOY)mYZ*mZr)mrs,js!^)m!^!_-S!_#O)m#O#P1q#P#o)m#o#p-S#p;'S)m;'S;=`7V<%lO)m,^*rX$_WOr*mrs+_s!^*m!^!_+u!_#o*m#o#p+u#p;'S*m;'S;=`,d<%lO*m,^+fT$Y,U$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z,U+xTOr+urs,Xs;'S+u;'S;=`,^<%lO+u,U,^O$Y,U,U,aP;=`<%l+u,^,gP;=`<%l*m1i,sT$Y,U$_W]&ZO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z1a-XX]&ZOY-SYZ+uZr-Srs-ts#O-S#O#P-{#P;'S-S;'S;=`1k<%lO-S1a-{O$Y,U]&Z1a.OUOr-Srs.bs;'S-S;'S;=`0y;=`<%l/R<%lO-S1a.iW$Y,U]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s<%lO/R&Z/WW]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s<%lO/R&Z/uO]&Z&Z/xRO;'S/R;'S;=`0R;=`O/R&Z0WX]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s;=`<%l/R<%lO/R&Z0vP;=`<%l/R1a1OX]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s;=`<%l-S<%lO/R1a1nP;=`<%l-S1i1vY$_WOr)mrs2fs!^)m!^!_-S!_#o)m#o#p-S#p;'S)m;'S;=`6e;=`<%l/R<%lO)m1i2o]$Y,U$_W]&ZOY3hYZ%ZZr3hrs4hs!^3h!^!_/R!_#O3h#O#P5O#P#o3h#o#p/R#p;'S3h;'S;=`6_<%lO3h&c3o]$_W]&ZOY3hYZ%ZZr3hrs4hs!^3h!^!_/R!_#O3h#O#P5O#P#o3h#o#p/R#p;'S3h;'S;=`6_<%lO3h&c4oT$_W]&ZO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c5TW$_WO!^3h!^!_/R!_#o3h#o#p/R#p;'S3h;'S;=`5m;=`<%l/R<%lO3h&c5rX]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s;=`<%l3h<%lO/R&c6bP;=`<%l3h1i6jX]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s;=`<%l)m<%lO/R1i7YP;=`<%l)m#]7b]$_WOt%Ztu8Zu!^%Z!_!c%Z!c!}8Z!}#R%Z#R#S8Z#S#T%Z#T#o8Z#p$g%Z$g;'S8Z;'S;=`9a<%lO8Z#]8b_$_W'|#TOt%Ztu8Zu!Q%Z!Q![8Z![!^%Z!_!c%Z!c!}8Z!}#R%Z#R#S8Z#S#T%Z#T#o8Z#p$g%Z$g;'S8Z;'S;=`9a<%lO8Z#]9dP;=`<%l8Z,T9ra$_W'r#S'i)s$RSOt%Ztu9gu}%Z}!O:w!O!Q%Z!Q![9g![!^%Z!_!c%Z!c!}9g!}#R%Z#R#S9g#S#T%Z#T#o9g#p$g%Z$g;'S9g;'S;=`<Z<%lO9g[;Oa$_W$RSOt%Ztu:wu}%Z}!O:w!O!Q%Z!Q![:w![!^%Z!_!c%Z!c!}:w!}#R%Z#R#S:w#S#T%Z#T#o:w#p$g%Z$g;'S:w;'S;=`<T<%lO:w[<WP;=`<%l:w,T<^P;=`<%l9g&t<hU$_W#d&lO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t=RT$_W#v&lO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z(h=iW(V(`$_WOv%Zvw>Rw!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t>YU$_W#p&lO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z1i>s]$_W]&ZOY>lYZ?lZw>lwx,jx!^>l!^!_@|!_#O>l#O#PE_#P#o>l#o#p@|#p;'S>l;'S;=`J]<%lO>l,^?qX$_WOw?lwx+_x!^?l!^!_@^!_#o?l#o#p@^#p;'S?l;'S;=`@v<%lO?l,U@aTOw@^wx,Xx;'S@^;'S;=`@p<%lO@^,U@sP;=`<%l@^,^@yP;=`<%l?l1aARX]&ZOY@|YZ@^Zw@|wx-tx#O@|#O#PAn#P;'S@|;'S;=`EX<%lO@|1aAqUOw@|wxBTx;'S@|;'S;=`Dg;=`<%lBt<%lO@|1aB[W$Y,U]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da<%lOBt&ZByW]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da<%lOBt&ZCfRO;'SBt;'S;=`Co;=`OBt&ZCtX]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da;=`<%lBt<%lOBt&ZDdP;=`<%lBt1aDlX]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da;=`<%l@|<%lOBt1aE[P;=`<%l@|1iEdY$_WOw>lwxFSx!^>l!^!_@|!_#o>l#o#p@|#p;'S>l;'S;=`Ik;=`<%lBt<%lO>l1iF]]$Y,U$_W]&ZOYGUYZ%ZZwGUwx4hx!^GU!^!_Bt!_#OGU#O#PHU#P#oGU#o#pBt#p;'SGU;'S;=`Ie<%lOGU&cG]]$_W]&ZOYGUYZ%ZZwGUwx4hx!^GU!^!_Bt!_#OGU#O#PHU#P#oGU#o#pBt#p;'SGU;'S;=`Ie<%lOGU&cHZW$_WO!^GU!^!_Bt!_#oGU#o#pBt#p;'SGU;'S;=`Hs;=`<%lBt<%lOGU&cHxX]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da;=`<%lGU<%lOBt&cIhP;=`<%lGU1iIpX]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da;=`<%l>l<%lOBt1iJ`P;=`<%l>l,TJjT!f+{$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z$PKQT!e#w$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z)ZKjW$_W'j#e#e&lOz%Zz{LS{!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&tLZU$_W#b&lO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z*qLtU$_Wk*iO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z,TM_T!T+{$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z,TMuX$_Wx(dO!O%Z!O!PNb!P!Q%Z!Q![! d![!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z$oNgV$_WO!O%Z!O!PN|!P!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z$o! TT!S$g$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c! k]$_Wl&ZO!Q%Z!Q![! d![!^%Z!_!g%Z!g!h!!d!h#R%Z#R#S! d#S#X%Z#X#Y!!d#Y#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!!i]$_WO{%Z{|!#b|}%Z}!O!#b!O!Q%Z!Q![!$S![!^%Z!_#R%Z#R#S!$S#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!#gX$_WO!Q%Z!Q![!$S![!^%Z!_#R%Z#R#S!$S#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!$ZX$_Wl&ZO!Q%Z!Q![!$S![!^%Z!_#R%Z#R#S!$S#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z7Z!$}b$_W#c&lOY!&VYZ%ZZz!&Vz{!-n{!P!&V!P!Q!BV!Q!^!&V!^!_!(f!_!`!Ch!`!a!Dm!a!}!&V!}#O!+T#O#P!,v#P#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&VX!&^^$_W!PPOY!&VYZ%ZZ!P!&V!P!Q!'Y!Q!^!&V!^!_!(f!_!}!&V!}#O!+T#O#P!,v#P#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&VX!'aa$_W!PPO!^%Z!_#Z%Z#Z#[!'Y#[#]%Z#]#^!'Y#^#a%Z#a#b!'Y#b#g%Z#g#h!'Y#h#i%Z#i#j!'Y#j#m%Z#m#n!'Y#n#o%Z#p;'S%Z;'S;=`%o<%lO%ZP!(kX!PPOY!(fZ!P!(f!P!Q!)W!Q!}!(f!}#O!)o#O#P!*n#P;'S!(f;'S;=`!*}<%lO!(fP!)]U!PP#Z#[!)W#]#^!)W#a#b!)W#g#h!)W#i#j!)W#m#n!)WP!)rVOY!)oZ#O!)o#O#P!*X#P#Q!(f#Q;'S!)o;'S;=`!*h<%lO!)oP!*[SOY!)oZ;'S!)o;'S;=`!*h<%lO!)oP!*kP;=`<%l!)oP!*qSOY!(fZ;'S!(f;'S;=`!*}<%lO!(fP!+QP;=`<%l!(fX!+Y[$_WOY!+TYZ%ZZ!^!+T!^!_!)o!_#O!+T#O#P!,O#P#Q!&V#Q#o!+T#o#p!)o#p;'S!+T;'S;=`!,p<%lO!+TX!,TX$_WOY!+TYZ%ZZ!^!+T!^!_!)o!_#o!+T#o#p!)o#p;'S!+T;'S;=`!,p<%lO!+TX!,sP;=`<%l!+TX!,{X$_WOY!&VYZ%ZZ!^!&V!^!_!(f!_#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&VX!-kP;=`<%l!&V7Z!-u`$_W!PPOY!-nYZ!.wZz!-nz{!2U{!P!-n!P!Q!@m!Q!^!-n!^!_!4m!_!}!-n!}#O!;l#O#P!?o#P#o!-n#o#p!4m#p;'S!-n;'S;=`!@g<%lO!-n7Z!.|X$_WOz!.wz{!/i{!^!.w!^!_!0w!_#o!.w#o#p!0w#p;'S!.w;'S;=`!2O<%lO!.w7Z!/nZ$_WOz!.wz{!/i{!P!.w!P!Q!0a!Q!^!.w!^!_!0w!_#o!.w#o#p!0w#p;'S!.w;'S;=`!2O<%lO!.w7Z!0hT$_WU7RO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z7R!0zTOz!0wz{!1Z{;'S!0w;'S;=`!1x<%lO!0w7R!1^VOz!0wz{!1Z{!P!0w!P!Q!1s!Q;'S!0w;'S;=`!1x<%lO!0w7R!1xOU7R7R!1{P;=`<%l!0w7Z!2RP;=`<%l!.w7Z!2]`$_W!PPOY!-nYZ!.wZz!-nz{!2U{!P!-n!P!Q!3_!Q!^!-n!^!_!4m!_!}!-n!}#O!;l#O#P!?o#P#o!-n#o#p!4m#p;'S!-n;'S;=`!@g<%lO!-n7Z!3ha$_WU7R!PPO!^%Z!_#Z%Z#Z#[!'Y#[#]%Z#]#^!'Y#^#a%Z#a#b!'Y#b#g%Z#g#h!'Y#h#i%Z#i#j!'Y#j#m%Z#m#n!'Y#n#o%Z#p;'S%Z;'S;=`%o<%lO%Z7R!4r[!PPOY!4mYZ!0wZz!4mz{!5h{!P!4m!P!Q!:b!Q!}!4m!}#O!6|#O#P!9r#P;'S!4m;'S;=`!:[<%lO!4m7R!5m[!PPOY!4mYZ!0wZz!4mz{!5h{!P!4m!P!Q!6c!Q!}!4m!}#O!6|#O#P!9r#P;'S!4m;'S;=`!:[<%lO!4m7R!6jUU7R!PP#Z#[!)W#]#^!)W#a#b!)W#g#h!)W#i#j!)W#m#n!)W7R!7PYOY!6|YZ!0wZz!6|z{!7o{#O!6|#O#P!9S#P#Q!4m#Q;'S!6|;'S;=`!9l<%lO!6|7R!7r[OY!6|YZ!0wZz!6|z{!7o{!P!6|!P!Q!8h!Q#O!6|#O#P!9S#P#Q!4m#Q;'S!6|;'S;=`!9l<%lO!6|7R!8mVU7ROY!)oZ#O!)o#O#P!*X#P#Q!(f#Q;'S!)o;'S;=`!*h<%lO!)o7R!9VVOY!6|YZ!0wZz!6|z{!7o{;'S!6|;'S;=`!9l<%lO!6|7R!9oP;=`<%l!6|7R!9uVOY!4mYZ!0wZz!4mz{!5h{;'S!4m;'S;=`!:[<%lO!4m7R!:_P;=`<%l!4m7R!:ga!PPOz!0wz{!1Z{#Z!0w#Z#[!:b#[#]!0w#]#^!:b#^#a!0w#a#b!:b#b#g!0w#g#h!:b#h#i!0w#i#j!:b#j#m!0w#m#n!:b#n;'S!0w;'S;=`!1x<%lO!0w7Z!;q^$_WOY!;lYZ!.wZz!;lz{!<m{!^!;l!^!_!6|!_#O!;l#O#P!>q#P#Q!-n#Q#o!;l#o#p!6|#p;'S!;l;'S;=`!?i<%lO!;l7Z!<r`$_WOY!;lYZ!.wZz!;lz{!<m{!P!;l!P!Q!=t!Q!^!;l!^!_!6|!_#O!;l#O#P!>q#P#Q!-n#Q#o!;l#o#p!6|#p;'S!;l;'S;=`!?i<%lO!;l7Z!={[$_WU7ROY!+TYZ%ZZ!^!+T!^!_!)o!_#O!+T#O#P!,O#P#Q!&V#Q#o!+T#o#p!)o#p;'S!+T;'S;=`!,p<%lO!+T7Z!>vZ$_WOY!;lYZ!.wZz!;lz{!<m{!^!;l!^!_!6|!_#o!;l#o#p!6|#p;'S!;l;'S;=`!?i<%lO!;l7Z!?lP;=`<%l!;l7Z!?tZ$_WOY!-nYZ!.wZz!-nz{!2U{!^!-n!^!_!4m!_#o!-n#o#p!4m#p;'S!-n;'S;=`!@g<%lO!-n7Z!@jP;=`<%l!-n7Z!@te$_W!PPOz!.wz{!/i{!^!.w!^!_!0w!_#Z!.w#Z#[!@m#[#]!.w#]#^!@m#^#a!.w#a#b!@m#b#g!.w#g#h!@m#h#i!.w#i#j!@m#j#m!.w#m#n!@m#n#o!.w#o#p!0w#p;'S!.w;'S;=`!2O<%lO!.w7Z!B^X$_WT7ROY!BVYZ%ZZ!^!BV!^!_!By!_#o!BV#o#p!By#p;'S!BV;'S;=`!Cb<%lO!BV7R!COST7ROY!ByZ;'S!By;'S;=`!C[<%lO!By7R!C_P;=`<%l!By7Z!CeP;=`<%l!BV&u!Cq^$_W#v&l!PPOY!&VYZ%ZZ!P!&V!P!Q!'Y!Q!^!&V!^!_!(f!_!}!&V!}#O!+T#O#P!,v#P#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&V]!Dv^$OS$_W!PPOY!&VYZ%ZZ!P!&V!P!Q!'Y!Q!^!&V!^!_!(f!_!}!&V!}#O!+T#O#P!,v#P#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&V&c!Eyf$_Wl&ZO!O%Z!O!P! d!P!Q%Z!Q![!G_![!^%Z!_!g%Z!g!h!!d!h#R%Z#R#S!G_#S#U%Z#U#V!IR#V#X%Z#X#Y!!d#Y#b%Z#b#c!Hk#c#d!Js#d#l%Z#l#m!L_#m#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!Gfa$_Wl&ZO!O%Z!O!P! d!P!Q%Z!Q![!G_![!^%Z!_!g%Z!g!h!!d!h#R%Z#R#S!G_#S#X%Z#X#Y!!d#Y#b%Z#b#c!Hk#c#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!HrT$_Wl&ZO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!IWY$_WO!Q%Z!Q!R!Iv!R!S!Iv!S!^%Z!_#R%Z#R#S!Iv#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!I}[$_Wl&ZO!Q%Z!Q!R!Iv!R!S!Iv!S!^%Z!_#R%Z#R#S!Iv#S#b%Z#b#c!Hk#c#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!JxX$_WO!Q%Z!Q!Y!Ke!Y!^%Z!_#R%Z#R#S!Ke#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!KlZ$_Wl&ZO!Q%Z!Q!Y!Ke!Y!^%Z!_#R%Z#R#S!Ke#S#b%Z#b#c!Hk#c#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!Ld]$_WO!Q%Z!Q![!M]![!^%Z!_!c%Z!c!i!M]!i#R%Z#R#S!M]#S#T%Z#T#Z!M]#Z#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!Md_$_Wl&ZO!Q%Z!Q![!M]![!^%Z!_!c%Z!c!i!M]!i#R%Z#R#S!M]#S#T%Z#T#Z!M]#Z#b%Z#b#c!Hk#c#o%Z#p;'S%Z;'S;=`%o<%lO%Z(m!NlT!_V$_W#t(^O!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z!P# ST_w$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z6i# nR'm$Y!c(O$P,_(ZP!P!Q# w!^!_# |!_!`#!ZW# |O$aW&l#!RP#f&l!_!`#!U&l#!ZO#v&l&l#!`O#g&l(m#!gV#S(e$_WO!^%Z!_!`(l!`!a#!|!a#o%Z#p;'S%Z;'S;=`%o<%lO%Z&u##TT#_&m$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z(m##oVe!s#g&l$[S$_WO!^%Z!_!`#$U!`!a#$l!a#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#$]T#g&l$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#$sV#f&l$_WO!^%Z!_!`<z!`!a#%Y!a#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#%aU#f&l$_WO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z(m#%zX'}&q$_WO!O%Z!O!P#&g!P!^%Z!_!a%Z!a!b#&}!b#o%Z#p;'S%Z;'S;=`%o<%lO%Z(i#&nTy(a$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#'UU$_W#q&lO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z#_#'oT'z#V$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z,P#(VT{+w$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z$P#(mT!Q#w$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#)TU#n&l$_WO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z){#)nT$_W'q)sO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z,T#*Ya$_W'r#S'i)s$TSOt%Ztu#)}u}%Z}!O#+_!O!Q%Z!Q![#)}![!^%Z!_!c%Z!c!}#)}!}#R%Z#R#S#)}#S#T%Z#T#o#)}#p$g%Z$g;'S#)};'S;=`#,q<%lO#)}[#+fa$_W$TSOt%Ztu#+_u}%Z}!O#+_!O!Q%Z!Q![#+_![!^%Z!_!c%Z!c!}#+_!}#R%Z#R#S#+_#S#T%Z#T#o#+_#p$g%Z$g;'S#+_;'S;=`#,k<%lO#+_[#,nP;=`<%l#+_,T#,tP;=`<%l#)}~#,|O!V~(h#-TV(U(`$_WO!^%Z!_!`<z!`#o%Z#p#q#&}#q;'S%Z;'S;=`%o<%lO%Z(}#-sT!U(soQ$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%ZX#.ZT!mP$_WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z7Z#.wt$_W'f7R'r#S'i)s$RSOX%ZXY%uYZ%ZZ[%u[p%Zpq%uqt%Ztu9gu}%Z}!O:w!O!Q%Z!Q![9g![!^%Z!_!c%Z!c!}9g!}#R%Z#R#S9g#S#T%Z#T#o9g#p$f%Z$f$g%u$g#BY9g#BY#BZ#.j#BZ$IS9g$IS$I_#.j$I_$JT9g$JT$JU#.j$JU$KV9g$KV$KW#.j$KW&FU9g&FU&FV#.j&FV;'S9g;'S;=`<Z<%l?HT9g?HT?HU#.j?HUO9g7Z#1fa$_W'g7R'r#S'i)s$RSOt%Ztu9gu}%Z}!O:w!O!Q%Z!Q![9g![!^%Z!_!c%Z!c!}9g!}#R%Z#R#S9g#S#T%Z#T#o9g#p$g%Z$g;'S9g;'S;=`<Z<%lO9g",tokenizers:[tsExtends,noSemicolon,incdecToken,template,0,1,2,3,4,5,6,7,8,9,insertSemicolon],topRules:{Script:[0,7],SingleExpression:[1,262]},dialects:{jsx:13404,ts:13406},dynamicPrecedences:{158:1,186:1},specialized:[{term:301,get:value=>spec_identifier[value]||-1},{term:310,get:value=>spec_word[value]||-1},{term:65,get:value=>spec_LessThan[value]||-1}],tokenPrec:13429});const snippets=[snippetCompletion("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})];const cache=new NodeWeakMap;const ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(type){return(node,def)=>{let id=node.node.getChild("VariableDefinition");if(id)def(id,type);return true}}const functionContext=["FunctionDeclaration"];const gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>true,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(node,def){if(!node.matchContext(functionContext))def(node,"variable")},TypeDefinition(node,def){def(node,"type")},__proto__:null};function getScope(doc,node){let cached=cache.get(node);if(cached)return cached;let completions=[],top=true;function def(node,type){let name=doc.sliceString(node.from,node.to);completions.push({label:name,type:type})}node.cursor(IterMode.IncludeAnonymous).iterate((node=>{if(top){top=false}else if(node.name){let gather=gatherCompletions[node.name];if(gather&&gather(node,def)||ScopeNodes.has(node.name))return false}else if(node.to-node.from>8192){for(let c of getScope(doc,node.node))completions.push(c);return false}}));cache.set(node,completions);return completions}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/;const dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function localCompletionSource(context){let inner=syntaxTree(context.state).resolveInner(context.pos,-1);if(dontComplete.indexOf(inner.name)>-1)return null;let isWord=inner.name=="VariableName"||inner.to-inner.from<20&&Identifier.test(context.state.sliceDoc(inner.from,inner.to));if(!isWord&&!context.explicit)return null;let options=[];for(let pos=inner;pos;pos=pos.parent){if(ScopeNodes.has(pos.name))options=options.concat(getScope(context.state.doc,pos))}return{options:options,from:isWord?inner.from:context.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:context=>{let after=context.textAfter,closed=/^\s*\}/.test(after),isCase=/^\s*(case|default)\b/.test(after);return context.baseIndent+(closed?0:isCase?1:2)*context.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:cx=>cx.baseIndent+cx.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(context){let closed=/^\s*<\//.test(context.textAfter);return context.lineIndent(context.node.from)+(closed?0:context.unit)},JSXEscape(context){let closed=/\s*\}/.test(context.textAfter);return context.lineIndent(context.node.from)+(closed?0:context.unit)},"JSXOpenTag JSXSelfClosingTag"(context){return context.column(context.node.from)+context.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":foldInside,BlockComment(tree){return{from:tree.from+2,to:tree.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}});const typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript");const jsxLanguage=javascriptLanguage.configure({dialect:"jsx"});const tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts"},"typescript");const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map((kw=>({label:kw,type:"keyword"})));function javascript(config={}){let lang=config.jsx?config.typescript?tsxLanguage:jsxLanguage:config.typescript?typescriptLanguage:javascriptLanguage;return new LanguageSupport(lang,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(snippets.concat(keywords)))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),config.jsx?autoCloseTags:[]])}function elementName(doc,tree,max=doc.length){if(!tree)return"";let name=tree.getChild("JSXIdentifier");return name?doc.sliceString(name.from,Math.min(name.to,max)):""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent);const autoCloseTags=EditorView.inputHandler.of(((view,from,to,text)=>{if((android?view.composing:view.compositionStarted)||view.state.readOnly||from!=to||text!=">"&&text!="/"||!javascriptLanguage.isActiveAt(view.state,from,-1))return false;let{state:state}=view;let changes=state.changeByRange((range=>{var _a,_b,_c;let{head:head}=range,around=syntaxTree(state).resolveInner(head,-1),name;if(around.name=="JSXStartTag")around=around.parent;if(text==">"&&around.name=="JSXFragmentTag"){return{range:EditorSelection.cursor(head+1),changes:{from:head,insert:`><>`}}}else if(text==">"&&around.name=="JSXIdentifier"){if(((_b=(_a=around.parent)===null||_a===void 0?void 0:_a.lastChild)===null||_b===void 0?void 0:_b.name)!="JSXEndTag"&&(name=elementName(state.doc,around.parent,head)))return{range:EditorSelection.cursor(head+1),changes:{from:head,insert:`></${name}>`}}}else if(text=="/"&&around.name=="JSXFragmentTag"){let empty=around.parent,base=empty===null||empty===void 0?void 0:empty.parent;if(empty.from==head-1&&((_c=base.lastChild)===null||_c===void 0?void 0:_c.name)!="JSXEndTag"&&(name=elementName(state.doc,base===null||base===void 0?void 0:base.firstChild,head))){let insert=`/${name}>`;return{range:EditorSelection.cursor(head+insert.length),changes:{from:head,insert:insert}}}}return{range:range}}));if(changes.changes.empty)return false;view.dispatch(changes,{userEvent:"input.type",scrollIntoView:true});return true}));function esLint(eslint,config){if(!config){config={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:true,node:true,es6:true,es2015:true,es2017:true,es2020:true},rules:{}};eslint.getRules().forEach(((desc,name)=>{if(desc.meta.docs.recommended)config.rules[name]=2}))}return view=>{let{state:state}=view,found=[];for(let{from:from,to:to}of javascriptLanguage.findRegions(state)){let fromLine=state.doc.lineAt(from),offset={line:fromLine.number-1,col:from-fromLine.from,pos:from};for(let d of eslint.verify(state.sliceDoc(from,to),config))found.push(translateDiagnostic(d,state.doc,offset))}return found}}function mapPos(line,col,doc,offset){return doc.line(line+offset.line).from+col+(line==1?offset.col-1:-1)}function translateDiagnostic(input,doc,offset){let start=mapPos(input.line,input.column,doc,offset);let result={from:start,to:input.endLine!=null&&input.endColumn!=1?mapPos(input.endLine,input.endColumn,doc,offset):start,message:input.message,source:input.ruleId?"eslint:"+input.ruleId:"eslint",severity:input.severity==1?"warning":"error"};if(input.fix){let{range:range,text:text}=input.fix,from=range[0]+offset.pos-start,to=range[1]+offset.pos-start;result.actions=[{name:"fix",apply(view,start){view.dispatch({changes:{from:start+from,to:start+to,insert:text},scrollIntoView:true})}}]}return result}(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports):typeof define==="function"&&define.amd?define(["exports"],factory):(global=typeof globalThis!=="undefined"?globalThis:global||self,factory(global.eslint={}))})(undefined,(function(exports){if(!global){var global=globalThis||window}var eslintLinterBrowserify={};var browser$3={exports:{}};var hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$3.exports;hasRequiredBrowser$1=1;var process=browser$3.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};return browser$3.exports}function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};function resolve(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:"/";if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),(function(p){return!!p})),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."}function normalize(path){var isPathAbsolute=isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),(function(p){return!!p})),!isPathAbsolute).join("/");if(!path&&!isPathAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isPathAbsolute?"/":"")+path}function isAbsolute(path){return path.charAt(0)==="/"}function join(){var paths=Array.prototype.slice.call(arguments,0);return normalize(filter(paths,(function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p})).join("/"))}function relative(from,to){from=resolve(from).substr(1);to=resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}var sep="/";var delimiter=":";function dirname(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir}function basename(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f}function extname(path){return splitPath(path)[3]}var require$$0$4={extname:extname,basename:basename,dirname:dirname,sep:sep,delimiter:delimiter,relative:relative,join:join,isAbsolute:isAbsolute,normalize:normalize,resolve:resolve};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)};var eslintScope={};var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var inited=false;function init(){inited=true;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63}function toByteArray(b64){if(!inited){init()}var i,j,l,tmp,placeHolders,arr;var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}placeHolders=b64[len-2]==="="?2:b64[len-1]==="="?1:0;arr=new Arr(len*3/4-placeHolders);l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[L++]=tmp>>16&255;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}if(placeHolders===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[L++]=tmp&255}else if(placeHolders===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){if(!inited){init()}var tmp;var len=uint8.length;var extraBytes=len%3;var output="";var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];output+=lookup[tmp>>2];output+=lookup[tmp<<4&63];output+="=="}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];output+=lookup[tmp>>10];output+=lookup[tmp>>4&63];output+=lookup[tmp<<2&63];output+="="}parts.push(output);return parts.join("")}function read(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)}function write(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}var toString={}.toString;var isArray$1=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"};
/*!
        * The buffer module from node.js, for the browser.
        *
        * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
        * @license  MIT
        */var INSPECT_MAX_BYTES=50;Buffer$1.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:true;kMaxLength();function kMaxLength(){return Buffer$1.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length){throw new RangeError("Invalid typed array length")}if(Buffer$1.TYPED_ARRAY_SUPPORT){that=new Uint8Array(length);that.__proto__=Buffer$1.prototype}else{if(that===null){that=new Buffer$1(length)}that.length=length}return that}function Buffer$1(arg,encodingOrOffset,length){if(!Buffer$1.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer$1)){return new Buffer$1(arg,encodingOrOffset,length)}if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}Buffer$1.poolSize=8192;Buffer$1._augment=function(arr){arr.__proto__=Buffer$1.prototype;return arr};function from(that,value,encodingOrOffset,length){if(typeof value==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&value instanceof ArrayBuffer){return fromArrayBuffer(that,value,encodingOrOffset,length)}if(typeof value==="string"){return fromString(that,value,encodingOrOffset)}return fromObject(that,value)}Buffer$1.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)};if(Buffer$1.TYPED_ARRAY_SUPPORT){Buffer$1.prototype.__proto__=Uint8Array.prototype;Buffer$1.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&Buffer$1[Symbol.species]===Buffer$1);}function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be a number')}else if(size<0){throw new RangeError('"size" argument must not be negative')}}function alloc(that,size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(that,size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill)}return createBuffer(that,size)}Buffer$1.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)};function allocUnsafe(that,size){assertSize(size);that=createBuffer(that,size<0?0:checked(size)|0);if(!Buffer$1.TYPED_ARRAY_SUPPORT){for(var i=0;i<size;++i){that[i]=0}}return that}Buffer$1.allocUnsafe=function(size){return allocUnsafe(null,size)};Buffer$1.allocUnsafeSlow=function(size){return allocUnsafe(null,size)};function fromString(that,string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer$1.isEncoding(encoding)){throw new TypeError('"encoding" must be a valid string encoding')}var length=byteLength(string,encoding)|0;that=createBuffer(that,length);var actual=that.write(string,encoding);if(actual!==length){that=that.slice(0,actual)}return that}function fromArrayLike(that,array){var length=array.length<0?0:checked(array.length)|0;that=createBuffer(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromArrayBuffer(that,array,byteOffset,length){array.byteLength;if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError("'offset' is out of bounds")}if(array.byteLength<byteOffset+(length||0)){throw new RangeError("'length' is out of bounds")}if(byteOffset===undefined&&length===undefined){array=new Uint8Array(array)}else if(length===undefined){array=new Uint8Array(array,byteOffset)}else{array=new Uint8Array(array,byteOffset,length)}if(Buffer$1.TYPED_ARRAY_SUPPORT){that=array;that.__proto__=Buffer$1.prototype}else{that=fromArrayLike(that,array)}return that}function fromObject(that,obj){if(internalIsBuffer(obj)){var len=checked(obj.length)|0;that=createBuffer(that,len);if(that.length===0){return that}obj.copy(that,0,0,len);return that}if(obj){if(typeof ArrayBuffer!=="undefined"&&obj.buffer instanceof ArrayBuffer||"length"in obj){if(typeof obj.length!=="number"||isnan(obj.length)){return createBuffer(that,0)}return fromArrayLike(that,obj)}if(obj.type==="Buffer"&&isArray$1(obj.data)){return fromArrayLike(that,obj.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes")}return length|0}Buffer$1.isBuffer=isBuffer$1;function internalIsBuffer(b){return!!(b!=null&&b._isBuffer)}Buffer$1.compare=function compare(a,b){if(!internalIsBuffer(a)||!internalIsBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer$1.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer$1.concat=function concat(list,length){if(!isArray$1(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer$1.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer$1.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!internalIsBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(internalIsBuffer(string)){return string.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){string=""+string}var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case undefined:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer$1.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer$1.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer$1.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer$1.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer$1.prototype.swap64=function swap64(){var len=this.length;if(len%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer$1.prototype.toString=function toString(){var length=this.length|0;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer$1.prototype.equals=function equals(b){if(!internalIsBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer$1.compare(this,b)===0};Buffer$1.prototype.inspect=function inspect(){var str="";var max=INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer$1.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(!internalIsBuffer(target)){throw new TypeError("Argument must be a Buffer")}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return-1;if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset=+byteOffset;if(isNaN(byteOffset)){byteOffset=dir?0:buffer.length-1}if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return-1;else byteOffset=buffer.length-1}else if(byteOffset<0){if(dir)byteOffset=0;else return-1}if(typeof val==="string"){val=Buffer$1.from(val,encoding)}if(internalIsBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if(typeof val==="number"){val=val&255;if(Buffer$1.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset)}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset)}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++){if(read(arr,i+j)!==read(val,j)){found=false;break}}if(found)return i}}return-1}Buffer$1.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};Buffer$1.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true)};Buffer$1.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer$1.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer$1.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return fromByteArray(buf)}else{return fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&127)}return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer$1.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer$1.TYPED_ARRAY_SUPPORT){newBuf=this.subarray(start,end);newBuf.__proto__=Buffer$1.prototype}else{var sliceLen=end-start;newBuf=new Buffer$1(sliceLen,undefined);for(var i=0;i<sliceLen;++i){newBuf[i]=this[i+start]}}return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer$1.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer$1.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer$1.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer$1.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer$1.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer$1.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer$1.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer$1.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer$1.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer$1.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer$1.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer$1.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer$1.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer$1.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer$1.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return read(this,offset,true,23,4)};Buffer$1.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return read(this,offset,false,23,4)};Buffer$1.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return read(this,offset,true,52,8)};Buffer$1.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!internalIsBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer$1.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer$1.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer$1.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer$1.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value&255;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer$1.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer$1.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer$1.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer$1.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer$1.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer$1.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer$1.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer$1.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer$1.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer$1.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer$1.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer$1.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer$1.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4)}write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer$1.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer$1.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8)}write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer$1.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer$1.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer$1.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;var i;if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;--i){target[i+targetStart]=this[i+start]}}else if(len<1e3||!Buffer$1.TYPED_ARRAY_SUPPORT){for(i=0;i<len;++i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart)}return len};Buffer$1.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(val.length===1){var code=val.charCodeAt(0);if(code<256){val=code}}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer$1.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}}else if(typeof val==="number"){val=val&255}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;++i){this[i]=val}}else{var bytes=internalIsBuffer(val)?val:utf8ToBytes(new Buffer$1(val,encoding).toString());var len=bytes.length;for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isnan(val){return val!==val}function isBuffer$1(obj){return obj!=null&&(!!obj._isBuffer||isFastBuffer(obj)||isSlowBuffer(obj))}function isFastBuffer(obj){return!!obj.constructor&&typeof obj.constructor.isBuffer==="function"&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return typeof obj.readFloatLE==="function"&&typeof obj.slice==="function"&&isFastBuffer(obj.slice(0,0))}function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout;var cachedClearTimeout=defaultClearTimeout;if(typeof global.setTimeout==="function"){cachedSetTimeout=setTimeout}if(typeof global.clearTimeout==="function"){cachedClearTimeout=clearTimeout}function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}function nextTick(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}}function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title$1="browser";var platform="browser";var browser$2=true;var env={};var argv=[];var version$3="";var versions={};var release={};var config={};function noop(){}var on=noop;var addListener=noop;var once=noop;var off=noop;var removeListener=noop;var removeAllListeners=noop;var emit=noop;function binding(name){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(dir){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global.performance||{};var performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(previousTimestamp){var clocktime=performanceNow.call(performance)*.001;var seconds=Math.floor(clocktime);var nanoseconds=Math.floor(clocktime%1*1e9);if(previousTimestamp){seconds=seconds-previousTimestamp[0];nanoseconds=nanoseconds-previousTimestamp[1];if(nanoseconds<0){seconds--;nanoseconds+=1e9}}return[seconds,nanoseconds]}var startTime=new Date;function uptime(){var currentTime=new Date;var dif=currentTime-startTime;return dif/1e3}var process$1={nextTick:nextTick,title:title$1,browser:browser$2,env:env,argv:argv,version:version$3,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime};var inherits;if(typeof Object.create==="function"){inherits=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{inherits=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}var inherits$1=inherits;var formatRegExp=/%[sdj%]/g;function format$1(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect$1(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,(function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}));for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect$1(x)}}return str}function deprecate(fn,msg){if(isUndefined(global.process)){return function(){return deprecate(fn,msg).apply(this,arguments)}}if(process$1.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process$1.throwDeprecation){throw new Error(msg)}else if(process$1.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated}var debugs={};var debugEnviron;function debuglog(set){if(isUndefined(debugEnviron))debugEnviron=process$1.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=0;debugs[set]=function(){var msg=format$1.apply(null,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]}function inspect$1(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){_extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}inspect$1.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect$1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect$1.styles[styleType];if(style){return"["+inspect$1.colors[style][0]+"m"+str+"["+inspect$1.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach((function(val,idx){hash[val]=true}));return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==inspect$1&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map((function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}))}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach((function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}}));return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map((function(line){return"  "+line})).join("\n").substr(2)}else{str="\n"+str.split("\n").map((function(line){return"   "+line})).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var length=output.reduce((function(prev,cur){if(cur.indexOf("\n")>=0);return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return typeof arg==="boolean"}function isNull(arg){return arg===null}function isNullOrUndefined(arg){return arg==null}function isNumber(arg){return typeof arg==="number"}function isString(arg){return typeof arg==="string"}function isSymbol(arg){return typeof arg==="symbol"}function isUndefined(arg){return arg===void 0}function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}function isFunction(arg){return typeof arg==="function"}function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}function isBuffer(maybeBuf){return Buffer.isBuffer(maybeBuf)}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function log(){console.log("%s - %s",timestamp(),format$1.apply(null,arguments))}function _extend(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var require$$1$2={inherits:inherits$1,_extend:_extend,log:log,isBuffer:isBuffer,isPrimitive:isPrimitive,isFunction:isFunction,isError:isError,isDate:isDate,isObject:isObject,isRegExp:isRegExp,isUndefined:isUndefined,isSymbol:isSymbol,isString:isString,isNumber:isNumber,isNullOrUndefined:isNullOrUndefined,isNull:isNull,isBoolean:isBoolean,isArray:isArray,inspect:inspect$1,deprecate:deprecate,format:format$1,debuglog:debuglog};function compare(a,b){if(a===b){return 0}var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y){return-1}if(y<x){return 1}return 0}var hasOwn=Object.prototype.hasOwnProperty;var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){if(hasOwn.call(obj,key))keys.push(key)}return keys};var pSlice=Array.prototype.slice;var _functionsHaveNames;function functionsHaveNames(){if(typeof _functionsHaveNames!=="undefined"){return _functionsHaveNames}return _functionsHaveNames=function(){return function foo(){}.name==="foo"}()}function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){if(isBuffer$1(arrbuf)){return false}if(typeof global.ArrayBuffer!=="function"){return false}if(typeof ArrayBuffer.isView==="function"){return ArrayBuffer.isView(arrbuf)}if(!arrbuf){return false}if(arrbuf instanceof DataView){return true}if(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer){return true}return false}function assert(value,message){if(!value)fail(value,true,message,"==",ok)}var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(func){if(!isFunction(func)){return}if(functionsHaveNames()){return func.name}var str=func.toString();var match=str.match(regex);return match&&match[1]}assert.AssertionError=AssertionError;function AssertionError(options){this.name="AssertionError";this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;if(options.message){this.message=options.message;this.generatedMessage=false}else{this.message=getMessage(this);this.generatedMessage=true}var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace){Error.captureStackTrace(this,stackStartFunction)}else{var err=new Error;if(err.stack){var out=err.stack;var fn_name=getName(stackStartFunction);var idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}}inherits$1(AssertionError,Error);function truncate(s,n){if(typeof s==="string"){return s.length<n?s:s.slice(0,n)}else{return s}}function inspect(something){if(functionsHaveNames()||!isFunction(something)){return inspect$1(something)}var rawname=getName(something);var name=rawname?": "+rawname:"";return"[Function"+name+"]"}function getMessage(self){return truncate(inspect(self.actual),128)+" "+self.operator+" "+truncate(inspect(self.expected),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,"==",ok)}assert.ok=ok;assert.equal=equal;function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,"==",equal)}assert.notEqual=notEqual;function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,"!=",notEqual)}}assert.deepEqual=deepEqual;function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected,false)){fail(actual,expected,message,"deepEqual",deepEqual)}}assert.deepStrictEqual=deepStrictEqual;function deepStrictEqual(actual,expected,message){if(!_deepEqual(actual,expected,true)){fail(actual,expected,message,"deepStrictEqual",deepStrictEqual)}}function _deepEqual(actual,expected,strict,memos){if(actual===expected){return true}else if(isBuffer$1(actual)&&isBuffer$1(expected)){return compare(actual,expected)===0}else if(isDate(actual)&&isDate(expected)){return actual.getTime()===expected.getTime()}else if(isRegExp(actual)&&isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase}else if((actual===null||typeof actual!=="object")&&(expected===null||typeof expected!=="object")){return strict?actual===expected:actual==expected}else if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array)){return compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer))===0}else if(isBuffer$1(actual)!==isBuffer$1(expected)){return false}else{memos=memos||{actual:[],expected:[]};var actualIndex=memos.actual.indexOf(actual);if(actualIndex!==-1){if(actualIndex===memos.expected.indexOf(expected)){return true}}memos.actual.push(actual);memos.expected.push(expected);return objEquiv(actual,expected,strict,memos)}}function isArguments(object){return Object.prototype.toString.call(object)=="[object Arguments]"}function objEquiv(a,b,strict,actualVisitedObjects){if(a===null||a===undefined||b===null||b===undefined)return false;if(isPrimitive(a)||isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return false;var aIsArgs=isArguments(a);var bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return false;if(aIsArgs){a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b,strict)}var ka=objectKeys(a);var kb=objectKeys(b);var key,i;if(ka.length!==kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!==kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return false}return true}assert.notDeepEqual=notDeepEqual;function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected,false)){fail(actual,expected,message,"notDeepEqual",notDeepEqual)}}assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(actual,expected,message){if(_deepEqual(actual,expected,true)){fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)}}assert.strictEqual=strictEqual;function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,"===",strictEqual)}}assert.notStrictEqual=notStrictEqual;function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,"!==",notStrictEqual)}}function expectedException(actual,expected){if(!actual||!expected){return false}if(Object.prototype.toString.call(expected)=="[object RegExp]"){return expected.test(actual)}try{if(actual instanceof expected){return true}}catch(e){}if(Error.isPrototypeOf(expected)){return false}return expected.call({},actual)===true}function _tryBlock(block){var error;try{block()}catch(e){error=e}return error}function _throws(shouldThrow,block,expected,message){var actual;if(typeof block!=="function"){throw new TypeError('"block" argument must be a function')}if(typeof expected==="string"){message=expected;expected=null}actual=_tryBlock(block);message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:".");if(shouldThrow&&!actual){fail(actual,expected,"Missing expected exception"+message)}var userProvidedMessage=typeof message==="string";var isUnwantedException=!shouldThrow&&isError(actual);var isUnexpectedException=!shouldThrow&&actual&&!expected;if(isUnwantedException&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException){fail(actual,expected,"Got unwanted exception"+message)}if(shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual){throw actual}}assert.throws=throws;function throws(block,error,message){_throws(true,block,error,message)}assert.doesNotThrow=doesNotThrow;function doesNotThrow(block,error,message){_throws(false,block,error,message)}assert.ifError=ifError;function ifError(err){if(err)throw err}var estraverse={};var hasRequiredEstraverse;function requireEstraverse(){if(hasRequiredEstraverse)return estraverse;hasRequiredEstraverse=1;(function(exports){(function clone(exports){var Syntax,VisitorOption,VisitorKeys,BREAK,SKIP,REMOVE;function deepCopy(obj){var ret={},key,val;for(key in obj){if(obj.hasOwnProperty(key)){val=obj[key];if(typeof val==="object"&&val!==null){ret[key]=deepCopy(val)}else{ret[key]=val}}}return ret}function upperBound(array,func){var diff,len,i,current;len=array.length;i=0;while(len){diff=len>>>1;current=i+diff;if(func(array[current])){len=diff}else{i=current+1;len-=diff+1}}return i}Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"};VisitorKeys={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]};BREAK={};SKIP={};REMOVE={};VisitorOption={Break:BREAK,Skip:SKIP,Remove:REMOVE};function Reference(parent,key){this.parent=parent;this.key=key}Reference.prototype.replace=function replace(node){this.parent[this.key]=node};Reference.prototype.remove=function remove(){if(Array.isArray(this.parent)){this.parent.splice(this.key,1);return true}else{this.replace(null);return false}};function Element(node,path,wrap,ref){this.node=node;this.path=path;this.wrap=wrap;this.ref=ref}function Controller(){}Controller.prototype.path=function path(){var i,iz,j,jz,result,element;function addToPath(result,path){if(Array.isArray(path)){for(j=0,jz=path.length;j<jz;++j){result.push(path[j])}}else{result.push(path)}}if(!this.__current.path){return null}result=[];for(i=2,iz=this.__leavelist.length;i<iz;++i){element=this.__leavelist[i];addToPath(result,element.path)}addToPath(result,this.__current.path);return result};Controller.prototype.type=function(){var node=this.current();return node.type||this.__current.wrap};Controller.prototype.parents=function parents(){var i,iz,result;result=[];for(i=1,iz=this.__leavelist.length;i<iz;++i){result.push(this.__leavelist[i].node)}return result};Controller.prototype.current=function current(){return this.__current.node};Controller.prototype.__execute=function __execute(callback,element){var previous,result;result=undefined;previous=this.__current;this.__current=element;this.__state=null;if(callback){result=callback.call(this,element.node,this.__leavelist[this.__leavelist.length-1].node)}this.__current=previous;return result};Controller.prototype.notify=function notify(flag){this.__state=flag};Controller.prototype.skip=function(){this.notify(SKIP)};Controller.prototype["break"]=function(){this.notify(BREAK)};Controller.prototype.remove=function(){this.notify(REMOVE)};Controller.prototype.__initialize=function(root,visitor){this.visitor=visitor;this.root=root;this.__worklist=[];this.__leavelist=[];this.__current=null;this.__state=null;this.__fallback=null;if(visitor.fallback==="iteration"){this.__fallback=Object.keys}else if(typeof visitor.fallback==="function"){this.__fallback=visitor.fallback}this.__keys=VisitorKeys;if(visitor.keys){this.__keys=Object.assign(Object.create(this.__keys),visitor.keys)}};function isNode(node){if(node==null){return false}return typeof node==="object"&&typeof node.type==="string"}function isProperty(nodeType,key){return(nodeType===Syntax.ObjectExpression||nodeType===Syntax.ObjectPattern)&&"properties"===key}function candidateExistsInLeaveList(leavelist,candidate){for(var i=leavelist.length-1;i>=0;--i){if(leavelist[i].node===candidate){return true}}return false}Controller.prototype.traverse=function traverse(root,visitor){var worklist,leavelist,element,node,nodeType,ret,key,current,current2,candidates,candidate,sentinel;this.__initialize(root,visitor);sentinel={};worklist=this.__worklist;leavelist=this.__leavelist;worklist.push(new Element(root,null,null,null));leavelist.push(new Element(null,null,null,null));while(worklist.length){element=worklist.pop();if(element===sentinel){element=leavelist.pop();ret=this.__execute(visitor.leave,element);if(this.__state===BREAK||ret===BREAK){return}continue}if(element.node){ret=this.__execute(visitor.enter,element);if(this.__state===BREAK||ret===BREAK){return}worklist.push(sentinel);leavelist.push(element);if(this.__state===SKIP||ret===SKIP){continue}node=element.node;nodeType=node.type||element.wrap;candidates=this.__keys[nodeType];if(!candidates){if(this.__fallback){candidates=this.__fallback(node)}else{throw new Error("Unknown node type "+nodeType+".")}}current=candidates.length;while((current-=1)>=0){key=candidates[current];candidate=node[key];if(!candidate){continue}if(Array.isArray(candidate)){current2=candidate.length;while((current2-=1)>=0){if(!candidate[current2]){continue}if(candidateExistsInLeaveList(leavelist,candidate[current2])){continue}if(isProperty(nodeType,candidates[current])){element=new Element(candidate[current2],[key,current2],"Property",null)}else if(isNode(candidate[current2])){element=new Element(candidate[current2],[key,current2],null,null)}else{continue}worklist.push(element)}}else if(isNode(candidate)){if(candidateExistsInLeaveList(leavelist,candidate)){continue}worklist.push(new Element(candidate,key,null,null))}}}}};Controller.prototype.replace=function replace(root,visitor){var worklist,leavelist,node,nodeType,target,element,current,current2,candidates,candidate,sentinel,outer,key;function removeElem(element){var i,key,nextElem,parent;if(element.ref.remove()){key=element.ref.key;parent=element.ref.parent;i=worklist.length;while(i--){nextElem=worklist[i];if(nextElem.ref&&nextElem.ref.parent===parent){if(nextElem.ref.key<key){break}--nextElem.ref.key}}}}this.__initialize(root,visitor);sentinel={};worklist=this.__worklist;leavelist=this.__leavelist;outer={root:root};element=new Element(root,null,null,new Reference(outer,"root"));worklist.push(element);leavelist.push(element);while(worklist.length){element=worklist.pop();if(element===sentinel){element=leavelist.pop();target=this.__execute(visitor.leave,element);if(target!==undefined&&target!==BREAK&&target!==SKIP&&target!==REMOVE){element.ref.replace(target)}if(this.__state===REMOVE||target===REMOVE){removeElem(element)}if(this.__state===BREAK||target===BREAK){return outer.root}continue}target=this.__execute(visitor.enter,element);if(target!==undefined&&target!==BREAK&&target!==SKIP&&target!==REMOVE){element.ref.replace(target);element.node=target}if(this.__state===REMOVE||target===REMOVE){removeElem(element);element.node=null}if(this.__state===BREAK||target===BREAK){return outer.root}node=element.node;if(!node){continue}worklist.push(sentinel);leavelist.push(element);if(this.__state===SKIP||target===SKIP){continue}nodeType=node.type||element.wrap;candidates=this.__keys[nodeType];if(!candidates){if(this.__fallback){candidates=this.__fallback(node)}else{throw new Error("Unknown node type "+nodeType+".")}}current=candidates.length;while((current-=1)>=0){key=candidates[current];candidate=node[key];if(!candidate){continue}if(Array.isArray(candidate)){current2=candidate.length;while((current2-=1)>=0){if(!candidate[current2]){continue}if(isProperty(nodeType,candidates[current])){element=new Element(candidate[current2],[key,current2],"Property",new Reference(candidate,current2))}else if(isNode(candidate[current2])){element=new Element(candidate[current2],[key,current2],null,new Reference(candidate,current2))}else{continue}worklist.push(element)}}else if(isNode(candidate)){worklist.push(new Element(candidate,key,null,new Reference(node,key)))}}}return outer.root};function traverse(root,visitor){var controller=new Controller;return controller.traverse(root,visitor)}function replace(root,visitor){var controller=new Controller;return controller.replace(root,visitor)}function extendCommentRange(comment,tokens){var target;target=upperBound(tokens,(function search(token){return token.range[0]>comment.range[0]}));comment.extendedRange=[comment.range[0],comment.range[1]];if(target!==tokens.length){comment.extendedRange[1]=tokens[target].range[0]}target-=1;if(target>=0){comment.extendedRange[0]=tokens[target].range[1]}return comment}function attachComments(tree,providedComments,tokens){var comments=[],comment,len,i,cursor;if(!tree.range){throw new Error("attachComments needs range information")}if(!tokens.length){if(providedComments.length){for(i=0,len=providedComments.length;i<len;i+=1){comment=deepCopy(providedComments[i]);comment.extendedRange=[0,tree.range[0]];comments.push(comment)}tree.leadingComments=comments}return tree}for(i=0,len=providedComments.length;i<len;i+=1){comments.push(extendCommentRange(deepCopy(providedComments[i]),tokens))}cursor=0;traverse(tree,{enter:function(node){var comment;while(cursor<comments.length){comment=comments[cursor];if(comment.extendedRange[1]>node.range[0]){break}if(comment.extendedRange[1]===node.range[0]){if(!node.leadingComments){node.leadingComments=[]}node.leadingComments.push(comment);comments.splice(cursor,1)}else{cursor+=1}}if(cursor===comments.length){return VisitorOption.Break}if(comments[cursor].extendedRange[0]>node.range[1]){return VisitorOption.Skip}}});cursor=0;traverse(tree,{leave:function(node){var comment;while(cursor<comments.length){comment=comments[cursor];if(node.range[1]<comment.extendedRange[0]){break}if(node.range[1]===comment.extendedRange[0]){if(!node.trailingComments){node.trailingComments=[]}node.trailingComments.push(comment);comments.splice(cursor,1)}else{cursor+=1}}if(cursor===comments.length){return VisitorOption.Break}if(comments[cursor].extendedRange[0]>node.range[1]){return VisitorOption.Skip}}});return tree}exports.Syntax=Syntax;exports.traverse=traverse;exports.replace=replace;exports.attachComments=attachComments;exports.VisitorKeys=VisitorKeys;exports.VisitorOption=VisitorOption;exports.Controller=Controller;exports.cloneEnvironment=function(){return clone({})};return exports})(exports)})(estraverse);return estraverse}var esrecurse={};var name$2="esrecurse";var description$4="ECMAScript AST recursive visitor";var homepage$2="https://github.com/estools/esrecurse";var main$2="esrecurse.js";var version$2="4.3.0";var engines$2={node:">=4.0"};var maintainers$1=[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"https://github.com/Constellation"}];var repository$2={type:"git",url:"https://github.com/estools/esrecurse.git"};var dependencies$4={estraverse:"^5.2.0"};var devDependencies$2={"babel-cli":"^6.24.1","babel-eslint":"^7.2.3","babel-preset-es2015":"^6.24.1","babel-register":"^6.24.1",chai:"^4.0.2",esprima:"^4.0.0",gulp:"^3.9.0","gulp-bump":"^2.7.0","gulp-eslint":"^4.0.0","gulp-filter":"^5.0.0","gulp-git":"^2.4.1","gulp-mocha":"^4.3.1","gulp-tag-version":"^1.2.1",jsdoc:"^3.3.0-alpha10",minimist:"^1.1.0"};var license$2="BSD-2-Clause";var scripts$2={test:"gulp travis","unit-test":"gulp test",lint:"gulp lint"};var babel={presets:["es2015"]};var require$$1$1={name:name$2,description:description$4,homepage:homepage$2,main:main$2,version:version$2,engines:engines$2,maintainers:maintainers$1,repository:repository$2,dependencies:dependencies$4,devDependencies:devDependencies$2,license:license$2,scripts:scripts$2,babel:babel};var hasRequiredEsrecurse;function requireEsrecurse(){if(hasRequiredEsrecurse)return esrecurse;hasRequiredEsrecurse=1;(function(){var estraverse=requireEstraverse();function isNode(node){if(node==null){return false}return typeof node==="object"&&typeof node.type==="string"}function isProperty(nodeType,key){return(nodeType===estraverse.Syntax.ObjectExpression||nodeType===estraverse.Syntax.ObjectPattern)&&key==="properties"}function Visitor(visitor,options){options=options||{};this.__visitor=visitor||this;this.__childVisitorKeys=options.childVisitorKeys?Object.assign({},estraverse.VisitorKeys,options.childVisitorKeys):estraverse.VisitorKeys;if(options.fallback==="iteration"){this.__fallback=Object.keys}else if(typeof options.fallback==="function"){this.__fallback=options.fallback}}Visitor.prototype.visitChildren=function(node){var type,children,i,iz,j,jz,child;if(node==null){return}type=node.type||estraverse.Syntax.Property;children=this.__childVisitorKeys[type];if(!children){if(this.__fallback){children=this.__fallback(node)}else{throw new Error("Unknown node type "+type+".")}}for(i=0,iz=children.length;i<iz;++i){child=node[children[i]];if(child){if(Array.isArray(child)){for(j=0,jz=child.length;j<jz;++j){if(child[j]){if(isNode(child[j])||isProperty(type,children[i])){this.visit(child[j])}}}}else if(isNode(child)){this.visit(child)}}}};Visitor.prototype.visit=function(node){var type;if(node==null){return}type=node.type||estraverse.Syntax.Property;if(this.__visitor[type]){this.__visitor[type].call(this,node);return}this.visitChildren(node)};esrecurse.version=require$$1$1.version;esrecurse.Visitor=Visitor;esrecurse.visit=function(node,visitor,options){var v=new Visitor(visitor,options);v.visit(node)}})();return esrecurse}var hasRequiredEslintScope;function requireEslintScope(){if(hasRequiredEslintScope)return eslintScope;hasRequiredEslintScope=1;Object.defineProperty(eslintScope,"__esModule",{value:true});var assert$1=assert;var estraverse=requireEstraverse();var esrecurse=requireEsrecurse();function _interopDefaultLegacy(e){return e&&typeof e==="object"&&"default"in e?e:{default:e}}var assert__default=_interopDefaultLegacy(assert$1);var estraverse__default=_interopDefaultLegacy(estraverse);var esrecurse__default=_interopDefaultLegacy(esrecurse);const READ=1;const WRITE=2;const RW=READ|WRITE;class Reference{constructor(ident,scope,flag,writeExpr,maybeImplicitGlobal,partial,init){this.identifier=ident;this.from=scope;this.tainted=false;this.resolved=null;this.flag=flag;if(this.isWrite()){this.writeExpr=writeExpr;this.partial=partial;this.init=init}this.__maybeImplicitGlobal=maybeImplicitGlobal}isStatic(){return!this.tainted&&this.resolved&&this.resolved.scope.isStatic()}isWrite(){return!!(this.flag&Reference.WRITE)}isRead(){return!!(this.flag&Reference.READ)}isReadOnly(){return this.flag===Reference.READ}isWriteOnly(){return this.flag===Reference.WRITE}isReadWrite(){return this.flag===Reference.RW}}Reference.READ=READ;Reference.WRITE=WRITE;Reference.RW=RW;class Variable{constructor(name,scope){this.name=name;this.identifiers=[];this.references=[];this.defs=[];this.tainted=false;this.stack=true;this.scope=scope}}Variable.CatchClause="CatchClause";Variable.Parameter="Parameter";Variable.FunctionName="FunctionName";Variable.ClassName="ClassName";Variable.Variable="Variable";Variable.ImportBinding="ImportBinding";Variable.ImplicitGlobalVariable="ImplicitGlobalVariable";class Definition{constructor(type,name,node,parent,index,kind){this.type=type;this.name=name;this.node=node;this.parent=parent;this.index=index;this.kind=kind}}class ParameterDefinition extends Definition{constructor(name,node,index,rest){super(Variable.Parameter,name,node,null,index,null);this.rest=rest}}const{Syntax:Syntax$2}=estraverse__default["default"];function isStrictScope(scope,block,isMethodDefinition,useDirective){let body;if(scope.upper&&scope.upper.isStrict){return true}if(isMethodDefinition){return true}if(scope.type==="class"||scope.type==="module"){return true}if(scope.type==="block"||scope.type==="switch"){return false}if(scope.type==="function"){if(block.type===Syntax$2.ArrowFunctionExpression&&block.body.type!==Syntax$2.BlockStatement){return false}if(block.type===Syntax$2.Program){body=block}else{body=block.body}if(!body){return false}}else if(scope.type==="global"){body=block}else{return false}if(useDirective){for(let i=0,iz=body.body.length;i<iz;++i){const stmt=body.body[i];if(stmt.type!==Syntax$2.DirectiveStatement){break}if(stmt.raw==='"use strict"'||stmt.raw==="'use strict'"){return true}}}else{for(let i=0,iz=body.body.length;i<iz;++i){const stmt=body.body[i];if(stmt.type!==Syntax$2.ExpressionStatement){break}const expr=stmt.expression;if(expr.type!==Syntax$2.Literal||typeof expr.value!=="string"){break}if(expr.raw!==null&&expr.raw!==undefined){if(expr.raw==='"use strict"'||expr.raw==="'use strict'"){return true}}else{if(expr.value==="use strict"){return true}}}}return false}function registerScope(scopeManager,scope){scopeManager.scopes.push(scope);const scopes=scopeManager.__nodeToScope.get(scope.block);if(scopes){scopes.push(scope)}else{scopeManager.__nodeToScope.set(scope.block,[scope])}}function shouldBeStatically(def){return def.type===Variable.ClassName||def.type===Variable.Variable&&def.parent.kind!=="var"}class Scope{constructor(scopeManager,type,upperScope,block,isMethodDefinition){this.type=type;this.set=new Map;this.taints=new Map;this.dynamic=this.type==="global"||this.type==="with";this.block=block;this.through=[];this.variables=[];this.references=[];this.variableScope=this.type==="global"||this.type==="module"||this.type==="function"||this.type==="class-field-initializer"||this.type==="class-static-block"?this:upperScope.variableScope;this.functionExpressionScope=false;this.directCallToEvalScope=false;this.thisFound=false;this.__left=[];this.upper=upperScope;this.isStrict=scopeManager.isStrictModeSupported()?isStrictScope(this,block,isMethodDefinition,scopeManager.__useDirective()):false;this.childScopes=[];if(this.upper){this.upper.childScopes.push(this)}this.__declaredVariables=scopeManager.__declaredVariables;registerScope(scopeManager,this)}__shouldStaticallyClose(scopeManager){return!this.dynamic||scopeManager.__isOptimistic()}__shouldStaticallyCloseForGlobal(ref){const name=ref.identifier.name;if(!this.set.has(name)){return false}const variable=this.set.get(name);const defs=variable.defs;return defs.length>0&&defs.every(shouldBeStatically)}__staticCloseRef(ref){if(!this.__resolve(ref)){this.__delegateToUpperScope(ref)}}__dynamicCloseRef(ref){let current=this;do{current.through.push(ref);current=current.upper}while(current)}__globalCloseRef(ref){if(this.__shouldStaticallyCloseForGlobal(ref)){this.__staticCloseRef(ref)}else{this.__dynamicCloseRef(ref)}}__close(scopeManager){let closeRef;if(this.__shouldStaticallyClose(scopeManager)){closeRef=this.__staticCloseRef}else if(this.type!=="global"){closeRef=this.__dynamicCloseRef}else{closeRef=this.__globalCloseRef}for(let i=0,iz=this.__left.length;i<iz;++i){const ref=this.__left[i];closeRef.call(this,ref)}this.__left=null;return this.upper}__isValidResolution(ref,variable){return true}__resolve(ref){const name=ref.identifier.name;if(!this.set.has(name)){return false}const variable=this.set.get(name);if(!this.__isValidResolution(ref,variable)){return false}variable.references.push(ref);variable.stack=variable.stack&&ref.from.variableScope===this.variableScope;if(ref.tainted){variable.tainted=true;this.taints.set(variable.name,true)}ref.resolved=variable;return true}__delegateToUpperScope(ref){if(this.upper){this.upper.__left.push(ref)}this.through.push(ref)}__addDeclaredVariablesOfNode(variable,node){if(node===null||node===undefined){return}let variables=this.__declaredVariables.get(node);if(variables===null||variables===undefined){variables=[];this.__declaredVariables.set(node,variables)}if(variables.indexOf(variable)===-1){variables.push(variable)}}__defineGeneric(name,set,variables,node,def){let variable;variable=set.get(name);if(!variable){variable=new Variable(name,this);set.set(name,variable);variables.push(variable)}if(def){variable.defs.push(def);this.__addDeclaredVariablesOfNode(variable,def.node);this.__addDeclaredVariablesOfNode(variable,def.parent)}if(node){variable.identifiers.push(node)}}__define(node,def){if(node&&node.type===Syntax$2.Identifier){this.__defineGeneric(node.name,this.set,this.variables,node,def)}}__referencing(node,assign,writeExpr,maybeImplicitGlobal,partial,init){if(!node||node.type!==Syntax$2.Identifier){return}if(node.name==="super"){return}const ref=new Reference(node,this,assign||Reference.READ,writeExpr,maybeImplicitGlobal,!!partial,!!init);this.references.push(ref);this.__left.push(ref)}__detectEval(){let current=this;this.directCallToEvalScope=true;do{current.dynamic=true;current=current.upper}while(current)}__detectThis(){this.thisFound=true}__isClosed(){return this.__left===null}resolve(ident){let ref,i,iz;assert__default["default"](this.__isClosed(),"Scope should be closed.");assert__default["default"](ident.type===Syntax$2.Identifier,"Target should be identifier.");for(i=0,iz=this.references.length;i<iz;++i){ref=this.references[i];if(ref.identifier===ident){return ref}}return null}isStatic(){return!this.dynamic}isArgumentsMaterialized(){return true}isThisMaterialized(){return true}isUsedName(name){if(this.set.has(name)){return true}for(let i=0,iz=this.through.length;i<iz;++i){if(this.through[i].identifier.name===name){return true}}return false}}class GlobalScope extends Scope{constructor(scopeManager,block){super(scopeManager,"global",null,block,false);this.implicit={set:new Map,variables:[],left:[]}}__close(scopeManager){const implicit=[];for(let i=0,iz=this.__left.length;i<iz;++i){const ref=this.__left[i];if(ref.__maybeImplicitGlobal&&!this.set.has(ref.identifier.name)){implicit.push(ref.__maybeImplicitGlobal)}}for(let i=0,iz=implicit.length;i<iz;++i){const info=implicit[i];this.__defineImplicit(info.pattern,new Definition(Variable.ImplicitGlobalVariable,info.pattern,info.node,null,null,null))}this.implicit.left=this.__left;return super.__close(scopeManager)}__defineImplicit(node,def){if(node&&node.type===Syntax$2.Identifier){this.__defineGeneric(node.name,this.implicit.set,this.implicit.variables,node,def)}}}class ModuleScope extends Scope{constructor(scopeManager,upperScope,block){super(scopeManager,"module",upperScope,block,false)}}class FunctionExpressionNameScope extends Scope{constructor(scopeManager,upperScope,block){super(scopeManager,"function-expression-name",upperScope,block,false);this.__define(block.id,new Definition(Variable.FunctionName,block.id,block,null,null,null));this.functionExpressionScope=true}}class CatchScope extends Scope{constructor(scopeManager,upperScope,block){super(scopeManager,"catch",upperScope,block,false)}}class WithScope extends Scope{constructor(scopeManager,upperScope,block){super(scopeManager,"with",upperScope,block,false)}__close(scopeManager){if(this.__shouldStaticallyClose(scopeManager)){return super.__close(scopeManager)}for(let i=0,iz=this.__left.length;i<iz;++i){const ref=this.__left[i];ref.tainted=true;this.__delegateToUpperScope(ref)}this.__left=null;return this.upper}}class BlockScope extends Scope{constructor(scopeManager,upperScope,block){super(scopeManager,"block",upperScope,block,false)}}class SwitchScope extends Scope{constructor(scopeManager,upperScope,block){super(scopeManager,"switch",upperScope,block,false)}}class FunctionScope extends Scope{constructor(scopeManager,upperScope,block,isMethodDefinition){super(scopeManager,"function",upperScope,block,isMethodDefinition);if(this.block.type!==Syntax$2.ArrowFunctionExpression){this.__defineArguments()}}isArgumentsMaterialized(){if(this.block.type===Syntax$2.ArrowFunctionExpression){return false}if(!this.isStatic()){return true}const variable=this.set.get("arguments");assert__default["default"](variable,"Always have arguments variable.");return variable.tainted||variable.references.length!==0}isThisMaterialized(){if(!this.isStatic()){return true}return this.thisFound}__defineArguments(){this.__defineGeneric("arguments",this.set,this.variables,null,null);this.taints.set("arguments",true)}__isValidResolution(ref,variable){if(this.block.type==="Program"){return true}const bodyStart=this.block.body.range[0];return!(variable.scope===this&&ref.identifier.range[0]<bodyStart&&variable.defs.every((d=>d.name.range[0]>=bodyStart)))}}class ForScope extends Scope{constructor(scopeManager,upperScope,block){super(scopeManager,"for",upperScope,block,false)}}class ClassScope extends Scope{constructor(scopeManager,upperScope,block){super(scopeManager,"class",upperScope,block,false)}}class ClassFieldInitializerScope extends Scope{constructor(scopeManager,upperScope,block){super(scopeManager,"class-field-initializer",upperScope,block,true)}}class ClassStaticBlockScope extends Scope{constructor(scopeManager,upperScope,block){super(scopeManager,"class-static-block",upperScope,block,true)}}class ScopeManager{constructor(options){this.scopes=[];this.globalScope=null;this.__nodeToScope=new WeakMap;this.__currentScope=null;this.__options=options;this.__declaredVariables=new WeakMap}__useDirective(){return this.__options.directive}__isOptimistic(){return this.__options.optimistic}__ignoreEval(){return this.__options.ignoreEval}__isNodejsScope(){return this.__options.nodejsScope||this.__options.sourceType==="commonjs"}isModule(){return this.__options.sourceType==="module"}isImpliedStrict(){return this.__options.impliedStrict}isStrictModeSupported(){return this.__options.ecmaVersion>=5}__get(node){return this.__nodeToScope.get(node)}getDeclaredVariables(node){return this.__declaredVariables.get(node)||[]}acquire(node,inner){function predicate(testScope){if(testScope.type==="function"&&testScope.functionExpressionScope){return false}return true}const scopes=this.__get(node);if(!scopes||scopes.length===0){return null}if(scopes.length===1){return scopes[0]}if(inner){for(let i=scopes.length-1;i>=0;--i){const scope=scopes[i];if(predicate(scope)){return scope}}}else{for(let i=0,iz=scopes.length;i<iz;++i){const scope=scopes[i];if(predicate(scope)){return scope}}}return null}acquireAll(node){return this.__get(node)}release(node,inner){const scopes=this.__get(node);if(scopes&&scopes.length){const scope=scopes[0].upper;if(!scope){return null}return this.acquire(scope.block,inner)}return null}attach(){}detach(){}__nestScope(scope){if(scope instanceof GlobalScope){assert__default["default"](this.__currentScope===null);this.globalScope=scope}this.__currentScope=scope;return scope}__nestGlobalScope(node){return this.__nestScope(new GlobalScope(this,node))}__nestBlockScope(node){return this.__nestScope(new BlockScope(this,this.__currentScope,node))}__nestFunctionScope(node,isMethodDefinition){return this.__nestScope(new FunctionScope(this,this.__currentScope,node,isMethodDefinition))}__nestForScope(node){return this.__nestScope(new ForScope(this,this.__currentScope,node))}__nestCatchScope(node){return this.__nestScope(new CatchScope(this,this.__currentScope,node))}__nestWithScope(node){return this.__nestScope(new WithScope(this,this.__currentScope,node))}__nestClassScope(node){return this.__nestScope(new ClassScope(this,this.__currentScope,node))}__nestClassFieldInitializerScope(node){return this.__nestScope(new ClassFieldInitializerScope(this,this.__currentScope,node))}__nestClassStaticBlockScope(node){return this.__nestScope(new ClassStaticBlockScope(this,this.__currentScope,node))}__nestSwitchScope(node){return this.__nestScope(new SwitchScope(this,this.__currentScope,node))}__nestModuleScope(node){return this.__nestScope(new ModuleScope(this,this.__currentScope,node))}__nestFunctionExpressionNameScope(node){return this.__nestScope(new FunctionExpressionNameScope(this,this.__currentScope,node))}__isES6(){return this.__options.ecmaVersion>=6}}const{Syntax:Syntax$1}=estraverse__default["default"];function getLast(xs){return xs[xs.length-1]||null}class PatternVisitor extends esrecurse__default["default"].Visitor{static isPattern(node){const nodeType=node.type;return nodeType===Syntax$1.Identifier||nodeType===Syntax$1.ObjectPattern||nodeType===Syntax$1.ArrayPattern||nodeType===Syntax$1.SpreadElement||nodeType===Syntax$1.RestElement||nodeType===Syntax$1.AssignmentPattern}constructor(options,rootPattern,callback){super(null,options);this.rootPattern=rootPattern;this.callback=callback;this.assignments=[];this.rightHandNodes=[];this.restElements=[]}Identifier(pattern){const lastRestElement=getLast(this.restElements);this.callback(pattern,{topLevel:pattern===this.rootPattern,rest:lastRestElement!==null&&lastRestElement!==undefined&&lastRestElement.argument===pattern,assignments:this.assignments})}Property(property){if(property.computed){this.rightHandNodes.push(property.key)}this.visit(property.value)}ArrayPattern(pattern){for(let i=0,iz=pattern.elements.length;i<iz;++i){const element=pattern.elements[i];this.visit(element)}}AssignmentPattern(pattern){this.assignments.push(pattern);this.visit(pattern.left);this.rightHandNodes.push(pattern.right);this.assignments.pop()}RestElement(pattern){this.restElements.push(pattern);this.visit(pattern.argument);this.restElements.pop()}MemberExpression(node){if(node.computed){this.rightHandNodes.push(node.property)}this.rightHandNodes.push(node.object)}SpreadElement(node){this.visit(node.argument)}ArrayExpression(node){node.elements.forEach(this.visit,this)}AssignmentExpression(node){this.assignments.push(node);this.visit(node.left);this.rightHandNodes.push(node.right);this.assignments.pop()}CallExpression(node){node.arguments.forEach((a=>{this.rightHandNodes.push(a)}));this.visit(node.callee)}}const{Syntax:Syntax}=estraverse__default["default"];function traverseIdentifierInPattern(options,rootPattern,referencer,callback){const visitor=new PatternVisitor(options,rootPattern,callback);visitor.visit(rootPattern);if(referencer!==null&&referencer!==undefined){visitor.rightHandNodes.forEach(referencer.visit,referencer)}}class Importer extends esrecurse__default["default"].Visitor{constructor(declaration,referencer){super(null,referencer.options);this.declaration=declaration;this.referencer=referencer}visitImport(id,specifier){this.referencer.visitPattern(id,(pattern=>{this.referencer.currentScope().__define(pattern,new Definition(Variable.ImportBinding,pattern,specifier,this.declaration,null,null))}))}ImportNamespaceSpecifier(node){const local=node.local||node.id;if(local){this.visitImport(local,node)}}ImportDefaultSpecifier(node){const local=node.local||node.id;this.visitImport(local,node)}ImportSpecifier(node){const local=node.local||node.id;if(node.name){this.visitImport(node.name,node)}else{this.visitImport(local,node)}}}class Referencer extends esrecurse__default["default"].Visitor{constructor(options,scopeManager){super(null,options);this.options=options;this.scopeManager=scopeManager;this.parent=null;this.isInnerMethodDefinition=false}currentScope(){return this.scopeManager.__currentScope}close(node){while(this.currentScope()&&node===this.currentScope().block){this.scopeManager.__currentScope=this.currentScope().__close(this.scopeManager)}}pushInnerMethodDefinition(isInnerMethodDefinition){const previous=this.isInnerMethodDefinition;this.isInnerMethodDefinition=isInnerMethodDefinition;return previous}popInnerMethodDefinition(isInnerMethodDefinition){this.isInnerMethodDefinition=isInnerMethodDefinition}referencingDefaultValue(pattern,assignments,maybeImplicitGlobal,init){const scope=this.currentScope();assignments.forEach((assignment=>{scope.__referencing(pattern,Reference.WRITE,assignment.right,maybeImplicitGlobal,pattern!==assignment.left,init)}))}visitPattern(node,options,callback){let visitPatternOptions=options;let visitPatternCallback=callback;if(typeof options==="function"){visitPatternCallback=options;visitPatternOptions={processRightHandNodes:false}}traverseIdentifierInPattern(this.options,node,visitPatternOptions.processRightHandNodes?this:null,visitPatternCallback)}visitFunction(node){let i,iz;if(node.type===Syntax.FunctionDeclaration){this.currentScope().__define(node.id,new Definition(Variable.FunctionName,node.id,node,null,null,null))}if(node.type===Syntax.FunctionExpression&&node.id){this.scopeManager.__nestFunctionExpressionNameScope(node)}this.scopeManager.__nestFunctionScope(node,this.isInnerMethodDefinition);const that=this;function visitPatternCallback(pattern,info){that.currentScope().__define(pattern,new ParameterDefinition(pattern,node,i,info.rest));that.referencingDefaultValue(pattern,info.assignments,null,true)}for(i=0,iz=node.params.length;i<iz;++i){this.visitPattern(node.params[i],{processRightHandNodes:true},visitPatternCallback)}if(node.rest){this.visitPattern({type:"RestElement",argument:node.rest},(pattern=>{this.currentScope().__define(pattern,new ParameterDefinition(pattern,node,node.params.length,true))}))}if(node.body){if(node.body.type===Syntax.BlockStatement){this.visitChildren(node.body)}else{this.visit(node.body)}}this.close(node)}visitClass(node){if(node.type===Syntax.ClassDeclaration){this.currentScope().__define(node.id,new Definition(Variable.ClassName,node.id,node,null,null,null))}this.visit(node.superClass);this.scopeManager.__nestClassScope(node);if(node.id){this.currentScope().__define(node.id,new Definition(Variable.ClassName,node.id,node))}this.visit(node.body);this.close(node)}visitProperty(node){let previous;if(node.computed){this.visit(node.key)}const isMethodDefinition=node.type===Syntax.MethodDefinition;if(isMethodDefinition){previous=this.pushInnerMethodDefinition(true)}this.visit(node.value);if(isMethodDefinition){this.popInnerMethodDefinition(previous)}}visitForIn(node){if(node.left.type===Syntax.VariableDeclaration&&node.left.kind!=="var"){this.scopeManager.__nestForScope(node)}if(node.left.type===Syntax.VariableDeclaration){this.visit(node.left);this.visitPattern(node.left.declarations[0].id,(pattern=>{this.currentScope().__referencing(pattern,Reference.WRITE,node.right,null,true,true)}))}else{this.visitPattern(node.left,{processRightHandNodes:true},((pattern,info)=>{let maybeImplicitGlobal=null;if(!this.currentScope().isStrict){maybeImplicitGlobal={pattern:pattern,node:node}}this.referencingDefaultValue(pattern,info.assignments,maybeImplicitGlobal,false);this.currentScope().__referencing(pattern,Reference.WRITE,node.right,maybeImplicitGlobal,true,false)}))}this.visit(node.right);this.visit(node.body);this.close(node)}visitVariableDeclaration(variableTargetScope,type,node,index){const decl=node.declarations[index];const init=decl.init;this.visitPattern(decl.id,{processRightHandNodes:true},((pattern,info)=>{variableTargetScope.__define(pattern,new Definition(type,pattern,decl,node,index,node.kind));this.referencingDefaultValue(pattern,info.assignments,null,true);if(init){this.currentScope().__referencing(pattern,Reference.WRITE,init,null,!info.topLevel,true)}}))}AssignmentExpression(node){if(PatternVisitor.isPattern(node.left)){if(node.operator==="="){this.visitPattern(node.left,{processRightHandNodes:true},((pattern,info)=>{let maybeImplicitGlobal=null;if(!this.currentScope().isStrict){maybeImplicitGlobal={pattern:pattern,node:node}}this.referencingDefaultValue(pattern,info.assignments,maybeImplicitGlobal,false);this.currentScope().__referencing(pattern,Reference.WRITE,node.right,maybeImplicitGlobal,!info.topLevel,false)}))}else{this.currentScope().__referencing(node.left,Reference.RW,node.right)}}else{this.visit(node.left)}this.visit(node.right)}CatchClause(node){this.scopeManager.__nestCatchScope(node);this.visitPattern(node.param,{processRightHandNodes:true},((pattern,info)=>{this.currentScope().__define(pattern,new Definition(Variable.CatchClause,node.param,node,null,null,null));this.referencingDefaultValue(pattern,info.assignments,null,true)}));this.visit(node.body);this.close(node)}Program(node){this.scopeManager.__nestGlobalScope(node);if(this.scopeManager.__isNodejsScope()){this.currentScope().isStrict=false;this.scopeManager.__nestFunctionScope(node,false)}if(this.scopeManager.__isES6()&&this.scopeManager.isModule()){this.scopeManager.__nestModuleScope(node)}if(this.scopeManager.isStrictModeSupported()&&this.scopeManager.isImpliedStrict()){this.currentScope().isStrict=true}this.visitChildren(node);this.close(node)}Identifier(node){this.currentScope().__referencing(node)}PrivateIdentifier(){}UpdateExpression(node){if(PatternVisitor.isPattern(node.argument)){this.currentScope().__referencing(node.argument,Reference.RW,null)}else{this.visitChildren(node)}}MemberExpression(node){this.visit(node.object);if(node.computed){this.visit(node.property)}}Property(node){this.visitProperty(node)}PropertyDefinition(node){const{computed:computed,key:key,value:value}=node;if(computed){this.visit(key)}if(value){this.scopeManager.__nestClassFieldInitializerScope(value);this.visit(value);this.close(value)}}StaticBlock(node){this.scopeManager.__nestClassStaticBlockScope(node);this.visitChildren(node);this.close(node)}MethodDefinition(node){this.visitProperty(node)}BreakStatement(){}ContinueStatement(){}LabeledStatement(node){this.visit(node.body)}ForStatement(node){if(node.init&&node.init.type===Syntax.VariableDeclaration&&node.init.kind!=="var"){this.scopeManager.__nestForScope(node)}this.visitChildren(node);this.close(node)}ClassExpression(node){this.visitClass(node)}ClassDeclaration(node){this.visitClass(node)}CallExpression(node){if(!this.scopeManager.__ignoreEval()&&node.callee.type===Syntax.Identifier&&node.callee.name==="eval"){this.currentScope().variableScope.__detectEval()}this.visitChildren(node)}BlockStatement(node){if(this.scopeManager.__isES6()){this.scopeManager.__nestBlockScope(node)}this.visitChildren(node);this.close(node)}ThisExpression(){this.currentScope().variableScope.__detectThis()}WithStatement(node){this.visit(node.object);this.scopeManager.__nestWithScope(node);this.visit(node.body);this.close(node)}VariableDeclaration(node){const variableTargetScope=node.kind==="var"?this.currentScope().variableScope:this.currentScope();for(let i=0,iz=node.declarations.length;i<iz;++i){const decl=node.declarations[i];this.visitVariableDeclaration(variableTargetScope,Variable.Variable,node,i);if(decl.init){this.visit(decl.init)}}}SwitchStatement(node){this.visit(node.discriminant);if(this.scopeManager.__isES6()){this.scopeManager.__nestSwitchScope(node)}for(let i=0,iz=node.cases.length;i<iz;++i){this.visit(node.cases[i])}this.close(node)}FunctionDeclaration(node){this.visitFunction(node)}FunctionExpression(node){this.visitFunction(node)}ForOfStatement(node){this.visitForIn(node)}ForInStatement(node){this.visitForIn(node)}ArrowFunctionExpression(node){this.visitFunction(node)}ImportDeclaration(node){assert__default["default"](this.scopeManager.__isES6()&&this.scopeManager.isModule(),"ImportDeclaration should appear when the mode is ES6 and in the module context.");const importer=new Importer(node,this);importer.visit(node)}visitExportDeclaration(node){if(node.source){return}if(node.declaration){this.visit(node.declaration);return}this.visitChildren(node)}ExportDeclaration(node){this.visitExportDeclaration(node)}ExportAllDeclaration(node){this.visitExportDeclaration(node)}ExportDefaultDeclaration(node){this.visitExportDeclaration(node)}ExportNamedDeclaration(node){this.visitExportDeclaration(node)}ExportSpecifier(node){const local=node.id||node.local;this.visit(local)}MetaProperty(){}}const version="7.1.1";function defaultOptions(){return{optimistic:false,directive:false,nodejsScope:false,impliedStrict:false,sourceType:"script",ecmaVersion:5,childVisitorKeys:null,fallback:"iteration"}}function updateDeeply(target,override){function isHashObject(value){return typeof value==="object"&&value instanceof Object&&!(value instanceof Array)&&!(value instanceof RegExp)}for(const key in override){if(Object.prototype.hasOwnProperty.call(override,key)){const val=override[key];if(isHashObject(val)){if(isHashObject(target[key])){updateDeeply(target[key],val)}else{target[key]=updateDeeply({},val)}}else{target[key]=val}}}return target}function analyze(tree,providedOptions){const options=updateDeeply(defaultOptions(),providedOptions);const scopeManager=new ScopeManager(options);const referencer=new Referencer(options,scopeManager);referencer.visit(tree);assert__default["default"](scopeManager.__currentScope===null,"currentScope should be null.");return scopeManager}eslintScope.Definition=Definition;eslintScope.PatternVisitor=PatternVisitor;eslintScope.Reference=Reference;eslintScope.Referencer=Referencer;eslintScope.Scope=Scope;eslintScope.ScopeManager=ScopeManager;eslintScope.Variable=Variable;eslintScope.analyze=analyze;eslintScope.version=version;return eslintScope}var eslintVisitorKeys={};var hasRequiredEslintVisitorKeys;function requireEslintVisitorKeys(){if(hasRequiredEslintVisitorKeys)return eslintVisitorKeys;hasRequiredEslintVisitorKeys=1;Object.defineProperty(eslintVisitorKeys,"__esModule",{value:true});const KEYS={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["exported","source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ExperimentalRestProperty:["argument"],ExperimentalSpreadProperty:["argument"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportExpression:["source"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],JSXAttribute:["name","value"],JSXClosingElement:["name"],JSXElement:["openingElement","children","closingElement"],JSXEmptyExpression:[],JSXExpressionContainer:["expression"],JSXIdentifier:[],JSXMemberExpression:["object","property"],JSXNamespacedName:["namespace","name"],JSXOpeningElement:["name","attributes"],JSXSpreadAttribute:["argument"],JSXText:[],JSXFragment:["openingFragment","children","closingFragment"],JSXClosingFragment:[],JSXOpeningFragment:[],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],StaticBlock:["body"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]};const NODE_TYPES=Object.keys(KEYS);for(const type of NODE_TYPES){Object.freeze(KEYS[type])}Object.freeze(KEYS);const KEY_BLACKLIST=new Set(["parent","leadingComments","trailingComments"]);function filterKey(key){return!KEY_BLACKLIST.has(key)&&key[0]!=="_"}function getKeys(node){return Object.keys(node).filter(filterKey)}function unionWith(additionalKeys){const retv=Object.assign({},KEYS);for(const type of Object.keys(additionalKeys)){if(Object.prototype.hasOwnProperty.call(retv,type)){const keys=new Set(additionalKeys[type]);for(const key of retv[type]){keys.add(key)}retv[type]=Object.freeze(Array.from(keys))}else{retv[type]=Object.freeze(Array.from(additionalKeys[type]))}}return Object.freeze(retv)}eslintVisitorKeys.KEYS=KEYS;eslintVisitorKeys.getKeys=getKeys;eslintVisitorKeys.unionWith=unionWith;return eslintVisitorKeys}var espree={};var acorn={exports:{}};var hasRequiredAcorn;function requireAcorn(){if(hasRequiredAcorn)return acorn.exports;hasRequiredAcorn=1;(function(module,exports){(function(global,factory){factory(exports)})(this,(function(exports){var astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239];var astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938];var nonASCIIidentifierChars="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿";var nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ";var reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"};var ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this";var keywords$1={5:ecma5AndLessKeywords,"5module":ecma5AndLessKeywords+" export import",6:ecma5AndLessKeywords+" const class extends export import super"};var keywordRelationalOperator=/^in(stanceof)?$/;var nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]");var nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");function isInAstralSet(code,set){var pos=65536;for(var i=0;i<set.length;i+=2){pos+=set[i];if(pos>code){return false}pos+=set[i+1];if(pos>=code){return true}}}function isIdentifierStart(code,astral){if(code<65){return code===36}if(code<91){return true}if(code<97){return code===95}if(code<123){return true}if(code<=65535){return code>=170&&nonASCIIidentifierStart.test(String.fromCharCode(code))}if(astral===false){return false}return isInAstralSet(code,astralIdentifierStartCodes)}function isIdentifierChar(code,astral){if(code<48){return code===36}if(code<58){return true}if(code<65){return false}if(code<91){return true}if(code<97){return code===95}if(code<123){return true}if(code<=65535){return code>=170&&nonASCIIidentifier.test(String.fromCharCode(code))}if(astral===false){return false}return isInAstralSet(code,astralIdentifierStartCodes)||isInAstralSet(code,astralIdentifierCodes)}var TokenType=function TokenType(label,conf){if(conf===void 0)conf={};this.label=label;this.keyword=conf.keyword;this.beforeExpr=!!conf.beforeExpr;this.startsExpr=!!conf.startsExpr;this.isLoop=!!conf.isLoop;this.isAssign=!!conf.isAssign;this.prefix=!!conf.prefix;this.postfix=!!conf.postfix;this.binop=conf.binop||null;this.updateContext=null};function binop(name,prec){return new TokenType(name,{beforeExpr:true,binop:prec})}var beforeExpr={beforeExpr:true},startsExpr={startsExpr:true};var keywords={};function kw(name,options){if(options===void 0)options={};options.keyword=name;return keywords[name]=new TokenType(name,options)}var types$1={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),privateId:new TokenType("privateId",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:true,startsExpr:true}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:true,startsExpr:true}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:true,startsExpr:true}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),questionDot:new TokenType("?."),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),invalidTemplate:new TokenType("invalidTemplate"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:true,startsExpr:true}),eq:new TokenType("=",{beforeExpr:true,isAssign:true}),assign:new TokenType("_=",{beforeExpr:true,isAssign:true}),incDec:new TokenType("++/--",{prefix:true,postfix:true,startsExpr:true}),prefix:new TokenType("!/~",{beforeExpr:true,prefix:true,startsExpr:true}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=/===/!==",6),relational:binop("</>/<=/>=",7),bitShift:binop("<</>>/>>>",8),plusMin:new TokenType("+/-",{beforeExpr:true,binop:9,prefix:true,startsExpr:true}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:true}),coalesce:binop("??",1),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:true,beforeExpr:true}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:true}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:true}),_with:kw("with"),_new:kw("new",{beforeExpr:true,startsExpr:true}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class",startsExpr),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import",startsExpr),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:true,binop:7}),_instanceof:kw("instanceof",{beforeExpr:true,binop:7}),_typeof:kw("typeof",{beforeExpr:true,prefix:true,startsExpr:true}),_void:kw("void",{beforeExpr:true,prefix:true,startsExpr:true}),_delete:kw("delete",{beforeExpr:true,prefix:true,startsExpr:true})};var lineBreak=/\r\n?|\n|\u2028|\u2029/;var lineBreakG=new RegExp(lineBreak.source,"g");function isNewLine(code){return code===10||code===13||code===8232||code===8233}function nextLineBreak(code,from,end){if(end===void 0)end=code.length;for(var i=from;i<end;i++){var next=code.charCodeAt(i);if(isNewLine(next)){return i<end-1&&next===13&&code.charCodeAt(i+1)===10?i+2:i+1}}return-1}var nonASCIIwhitespace=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/;var skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g;var ref=Object.prototype;var hasOwnProperty=ref.hasOwnProperty;var toString=ref.toString;var hasOwn=Object.hasOwn||function(obj,propName){return hasOwnProperty.call(obj,propName)};var isArray=Array.isArray||function(obj){return toString.call(obj)==="[object Array]"};function wordsRegexp(words){return new RegExp("^(?:"+words.replace(/ /g,"|")+")$")}function codePointToString(code){if(code<=65535){return String.fromCharCode(code)}code-=65536;return String.fromCharCode((code>>10)+55296,(code&1023)+56320)}var loneSurrogate=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/;var Position=function Position(line,col){this.line=line;this.column=col};Position.prototype.offset=function offset(n){return new Position(this.line,this.column+n)};var SourceLocation=function SourceLocation(p,start,end){this.start=start;this.end=end;if(p.sourceFile!==null){this.source=p.sourceFile}};function getLineInfo(input,offset){for(var line=1,cur=0;;){var nextBreak=nextLineBreak(input,cur,offset);if(nextBreak<0){return new Position(line,offset-cur)}++line;cur=nextBreak}}var defaultOptions={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:false,allowImportExportEverywhere:false,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:false,locations:false,onToken:null,onComment:null,ranges:false,program:null,sourceFile:null,directSourceFile:null,preserveParens:false};var warnedAboutEcmaVersion=false;function getOptions(opts){var options={};for(var opt in defaultOptions){options[opt]=opts&&hasOwn(opts,opt)?opts[opt]:defaultOptions[opt]}if(options.ecmaVersion==="latest"){options.ecmaVersion=1e8}else if(options.ecmaVersion==null){if(!warnedAboutEcmaVersion&&typeof console==="object"&&console.warn){warnedAboutEcmaVersion=true;console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")}options.ecmaVersion=11}else if(options.ecmaVersion>=2015){options.ecmaVersion-=2009}if(options.allowReserved==null){options.allowReserved=options.ecmaVersion<5}if(opts.allowHashBang==null){options.allowHashBang=options.ecmaVersion>=14}if(isArray(options.onToken)){var tokens=options.onToken;options.onToken=function(token){return tokens.push(token)}}if(isArray(options.onComment)){options.onComment=pushComment(options,options.onComment)}return options}function pushComment(options,array){return function(block,text,start,end,startLoc,endLoc){var comment={type:block?"Block":"Line",value:text,start:start,end:end};if(options.locations){comment.loc=new SourceLocation(this,startLoc,endLoc)}if(options.ranges){comment.range=[start,end]}array.push(comment)}}var SCOPE_TOP=1,SCOPE_FUNCTION=2,SCOPE_ASYNC=4,SCOPE_GENERATOR=8,SCOPE_ARROW=16,SCOPE_SIMPLE_CATCH=32,SCOPE_SUPER=64,SCOPE_DIRECT_SUPER=128,SCOPE_CLASS_STATIC_BLOCK=256,SCOPE_VAR=SCOPE_TOP|SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK;function functionFlags(async,generator){return SCOPE_FUNCTION|(async?SCOPE_ASYNC:0)|(generator?SCOPE_GENERATOR:0)}var BIND_NONE=0,BIND_VAR=1,BIND_LEXICAL=2,BIND_FUNCTION=3,BIND_SIMPLE_CATCH=4,BIND_OUTSIDE=5;var Parser=function Parser(options,input,startPos){this.options=options=getOptions(options);this.sourceFile=options.sourceFile;this.keywords=wordsRegexp(keywords$1[options.ecmaVersion>=6?6:options.sourceType==="module"?"5module":5]);var reserved="";if(options.allowReserved!==true){reserved=reservedWords[options.ecmaVersion>=6?6:options.ecmaVersion===5?5:3];if(options.sourceType==="module"){reserved+=" await"}}this.reservedWords=wordsRegexp(reserved);var reservedStrict=(reserved?reserved+" ":"")+reservedWords.strict;this.reservedWordsStrict=wordsRegexp(reservedStrict);this.reservedWordsStrictBind=wordsRegexp(reservedStrict+" "+reservedWords.strictBind);this.input=String(input);this.containsEsc=false;if(startPos){this.pos=startPos;this.lineStart=this.input.lastIndexOf("\n",startPos-1)+1;this.curLine=this.input.slice(0,this.lineStart).split(lineBreak).length}else{this.pos=this.lineStart=0;this.curLine=1}this.type=types$1.eof;this.value=null;this.start=this.end=this.pos;this.startLoc=this.endLoc=this.curPosition();this.lastTokEndLoc=this.lastTokStartLoc=null;this.lastTokStart=this.lastTokEnd=this.pos;this.context=this.initialContext();this.exprAllowed=true;this.inModule=options.sourceType==="module";this.strict=this.inModule||this.strictDirective(this.pos);this.potentialArrowAt=-1;this.potentialArrowInForAwait=false;this.yieldPos=this.awaitPos=this.awaitIdentPos=0;this.labels=[];this.undefinedExports=Object.create(null);if(this.pos===0&&options.allowHashBang&&this.input.slice(0,2)==="#!"){this.skipLineComment(2)}this.scopeStack=[];this.enterScope(SCOPE_TOP);this.regexpState=null;this.privateNameStack=[]};var prototypeAccessors={inFunction:{configurable:true},inGenerator:{configurable:true},inAsync:{configurable:true},canAwait:{configurable:true},allowSuper:{configurable:true},allowDirectSuper:{configurable:true},treatFunctionsAsVar:{configurable:true},allowNewDotTarget:{configurable:true},inClassStaticBlock:{configurable:true}};Parser.prototype.parse=function parse(){var node=this.options.program||this.startNode();this.nextToken();return this.parseTopLevel(node)};prototypeAccessors.inFunction.get=function(){return(this.currentVarScope().flags&SCOPE_FUNCTION)>0};prototypeAccessors.inGenerator.get=function(){return(this.currentVarScope().flags&SCOPE_GENERATOR)>0&&!this.currentVarScope().inClassFieldInit};prototypeAccessors.inAsync.get=function(){return(this.currentVarScope().flags&SCOPE_ASYNC)>0&&!this.currentVarScope().inClassFieldInit};prototypeAccessors.canAwait.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var scope=this.scopeStack[i];if(scope.inClassFieldInit||scope.flags&SCOPE_CLASS_STATIC_BLOCK){return false}if(scope.flags&SCOPE_FUNCTION){return(scope.flags&SCOPE_ASYNC)>0}}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};prototypeAccessors.allowSuper.get=function(){var ref=this.currentThisScope();var flags=ref.flags;var inClassFieldInit=ref.inClassFieldInit;return(flags&SCOPE_SUPER)>0||inClassFieldInit||this.options.allowSuperOutsideMethod};prototypeAccessors.allowDirectSuper.get=function(){return(this.currentThisScope().flags&SCOPE_DIRECT_SUPER)>0};prototypeAccessors.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};prototypeAccessors.allowNewDotTarget.get=function(){var ref=this.currentThisScope();var flags=ref.flags;var inClassFieldInit=ref.inClassFieldInit;return(flags&(SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK))>0||inClassFieldInit};prototypeAccessors.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&SCOPE_CLASS_STATIC_BLOCK)>0};Parser.extend=function extend(){var plugins=[],len=arguments.length;while(len--)plugins[len]=arguments[len];var cls=this;for(var i=0;i<plugins.length;i++){cls=plugins[i](cls)}return cls};Parser.parse=function parse(input,options){return new this(options,input).parse()};Parser.parseExpressionAt=function parseExpressionAt(input,pos,options){var parser=new this(options,input,pos);parser.nextToken();return parser.parseExpression()};Parser.tokenizer=function tokenizer(input,options){return new this(options,input)};Object.defineProperties(Parser.prototype,prototypeAccessors);var pp$9=Parser.prototype;var literal=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;pp$9.strictDirective=function(start){if(this.options.ecmaVersion<5){return false}for(;;){skipWhiteSpace.lastIndex=start;start+=skipWhiteSpace.exec(this.input)[0].length;var match=literal.exec(this.input.slice(start));if(!match){return false}if((match[1]||match[2])==="use strict"){skipWhiteSpace.lastIndex=start+match[0].length;var spaceAfter=skipWhiteSpace.exec(this.input),end=spaceAfter.index+spaceAfter[0].length;var next=this.input.charAt(end);return next===";"||next==="}"||lineBreak.test(spaceAfter[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(next)||next==="!"&&this.input.charAt(end+1)==="=")}start+=match[0].length;skipWhiteSpace.lastIndex=start;start+=skipWhiteSpace.exec(this.input)[0].length;if(this.input[start]===";"){start++}}};pp$9.eat=function(type){if(this.type===type){this.next();return true}else{return false}};pp$9.isContextual=function(name){return this.type===types$1.name&&this.value===name&&!this.containsEsc};pp$9.eatContextual=function(name){if(!this.isContextual(name)){return false}this.next();return true};pp$9.expectContextual=function(name){if(!this.eatContextual(name)){this.unexpected()}};pp$9.canInsertSemicolon=function(){return this.type===types$1.eof||this.type===types$1.braceR||lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp$9.insertSemicolon=function(){if(this.canInsertSemicolon()){if(this.options.onInsertedSemicolon){this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc)}return true}};pp$9.semicolon=function(){if(!this.eat(types$1.semi)&&!this.insertSemicolon()){this.unexpected()}};pp$9.afterTrailingComma=function(tokType,notNext){if(this.type===tokType){if(this.options.onTrailingComma){this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc)}if(!notNext){this.next()}return true}};pp$9.expect=function(type){this.eat(type)||this.unexpected()};pp$9.unexpected=function(pos){this.raise(pos!=null?pos:this.start,"Unexpected token")};var DestructuringErrors=function DestructuringErrors(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};pp$9.checkPatternErrors=function(refDestructuringErrors,isAssign){if(!refDestructuringErrors){return}if(refDestructuringErrors.trailingComma>-1){this.raiseRecoverable(refDestructuringErrors.trailingComma,"Comma is not permitted after the rest element")}var parens=isAssign?refDestructuringErrors.parenthesizedAssign:refDestructuringErrors.parenthesizedBind;if(parens>-1){this.raiseRecoverable(parens,isAssign?"Assigning to rvalue":"Parenthesized pattern")}};pp$9.checkExpressionErrors=function(refDestructuringErrors,andThrow){if(!refDestructuringErrors){return false}var shorthandAssign=refDestructuringErrors.shorthandAssign;var doubleProto=refDestructuringErrors.doubleProto;if(!andThrow){return shorthandAssign>=0||doubleProto>=0}if(shorthandAssign>=0){this.raise(shorthandAssign,"Shorthand property assignments are valid only in destructuring patterns")}if(doubleProto>=0){this.raiseRecoverable(doubleProto,"Redefinition of __proto__ property")}};pp$9.checkYieldAwaitInDefaultParams=function(){if(this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)){this.raise(this.yieldPos,"Yield expression cannot be a default value")}if(this.awaitPos){this.raise(this.awaitPos,"Await expression cannot be a default value")}};pp$9.isSimpleAssignTarget=function(expr){if(expr.type==="ParenthesizedExpression"){return this.isSimpleAssignTarget(expr.expression)}return expr.type==="Identifier"||expr.type==="MemberExpression"};var pp$8=Parser.prototype;pp$8.parseTopLevel=function(node){var exports=Object.create(null);if(!node.body){node.body=[]}while(this.type!==types$1.eof){var stmt=this.parseStatement(null,true,exports);node.body.push(stmt)}if(this.inModule){for(var i=0,list=Object.keys(this.undefinedExports);i<list.length;i+=1){var name=list[i];this.raiseRecoverable(this.undefinedExports[name].start,"Export '"+name+"' is not defined")}}this.adaptDirectivePrologue(node.body);this.next();node.sourceType=this.options.sourceType;return this.finishNode(node,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$8.isLet=function(context){if(this.options.ecmaVersion<6||!this.isContextual("let")){return false}skipWhiteSpace.lastIndex=this.pos;var skip=skipWhiteSpace.exec(this.input);var next=this.pos+skip[0].length,nextCh=this.input.charCodeAt(next);if(nextCh===91||nextCh===92||nextCh>55295&&nextCh<56320){return true}if(context){return false}if(nextCh===123){return true}if(isIdentifierStart(nextCh,true)){var pos=next+1;while(isIdentifierChar(nextCh=this.input.charCodeAt(pos),true)){++pos}if(nextCh===92||nextCh>55295&&nextCh<56320){return true}var ident=this.input.slice(next,pos);if(!keywordRelationalOperator.test(ident)){return true}}return false};pp$8.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async")){return false}skipWhiteSpace.lastIndex=this.pos;var skip=skipWhiteSpace.exec(this.input);var next=this.pos+skip[0].length,after;return!lineBreak.test(this.input.slice(this.pos,next))&&this.input.slice(next,next+8)==="function"&&(next+8===this.input.length||!(isIdentifierChar(after=this.input.charCodeAt(next+8))||after>55295&&after<56320))};pp$8.parseStatement=function(context,topLevel,exports){var starttype=this.type,node=this.startNode(),kind;if(this.isLet(context)){starttype=types$1._var;kind="let"}switch(starttype){case types$1._break:case types$1._continue:return this.parseBreakContinueStatement(node,starttype.keyword);case types$1._debugger:return this.parseDebuggerStatement(node);case types$1._do:return this.parseDoStatement(node);case types$1._for:return this.parseForStatement(node);case types$1._function:if(context&&(this.strict||context!=="if"&&context!=="label")&&this.options.ecmaVersion>=6){this.unexpected()}return this.parseFunctionStatement(node,false,!context);case types$1._class:if(context){this.unexpected()}return this.parseClass(node,true);case types$1._if:return this.parseIfStatement(node);case types$1._return:return this.parseReturnStatement(node);case types$1._switch:return this.parseSwitchStatement(node);case types$1._throw:return this.parseThrowStatement(node);case types$1._try:return this.parseTryStatement(node);case types$1._const:case types$1._var:kind=kind||this.value;if(context&&kind!=="var"){this.unexpected()}return this.parseVarStatement(node,kind);case types$1._while:return this.parseWhileStatement(node);case types$1._with:return this.parseWithStatement(node);case types$1.braceL:return this.parseBlock(true,node);case types$1.semi:return this.parseEmptyStatement(node);case types$1._export:case types$1._import:if(this.options.ecmaVersion>10&&starttype===types$1._import){skipWhiteSpace.lastIndex=this.pos;var skip=skipWhiteSpace.exec(this.input);var next=this.pos+skip[0].length,nextCh=this.input.charCodeAt(next);if(nextCh===40||nextCh===46){return this.parseExpressionStatement(node,this.parseExpression())}}if(!this.options.allowImportExportEverywhere){if(!topLevel){this.raise(this.start,"'import' and 'export' may only appear at the top level")}if(!this.inModule){this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")}}return starttype===types$1._import?this.parseImport(node):this.parseExport(node,exports);default:if(this.isAsyncFunction()){if(context){this.unexpected()}this.next();return this.parseFunctionStatement(node,true,!context)}var maybeName=this.value,expr=this.parseExpression();if(starttype===types$1.name&&expr.type==="Identifier"&&this.eat(types$1.colon)){return this.parseLabeledStatement(node,maybeName,expr,context)}else{return this.parseExpressionStatement(node,expr)}}};pp$8.parseBreakContinueStatement=function(node,keyword){var isBreak=keyword==="break";this.next();if(this.eat(types$1.semi)||this.insertSemicolon()){node.label=null}else if(this.type!==types$1.name){this.unexpected()}else{node.label=this.parseIdent();this.semicolon()}var i=0;for(;i<this.labels.length;++i){var lab=this.labels[i];if(node.label==null||lab.name===node.label.name){if(lab.kind!=null&&(isBreak||lab.kind==="loop")){break}if(node.label&&isBreak){break}}}if(i===this.labels.length){this.raise(node.start,"Unsyntactic "+keyword)}return this.finishNode(node,isBreak?"BreakStatement":"ContinueStatement")};pp$8.parseDebuggerStatement=function(node){this.next();this.semicolon();return this.finishNode(node,"DebuggerStatement")};pp$8.parseDoStatement=function(node){this.next();this.labels.push(loopLabel);node.body=this.parseStatement("do");this.labels.pop();this.expect(types$1._while);node.test=this.parseParenExpression();if(this.options.ecmaVersion>=6){this.eat(types$1.semi)}else{this.semicolon()}return this.finishNode(node,"DoWhileStatement")};pp$8.parseForStatement=function(node){this.next();var awaitAt=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;this.labels.push(loopLabel);this.enterScope(0);this.expect(types$1.parenL);if(this.type===types$1.semi){if(awaitAt>-1){this.unexpected(awaitAt)}return this.parseFor(node,null)}var isLet=this.isLet();if(this.type===types$1._var||this.type===types$1._const||isLet){var init$1=this.startNode(),kind=isLet?"let":this.value;this.next();this.parseVar(init$1,true,kind);this.finishNode(init$1,"VariableDeclaration");if((this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&init$1.declarations.length===1){if(this.options.ecmaVersion>=9){if(this.type===types$1._in){if(awaitAt>-1){this.unexpected(awaitAt)}}else{node.await=awaitAt>-1}}return this.parseForIn(node,init$1)}if(awaitAt>-1){this.unexpected(awaitAt)}return this.parseFor(node,init$1)}var startsWithLet=this.isContextual("let"),isForOf=false;var refDestructuringErrors=new DestructuringErrors;var init=this.parseExpression(awaitAt>-1?"await":true,refDestructuringErrors);if(this.type===types$1._in||(isForOf=this.options.ecmaVersion>=6&&this.isContextual("of"))){if(this.options.ecmaVersion>=9){if(this.type===types$1._in){if(awaitAt>-1){this.unexpected(awaitAt)}}else{node.await=awaitAt>-1}}if(startsWithLet&&isForOf){this.raise(init.start,"The left-hand side of a for-of loop may not start with 'let'.")}this.toAssignable(init,false,refDestructuringErrors);this.checkLValPattern(init);return this.parseForIn(node,init)}else{this.checkExpressionErrors(refDestructuringErrors,true)}if(awaitAt>-1){this.unexpected(awaitAt)}return this.parseFor(node,init)};pp$8.parseFunctionStatement=function(node,isAsync,declarationPosition){this.next();return this.parseFunction(node,FUNC_STATEMENT|(declarationPosition?0:FUNC_HANGING_STATEMENT),false,isAsync)};pp$8.parseIfStatement=function(node){this.next();node.test=this.parseParenExpression();node.consequent=this.parseStatement("if");node.alternate=this.eat(types$1._else)?this.parseStatement("if"):null;return this.finishNode(node,"IfStatement")};pp$8.parseReturnStatement=function(node){if(!this.inFunction&&!this.options.allowReturnOutsideFunction){this.raise(this.start,"'return' outside of function")}this.next();if(this.eat(types$1.semi)||this.insertSemicolon()){node.argument=null}else{node.argument=this.parseExpression();this.semicolon()}return this.finishNode(node,"ReturnStatement")};pp$8.parseSwitchStatement=function(node){this.next();node.discriminant=this.parseParenExpression();node.cases=[];this.expect(types$1.braceL);this.labels.push(switchLabel);this.enterScope(0);var cur;for(var sawDefault=false;this.type!==types$1.braceR;){if(this.type===types$1._case||this.type===types$1._default){var isCase=this.type===types$1._case;if(cur){this.finishNode(cur,"SwitchCase")}node.cases.push(cur=this.startNode());cur.consequent=[];this.next();if(isCase){cur.test=this.parseExpression()}else{if(sawDefault){this.raiseRecoverable(this.lastTokStart,"Multiple default clauses")}sawDefault=true;cur.test=null}this.expect(types$1.colon)}else{if(!cur){this.unexpected()}cur.consequent.push(this.parseStatement(null))}}this.exitScope();if(cur){this.finishNode(cur,"SwitchCase")}this.next();this.labels.pop();return this.finishNode(node,"SwitchStatement")};pp$8.parseThrowStatement=function(node){this.next();if(lineBreak.test(this.input.slice(this.lastTokEnd,this.start))){this.raise(this.lastTokEnd,"Illegal newline after throw")}node.argument=this.parseExpression();this.semicolon();return this.finishNode(node,"ThrowStatement")};var empty$1=[];pp$8.parseTryStatement=function(node){this.next();node.block=this.parseBlock();node.handler=null;if(this.type===types$1._catch){var clause=this.startNode();this.next();if(this.eat(types$1.parenL)){clause.param=this.parseBindingAtom();var simple=clause.param.type==="Identifier";this.enterScope(simple?SCOPE_SIMPLE_CATCH:0);this.checkLValPattern(clause.param,simple?BIND_SIMPLE_CATCH:BIND_LEXICAL);this.expect(types$1.parenR)}else{if(this.options.ecmaVersion<10){this.unexpected()}clause.param=null;this.enterScope(0)}clause.body=this.parseBlock(false);this.exitScope();node.handler=this.finishNode(clause,"CatchClause")}node.finalizer=this.eat(types$1._finally)?this.parseBlock():null;if(!node.handler&&!node.finalizer){this.raise(node.start,"Missing catch or finally clause")}return this.finishNode(node,"TryStatement")};pp$8.parseVarStatement=function(node,kind){this.next();this.parseVar(node,false,kind);this.semicolon();return this.finishNode(node,"VariableDeclaration")};pp$8.parseWhileStatement=function(node){this.next();node.test=this.parseParenExpression();this.labels.push(loopLabel);node.body=this.parseStatement("while");this.labels.pop();return this.finishNode(node,"WhileStatement")};pp$8.parseWithStatement=function(node){if(this.strict){this.raise(this.start,"'with' in strict mode")}this.next();node.object=this.parseParenExpression();node.body=this.parseStatement("with");return this.finishNode(node,"WithStatement")};pp$8.parseEmptyStatement=function(node){this.next();return this.finishNode(node,"EmptyStatement")};pp$8.parseLabeledStatement=function(node,maybeName,expr,context){for(var i$1=0,list=this.labels;i$1<list.length;i$1+=1){var label=list[i$1];if(label.name===maybeName){this.raise(expr.start,"Label '"+maybeName+"' is already declared")}}var kind=this.type.isLoop?"loop":this.type===types$1._switch?"switch":null;for(var i=this.labels.length-1;i>=0;i--){var label$1=this.labels[i];if(label$1.statementStart===node.start){label$1.statementStart=this.start;label$1.kind=kind}else{break}}this.labels.push({name:maybeName,kind:kind,statementStart:this.start});node.body=this.parseStatement(context?context.indexOf("label")===-1?context+"label":context:"label");this.labels.pop();node.label=expr;return this.finishNode(node,"LabeledStatement")};pp$8.parseExpressionStatement=function(node,expr){node.expression=expr;this.semicolon();return this.finishNode(node,"ExpressionStatement")};pp$8.parseBlock=function(createNewLexicalScope,node,exitStrict){if(createNewLexicalScope===void 0)createNewLexicalScope=true;if(node===void 0)node=this.startNode();node.body=[];this.expect(types$1.braceL);if(createNewLexicalScope){this.enterScope(0)}while(this.type!==types$1.braceR){var stmt=this.parseStatement(null);node.body.push(stmt)}if(exitStrict){this.strict=false}this.next();if(createNewLexicalScope){this.exitScope()}return this.finishNode(node,"BlockStatement")};pp$8.parseFor=function(node,init){node.init=init;this.expect(types$1.semi);node.test=this.type===types$1.semi?null:this.parseExpression();this.expect(types$1.semi);node.update=this.type===types$1.parenR?null:this.parseExpression();this.expect(types$1.parenR);node.body=this.parseStatement("for");this.exitScope();this.labels.pop();return this.finishNode(node,"ForStatement")};pp$8.parseForIn=function(node,init){var isForIn=this.type===types$1._in;this.next();if(init.type==="VariableDeclaration"&&init.declarations[0].init!=null&&(!isForIn||this.options.ecmaVersion<8||this.strict||init.kind!=="var"||init.declarations[0].id.type!=="Identifier")){this.raise(init.start,(isForIn?"for-in":"for-of")+" loop variable declaration may not have an initializer")}node.left=init;node.right=isForIn?this.parseExpression():this.parseMaybeAssign();this.expect(types$1.parenR);node.body=this.parseStatement("for");this.exitScope();this.labels.pop();return this.finishNode(node,isForIn?"ForInStatement":"ForOfStatement")};pp$8.parseVar=function(node,isFor,kind){node.declarations=[];node.kind=kind;for(;;){var decl=this.startNode();this.parseVarId(decl,kind);if(this.eat(types$1.eq)){decl.init=this.parseMaybeAssign(isFor)}else if(kind==="const"&&!(this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))){this.unexpected()}else if(decl.id.type!=="Identifier"&&!(isFor&&(this.type===types$1._in||this.isContextual("of")))){this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value")}else{decl.init=null}node.declarations.push(this.finishNode(decl,"VariableDeclarator"));if(!this.eat(types$1.comma)){break}}return node};pp$8.parseVarId=function(decl,kind){decl.id=this.parseBindingAtom();this.checkLValPattern(decl.id,kind==="var"?BIND_VAR:BIND_LEXICAL,false)};var FUNC_STATEMENT=1,FUNC_HANGING_STATEMENT=2,FUNC_NULLABLE_ID=4;pp$8.parseFunction=function(node,statement,allowExpressionBody,isAsync,forInit){this.initFunction(node);if(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!isAsync){if(this.type===types$1.star&&statement&FUNC_HANGING_STATEMENT){this.unexpected()}node.generator=this.eat(types$1.star)}if(this.options.ecmaVersion>=8){node.async=!!isAsync}if(statement&FUNC_STATEMENT){node.id=statement&FUNC_NULLABLE_ID&&this.type!==types$1.name?null:this.parseIdent();if(node.id&&!(statement&FUNC_HANGING_STATEMENT)){this.checkLValSimple(node.id,this.strict||node.generator||node.async?this.treatFunctionsAsVar?BIND_VAR:BIND_LEXICAL:BIND_FUNCTION)}}var oldYieldPos=this.yieldPos,oldAwaitPos=this.awaitPos,oldAwaitIdentPos=this.awaitIdentPos;this.yieldPos=0;this.awaitPos=0;this.awaitIdentPos=0;this.enterScope(functionFlags(node.async,node.generator));if(!(statement&FUNC_STATEMENT)){node.id=this.type===types$1.name?this.parseIdent():null}this.parseFunctionParams(node);this.parseFunctionBody(node,allowExpressionBody,false,forInit);this.yieldPos=oldYieldPos;this.awaitPos=oldAwaitPos;this.awaitIdentPos=oldAwaitIdentPos;return this.finishNode(node,statement&FUNC_STATEMENT?"FunctionDeclaration":"FunctionExpression")};pp$8.parseFunctionParams=function(node){this.expect(types$1.parenL);node.params=this.parseBindingList(types$1.parenR,false,this.options.ecmaVersion>=8);this.checkYieldAwaitInDefaultParams()};pp$8.parseClass=function(node,isStatement){this.next();var oldStrict=this.strict;this.strict=true;this.parseClassId(node,isStatement);this.parseClassSuper(node);var privateNameMap=this.enterClassBody();var classBody=this.startNode();var hadConstructor=false;classBody.body=[];this.expect(types$1.braceL);while(this.type!==types$1.braceR){var element=this.parseClassElement(node.superClass!==null);if(element){classBody.body.push(element);if(element.type==="MethodDefinition"&&element.kind==="constructor"){if(hadConstructor){this.raise(element.start,"Duplicate constructor in the same class")}hadConstructor=true}else if(element.key&&element.key.type==="PrivateIdentifier"&&isPrivateNameConflicted(privateNameMap,element)){this.raiseRecoverable(element.key.start,"Identifier '#"+element.key.name+"' has already been declared")}}}this.strict=oldStrict;this.next();node.body=this.finishNode(classBody,"ClassBody");this.exitClassBody();return this.finishNode(node,isStatement?"ClassDeclaration":"ClassExpression")};pp$8.parseClassElement=function(constructorAllowsSuper){if(this.eat(types$1.semi)){return null}var ecmaVersion=this.options.ecmaVersion;var node=this.startNode();var keyName="";var isGenerator=false;var isAsync=false;var kind="method";var isStatic=false;if(this.eatContextual("static")){if(ecmaVersion>=13&&this.eat(types$1.braceL)){this.parseClassStaticBlock(node);return node}if(this.isClassElementNameStart()||this.type===types$1.star){isStatic=true}else{keyName="static"}}node.static=isStatic;if(!keyName&&ecmaVersion>=8&&this.eatContextual("async")){if((this.isClassElementNameStart()||this.type===types$1.star)&&!this.canInsertSemicolon()){isAsync=true}else{keyName="async"}}if(!keyName&&(ecmaVersion>=9||!isAsync)&&this.eat(types$1.star)){isGenerator=true}if(!keyName&&!isAsync&&!isGenerator){var lastValue=this.value;if(this.eatContextual("get")||this.eatContextual("set")){if(this.isClassElementNameStart()){kind=lastValue}else{keyName=lastValue}}}if(keyName){node.computed=false;node.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc);node.key.name=keyName;this.finishNode(node.key,"Identifier")}else{this.parseClassElementName(node)}if(ecmaVersion<13||this.type===types$1.parenL||kind!=="method"||isGenerator||isAsync){var isConstructor=!node.static&&checkKeyName(node,"constructor");var allowsDirectSuper=isConstructor&&constructorAllowsSuper;if(isConstructor&&kind!=="method"){this.raise(node.key.start,"Constructor can't have get/set modifier")}node.kind=isConstructor?"constructor":kind;this.parseClassMethod(node,isGenerator,isAsync,allowsDirectSuper)}else{this.parseClassField(node)}return node};pp$8.isClassElementNameStart=function(){return this.type===types$1.name||this.type===types$1.privateId||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword};pp$8.parseClassElementName=function(element){if(this.type===types$1.privateId){if(this.value==="constructor"){this.raise(this.start,"Classes can't have an element named '#constructor'")}element.computed=false;element.key=this.parsePrivateIdent()}else{this.parsePropertyName(element)}};pp$8.parseClassMethod=function(method,isGenerator,isAsync,allowsDirectSuper){var key=method.key;if(method.kind==="constructor"){if(isGenerator){this.raise(key.start,"Constructor can't be a generator")}if(isAsync){this.raise(key.start,"Constructor can't be an async method")}}else if(method.static&&checkKeyName(method,"prototype")){this.raise(key.start,"Classes may not have a static property named prototype")}var value=method.value=this.parseMethod(isGenerator,isAsync,allowsDirectSuper);if(method.kind==="get"&&value.params.length!==0){this.raiseRecoverable(value.start,"getter should have no params")}if(method.kind==="set"&&value.params.length!==1){this.raiseRecoverable(value.start,"setter should have exactly one param")}if(method.kind==="set"&&value.params[0].type==="RestElement"){this.raiseRecoverable(value.params[0].start,"Setter cannot use rest params")}return this.finishNode(method,"MethodDefinition")};pp$8.parseClassField=function(field){if(checkKeyName(field,"constructor")){this.raise(field.key.start,"Classes can't have a field named 'constructor'")}else if(field.static&&checkKeyName(field,"prototype")){this.raise(field.key.start,"Classes can't have a static field named 'prototype'")}if(this.eat(types$1.eq)){var scope=this.currentThisScope();var inClassFieldInit=scope.inClassFieldInit;scope.inClassFieldInit=true;field.value=this.parseMaybeAssign();scope.inClassFieldInit=inClassFieldInit}else{field.value=null}this.semicolon();return this.finishNode(field,"PropertyDefinition")};pp$8.parseClassStaticBlock=function(node){node.body=[];var oldLabels=this.labels;this.labels=[];this.enterScope(SCOPE_CLASS_STATIC_BLOCK|SCOPE_SUPER);while(this.type!==types$1.braceR){var stmt=this.parseStatement(null);node.body.push(stmt)}this.next();this.exitScope();this.labels=oldLabels;return this.finishNode(node,"StaticBlock")};pp$8.parseClassId=function(node,isStatement){if(this.type===types$1.name){node.id=this.parseIdent();if(isStatement){this.checkLValSimple(node.id,BIND_LEXICAL,false)}}else{if(isStatement===true){this.unexpected()}node.id=null}};pp$8.parseClassSuper=function(node){node.superClass=this.eat(types$1._extends)?this.parseExprSubscripts(false):null};pp$8.enterClassBody=function(){var element={declared:Object.create(null),used:[]};this.privateNameStack.push(element);return element.declared};pp$8.exitClassBody=function(){var ref=this.privateNameStack.pop();var declared=ref.declared;var used=ref.used;var len=this.privateNameStack.length;var parent=len===0?null:this.privateNameStack[len-1];for(var i=0;i<used.length;++i){var id=used[i];if(!hasOwn(declared,id.name)){if(parent){parent.used.push(id)}else{this.raiseRecoverable(id.start,"Private field '#"+id.name+"' must be declared in an enclosing class")}}}};function isPrivateNameConflicted(privateNameMap,element){var name=element.key.name;var curr=privateNameMap[name];var next="true";if(element.type==="MethodDefinition"&&(element.kind==="get"||element.kind==="set")){next=(element.static?"s":"i")+element.kind}if(curr==="iget"&&next==="iset"||curr==="iset"&&next==="iget"||curr==="sget"&&next==="sset"||curr==="sset"&&next==="sget"){privateNameMap[name]="true";return false}else if(!curr){privateNameMap[name]=next;return false}else{return true}}function checkKeyName(node,name){var computed=node.computed;var key=node.key;return!computed&&(key.type==="Identifier"&&key.name===name||key.type==="Literal"&&key.value===name)}pp$8.parseExport=function(node,exports){this.next();if(this.eat(types$1.star)){if(this.options.ecmaVersion>=11){if(this.eatContextual("as")){node.exported=this.parseModuleExportName();this.checkExport(exports,node.exported,this.lastTokStart)}else{node.exported=null}}this.expectContextual("from");if(this.type!==types$1.string){this.unexpected()}node.source=this.parseExprAtom();this.semicolon();return this.finishNode(node,"ExportAllDeclaration")}if(this.eat(types$1._default)){this.checkExport(exports,"default",this.lastTokStart);var isAsync;if(this.type===types$1._function||(isAsync=this.isAsyncFunction())){var fNode=this.startNode();this.next();if(isAsync){this.next()}node.declaration=this.parseFunction(fNode,FUNC_STATEMENT|FUNC_NULLABLE_ID,false,isAsync)}else if(this.type===types$1._class){var cNode=this.startNode();node.declaration=this.parseClass(cNode,"nullableID")}else{node.declaration=this.parseMaybeAssign();this.semicolon()}return this.finishNode(node,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement()){node.declaration=this.parseStatement(null);if(node.declaration.type==="VariableDeclaration"){this.checkVariableExport(exports,node.declaration.declarations)}else{this.checkExport(exports,node.declaration.id,node.declaration.id.start)}node.specifiers=[];node.source=null}else{node.declaration=null;node.specifiers=this.parseExportSpecifiers(exports);if(this.eatContextual("from")){if(this.type!==types$1.string){this.unexpected()}node.source=this.parseExprAtom()}else{for(var i=0,list=node.specifiers;i<list.length;i+=1){var spec=list[i];this.checkUnreserved(spec.local);this.checkLocalExport(spec.local);if(spec.local.type==="Literal"){this.raise(spec.local.start,"A string literal cannot be used as an exported binding without `from`.")}}node.source=null}this.semicolon()}return this.finishNode(node,"ExportNamedDeclaration")};pp$8.checkExport=function(exports,name,pos){if(!exports){return}if(typeof name!=="string"){name=name.type==="Identifier"?name.name:name.value}if(hasOwn(exports,name)){this.raiseRecoverable(pos,"Duplicate export '"+name+"'")}exports[name]=true};pp$8.checkPatternExport=function(exports,pat){var type=pat.type;if(type==="Identifier"){this.checkExport(exports,pat,pat.start)}else if(type==="ObjectPattern"){for(var i=0,list=pat.properties;i<list.length;i+=1){var prop=list[i];this.checkPatternExport(exports,prop)}}else if(type==="ArrayPattern"){for(var i$1=0,list$1=pat.elements;i$1<list$1.length;i$1+=1){var elt=list$1[i$1];if(elt){this.checkPatternExport(exports,elt)}}}else if(type==="Property"){this.checkPatternExport(exports,pat.value)}else if(type==="AssignmentPattern"){this.checkPatternExport(exports,pat.left)}else if(type==="RestElement"){this.checkPatternExport(exports,pat.argument)}else if(type==="ParenthesizedExpression"){this.checkPatternExport(exports,pat.expression)}};pp$8.checkVariableExport=function(exports,decls){if(!exports){return}for(var i=0,list=decls;i<list.length;i+=1){var decl=list[i];this.checkPatternExport(exports,decl.id)}};pp$8.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};pp$8.parseExportSpecifiers=function(exports){var nodes=[],first=true;this.expect(types$1.braceL);while(!this.eat(types$1.braceR)){if(!first){this.expect(types$1.comma);if(this.afterTrailingComma(types$1.braceR)){break}}else{first=false}var node=this.startNode();node.local=this.parseModuleExportName();node.exported=this.eatContextual("as")?this.parseModuleExportName():node.local;this.checkExport(exports,node.exported,node.exported.start);nodes.push(this.finishNode(node,"ExportSpecifier"))}return nodes};pp$8.parseImport=function(node){this.next();if(this.type===types$1.string){node.specifiers=empty$1;node.source=this.parseExprAtom()}else{node.specifiers=this.parseImportSpecifiers();this.expectContextual("from");node.source=this.type===types$1.string?this.parseExprAtom():this.unexpected()}this.semicolon();return this.finishNode(node,"ImportDeclaration")};pp$8.parseImportSpecifiers=function(){var nodes=[],first=true;if(this.type===types$1.name){var node=this.startNode();node.local=this.parseIdent();this.checkLValSimple(node.local,BIND_LEXICAL);nodes.push(this.finishNode(node,"ImportDefaultSpecifier"));if(!this.eat(types$1.comma)){return nodes}}if(this.type===types$1.star){var node$1=this.startNode();this.next();this.expectContextual("as");node$1.local=this.parseIdent();this.checkLValSimple(node$1.local,BIND_LEXICAL);nodes.push(this.finishNode(node$1,"ImportNamespaceSpecifier"));return nodes}this.expect(types$1.braceL);while(!this.eat(types$1.braceR)){if(!first){this.expect(types$1.comma);if(this.afterTrailingComma(types$1.braceR)){break}}else{first=false}var node$2=this.startNode();node$2.imported=this.parseModuleExportName();if(this.eatContextual("as")){node$2.local=this.parseIdent()}else{this.checkUnreserved(node$2.imported);node$2.local=node$2.imported}this.checkLValSimple(node$2.local,BIND_LEXICAL);nodes.push(this.finishNode(node$2,"ImportSpecifier"))}return nodes};pp$8.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===types$1.string){var stringLiteral=this.parseLiteral(this.value);if(loneSurrogate.test(stringLiteral.value)){this.raise(stringLiteral.start,"An export name cannot include a lone surrogate.")}return stringLiteral}return this.parseIdent(true)};pp$8.adaptDirectivePrologue=function(statements){for(var i=0;i<statements.length&&this.isDirectiveCandidate(statements[i]);++i){statements[i].directive=statements[i].expression.raw.slice(1,-1)}};pp$8.isDirectiveCandidate=function(statement){return this.options.ecmaVersion>=5&&statement.type==="ExpressionStatement"&&statement.expression.type==="Literal"&&typeof statement.expression.value==="string"&&(this.input[statement.start]==='"'||this.input[statement.start]==="'")};var pp$7=Parser.prototype;pp$7.toAssignable=function(node,isBinding,refDestructuringErrors){if(this.options.ecmaVersion>=6&&node){switch(node.type){case"Identifier":if(this.inAsync&&node.name==="await"){this.raise(node.start,"Cannot use 'await' as identifier inside an async function")}break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":node.type="ObjectPattern";if(refDestructuringErrors){this.checkPatternErrors(refDestructuringErrors,true)}for(var i=0,list=node.properties;i<list.length;i+=1){var prop=list[i];this.toAssignable(prop,isBinding);if(prop.type==="RestElement"&&(prop.argument.type==="ArrayPattern"||prop.argument.type==="ObjectPattern")){this.raise(prop.argument.start,"Unexpected token")}}break;case"Property":if(node.kind!=="init"){this.raise(node.key.start,"Object pattern can't contain getter or setter")}this.toAssignable(node.value,isBinding);break;case"ArrayExpression":node.type="ArrayPattern";if(refDestructuringErrors){this.checkPatternErrors(refDestructuringErrors,true)}this.toAssignableList(node.elements,isBinding);break;case"SpreadElement":node.type="RestElement";this.toAssignable(node.argument,isBinding);if(node.argument.type==="AssignmentPattern"){this.raise(node.argument.start,"Rest elements cannot have a default value")}break;case"AssignmentExpression":if(node.operator!=="="){this.raise(node.left.end,"Only '=' operator can be used for specifying default value.")}node.type="AssignmentPattern";delete node.operator;this.toAssignable(node.left,isBinding);break;case"ParenthesizedExpression":this.toAssignable(node.expression,isBinding,refDestructuringErrors);break;case"ChainExpression":this.raiseRecoverable(node.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!isBinding){break}default:this.raise(node.start,"Assigning to rvalue")}}else if(refDestructuringErrors){this.checkPatternErrors(refDestructuringErrors,true)}return node};pp$7.toAssignableList=function(exprList,isBinding){var end=exprList.length;for(var i=0;i<end;i++){var elt=exprList[i];if(elt){this.toAssignable(elt,isBinding)}}if(end){var last=exprList[end-1];if(this.options.ecmaVersion===6&&isBinding&&last&&last.type==="RestElement"&&last.argument.type!=="Identifier"){this.unexpected(last.argument.start)}}return exprList};pp$7.parseSpread=function(refDestructuringErrors){var node=this.startNode();this.next();node.argument=this.parseMaybeAssign(false,refDestructuringErrors);return this.finishNode(node,"SpreadElement")};pp$7.parseRestBinding=function(){var node=this.startNode();this.next();if(this.options.ecmaVersion===6&&this.type!==types$1.name){this.unexpected()}node.argument=this.parseBindingAtom();return this.finishNode(node,"RestElement")};pp$7.parseBindingAtom=function(){if(this.options.ecmaVersion>=6){switch(this.type){case types$1.bracketL:var node=this.startNode();this.next();node.elements=this.parseBindingList(types$1.bracketR,true,true);return this.finishNode(node,"ArrayPattern");case types$1.braceL:return this.parseObj(true)}}return this.parseIdent()};pp$7.parseBindingList=function(close,allowEmpty,allowTrailingComma){var elts=[],first=true;while(!this.eat(close)){if(first){first=false}else{this.expect(types$1.comma)}if(allowEmpty&&this.type===types$1.comma){elts.push(null)}else if(allowTrailingComma&&this.afterTrailingComma(close)){break}else if(this.type===types$1.ellipsis){var rest=this.parseRestBinding();this.parseBindingListItem(rest);elts.push(rest);if(this.type===types$1.comma){this.raise(this.start,"Comma is not permitted after the rest element")}this.expect(close);break}else{var elem=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(elem);elts.push(elem)}}return elts};pp$7.parseBindingListItem=function(param){return param};pp$7.parseMaybeDefault=function(startPos,startLoc,left){left=left||this.parseBindingAtom();if(this.options.ecmaVersion<6||!this.eat(types$1.eq)){return left}var node=this.startNodeAt(startPos,startLoc);node.left=left;node.right=this.parseMaybeAssign();return this.finishNode(node,"AssignmentPattern")};pp$7.checkLValSimple=function(expr,bindingType,checkClashes){if(bindingType===void 0)bindingType=BIND_NONE;var isBind=bindingType!==BIND_NONE;switch(expr.type){case"Identifier":if(this.strict&&this.reservedWordsStrictBind.test(expr.name)){this.raiseRecoverable(expr.start,(isBind?"Binding ":"Assigning to ")+expr.name+" in strict mode")}if(isBind){if(bindingType===BIND_LEXICAL&&expr.name==="let"){this.raiseRecoverable(expr.start,"let is disallowed as a lexically bound name")}if(checkClashes){if(hasOwn(checkClashes,expr.name)){this.raiseRecoverable(expr.start,"Argument name clash")}checkClashes[expr.name]=true}if(bindingType!==BIND_OUTSIDE){this.declareName(expr.name,bindingType,expr.start)}}break;case"ChainExpression":this.raiseRecoverable(expr.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(isBind){this.raiseRecoverable(expr.start,"Binding member expression")}break;case"ParenthesizedExpression":if(isBind){this.raiseRecoverable(expr.start,"Binding parenthesized expression")}return this.checkLValSimple(expr.expression,bindingType,checkClashes);default:this.raise(expr.start,(isBind?"Binding":"Assigning to")+" rvalue")}};pp$7.checkLValPattern=function(expr,bindingType,checkClashes){if(bindingType===void 0)bindingType=BIND_NONE;switch(expr.type){case"ObjectPattern":for(var i=0,list=expr.properties;i<list.length;i+=1){var prop=list[i];this.checkLValInnerPattern(prop,bindingType,checkClashes)}break;case"ArrayPattern":for(var i$1=0,list$1=expr.elements;i$1<list$1.length;i$1+=1){var elem=list$1[i$1];if(elem){this.checkLValInnerPattern(elem,bindingType,checkClashes)}}break;default:this.checkLValSimple(expr,bindingType,checkClashes)}};pp$7.checkLValInnerPattern=function(expr,bindingType,checkClashes){if(bindingType===void 0)bindingType=BIND_NONE;switch(expr.type){case"Property":this.checkLValInnerPattern(expr.value,bindingType,checkClashes);break;case"AssignmentPattern":this.checkLValPattern(expr.left,bindingType,checkClashes);break;case"RestElement":this.checkLValPattern(expr.argument,bindingType,checkClashes);break;default:this.checkLValPattern(expr,bindingType,checkClashes)}};var TokContext=function TokContext(token,isExpr,preserveSpace,override,generator){this.token=token;this.isExpr=!!isExpr;this.preserveSpace=!!preserveSpace;this.override=override;this.generator=!!generator};var types={b_stat:new TokContext("{",false),b_expr:new TokContext("{",true),b_tmpl:new TokContext("${",false),p_stat:new TokContext("(",false),p_expr:new TokContext("(",true),q_tmpl:new TokContext("`",true,true,(function(p){return p.tryReadTemplateToken()})),f_stat:new TokContext("function",false),f_expr:new TokContext("function",true),f_expr_gen:new TokContext("function",true,false,null,true),f_gen:new TokContext("function",false,false,null,true)};var pp$6=Parser.prototype;pp$6.initialContext=function(){return[types.b_stat]};pp$6.curContext=function(){return this.context[this.context.length-1]};pp$6.braceIsBlock=function(prevType){var parent=this.curContext();if(parent===types.f_expr||parent===types.f_stat){return true}if(prevType===types$1.colon&&(parent===types.b_stat||parent===types.b_expr)){return!parent.isExpr}if(prevType===types$1._return||prevType===types$1.name&&this.exprAllowed){return lineBreak.test(this.input.slice(this.lastTokEnd,this.start))}if(prevType===types$1._else||prevType===types$1.semi||prevType===types$1.eof||prevType===types$1.parenR||prevType===types$1.arrow){return true}if(prevType===types$1.braceL){return parent===types.b_stat}if(prevType===types$1._var||prevType===types$1._const||prevType===types$1.name){return false}return!this.exprAllowed};pp$6.inGeneratorContext=function(){for(var i=this.context.length-1;i>=1;i--){var context=this.context[i];if(context.token==="function"){return context.generator}}return false};pp$6.updateContext=function(prevType){var update,type=this.type;if(type.keyword&&prevType===types$1.dot){this.exprAllowed=false}else if(update=type.updateContext){update.call(this,prevType)}else{this.exprAllowed=type.beforeExpr}};pp$6.overrideContext=function(tokenCtx){if(this.curContext()!==tokenCtx){this.context[this.context.length-1]=tokenCtx}};types$1.parenR.updateContext=types$1.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=true;return}var out=this.context.pop();if(out===types.b_stat&&this.curContext().token==="function"){out=this.context.pop()}this.exprAllowed=!out.isExpr};types$1.braceL.updateContext=function(prevType){this.context.push(this.braceIsBlock(prevType)?types.b_stat:types.b_expr);this.exprAllowed=true};types$1.dollarBraceL.updateContext=function(){this.context.push(types.b_tmpl);this.exprAllowed=true};types$1.parenL.updateContext=function(prevType){var statementParens=prevType===types$1._if||prevType===types$1._for||prevType===types$1._with||prevType===types$1._while;this.context.push(statementParens?types.p_stat:types.p_expr);this.exprAllowed=true};types$1.incDec.updateContext=function(){};types$1._function.updateContext=types$1._class.updateContext=function(prevType){if(prevType.beforeExpr&&prevType!==types$1._else&&!(prevType===types$1.semi&&this.curContext()!==types.p_stat)&&!(prevType===types$1._return&&lineBreak.test(this.input.slice(this.lastTokEnd,this.start)))&&!((prevType===types$1.colon||prevType===types$1.braceL)&&this.curContext()===types.b_stat)){this.context.push(types.f_expr)}else{this.context.push(types.f_stat)}this.exprAllowed=false};types$1.backQuote.updateContext=function(){if(this.curContext()===types.q_tmpl){this.context.pop()}else{this.context.push(types.q_tmpl)}this.exprAllowed=false};types$1.star.updateContext=function(prevType){if(prevType===types$1._function){var index=this.context.length-1;if(this.context[index]===types.f_expr){this.context[index]=types.f_expr_gen}else{this.context[index]=types.f_gen}}this.exprAllowed=true};types$1.name.updateContext=function(prevType){var allowed=false;if(this.options.ecmaVersion>=6&&prevType!==types$1.dot){if(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext()){allowed=true}}this.exprAllowed=allowed};var pp$5=Parser.prototype;pp$5.checkPropClash=function(prop,propHash,refDestructuringErrors){if(this.options.ecmaVersion>=9&&prop.type==="SpreadElement"){return}if(this.options.ecmaVersion>=6&&(prop.computed||prop.method||prop.shorthand)){return}var key=prop.key;var name;switch(key.type){case"Identifier":name=key.name;break;case"Literal":name=String(key.value);break;default:return}var kind=prop.kind;if(this.options.ecmaVersion>=6){if(name==="__proto__"&&kind==="init"){if(propHash.proto){if(refDestructuringErrors){if(refDestructuringErrors.doubleProto<0){refDestructuringErrors.doubleProto=key.start}}else{this.raiseRecoverable(key.start,"Redefinition of __proto__ property")}}propHash.proto=true}return}name="$"+name;var other=propHash[name];if(other){var redefinition;if(kind==="init"){redefinition=this.strict&&other.init||other.get||other.set}else{redefinition=other.init||other[kind]}if(redefinition){this.raiseRecoverable(key.start,"Redefinition of property")}}else{other=propHash[name]={init:false,get:false,set:false}}other[kind]=true};pp$5.parseExpression=function(forInit,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseMaybeAssign(forInit,refDestructuringErrors);if(this.type===types$1.comma){var node=this.startNodeAt(startPos,startLoc);node.expressions=[expr];while(this.eat(types$1.comma)){node.expressions.push(this.parseMaybeAssign(forInit,refDestructuringErrors))}return this.finishNode(node,"SequenceExpression")}return expr};pp$5.parseMaybeAssign=function(forInit,refDestructuringErrors,afterLeftParse){if(this.isContextual("yield")){if(this.inGenerator){return this.parseYield(forInit)}else{this.exprAllowed=false}}var ownDestructuringErrors=false,oldParenAssign=-1,oldTrailingComma=-1,oldDoubleProto=-1;if(refDestructuringErrors){oldParenAssign=refDestructuringErrors.parenthesizedAssign;oldTrailingComma=refDestructuringErrors.trailingComma;oldDoubleProto=refDestructuringErrors.doubleProto;refDestructuringErrors.parenthesizedAssign=refDestructuringErrors.trailingComma=-1}else{refDestructuringErrors=new DestructuringErrors;ownDestructuringErrors=true}var startPos=this.start,startLoc=this.startLoc;if(this.type===types$1.parenL||this.type===types$1.name){this.potentialArrowAt=this.start;this.potentialArrowInForAwait=forInit==="await"}var left=this.parseMaybeConditional(forInit,refDestructuringErrors);if(afterLeftParse){left=afterLeftParse.call(this,left,startPos,startLoc)}if(this.type.isAssign){var node=this.startNodeAt(startPos,startLoc);node.operator=this.value;if(this.type===types$1.eq){left=this.toAssignable(left,false,refDestructuringErrors)}if(!ownDestructuringErrors){refDestructuringErrors.parenthesizedAssign=refDestructuringErrors.trailingComma=refDestructuringErrors.doubleProto=-1}if(refDestructuringErrors.shorthandAssign>=left.start){refDestructuringErrors.shorthandAssign=-1}if(this.type===types$1.eq){this.checkLValPattern(left)}else{this.checkLValSimple(left)}node.left=left;this.next();node.right=this.parseMaybeAssign(forInit);if(oldDoubleProto>-1){refDestructuringErrors.doubleProto=oldDoubleProto}return this.finishNode(node,"AssignmentExpression")}else{if(ownDestructuringErrors){this.checkExpressionErrors(refDestructuringErrors,true)}}if(oldParenAssign>-1){refDestructuringErrors.parenthesizedAssign=oldParenAssign}if(oldTrailingComma>-1){refDestructuringErrors.trailingComma=oldTrailingComma}return left};pp$5.parseMaybeConditional=function(forInit,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseExprOps(forInit,refDestructuringErrors);if(this.checkExpressionErrors(refDestructuringErrors)){return expr}if(this.eat(types$1.question)){var node=this.startNodeAt(startPos,startLoc);node.test=expr;node.consequent=this.parseMaybeAssign();this.expect(types$1.colon);node.alternate=this.parseMaybeAssign(forInit);return this.finishNode(node,"ConditionalExpression")}return expr};pp$5.parseExprOps=function(forInit,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseMaybeUnary(refDestructuringErrors,false,false,forInit);if(this.checkExpressionErrors(refDestructuringErrors)){return expr}return expr.start===startPos&&expr.type==="ArrowFunctionExpression"?expr:this.parseExprOp(expr,startPos,startLoc,-1,forInit)};pp$5.parseExprOp=function(left,leftStartPos,leftStartLoc,minPrec,forInit){var prec=this.type.binop;if(prec!=null&&(!forInit||this.type!==types$1._in)){if(prec>minPrec){var logical=this.type===types$1.logicalOR||this.type===types$1.logicalAND;var coalesce=this.type===types$1.coalesce;if(coalesce){prec=types$1.logicalAND.binop}var op=this.value;this.next();var startPos=this.start,startLoc=this.startLoc;var right=this.parseExprOp(this.parseMaybeUnary(null,false,false,forInit),startPos,startLoc,prec,forInit);var node=this.buildBinary(leftStartPos,leftStartLoc,left,right,op,logical||coalesce);if(logical&&this.type===types$1.coalesce||coalesce&&(this.type===types$1.logicalOR||this.type===types$1.logicalAND)){this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses")}return this.parseExprOp(node,leftStartPos,leftStartLoc,minPrec,forInit)}}return left};pp$5.buildBinary=function(startPos,startLoc,left,right,op,logical){if(right.type==="PrivateIdentifier"){this.raise(right.start,"Private identifier can only be left side of binary expression")}var node=this.startNodeAt(startPos,startLoc);node.left=left;node.operator=op;node.right=right;return this.finishNode(node,logical?"LogicalExpression":"BinaryExpression")};pp$5.parseMaybeUnary=function(refDestructuringErrors,sawUnary,incDec,forInit){var startPos=this.start,startLoc=this.startLoc,expr;if(this.isContextual("await")&&this.canAwait){expr=this.parseAwait(forInit);sawUnary=true}else if(this.type.prefix){var node=this.startNode(),update=this.type===types$1.incDec;node.operator=this.value;node.prefix=true;this.next();node.argument=this.parseMaybeUnary(null,true,update,forInit);this.checkExpressionErrors(refDestructuringErrors,true);if(update){this.checkLValSimple(node.argument)}else if(this.strict&&node.operator==="delete"&&node.argument.type==="Identifier"){this.raiseRecoverable(node.start,"Deleting local variable in strict mode")}else if(node.operator==="delete"&&isPrivateFieldAccess(node.argument)){this.raiseRecoverable(node.start,"Private fields can not be deleted")}else{sawUnary=true}expr=this.finishNode(node,update?"UpdateExpression":"UnaryExpression")}else if(!sawUnary&&this.type===types$1.privateId){if(forInit||this.privateNameStack.length===0){this.unexpected()}expr=this.parsePrivateIdent();if(this.type!==types$1._in){this.unexpected()}}else{expr=this.parseExprSubscripts(refDestructuringErrors,forInit);if(this.checkExpressionErrors(refDestructuringErrors)){return expr}while(this.type.postfix&&!this.canInsertSemicolon()){var node$1=this.startNodeAt(startPos,startLoc);node$1.operator=this.value;node$1.prefix=false;node$1.argument=expr;this.checkLValSimple(expr);this.next();expr=this.finishNode(node$1,"UpdateExpression")}}if(!incDec&&this.eat(types$1.starstar)){if(sawUnary){this.unexpected(this.lastTokStart)}else{return this.buildBinary(startPos,startLoc,expr,this.parseMaybeUnary(null,false,false,forInit),"**",false)}}else{return expr}};function isPrivateFieldAccess(node){return node.type==="MemberExpression"&&node.property.type==="PrivateIdentifier"||node.type==="ChainExpression"&&isPrivateFieldAccess(node.expression)}pp$5.parseExprSubscripts=function(refDestructuringErrors,forInit){var startPos=this.start,startLoc=this.startLoc;var expr=this.parseExprAtom(refDestructuringErrors,forInit);if(expr.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")"){return expr}var result=this.parseSubscripts(expr,startPos,startLoc,false,forInit);if(refDestructuringErrors&&result.type==="MemberExpression"){if(refDestructuringErrors.parenthesizedAssign>=result.start){refDestructuringErrors.parenthesizedAssign=-1}if(refDestructuringErrors.parenthesizedBind>=result.start){refDestructuringErrors.parenthesizedBind=-1}if(refDestructuringErrors.trailingComma>=result.start){refDestructuringErrors.trailingComma=-1}}return result};pp$5.parseSubscripts=function(base,startPos,startLoc,noCalls,forInit){var maybeAsyncArrow=this.options.ecmaVersion>=8&&base.type==="Identifier"&&base.name==="async"&&this.lastTokEnd===base.end&&!this.canInsertSemicolon()&&base.end-base.start===5&&this.potentialArrowAt===base.start;var optionalChained=false;while(true){var element=this.parseSubscript(base,startPos,startLoc,noCalls,maybeAsyncArrow,optionalChained,forInit);if(element.optional){optionalChained=true}if(element===base||element.type==="ArrowFunctionExpression"){if(optionalChained){var chainNode=this.startNodeAt(startPos,startLoc);chainNode.expression=element;element=this.finishNode(chainNode,"ChainExpression")}return element}base=element}};pp$5.parseSubscript=function(base,startPos,startLoc,noCalls,maybeAsyncArrow,optionalChained,forInit){var optionalSupported=this.options.ecmaVersion>=11;var optional=optionalSupported&&this.eat(types$1.questionDot);if(noCalls&&optional){this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions")}var computed=this.eat(types$1.bracketL);if(computed||optional&&this.type!==types$1.parenL&&this.type!==types$1.backQuote||this.eat(types$1.dot)){var node=this.startNodeAt(startPos,startLoc);node.object=base;if(computed){node.property=this.parseExpression();this.expect(types$1.bracketR)}else if(this.type===types$1.privateId&&base.type!=="Super"){node.property=this.parsePrivateIdent()}else{node.property=this.parseIdent(this.options.allowReserved!=="never")}node.computed=!!computed;if(optionalSupported){node.optional=optional}base=this.finishNode(node,"MemberExpression")}else if(!noCalls&&this.eat(types$1.parenL)){var refDestructuringErrors=new DestructuringErrors,oldYieldPos=this.yieldPos,oldAwaitPos=this.awaitPos,oldAwaitIdentPos=this.awaitIdentPos;this.yieldPos=0;this.awaitPos=0;this.awaitIdentPos=0;var exprList=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,false,refDestructuringErrors);if(maybeAsyncArrow&&!optional&&!this.canInsertSemicolon()&&this.eat(types$1.arrow)){this.checkPatternErrors(refDestructuringErrors,false);this.checkYieldAwaitInDefaultParams();if(this.awaitIdentPos>0){this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function")}this.yieldPos=oldYieldPos;this.awaitPos=oldAwaitPos;this.awaitIdentPos=oldAwaitIdentPos;return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),exprList,true,forInit)}this.checkExpressionErrors(refDestructuringErrors,true);this.yieldPos=oldYieldPos||this.yieldPos;this.awaitPos=oldAwaitPos||this.awaitPos;this.awaitIdentPos=oldAwaitIdentPos||this.awaitIdentPos;var node$1=this.startNodeAt(startPos,startLoc);node$1.callee=base;node$1.arguments=exprList;if(optionalSupported){node$1.optional=optional}base=this.finishNode(node$1,"CallExpression")}else if(this.type===types$1.backQuote){if(optional||optionalChained){this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions")}var node$2=this.startNodeAt(startPos,startLoc);node$2.tag=base;node$2.quasi=this.parseTemplate({isTagged:true});base=this.finishNode(node$2,"TaggedTemplateExpression")}return base};pp$5.parseExprAtom=function(refDestructuringErrors,forInit){if(this.type===types$1.slash){this.readRegexp()}var node,canBeArrow=this.potentialArrowAt===this.start;switch(this.type){case types$1._super:if(!this.allowSuper){this.raise(this.start,"'super' keyword outside a method")}node=this.startNode();this.next();if(this.type===types$1.parenL&&!this.allowDirectSuper){this.raise(node.start,"super() call outside constructor of a subclass")}if(this.type!==types$1.dot&&this.type!==types$1.bracketL&&this.type!==types$1.parenL){this.unexpected()}return this.finishNode(node,"Super");case types$1._this:node=this.startNode();this.next();return this.finishNode(node,"ThisExpression");case types$1.name:var startPos=this.start,startLoc=this.startLoc,containsEsc=this.containsEsc;var id=this.parseIdent(false);if(this.options.ecmaVersion>=8&&!containsEsc&&id.name==="async"&&!this.canInsertSemicolon()&&this.eat(types$1._function)){this.overrideContext(types.f_expr);return this.parseFunction(this.startNodeAt(startPos,startLoc),0,false,true,forInit)}if(canBeArrow&&!this.canInsertSemicolon()){if(this.eat(types$1.arrow)){return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),[id],false,forInit)}if(this.options.ecmaVersion>=8&&id.name==="async"&&this.type===types$1.name&&!containsEsc&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc)){id=this.parseIdent(false);if(this.canInsertSemicolon()||!this.eat(types$1.arrow)){this.unexpected()}return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),[id],true,forInit)}}return id;case types$1.regexp:var value=this.value;node=this.parseLiteral(value.value);node.regex={pattern:value.pattern,flags:value.flags};return node;case types$1.num:case types$1.string:return this.parseLiteral(this.value);case types$1._null:case types$1._true:case types$1._false:node=this.startNode();node.value=this.type===types$1._null?null:this.type===types$1._true;node.raw=this.type.keyword;this.next();return this.finishNode(node,"Literal");case types$1.parenL:var start=this.start,expr=this.parseParenAndDistinguishExpression(canBeArrow,forInit);if(refDestructuringErrors){if(refDestructuringErrors.parenthesizedAssign<0&&!this.isSimpleAssignTarget(expr)){refDestructuringErrors.parenthesizedAssign=start}if(refDestructuringErrors.parenthesizedBind<0){refDestructuringErrors.parenthesizedBind=start}}return expr;case types$1.bracketL:node=this.startNode();this.next();node.elements=this.parseExprList(types$1.bracketR,true,true,refDestructuringErrors);return this.finishNode(node,"ArrayExpression");case types$1.braceL:this.overrideContext(types.b_expr);return this.parseObj(false,refDestructuringErrors);case types$1._function:node=this.startNode();this.next();return this.parseFunction(node,0);case types$1._class:return this.parseClass(this.startNode(),false);case types$1._new:return this.parseNew();case types$1.backQuote:return this.parseTemplate();case types$1._import:if(this.options.ecmaVersion>=11){return this.parseExprImport()}else{return this.unexpected()}default:this.unexpected()}};pp$5.parseExprImport=function(){var node=this.startNode();if(this.containsEsc){this.raiseRecoverable(this.start,"Escape sequence in keyword import")}var meta=this.parseIdent(true);switch(this.type){case types$1.parenL:return this.parseDynamicImport(node);case types$1.dot:node.meta=meta;return this.parseImportMeta(node);default:this.unexpected()}};pp$5.parseDynamicImport=function(node){this.next();node.source=this.parseMaybeAssign();if(!this.eat(types$1.parenR)){var errorPos=this.start;if(this.eat(types$1.comma)&&this.eat(types$1.parenR)){this.raiseRecoverable(errorPos,"Trailing comma is not allowed in import()")}else{this.unexpected(errorPos)}}return this.finishNode(node,"ImportExpression")};pp$5.parseImportMeta=function(node){this.next();var containsEsc=this.containsEsc;node.property=this.parseIdent(true);if(node.property.name!=="meta"){this.raiseRecoverable(node.property.start,"The only valid meta property for import is 'import.meta'")}if(containsEsc){this.raiseRecoverable(node.start,"'import.meta' must not contain escaped characters")}if(this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere){this.raiseRecoverable(node.start,"Cannot use 'import.meta' outside a module")}return this.finishNode(node,"MetaProperty")};pp$5.parseLiteral=function(value){var node=this.startNode();node.value=value;node.raw=this.input.slice(this.start,this.end);if(node.raw.charCodeAt(node.raw.length-1)===110){node.bigint=node.raw.slice(0,-1).replace(/_/g,"")}this.next();return this.finishNode(node,"Literal")};pp$5.parseParenExpression=function(){this.expect(types$1.parenL);var val=this.parseExpression();this.expect(types$1.parenR);return val};pp$5.parseParenAndDistinguishExpression=function(canBeArrow,forInit){var startPos=this.start,startLoc=this.startLoc,val,allowTrailingComma=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var innerStartPos=this.start,innerStartLoc=this.startLoc;var exprList=[],first=true,lastIsComma=false;var refDestructuringErrors=new DestructuringErrors,oldYieldPos=this.yieldPos,oldAwaitPos=this.awaitPos,spreadStart;this.yieldPos=0;this.awaitPos=0;while(this.type!==types$1.parenR){first?first=false:this.expect(types$1.comma);if(allowTrailingComma&&this.afterTrailingComma(types$1.parenR,true)){lastIsComma=true;break}else if(this.type===types$1.ellipsis){spreadStart=this.start;exprList.push(this.parseParenItem(this.parseRestBinding()));if(this.type===types$1.comma){this.raise(this.start,"Comma is not permitted after the rest element")}break}else{exprList.push(this.parseMaybeAssign(false,refDestructuringErrors,this.parseParenItem))}}var innerEndPos=this.lastTokEnd,innerEndLoc=this.lastTokEndLoc;this.expect(types$1.parenR);if(canBeArrow&&!this.canInsertSemicolon()&&this.eat(types$1.arrow)){this.checkPatternErrors(refDestructuringErrors,false);this.checkYieldAwaitInDefaultParams();this.yieldPos=oldYieldPos;this.awaitPos=oldAwaitPos;return this.parseParenArrowList(startPos,startLoc,exprList,forInit)}if(!exprList.length||lastIsComma){this.unexpected(this.lastTokStart)}if(spreadStart){this.unexpected(spreadStart)}this.checkExpressionErrors(refDestructuringErrors,true);this.yieldPos=oldYieldPos||this.yieldPos;this.awaitPos=oldAwaitPos||this.awaitPos;if(exprList.length>1){val=this.startNodeAt(innerStartPos,innerStartLoc);val.expressions=exprList;this.finishNodeAt(val,"SequenceExpression",innerEndPos,innerEndLoc)}else{val=exprList[0]}}else{val=this.parseParenExpression()}if(this.options.preserveParens){var par=this.startNodeAt(startPos,startLoc);par.expression=val;return this.finishNode(par,"ParenthesizedExpression")}else{return val}};pp$5.parseParenItem=function(item){return item};pp$5.parseParenArrowList=function(startPos,startLoc,exprList,forInit){return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),exprList,false,forInit)};var empty=[];pp$5.parseNew=function(){if(this.containsEsc){this.raiseRecoverable(this.start,"Escape sequence in keyword new")}var node=this.startNode();var meta=this.parseIdent(true);if(this.options.ecmaVersion>=6&&this.eat(types$1.dot)){node.meta=meta;var containsEsc=this.containsEsc;node.property=this.parseIdent(true);if(node.property.name!=="target"){this.raiseRecoverable(node.property.start,"The only valid meta property for new is 'new.target'")}if(containsEsc){this.raiseRecoverable(node.start,"'new.target' must not contain escaped characters")}if(!this.allowNewDotTarget){this.raiseRecoverable(node.start,"'new.target' can only be used in functions and class static block")}return this.finishNode(node,"MetaProperty")}var startPos=this.start,startLoc=this.startLoc,isImport=this.type===types$1._import;node.callee=this.parseSubscripts(this.parseExprAtom(),startPos,startLoc,true,false);if(isImport&&node.callee.type==="ImportExpression"){this.raise(startPos,"Cannot use new with import()")}if(this.eat(types$1.parenL)){node.arguments=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,false)}else{node.arguments=empty}return this.finishNode(node,"NewExpression")};pp$5.parseTemplateElement=function(ref){var isTagged=ref.isTagged;var elem=this.startNode();if(this.type===types$1.invalidTemplate){if(!isTagged){this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal")}elem.value={raw:this.value,cooked:null}}else{elem.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value}}this.next();elem.tail=this.type===types$1.backQuote;return this.finishNode(elem,"TemplateElement")};pp$5.parseTemplate=function(ref){if(ref===void 0)ref={};var isTagged=ref.isTagged;if(isTagged===void 0)isTagged=false;var node=this.startNode();this.next();node.expressions=[];var curElt=this.parseTemplateElement({isTagged:isTagged});node.quasis=[curElt];while(!curElt.tail){if(this.type===types$1.eof){this.raise(this.pos,"Unterminated template literal")}this.expect(types$1.dollarBraceL);node.expressions.push(this.parseExpression());this.expect(types$1.braceR);node.quasis.push(curElt=this.parseTemplateElement({isTagged:isTagged}))}this.next();return this.finishNode(node,"TemplateLiteral")};pp$5.isAsyncProp=function(prop){return!prop.computed&&prop.key.type==="Identifier"&&prop.key.name==="async"&&(this.type===types$1.name||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===types$1.star)&&!lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp$5.parseObj=function(isPattern,refDestructuringErrors){var node=this.startNode(),first=true,propHash={};node.properties=[];this.next();while(!this.eat(types$1.braceR)){if(!first){this.expect(types$1.comma);if(this.options.ecmaVersion>=5&&this.afterTrailingComma(types$1.braceR)){break}}else{first=false}var prop=this.parseProperty(isPattern,refDestructuringErrors);if(!isPattern){this.checkPropClash(prop,propHash,refDestructuringErrors)}node.properties.push(prop)}return this.finishNode(node,isPattern?"ObjectPattern":"ObjectExpression")};pp$5.parseProperty=function(isPattern,refDestructuringErrors){var prop=this.startNode(),isGenerator,isAsync,startPos,startLoc;if(this.options.ecmaVersion>=9&&this.eat(types$1.ellipsis)){if(isPattern){prop.argument=this.parseIdent(false);if(this.type===types$1.comma){this.raise(this.start,"Comma is not permitted after the rest element")}return this.finishNode(prop,"RestElement")}prop.argument=this.parseMaybeAssign(false,refDestructuringErrors);if(this.type===types$1.comma&&refDestructuringErrors&&refDestructuringErrors.trailingComma<0){refDestructuringErrors.trailingComma=this.start}return this.finishNode(prop,"SpreadElement")}if(this.options.ecmaVersion>=6){prop.method=false;prop.shorthand=false;if(isPattern||refDestructuringErrors){startPos=this.start;startLoc=this.startLoc}if(!isPattern){isGenerator=this.eat(types$1.star)}}var containsEsc=this.containsEsc;this.parsePropertyName(prop);if(!isPattern&&!containsEsc&&this.options.ecmaVersion>=8&&!isGenerator&&this.isAsyncProp(prop)){isAsync=true;isGenerator=this.options.ecmaVersion>=9&&this.eat(types$1.star);this.parsePropertyName(prop,refDestructuringErrors)}else{isAsync=false}this.parsePropertyValue(prop,isPattern,isGenerator,isAsync,startPos,startLoc,refDestructuringErrors,containsEsc);return this.finishNode(prop,"Property")};pp$5.parsePropertyValue=function(prop,isPattern,isGenerator,isAsync,startPos,startLoc,refDestructuringErrors,containsEsc){if((isGenerator||isAsync)&&this.type===types$1.colon){this.unexpected()}if(this.eat(types$1.colon)){prop.value=isPattern?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(false,refDestructuringErrors);prop.kind="init"}else if(this.options.ecmaVersion>=6&&this.type===types$1.parenL){if(isPattern){this.unexpected()}prop.kind="init";prop.method=true;prop.value=this.parseMethod(isGenerator,isAsync)}else if(!isPattern&&!containsEsc&&this.options.ecmaVersion>=5&&!prop.computed&&prop.key.type==="Identifier"&&(prop.key.name==="get"||prop.key.name==="set")&&(this.type!==types$1.comma&&this.type!==types$1.braceR&&this.type!==types$1.eq)){if(isGenerator||isAsync){this.unexpected()}prop.kind=prop.key.name;this.parsePropertyName(prop);prop.value=this.parseMethod(false);var paramCount=prop.kind==="get"?0:1;if(prop.value.params.length!==paramCount){var start=prop.value.start;if(prop.kind==="get"){this.raiseRecoverable(start,"getter should have no params")}else{this.raiseRecoverable(start,"setter should have exactly one param")}}else{if(prop.kind==="set"&&prop.value.params[0].type==="RestElement"){this.raiseRecoverable(prop.value.params[0].start,"Setter cannot use rest params")}}}else if(this.options.ecmaVersion>=6&&!prop.computed&&prop.key.type==="Identifier"){if(isGenerator||isAsync){this.unexpected()}this.checkUnreserved(prop.key);if(prop.key.name==="await"&&!this.awaitIdentPos){this.awaitIdentPos=startPos}prop.kind="init";if(isPattern){prop.value=this.parseMaybeDefault(startPos,startLoc,this.copyNode(prop.key))}else if(this.type===types$1.eq&&refDestructuringErrors){if(refDestructuringErrors.shorthandAssign<0){refDestructuringErrors.shorthandAssign=this.start}prop.value=this.parseMaybeDefault(startPos,startLoc,this.copyNode(prop.key))}else{prop.value=this.copyNode(prop.key)}prop.shorthand=true}else{this.unexpected()}};pp$5.parsePropertyName=function(prop){if(this.options.ecmaVersion>=6){if(this.eat(types$1.bracketL)){prop.computed=true;prop.key=this.parseMaybeAssign();this.expect(types$1.bracketR);return prop.key}else{prop.computed=false}}return prop.key=this.type===types$1.num||this.type===types$1.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};pp$5.initFunction=function(node){node.id=null;if(this.options.ecmaVersion>=6){node.generator=node.expression=false}if(this.options.ecmaVersion>=8){node.async=false}};pp$5.parseMethod=function(isGenerator,isAsync,allowDirectSuper){var node=this.startNode(),oldYieldPos=this.yieldPos,oldAwaitPos=this.awaitPos,oldAwaitIdentPos=this.awaitIdentPos;this.initFunction(node);if(this.options.ecmaVersion>=6){node.generator=isGenerator}if(this.options.ecmaVersion>=8){node.async=!!isAsync}this.yieldPos=0;this.awaitPos=0;this.awaitIdentPos=0;this.enterScope(functionFlags(isAsync,node.generator)|SCOPE_SUPER|(allowDirectSuper?SCOPE_DIRECT_SUPER:0));this.expect(types$1.parenL);node.params=this.parseBindingList(types$1.parenR,false,this.options.ecmaVersion>=8);this.checkYieldAwaitInDefaultParams();this.parseFunctionBody(node,false,true,false);this.yieldPos=oldYieldPos;this.awaitPos=oldAwaitPos;this.awaitIdentPos=oldAwaitIdentPos;return this.finishNode(node,"FunctionExpression")};pp$5.parseArrowExpression=function(node,params,isAsync,forInit){var oldYieldPos=this.yieldPos,oldAwaitPos=this.awaitPos,oldAwaitIdentPos=this.awaitIdentPos;this.enterScope(functionFlags(isAsync,false)|SCOPE_ARROW);this.initFunction(node);if(this.options.ecmaVersion>=8){node.async=!!isAsync}this.yieldPos=0;this.awaitPos=0;this.awaitIdentPos=0;node.params=this.toAssignableList(params,true);this.parseFunctionBody(node,true,false,forInit);this.yieldPos=oldYieldPos;this.awaitPos=oldAwaitPos;this.awaitIdentPos=oldAwaitIdentPos;return this.finishNode(node,"ArrowFunctionExpression")};pp$5.parseFunctionBody=function(node,isArrowFunction,isMethod,forInit){var isExpression=isArrowFunction&&this.type!==types$1.braceL;var oldStrict=this.strict,useStrict=false;if(isExpression){node.body=this.parseMaybeAssign(forInit);node.expression=true;this.checkParams(node,false)}else{var nonSimple=this.options.ecmaVersion>=7&&!this.isSimpleParamList(node.params);if(!oldStrict||nonSimple){useStrict=this.strictDirective(this.end);if(useStrict&&nonSimple){this.raiseRecoverable(node.start,"Illegal 'use strict' directive in function with non-simple parameter list")}}var oldLabels=this.labels;this.labels=[];if(useStrict){this.strict=true}this.checkParams(node,!oldStrict&&!useStrict&&!isArrowFunction&&!isMethod&&this.isSimpleParamList(node.params));if(this.strict&&node.id){this.checkLValSimple(node.id,BIND_OUTSIDE)}node.body=this.parseBlock(false,undefined,useStrict&&!oldStrict);node.expression=false;this.adaptDirectivePrologue(node.body.body);this.labels=oldLabels}this.exitScope()};pp$5.isSimpleParamList=function(params){for(var i=0,list=params;i<list.length;i+=1){var param=list[i];if(param.type!=="Identifier"){return false}}return true};pp$5.checkParams=function(node,allowDuplicates){var nameHash=Object.create(null);for(var i=0,list=node.params;i<list.length;i+=1){var param=list[i];this.checkLValInnerPattern(param,BIND_VAR,allowDuplicates?null:nameHash)}};pp$5.parseExprList=function(close,allowTrailingComma,allowEmpty,refDestructuringErrors){var elts=[],first=true;while(!this.eat(close)){if(!first){this.expect(types$1.comma);if(allowTrailingComma&&this.afterTrailingComma(close)){break}}else{first=false}var elt=void 0;if(allowEmpty&&this.type===types$1.comma){elt=null}else if(this.type===types$1.ellipsis){elt=this.parseSpread(refDestructuringErrors);if(refDestructuringErrors&&this.type===types$1.comma&&refDestructuringErrors.trailingComma<0){refDestructuringErrors.trailingComma=this.start}}else{elt=this.parseMaybeAssign(false,refDestructuringErrors)}elts.push(elt)}return elts};pp$5.checkUnreserved=function(ref){var start=ref.start;var end=ref.end;var name=ref.name;if(this.inGenerator&&name==="yield"){this.raiseRecoverable(start,"Cannot use 'yield' as identifier inside a generator")}if(this.inAsync&&name==="await"){this.raiseRecoverable(start,"Cannot use 'await' as identifier inside an async function")}if(this.currentThisScope().inClassFieldInit&&name==="arguments"){this.raiseRecoverable(start,"Cannot use 'arguments' in class field initializer")}if(this.inClassStaticBlock&&(name==="arguments"||name==="await")){this.raise(start,"Cannot use "+name+" in class static initialization block")}if(this.keywords.test(name)){this.raise(start,"Unexpected keyword '"+name+"'")}if(this.options.ecmaVersion<6&&this.input.slice(start,end).indexOf("\\")!==-1){return}var re=this.strict?this.reservedWordsStrict:this.reservedWords;if(re.test(name)){if(!this.inAsync&&name==="await"){this.raiseRecoverable(start,"Cannot use keyword 'await' outside an async function")}this.raiseRecoverable(start,"The keyword '"+name+"' is reserved")}};pp$5.parseIdent=function(liberal,isBinding){var node=this.startNode();if(this.type===types$1.name){node.name=this.value}else if(this.type.keyword){node.name=this.type.keyword;if((node.name==="class"||node.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)){this.context.pop()}}else{this.unexpected()}this.next(!!liberal);this.finishNode(node,"Identifier");if(!liberal){this.checkUnreserved(node);if(node.name==="await"&&!this.awaitIdentPos){this.awaitIdentPos=node.start}}return node};pp$5.parsePrivateIdent=function(){var node=this.startNode();if(this.type===types$1.privateId){node.name=this.value}else{this.unexpected()}this.next();this.finishNode(node,"PrivateIdentifier");if(this.privateNameStack.length===0){this.raise(node.start,"Private field '#"+node.name+"' must be declared in an enclosing class")}else{this.privateNameStack[this.privateNameStack.length-1].used.push(node)}return node};pp$5.parseYield=function(forInit){if(!this.yieldPos){this.yieldPos=this.start}var node=this.startNode();this.next();if(this.type===types$1.semi||this.canInsertSemicolon()||this.type!==types$1.star&&!this.type.startsExpr){node.delegate=false;node.argument=null}else{node.delegate=this.eat(types$1.star);node.argument=this.parseMaybeAssign(forInit)}return this.finishNode(node,"YieldExpression")};pp$5.parseAwait=function(forInit){if(!this.awaitPos){this.awaitPos=this.start}var node=this.startNode();this.next();node.argument=this.parseMaybeUnary(null,true,false,forInit);return this.finishNode(node,"AwaitExpression")};var pp$4=Parser.prototype;pp$4.raise=function(pos,message){var loc=getLineInfo(this.input,pos);message+=" ("+loc.line+":"+loc.column+")";var err=new SyntaxError(message);err.pos=pos;err.loc=loc;err.raisedAt=this.pos;throw err};pp$4.raiseRecoverable=pp$4.raise;pp$4.curPosition=function(){if(this.options.locations){return new Position(this.curLine,this.pos-this.lineStart)}};var pp$3=Parser.prototype;var Scope=function Scope(flags){this.flags=flags;this.var=[];this.lexical=[];this.functions=[];this.inClassFieldInit=false};pp$3.enterScope=function(flags){this.scopeStack.push(new Scope(flags))};pp$3.exitScope=function(){this.scopeStack.pop()};pp$3.treatFunctionsAsVarInScope=function(scope){return scope.flags&SCOPE_FUNCTION||!this.inModule&&scope.flags&SCOPE_TOP};pp$3.declareName=function(name,bindingType,pos){var redeclared=false;if(bindingType===BIND_LEXICAL){var scope=this.currentScope();redeclared=scope.lexical.indexOf(name)>-1||scope.functions.indexOf(name)>-1||scope.var.indexOf(name)>-1;scope.lexical.push(name);if(this.inModule&&scope.flags&SCOPE_TOP){delete this.undefinedExports[name]}}else if(bindingType===BIND_SIMPLE_CATCH){var scope$1=this.currentScope();scope$1.lexical.push(name)}else if(bindingType===BIND_FUNCTION){var scope$2=this.currentScope();if(this.treatFunctionsAsVar){redeclared=scope$2.lexical.indexOf(name)>-1}else{redeclared=scope$2.lexical.indexOf(name)>-1||scope$2.var.indexOf(name)>-1}scope$2.functions.push(name)}else{for(var i=this.scopeStack.length-1;i>=0;--i){var scope$3=this.scopeStack[i];if(scope$3.lexical.indexOf(name)>-1&&!(scope$3.flags&SCOPE_SIMPLE_CATCH&&scope$3.lexical[0]===name)||!this.treatFunctionsAsVarInScope(scope$3)&&scope$3.functions.indexOf(name)>-1){redeclared=true;break}scope$3.var.push(name);if(this.inModule&&scope$3.flags&SCOPE_TOP){delete this.undefinedExports[name]}if(scope$3.flags&SCOPE_VAR){break}}}if(redeclared){this.raiseRecoverable(pos,"Identifier '"+name+"' has already been declared")}};pp$3.checkLocalExport=function(id){if(this.scopeStack[0].lexical.indexOf(id.name)===-1&&this.scopeStack[0].var.indexOf(id.name)===-1){this.undefinedExports[id.name]=id}};pp$3.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};pp$3.currentVarScope=function(){for(var i=this.scopeStack.length-1;;i--){var scope=this.scopeStack[i];if(scope.flags&SCOPE_VAR){return scope}}};pp$3.currentThisScope=function(){for(var i=this.scopeStack.length-1;;i--){var scope=this.scopeStack[i];if(scope.flags&SCOPE_VAR&&!(scope.flags&SCOPE_ARROW)){return scope}}};var Node=function Node(parser,pos,loc){this.type="";this.start=pos;this.end=0;if(parser.options.locations){this.loc=new SourceLocation(parser,loc)}if(parser.options.directSourceFile){this.sourceFile=parser.options.directSourceFile}if(parser.options.ranges){this.range=[pos,0]}};var pp$2=Parser.prototype;pp$2.startNode=function(){return new Node(this,this.start,this.startLoc)};pp$2.startNodeAt=function(pos,loc){return new Node(this,pos,loc)};function finishNodeAt(node,type,pos,loc){node.type=type;node.end=pos;if(this.options.locations){node.loc.end=loc}if(this.options.ranges){node.range[1]=pos}return node}pp$2.finishNode=function(node,type){return finishNodeAt.call(this,node,type,this.lastTokEnd,this.lastTokEndLoc)};pp$2.finishNodeAt=function(node,type,pos,loc){return finishNodeAt.call(this,node,type,pos,loc)};pp$2.copyNode=function(node){var newNode=new Node(this,node.start,this.startLoc);for(var prop in node){newNode[prop]=node[prop]}return newNode};var ecma9BinaryProperties="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS";var ecma10BinaryProperties=ecma9BinaryProperties+" Extended_Pictographic";var ecma11BinaryProperties=ecma10BinaryProperties;var ecma12BinaryProperties=ecma11BinaryProperties+" EBase EComp EMod EPres ExtPict";var ecma13BinaryProperties=ecma12BinaryProperties;var unicodeBinaryProperties={9:ecma9BinaryProperties,10:ecma10BinaryProperties,11:ecma11BinaryProperties,12:ecma12BinaryProperties,13:ecma13BinaryProperties};var unicodeGeneralCategoryValues="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu";var ecma9ScriptValues="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb";var ecma10ScriptValues=ecma9ScriptValues+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd";var ecma11ScriptValues=ecma10ScriptValues+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho";var ecma12ScriptValues=ecma11ScriptValues+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi";var ecma13ScriptValues=ecma12ScriptValues+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith";var unicodeScriptValues={9:ecma9ScriptValues,10:ecma10ScriptValues,11:ecma11ScriptValues,12:ecma12ScriptValues,13:ecma13ScriptValues};var data={};function buildUnicodeData(ecmaVersion){var d=data[ecmaVersion]={binary:wordsRegexp(unicodeBinaryProperties[ecmaVersion]+" "+unicodeGeneralCategoryValues),nonBinary:{General_Category:wordsRegexp(unicodeGeneralCategoryValues),Script:wordsRegexp(unicodeScriptValues[ecmaVersion])}};d.nonBinary.Script_Extensions=d.nonBinary.Script;d.nonBinary.gc=d.nonBinary.General_Category;d.nonBinary.sc=d.nonBinary.Script;d.nonBinary.scx=d.nonBinary.Script_Extensions}for(var i=0,list=[9,10,11,12,13];i<list.length;i+=1){var ecmaVersion=list[i];buildUnicodeData(ecmaVersion)}var pp$1=Parser.prototype;var RegExpValidationState=function RegExpValidationState(parser){this.parser=parser;this.validFlags="gim"+(parser.options.ecmaVersion>=6?"uy":"")+(parser.options.ecmaVersion>=9?"s":"")+(parser.options.ecmaVersion>=13?"d":"");this.unicodeProperties=data[parser.options.ecmaVersion>=13?13:parser.options.ecmaVersion];this.source="";this.flags="";this.start=0;this.switchU=false;this.switchN=false;this.pos=0;this.lastIntValue=0;this.lastStringValue="";this.lastAssertionIsQuantifiable=false;this.numCapturingParens=0;this.maxBackReference=0;this.groupNames=[];this.backReferenceNames=[]};RegExpValidationState.prototype.reset=function reset(start,pattern,flags){var unicode=flags.indexOf("u")!==-1;this.start=start|0;this.source=pattern+"";this.flags=flags;this.switchU=unicode&&this.parser.options.ecmaVersion>=6;this.switchN=unicode&&this.parser.options.ecmaVersion>=9};RegExpValidationState.prototype.raise=function raise(message){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+message)};RegExpValidationState.prototype.at=function at(i,forceU){if(forceU===void 0)forceU=false;var s=this.source;var l=s.length;if(i>=l){return-1}var c=s.charCodeAt(i);if(!(forceU||this.switchU)||c<=55295||c>=57344||i+1>=l){return c}var next=s.charCodeAt(i+1);return next>=56320&&next<=57343?(c<<10)+next-56613888:c};RegExpValidationState.prototype.nextIndex=function nextIndex(i,forceU){if(forceU===void 0)forceU=false;var s=this.source;var l=s.length;if(i>=l){return l}var c=s.charCodeAt(i),next;if(!(forceU||this.switchU)||c<=55295||c>=57344||i+1>=l||(next=s.charCodeAt(i+1))<56320||next>57343){return i+1}return i+2};RegExpValidationState.prototype.current=function current(forceU){if(forceU===void 0)forceU=false;return this.at(this.pos,forceU)};RegExpValidationState.prototype.lookahead=function lookahead(forceU){if(forceU===void 0)forceU=false;return this.at(this.nextIndex(this.pos,forceU),forceU)};RegExpValidationState.prototype.advance=function advance(forceU){if(forceU===void 0)forceU=false;this.pos=this.nextIndex(this.pos,forceU)};RegExpValidationState.prototype.eat=function eat(ch,forceU){if(forceU===void 0)forceU=false;if(this.current(forceU)===ch){this.advance(forceU);return true}return false};pp$1.validateRegExpFlags=function(state){var validFlags=state.validFlags;var flags=state.flags;for(var i=0;i<flags.length;i++){var flag=flags.charAt(i);if(validFlags.indexOf(flag)===-1){this.raise(state.start,"Invalid regular expression flag")}if(flags.indexOf(flag,i+1)>-1){this.raise(state.start,"Duplicate regular expression flag")}}};pp$1.validateRegExpPattern=function(state){this.regexp_pattern(state);if(!state.switchN&&this.options.ecmaVersion>=9&&state.groupNames.length>0){state.switchN=true;this.regexp_pattern(state)}};pp$1.regexp_pattern=function(state){state.pos=0;state.lastIntValue=0;state.lastStringValue="";state.lastAssertionIsQuantifiable=false;state.numCapturingParens=0;state.maxBackReference=0;state.groupNames.length=0;state.backReferenceNames.length=0;this.regexp_disjunction(state);if(state.pos!==state.source.length){if(state.eat(41)){state.raise("Unmatched ')'")}if(state.eat(93)||state.eat(125)){state.raise("Lone quantifier brackets")}}if(state.maxBackReference>state.numCapturingParens){state.raise("Invalid escape")}for(var i=0,list=state.backReferenceNames;i<list.length;i+=1){var name=list[i];if(state.groupNames.indexOf(name)===-1){state.raise("Invalid named capture referenced")}}};pp$1.regexp_disjunction=function(state){this.regexp_alternative(state);while(state.eat(124)){this.regexp_alternative(state)}if(this.regexp_eatQuantifier(state,true)){state.raise("Nothing to repeat")}if(state.eat(123)){state.raise("Lone quantifier brackets")}};pp$1.regexp_alternative=function(state){while(state.pos<state.source.length&&this.regexp_eatTerm(state)){}};pp$1.regexp_eatTerm=function(state){if(this.regexp_eatAssertion(state)){if(state.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(state)){if(state.switchU){state.raise("Invalid quantifier")}}return true}if(state.switchU?this.regexp_eatAtom(state):this.regexp_eatExtendedAtom(state)){this.regexp_eatQuantifier(state);return true}return false};pp$1.regexp_eatAssertion=function(state){var start=state.pos;state.lastAssertionIsQuantifiable=false;if(state.eat(94)||state.eat(36)){return true}if(state.eat(92)){if(state.eat(66)||state.eat(98)){return true}state.pos=start}if(state.eat(40)&&state.eat(63)){var lookbehind=false;if(this.options.ecmaVersion>=9){lookbehind=state.eat(60)}if(state.eat(61)||state.eat(33)){this.regexp_disjunction(state);if(!state.eat(41)){state.raise("Unterminated group")}state.lastAssertionIsQuantifiable=!lookbehind;return true}}state.pos=start;return false};pp$1.regexp_eatQuantifier=function(state,noError){if(noError===void 0)noError=false;if(this.regexp_eatQuantifierPrefix(state,noError)){state.eat(63);return true}return false};pp$1.regexp_eatQuantifierPrefix=function(state,noError){return state.eat(42)||state.eat(43)||state.eat(63)||this.regexp_eatBracedQuantifier(state,noError)};pp$1.regexp_eatBracedQuantifier=function(state,noError){var start=state.pos;if(state.eat(123)){var min=0,max=-1;if(this.regexp_eatDecimalDigits(state)){min=state.lastIntValue;if(state.eat(44)&&this.regexp_eatDecimalDigits(state)){max=state.lastIntValue}if(state.eat(125)){if(max!==-1&&max<min&&!noError){state.raise("numbers out of order in {} quantifier")}return true}}if(state.switchU&&!noError){state.raise("Incomplete quantifier")}state.pos=start}return false};pp$1.regexp_eatAtom=function(state){return this.regexp_eatPatternCharacters(state)||state.eat(46)||this.regexp_eatReverseSolidusAtomEscape(state)||this.regexp_eatCharacterClass(state)||this.regexp_eatUncapturingGroup(state)||this.regexp_eatCapturingGroup(state)};pp$1.regexp_eatReverseSolidusAtomEscape=function(state){var start=state.pos;if(state.eat(92)){if(this.regexp_eatAtomEscape(state)){return true}state.pos=start}return false};pp$1.regexp_eatUncapturingGroup=function(state){var start=state.pos;if(state.eat(40)){if(state.eat(63)&&state.eat(58)){this.regexp_disjunction(state);if(state.eat(41)){return true}state.raise("Unterminated group")}state.pos=start}return false};pp$1.regexp_eatCapturingGroup=function(state){if(state.eat(40)){if(this.options.ecmaVersion>=9){this.regexp_groupSpecifier(state)}else if(state.current()===63){state.raise("Invalid group")}this.regexp_disjunction(state);if(state.eat(41)){state.numCapturingParens+=1;return true}state.raise("Unterminated group")}return false};pp$1.regexp_eatExtendedAtom=function(state){return state.eat(46)||this.regexp_eatReverseSolidusAtomEscape(state)||this.regexp_eatCharacterClass(state)||this.regexp_eatUncapturingGroup(state)||this.regexp_eatCapturingGroup(state)||this.regexp_eatInvalidBracedQuantifier(state)||this.regexp_eatExtendedPatternCharacter(state)};pp$1.regexp_eatInvalidBracedQuantifier=function(state){if(this.regexp_eatBracedQuantifier(state,true)){state.raise("Nothing to repeat")}return false};pp$1.regexp_eatSyntaxCharacter=function(state){var ch=state.current();if(isSyntaxCharacter(ch)){state.lastIntValue=ch;state.advance();return true}return false};function isSyntaxCharacter(ch){return ch===36||ch>=40&&ch<=43||ch===46||ch===63||ch>=91&&ch<=94||ch>=123&&ch<=125}pp$1.regexp_eatPatternCharacters=function(state){var start=state.pos;var ch=0;while((ch=state.current())!==-1&&!isSyntaxCharacter(ch)){state.advance()}return state.pos!==start};pp$1.regexp_eatExtendedPatternCharacter=function(state){var ch=state.current();if(ch!==-1&&ch!==36&&!(ch>=40&&ch<=43)&&ch!==46&&ch!==63&&ch!==91&&ch!==94&&ch!==124){state.advance();return true}return false};pp$1.regexp_groupSpecifier=function(state){if(state.eat(63)){if(this.regexp_eatGroupName(state)){if(state.groupNames.indexOf(state.lastStringValue)!==-1){state.raise("Duplicate capture group name")}state.groupNames.push(state.lastStringValue);return}state.raise("Invalid group")}};pp$1.regexp_eatGroupName=function(state){state.lastStringValue="";if(state.eat(60)){if(this.regexp_eatRegExpIdentifierName(state)&&state.eat(62)){return true}state.raise("Invalid capture group name")}return false};pp$1.regexp_eatRegExpIdentifierName=function(state){state.lastStringValue="";if(this.regexp_eatRegExpIdentifierStart(state)){state.lastStringValue+=codePointToString(state.lastIntValue);while(this.regexp_eatRegExpIdentifierPart(state)){state.lastStringValue+=codePointToString(state.lastIntValue)}return true}return false};pp$1.regexp_eatRegExpIdentifierStart=function(state){var start=state.pos;var forceU=this.options.ecmaVersion>=11;var ch=state.current(forceU);state.advance(forceU);if(ch===92&&this.regexp_eatRegExpUnicodeEscapeSequence(state,forceU)){ch=state.lastIntValue}if(isRegExpIdentifierStart(ch)){state.lastIntValue=ch;return true}state.pos=start;return false};function isRegExpIdentifierStart(ch){return isIdentifierStart(ch,true)||ch===36||ch===95}pp$1.regexp_eatRegExpIdentifierPart=function(state){var start=state.pos;var forceU=this.options.ecmaVersion>=11;var ch=state.current(forceU);state.advance(forceU);if(ch===92&&this.regexp_eatRegExpUnicodeEscapeSequence(state,forceU)){ch=state.lastIntValue}if(isRegExpIdentifierPart(ch)){state.lastIntValue=ch;return true}state.pos=start;return false};function isRegExpIdentifierPart(ch){return isIdentifierChar(ch,true)||ch===36||ch===95||ch===8204||ch===8205}pp$1.regexp_eatAtomEscape=function(state){if(this.regexp_eatBackReference(state)||this.regexp_eatCharacterClassEscape(state)||this.regexp_eatCharacterEscape(state)||state.switchN&&this.regexp_eatKGroupName(state)){return true}if(state.switchU){if(state.current()===99){state.raise("Invalid unicode escape")}state.raise("Invalid escape")}return false};pp$1.regexp_eatBackReference=function(state){var start=state.pos;if(this.regexp_eatDecimalEscape(state)){var n=state.lastIntValue;if(state.switchU){if(n>state.maxBackReference){state.maxBackReference=n}return true}if(n<=state.numCapturingParens){return true}state.pos=start}return false};pp$1.regexp_eatKGroupName=function(state){if(state.eat(107)){if(this.regexp_eatGroupName(state)){state.backReferenceNames.push(state.lastStringValue);return true}state.raise("Invalid named reference")}return false};pp$1.regexp_eatCharacterEscape=function(state){return this.regexp_eatControlEscape(state)||this.regexp_eatCControlLetter(state)||this.regexp_eatZero(state)||this.regexp_eatHexEscapeSequence(state)||this.regexp_eatRegExpUnicodeEscapeSequence(state,false)||!state.switchU&&this.regexp_eatLegacyOctalEscapeSequence(state)||this.regexp_eatIdentityEscape(state)};pp$1.regexp_eatCControlLetter=function(state){var start=state.pos;if(state.eat(99)){if(this.regexp_eatControlLetter(state)){return true}state.pos=start}return false};pp$1.regexp_eatZero=function(state){if(state.current()===48&&!isDecimalDigit(state.lookahead())){state.lastIntValue=0;state.advance();return true}return false};pp$1.regexp_eatControlEscape=function(state){var ch=state.current();if(ch===116){state.lastIntValue=9;state.advance();return true}if(ch===110){state.lastIntValue=10;state.advance();return true}if(ch===118){state.lastIntValue=11;state.advance();return true}if(ch===102){state.lastIntValue=12;state.advance();return true}if(ch===114){state.lastIntValue=13;state.advance();return true}return false};pp$1.regexp_eatControlLetter=function(state){var ch=state.current();if(isControlLetter(ch)){state.lastIntValue=ch%32;state.advance();return true}return false};function isControlLetter(ch){return ch>=65&&ch<=90||ch>=97&&ch<=122}pp$1.regexp_eatRegExpUnicodeEscapeSequence=function(state,forceU){if(forceU===void 0)forceU=false;var start=state.pos;var switchU=forceU||state.switchU;if(state.eat(117)){if(this.regexp_eatFixedHexDigits(state,4)){var lead=state.lastIntValue;if(switchU&&lead>=55296&&lead<=56319){var leadSurrogateEnd=state.pos;if(state.eat(92)&&state.eat(117)&&this.regexp_eatFixedHexDigits(state,4)){var trail=state.lastIntValue;if(trail>=56320&&trail<=57343){state.lastIntValue=(lead-55296)*1024+(trail-56320)+65536;return true}}state.pos=leadSurrogateEnd;state.lastIntValue=lead}return true}if(switchU&&state.eat(123)&&this.regexp_eatHexDigits(state)&&state.eat(125)&&isValidUnicode(state.lastIntValue)){return true}if(switchU){state.raise("Invalid unicode escape")}state.pos=start}return false};function isValidUnicode(ch){return ch>=0&&ch<=1114111}pp$1.regexp_eatIdentityEscape=function(state){if(state.switchU){if(this.regexp_eatSyntaxCharacter(state)){return true}if(state.eat(47)){state.lastIntValue=47;return true}return false}var ch=state.current();if(ch!==99&&(!state.switchN||ch!==107)){state.lastIntValue=ch;state.advance();return true}return false};pp$1.regexp_eatDecimalEscape=function(state){state.lastIntValue=0;var ch=state.current();if(ch>=49&&ch<=57){do{state.lastIntValue=10*state.lastIntValue+(ch-48);state.advance()}while((ch=state.current())>=48&&ch<=57);return true}return false};pp$1.regexp_eatCharacterClassEscape=function(state){var ch=state.current();if(isCharacterClassEscape(ch)){state.lastIntValue=-1;state.advance();return true}if(state.switchU&&this.options.ecmaVersion>=9&&(ch===80||ch===112)){state.lastIntValue=-1;state.advance();if(state.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(state)&&state.eat(125)){return true}state.raise("Invalid property name")}return false};function isCharacterClassEscape(ch){return ch===100||ch===68||ch===115||ch===83||ch===119||ch===87}pp$1.regexp_eatUnicodePropertyValueExpression=function(state){var start=state.pos;if(this.regexp_eatUnicodePropertyName(state)&&state.eat(61)){var name=state.lastStringValue;if(this.regexp_eatUnicodePropertyValue(state)){var value=state.lastStringValue;this.regexp_validateUnicodePropertyNameAndValue(state,name,value);return true}}state.pos=start;if(this.regexp_eatLoneUnicodePropertyNameOrValue(state)){var nameOrValue=state.lastStringValue;this.regexp_validateUnicodePropertyNameOrValue(state,nameOrValue);return true}return false};pp$1.regexp_validateUnicodePropertyNameAndValue=function(state,name,value){if(!hasOwn(state.unicodeProperties.nonBinary,name)){state.raise("Invalid property name")}if(!state.unicodeProperties.nonBinary[name].test(value)){state.raise("Invalid property value")}};pp$1.regexp_validateUnicodePropertyNameOrValue=function(state,nameOrValue){if(!state.unicodeProperties.binary.test(nameOrValue)){state.raise("Invalid property name")}};pp$1.regexp_eatUnicodePropertyName=function(state){var ch=0;state.lastStringValue="";while(isUnicodePropertyNameCharacter(ch=state.current())){state.lastStringValue+=codePointToString(ch);state.advance()}return state.lastStringValue!==""};function isUnicodePropertyNameCharacter(ch){return isControlLetter(ch)||ch===95}pp$1.regexp_eatUnicodePropertyValue=function(state){var ch=0;state.lastStringValue="";while(isUnicodePropertyValueCharacter(ch=state.current())){state.lastStringValue+=codePointToString(ch);state.advance()}return state.lastStringValue!==""};function isUnicodePropertyValueCharacter(ch){return isUnicodePropertyNameCharacter(ch)||isDecimalDigit(ch)}pp$1.regexp_eatLoneUnicodePropertyNameOrValue=function(state){return this.regexp_eatUnicodePropertyValue(state)};pp$1.regexp_eatCharacterClass=function(state){if(state.eat(91)){state.eat(94);this.regexp_classRanges(state);if(state.eat(93)){return true}state.raise("Unterminated character class")}return false};pp$1.regexp_classRanges=function(state){while(this.regexp_eatClassAtom(state)){var left=state.lastIntValue;if(state.eat(45)&&this.regexp_eatClassAtom(state)){var right=state.lastIntValue;if(state.switchU&&(left===-1||right===-1)){state.raise("Invalid character class")}if(left!==-1&&right!==-1&&left>right){state.raise("Range out of order in character class")}}}};pp$1.regexp_eatClassAtom=function(state){var start=state.pos;if(state.eat(92)){if(this.regexp_eatClassEscape(state)){return true}if(state.switchU){var ch$1=state.current();if(ch$1===99||isOctalDigit(ch$1)){state.raise("Invalid class escape")}state.raise("Invalid escape")}state.pos=start}var ch=state.current();if(ch!==93){state.lastIntValue=ch;state.advance();return true}return false};pp$1.regexp_eatClassEscape=function(state){var start=state.pos;if(state.eat(98)){state.lastIntValue=8;return true}if(state.switchU&&state.eat(45)){state.lastIntValue=45;return true}if(!state.switchU&&state.eat(99)){if(this.regexp_eatClassControlLetter(state)){return true}state.pos=start}return this.regexp_eatCharacterClassEscape(state)||this.regexp_eatCharacterEscape(state)};pp$1.regexp_eatClassControlLetter=function(state){var ch=state.current();if(isDecimalDigit(ch)||ch===95){state.lastIntValue=ch%32;state.advance();return true}return false};pp$1.regexp_eatHexEscapeSequence=function(state){var start=state.pos;if(state.eat(120)){if(this.regexp_eatFixedHexDigits(state,2)){return true}if(state.switchU){state.raise("Invalid escape")}state.pos=start}return false};pp$1.regexp_eatDecimalDigits=function(state){var start=state.pos;var ch=0;state.lastIntValue=0;while(isDecimalDigit(ch=state.current())){state.lastIntValue=10*state.lastIntValue+(ch-48);state.advance()}return state.pos!==start};function isDecimalDigit(ch){return ch>=48&&ch<=57}pp$1.regexp_eatHexDigits=function(state){var start=state.pos;var ch=0;state.lastIntValue=0;while(isHexDigit(ch=state.current())){state.lastIntValue=16*state.lastIntValue+hexToInt(ch);state.advance()}return state.pos!==start};function isHexDigit(ch){return ch>=48&&ch<=57||ch>=65&&ch<=70||ch>=97&&ch<=102}function hexToInt(ch){if(ch>=65&&ch<=70){return 10+(ch-65)}if(ch>=97&&ch<=102){return 10+(ch-97)}return ch-48}pp$1.regexp_eatLegacyOctalEscapeSequence=function(state){if(this.regexp_eatOctalDigit(state)){var n1=state.lastIntValue;if(this.regexp_eatOctalDigit(state)){var n2=state.lastIntValue;if(n1<=3&&this.regexp_eatOctalDigit(state)){state.lastIntValue=n1*64+n2*8+state.lastIntValue}else{state.lastIntValue=n1*8+n2}}else{state.lastIntValue=n1}return true}return false};pp$1.regexp_eatOctalDigit=function(state){var ch=state.current();if(isOctalDigit(ch)){state.lastIntValue=ch-48;state.advance();return true}state.lastIntValue=0;return false};function isOctalDigit(ch){return ch>=48&&ch<=55}pp$1.regexp_eatFixedHexDigits=function(state,length){var start=state.pos;state.lastIntValue=0;for(var i=0;i<length;++i){var ch=state.current();if(!isHexDigit(ch)){state.pos=start;return false}state.lastIntValue=16*state.lastIntValue+hexToInt(ch);state.advance()}return true};var Token=function Token(p){this.type=p.type;this.value=p.value;this.start=p.start;this.end=p.end;if(p.options.locations){this.loc=new SourceLocation(p,p.startLoc,p.endLoc)}if(p.options.ranges){this.range=[p.start,p.end]}};var pp=Parser.prototype;pp.next=function(ignoreEscapeSequenceInKeyword){if(!ignoreEscapeSequenceInKeyword&&this.type.keyword&&this.containsEsc){this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword)}if(this.options.onToken){this.options.onToken(new Token(this))}this.lastTokEnd=this.end;this.lastTokStart=this.start;this.lastTokEndLoc=this.endLoc;this.lastTokStartLoc=this.startLoc;this.nextToken()};pp.getToken=function(){this.next();return new Token(this)};if(typeof Symbol!=="undefined"){pp[Symbol.iterator]=function(){var this$1$1=this;return{next:function(){var token=this$1$1.getToken();return{done:token.type===types$1.eof,value:token}}}}}pp.nextToken=function(){var curContext=this.curContext();if(!curContext||!curContext.preserveSpace){this.skipSpace()}this.start=this.pos;if(this.options.locations){this.startLoc=this.curPosition()}if(this.pos>=this.input.length){return this.finishToken(types$1.eof)}if(curContext.override){return curContext.override(this)}else{this.readToken(this.fullCharCodeAtPos())}};pp.readToken=function(code){if(isIdentifierStart(code,this.options.ecmaVersion>=6)||code===92){return this.readWord()}return this.getTokenFromCode(code)};pp.fullCharCodeAtPos=function(){var code=this.input.charCodeAt(this.pos);if(code<=55295||code>=56320){return code}var next=this.input.charCodeAt(this.pos+1);return next<=56319||next>=57344?code:(code<<10)+next-56613888};pp.skipBlockComment=function(){var startLoc=this.options.onComment&&this.curPosition();var start=this.pos,end=this.input.indexOf("*/",this.pos+=2);if(end===-1){this.raise(this.pos-2,"Unterminated comment")}this.pos=end+2;if(this.options.locations){for(var nextBreak=void 0,pos=start;(nextBreak=nextLineBreak(this.input,pos,this.pos))>-1;){++this.curLine;pos=this.lineStart=nextBreak}}if(this.options.onComment){this.options.onComment(true,this.input.slice(start+2,end),start,this.pos,startLoc,this.curPosition())}};pp.skipLineComment=function(startSkip){var start=this.pos;var startLoc=this.options.onComment&&this.curPosition();var ch=this.input.charCodeAt(this.pos+=startSkip);while(this.pos<this.input.length&&!isNewLine(ch)){ch=this.input.charCodeAt(++this.pos)}if(this.options.onComment){this.options.onComment(false,this.input.slice(start+startSkip,this.pos),start,this.pos,startLoc,this.curPosition())}};pp.skipSpace=function(){loop:while(this.pos<this.input.length){var ch=this.input.charCodeAt(this.pos);switch(ch){case 32:case 160:++this.pos;break;case 13:if(this.input.charCodeAt(this.pos+1)===10){++this.pos}case 10:case 8232:case 8233:++this.pos;if(this.options.locations){++this.curLine;this.lineStart=this.pos}break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break loop}break;default:if(ch>8&&ch<14||ch>=5760&&nonASCIIwhitespace.test(String.fromCharCode(ch))){++this.pos}else{break loop}}}};pp.finishToken=function(type,val){this.end=this.pos;if(this.options.locations){this.endLoc=this.curPosition()}var prevType=this.type;this.type=type;this.value=val;this.updateContext(prevType)};pp.readToken_dot=function(){var next=this.input.charCodeAt(this.pos+1);if(next>=48&&next<=57){return this.readNumber(true)}var next2=this.input.charCodeAt(this.pos+2);if(this.options.ecmaVersion>=6&&next===46&&next2===46){this.pos+=3;return this.finishToken(types$1.ellipsis)}else{++this.pos;return this.finishToken(types$1.dot)}};pp.readToken_slash=function(){var next=this.input.charCodeAt(this.pos+1);if(this.exprAllowed){++this.pos;return this.readRegexp()}if(next===61){return this.finishOp(types$1.assign,2)}return this.finishOp(types$1.slash,1)};pp.readToken_mult_modulo_exp=function(code){var next=this.input.charCodeAt(this.pos+1);var size=1;var tokentype=code===42?types$1.star:types$1.modulo;if(this.options.ecmaVersion>=7&&code===42&&next===42){++size;tokentype=types$1.starstar;next=this.input.charCodeAt(this.pos+2)}if(next===61){return this.finishOp(types$1.assign,size+1)}return this.finishOp(tokentype,size)};pp.readToken_pipe_amp=function(code){var next=this.input.charCodeAt(this.pos+1);if(next===code){if(this.options.ecmaVersion>=12){var next2=this.input.charCodeAt(this.pos+2);if(next2===61){return this.finishOp(types$1.assign,3)}}return this.finishOp(code===124?types$1.logicalOR:types$1.logicalAND,2)}if(next===61){return this.finishOp(types$1.assign,2)}return this.finishOp(code===124?types$1.bitwiseOR:types$1.bitwiseAND,1)};pp.readToken_caret=function(){var next=this.input.charCodeAt(this.pos+1);if(next===61){return this.finishOp(types$1.assign,2)}return this.finishOp(types$1.bitwiseXOR,1)};pp.readToken_plus_min=function(code){var next=this.input.charCodeAt(this.pos+1);if(next===code){if(next===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||lineBreak.test(this.input.slice(this.lastTokEnd,this.pos)))){this.skipLineComment(3);this.skipSpace();return this.nextToken()}return this.finishOp(types$1.incDec,2)}if(next===61){return this.finishOp(types$1.assign,2)}return this.finishOp(types$1.plusMin,1)};pp.readToken_lt_gt=function(code){var next=this.input.charCodeAt(this.pos+1);var size=1;if(next===code){size=code===62&&this.input.charCodeAt(this.pos+2)===62?3:2;if(this.input.charCodeAt(this.pos+size)===61){return this.finishOp(types$1.assign,size+1)}return this.finishOp(types$1.bitShift,size)}if(next===33&&code===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45){this.skipLineComment(4);this.skipSpace();return this.nextToken()}if(next===61){size=2}return this.finishOp(types$1.relational,size)};pp.readToken_eq_excl=function(code){var next=this.input.charCodeAt(this.pos+1);if(next===61){return this.finishOp(types$1.equality,this.input.charCodeAt(this.pos+2)===61?3:2)}if(code===61&&next===62&&this.options.ecmaVersion>=6){this.pos+=2;return this.finishToken(types$1.arrow)}return this.finishOp(code===61?types$1.eq:types$1.prefix,1)};pp.readToken_question=function(){var ecmaVersion=this.options.ecmaVersion;if(ecmaVersion>=11){var next=this.input.charCodeAt(this.pos+1);if(next===46){var next2=this.input.charCodeAt(this.pos+2);if(next2<48||next2>57){return this.finishOp(types$1.questionDot,2)}}if(next===63){if(ecmaVersion>=12){var next2$1=this.input.charCodeAt(this.pos+2);if(next2$1===61){return this.finishOp(types$1.assign,3)}}return this.finishOp(types$1.coalesce,2)}}return this.finishOp(types$1.question,1)};pp.readToken_numberSign=function(){var ecmaVersion=this.options.ecmaVersion;var code=35;if(ecmaVersion>=13){++this.pos;code=this.fullCharCodeAtPos();if(isIdentifierStart(code,true)||code===92){return this.finishToken(types$1.privateId,this.readWord1())}}this.raise(this.pos,"Unexpected character '"+codePointToString(code)+"'")};pp.getTokenFromCode=function(code){switch(code){case 46:return this.readToken_dot();case 40:++this.pos;return this.finishToken(types$1.parenL);case 41:++this.pos;return this.finishToken(types$1.parenR);case 59:++this.pos;return this.finishToken(types$1.semi);case 44:++this.pos;return this.finishToken(types$1.comma);case 91:++this.pos;return this.finishToken(types$1.bracketL);case 93:++this.pos;return this.finishToken(types$1.bracketR);case 123:++this.pos;return this.finishToken(types$1.braceL);case 125:++this.pos;return this.finishToken(types$1.braceR);case 58:++this.pos;return this.finishToken(types$1.colon);case 96:if(this.options.ecmaVersion<6){break}++this.pos;return this.finishToken(types$1.backQuote);case 48:var next=this.input.charCodeAt(this.pos+1);if(next===120||next===88){return this.readRadixNumber(16)}if(this.options.ecmaVersion>=6){if(next===111||next===79){return this.readRadixNumber(8)}if(next===98||next===66){return this.readRadixNumber(2)}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(false);case 34:case 39:return this.readString(code);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(code);case 124:case 38:return this.readToken_pipe_amp(code);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(code);case 60:case 62:return this.readToken_lt_gt(code);case 61:case 33:return this.readToken_eq_excl(code);case 63:return this.readToken_question();case 126:return this.finishOp(types$1.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+codePointToString(code)+"'")};pp.finishOp=function(type,size){var str=this.input.slice(this.pos,this.pos+size);this.pos+=size;return this.finishToken(type,str)};pp.readRegexp=function(){var escaped,inClass,start=this.pos;for(;;){if(this.pos>=this.input.length){this.raise(start,"Unterminated regular expression")}var ch=this.input.charAt(this.pos);if(lineBreak.test(ch)){this.raise(start,"Unterminated regular expression")}if(!escaped){if(ch==="["){inClass=true}else if(ch==="]"&&inClass){inClass=false}else if(ch==="/"&&!inClass){break}escaped=ch==="\\"}else{escaped=false}++this.pos}var pattern=this.input.slice(start,this.pos);++this.pos;var flagsStart=this.pos;var flags=this.readWord1();if(this.containsEsc){this.unexpected(flagsStart)}var state=this.regexpState||(this.regexpState=new RegExpValidationState(this));state.reset(start,pattern,flags);this.validateRegExpFlags(state);this.validateRegExpPattern(state);var value=null;try{value=new RegExp(pattern,flags)}catch(e){}return this.finishToken(types$1.regexp,{pattern:pattern,flags:flags,value:value})};pp.readInt=function(radix,len,maybeLegacyOctalNumericLiteral){var allowSeparators=this.options.ecmaVersion>=12&&len===undefined;var isLegacyOctalNumericLiteral=maybeLegacyOctalNumericLiteral&&this.input.charCodeAt(this.pos)===48;var start=this.pos,total=0,lastCode=0;for(var i=0,e=len==null?Infinity:len;i<e;++i,++this.pos){var code=this.input.charCodeAt(this.pos),val=void 0;if(allowSeparators&&code===95){if(isLegacyOctalNumericLiteral){this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals")}if(lastCode===95){this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore")}if(i===0){this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits")}lastCode=code;continue}if(code>=97){val=code-97+10}else if(code>=65){val=code-65+10}else if(code>=48&&code<=57){val=code-48}else{val=Infinity}if(val>=radix){break}lastCode=code;total=total*radix+val}if(allowSeparators&&lastCode===95){this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits")}if(this.pos===start||len!=null&&this.pos-start!==len){return null}return total};function stringToNumber(str,isLegacyOctalNumericLiteral){if(isLegacyOctalNumericLiteral){return parseInt(str,8)}return parseFloat(str.replace(/_/g,""))}function stringToBigInt(str){if(typeof BigInt!=="function"){return null}return BigInt(str.replace(/_/g,""))}pp.readRadixNumber=function(radix){var start=this.pos;this.pos+=2;var val=this.readInt(radix);if(val==null){this.raise(this.start+2,"Expected number in radix "+radix)}if(this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110){val=stringToBigInt(this.input.slice(start,this.pos));++this.pos}else if(isIdentifierStart(this.fullCharCodeAtPos())){this.raise(this.pos,"Identifier directly after number")}return this.finishToken(types$1.num,val)};pp.readNumber=function(startsWithDot){var start=this.pos;if(!startsWithDot&&this.readInt(10,undefined,true)===null){this.raise(start,"Invalid number")}var octal=this.pos-start>=2&&this.input.charCodeAt(start)===48;if(octal&&this.strict){this.raise(start,"Invalid number")}var next=this.input.charCodeAt(this.pos);if(!octal&&!startsWithDot&&this.options.ecmaVersion>=11&&next===110){var val$1=stringToBigInt(this.input.slice(start,this.pos));++this.pos;if(isIdentifierStart(this.fullCharCodeAtPos())){this.raise(this.pos,"Identifier directly after number")}return this.finishToken(types$1.num,val$1)}if(octal&&/[89]/.test(this.input.slice(start,this.pos))){octal=false}if(next===46&&!octal){++this.pos;this.readInt(10);next=this.input.charCodeAt(this.pos)}if((next===69||next===101)&&!octal){next=this.input.charCodeAt(++this.pos);if(next===43||next===45){++this.pos}if(this.readInt(10)===null){this.raise(start,"Invalid number")}}if(isIdentifierStart(this.fullCharCodeAtPos())){this.raise(this.pos,"Identifier directly after number")}var val=stringToNumber(this.input.slice(start,this.pos),octal);return this.finishToken(types$1.num,val)};pp.readCodePoint=function(){var ch=this.input.charCodeAt(this.pos),code;if(ch===123){if(this.options.ecmaVersion<6){this.unexpected()}var codePos=++this.pos;code=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos);++this.pos;if(code>1114111){this.invalidStringToken(codePos,"Code point out of bounds")}}else{code=this.readHexChar(4)}return code};pp.readString=function(quote){var out="",chunkStart=++this.pos;for(;;){if(this.pos>=this.input.length){this.raise(this.start,"Unterminated string constant")}var ch=this.input.charCodeAt(this.pos);if(ch===quote){break}if(ch===92){out+=this.input.slice(chunkStart,this.pos);out+=this.readEscapedChar(false);chunkStart=this.pos}else if(ch===8232||ch===8233){if(this.options.ecmaVersion<10){this.raise(this.start,"Unterminated string constant")}++this.pos;if(this.options.locations){this.curLine++;this.lineStart=this.pos}}else{if(isNewLine(ch)){this.raise(this.start,"Unterminated string constant")}++this.pos}}out+=this.input.slice(chunkStart,this.pos++);return this.finishToken(types$1.string,out)};var INVALID_TEMPLATE_ESCAPE_ERROR={};pp.tryReadTemplateToken=function(){this.inTemplateElement=true;try{this.readTmplToken()}catch(err){if(err===INVALID_TEMPLATE_ESCAPE_ERROR){this.readInvalidTemplateToken()}else{throw err}}this.inTemplateElement=false};pp.invalidStringToken=function(position,message){if(this.inTemplateElement&&this.options.ecmaVersion>=9){throw INVALID_TEMPLATE_ESCAPE_ERROR}else{this.raise(position,message)}};pp.readTmplToken=function(){var out="",chunkStart=this.pos;for(;;){if(this.pos>=this.input.length){this.raise(this.start,"Unterminated template")}var ch=this.input.charCodeAt(this.pos);if(ch===96||ch===36&&this.input.charCodeAt(this.pos+1)===123){if(this.pos===this.start&&(this.type===types$1.template||this.type===types$1.invalidTemplate)){if(ch===36){this.pos+=2;return this.finishToken(types$1.dollarBraceL)}else{++this.pos;return this.finishToken(types$1.backQuote)}}out+=this.input.slice(chunkStart,this.pos);return this.finishToken(types$1.template,out)}if(ch===92){out+=this.input.slice(chunkStart,this.pos);out+=this.readEscapedChar(true);chunkStart=this.pos}else if(isNewLine(ch)){out+=this.input.slice(chunkStart,this.pos);++this.pos;switch(ch){case 13:if(this.input.charCodeAt(this.pos)===10){++this.pos}case 10:out+="\n";break;default:out+=String.fromCharCode(ch);break}if(this.options.locations){++this.curLine;this.lineStart=this.pos}chunkStart=this.pos}else{++this.pos}}};pp.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++){switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{"){break}case"`":return this.finishToken(types$1.invalidTemplate,this.input.slice(this.start,this.pos))}}this.raise(this.start,"Unterminated template")};pp.readEscapedChar=function(inTemplate){var ch=this.input.charCodeAt(++this.pos);++this.pos;switch(ch){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:if(this.input.charCodeAt(this.pos)===10){++this.pos}case 10:if(this.options.locations){this.lineStart=this.pos;++this.curLine}return"";case 56:case 57:if(this.strict){this.invalidStringToken(this.pos-1,"Invalid escape sequence")}if(inTemplate){var codePos=this.pos-1;this.invalidStringToken(codePos,"Invalid escape sequence in template string");return null}default:if(ch>=48&&ch<=55){var octalStr=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0];var octal=parseInt(octalStr,8);if(octal>255){octalStr=octalStr.slice(0,-1);octal=parseInt(octalStr,8)}this.pos+=octalStr.length-1;ch=this.input.charCodeAt(this.pos);if((octalStr!=="0"||ch===56||ch===57)&&(this.strict||inTemplate)){this.invalidStringToken(this.pos-1-octalStr.length,inTemplate?"Octal literal in template string":"Octal literal in strict mode")}return String.fromCharCode(octal)}if(isNewLine(ch)){return""}return String.fromCharCode(ch)}};pp.readHexChar=function(len){var codePos=this.pos;var n=this.readInt(16,len);if(n===null){this.invalidStringToken(codePos,"Bad character escape sequence")}return n};pp.readWord1=function(){this.containsEsc=false;var word="",first=true,chunkStart=this.pos;var astral=this.options.ecmaVersion>=6;while(this.pos<this.input.length){var ch=this.fullCharCodeAtPos();if(isIdentifierChar(ch,astral)){this.pos+=ch<=65535?1:2}else if(ch===92){this.containsEsc=true;word+=this.input.slice(chunkStart,this.pos);var escStart=this.pos;if(this.input.charCodeAt(++this.pos)!==117){this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX")}++this.pos;var esc=this.readCodePoint();if(!(first?isIdentifierStart:isIdentifierChar)(esc,astral)){this.invalidStringToken(escStart,"Invalid Unicode escape")}word+=codePointToString(esc);chunkStart=this.pos}else{break}first=false}return word+this.input.slice(chunkStart,this.pos)};pp.readWord=function(){var word=this.readWord1();var type=types$1.name;if(this.keywords.test(word)){type=keywords[word]}return this.finishToken(type,word)};var version="8.8.0";Parser.acorn={Parser:Parser,version:version,defaultOptions:defaultOptions,Position:Position,SourceLocation:SourceLocation,getLineInfo:getLineInfo,Node:Node,TokenType:TokenType,tokTypes:types$1,keywordTypes:keywords,TokContext:TokContext,tokContexts:types,isIdentifierChar:isIdentifierChar,isIdentifierStart:isIdentifierStart,Token:Token,isNewLine:isNewLine,lineBreak:lineBreak,lineBreakG:lineBreakG,nonASCIIwhitespace:nonASCIIwhitespace};function parse(input,options){return Parser.parse(input,options)}function parseExpressionAt(input,pos,options){return Parser.parseExpressionAt(input,pos,options)}function tokenizer(input,options){return Parser.tokenizer(input,options)}exports.Node=Node;exports.Parser=Parser;exports.Position=Position;exports.SourceLocation=SourceLocation;exports.TokContext=TokContext;exports.Token=Token;exports.TokenType=TokenType;exports.defaultOptions=defaultOptions;exports.getLineInfo=getLineInfo;exports.isIdentifierChar=isIdentifierChar;exports.isIdentifierStart=isIdentifierStart;exports.isNewLine=isNewLine;exports.keywordTypes=keywords;exports.lineBreak=lineBreak;exports.lineBreakG=lineBreakG;exports.nonASCIIwhitespace=nonASCIIwhitespace;exports.parse=parse;exports.parseExpressionAt=parseExpressionAt;exports.tokContexts=types;exports.tokTypes=types$1;exports.tokenizer=tokenizer;exports.version=version;Object.defineProperty(exports,"__esModule",{value:true})}))})(acorn,acorn.exports);return acorn.exports}var acornJsx={exports:{}};var xhtml;var hasRequiredXhtml;function requireXhtml(){if(hasRequiredXhtml)return xhtml;hasRequiredXhtml=1;xhtml={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"};return xhtml}var hasRequiredAcornJsx;function requireAcornJsx(){if(hasRequiredAcornJsx)return acornJsx.exports;hasRequiredAcornJsx=1;(function(module){const XHTMLEntities=requireXhtml();const hexNumber=/^[\da-fA-F]+$/;const decimalNumber=/^\d+$/;const acornJsxMap=new WeakMap;function getJsxTokens(acorn){acorn=acorn.Parser.acorn||acorn;let acornJsx=acornJsxMap.get(acorn);if(!acornJsx){const tt=acorn.tokTypes;const TokContext=acorn.TokContext;const TokenType=acorn.TokenType;const tc_oTag=new TokContext("<tag",false);const tc_cTag=new TokContext("</tag",false);const tc_expr=new TokContext("<tag>...</tag>",true,true);const tokContexts={tc_oTag:tc_oTag,tc_cTag:tc_cTag,tc_expr:tc_expr};const tokTypes={jsxName:new TokenType("jsxName"),jsxText:new TokenType("jsxText",{beforeExpr:true}),jsxTagStart:new TokenType("jsxTagStart",{startsExpr:true}),jsxTagEnd:new TokenType("jsxTagEnd")};tokTypes.jsxTagStart.updateContext=function(){this.context.push(tc_expr);this.context.push(tc_oTag);this.exprAllowed=false};tokTypes.jsxTagEnd.updateContext=function(prevType){let out=this.context.pop();if(out===tc_oTag&&prevType===tt.slash||out===tc_cTag){this.context.pop();this.exprAllowed=this.curContext()===tc_expr}else{this.exprAllowed=true}};acornJsx={tokContexts:tokContexts,tokTypes:tokTypes};acornJsxMap.set(acorn,acornJsx)}return acornJsx}function getQualifiedJSXName(object){if(!object)return object;if(object.type==="JSXIdentifier")return object.name;if(object.type==="JSXNamespacedName")return object.namespace.name+":"+object.name.name;if(object.type==="JSXMemberExpression")return getQualifiedJSXName(object.object)+"."+getQualifiedJSXName(object.property)}module.exports=function(options){options=options||{};return function(Parser){return plugin({allowNamespaces:options.allowNamespaces!==false,allowNamespacedObjects:!!options.allowNamespacedObjects},Parser)}};Object.defineProperty(module.exports,"tokTypes",{get:function get_tokTypes(){return getJsxTokens(requireAcorn()).tokTypes},configurable:true,enumerable:true});function plugin(options,Parser){const acorn=Parser.acorn||requireAcorn();const acornJsx=getJsxTokens(acorn);const tt=acorn.tokTypes;const tok=acornJsx.tokTypes;const tokContexts=acorn.tokContexts;const tc_oTag=acornJsx.tokContexts.tc_oTag;const tc_cTag=acornJsx.tokContexts.tc_cTag;const tc_expr=acornJsx.tokContexts.tc_expr;const isNewLine=acorn.isNewLine;const isIdentifierStart=acorn.isIdentifierStart;const isIdentifierChar=acorn.isIdentifierChar;return class extends Parser{static get acornJsx(){return acornJsx}jsx_readToken(){let out="",chunkStart=this.pos;for(;;){if(this.pos>=this.input.length)this.raise(this.start,"Unterminated JSX contents");let ch=this.input.charCodeAt(this.pos);switch(ch){case 60:case 123:if(this.pos===this.start){if(ch===60&&this.exprAllowed){++this.pos;return this.finishToken(tok.jsxTagStart)}return this.getTokenFromCode(ch)}out+=this.input.slice(chunkStart,this.pos);return this.finishToken(tok.jsxText,out);case 38:out+=this.input.slice(chunkStart,this.pos);out+=this.jsx_readEntity();chunkStart=this.pos;break;case 62:case 125:this.raise(this.pos,"Unexpected token `"+this.input[this.pos]+"`. Did you mean `"+(ch===62?"&gt;":"&rbrace;")+"` or "+'`{"'+this.input[this.pos]+'"}'+"`?");default:if(isNewLine(ch)){out+=this.input.slice(chunkStart,this.pos);out+=this.jsx_readNewLine(true);chunkStart=this.pos}else{++this.pos}}}}jsx_readNewLine(normalizeCRLF){let ch=this.input.charCodeAt(this.pos);let out;++this.pos;if(ch===13&&this.input.charCodeAt(this.pos)===10){++this.pos;out=normalizeCRLF?"\n":"\r\n"}else{out=String.fromCharCode(ch)}if(this.options.locations){++this.curLine;this.lineStart=this.pos}return out}jsx_readString(quote){let out="",chunkStart=++this.pos;for(;;){if(this.pos>=this.input.length)this.raise(this.start,"Unterminated string constant");let ch=this.input.charCodeAt(this.pos);if(ch===quote)break;if(ch===38){out+=this.input.slice(chunkStart,this.pos);out+=this.jsx_readEntity();chunkStart=this.pos}else if(isNewLine(ch)){out+=this.input.slice(chunkStart,this.pos);out+=this.jsx_readNewLine(false);chunkStart=this.pos}else{++this.pos}}out+=this.input.slice(chunkStart,this.pos++);return this.finishToken(tt.string,out)}jsx_readEntity(){let str="",count=0,entity;let ch=this.input[this.pos];if(ch!=="&")this.raise(this.pos,"Entity must start with an ampersand");let startPos=++this.pos;while(this.pos<this.input.length&&count++<10){ch=this.input[this.pos++];if(ch===";"){if(str[0]==="#"){if(str[1]==="x"){str=str.substr(2);if(hexNumber.test(str))entity=String.fromCharCode(parseInt(str,16))}else{str=str.substr(1);if(decimalNumber.test(str))entity=String.fromCharCode(parseInt(str,10))}}else{entity=XHTMLEntities[str]}break}str+=ch}if(!entity){this.pos=startPos;return"&"}return entity}jsx_readWord(){let ch,start=this.pos;do{ch=this.input.charCodeAt(++this.pos)}while(isIdentifierChar(ch)||ch===45);return this.finishToken(tok.jsxName,this.input.slice(start,this.pos))}jsx_parseIdentifier(){let node=this.startNode();if(this.type===tok.jsxName)node.name=this.value;else if(this.type.keyword)node.name=this.type.keyword;else this.unexpected();this.next();return this.finishNode(node,"JSXIdentifier")}jsx_parseNamespacedName(){let startPos=this.start,startLoc=this.startLoc;let name=this.jsx_parseIdentifier();if(!options.allowNamespaces||!this.eat(tt.colon))return name;var node=this.startNodeAt(startPos,startLoc);node.namespace=name;node.name=this.jsx_parseIdentifier();return this.finishNode(node,"JSXNamespacedName")}jsx_parseElementName(){if(this.type===tok.jsxTagEnd)return"";let startPos=this.start,startLoc=this.startLoc;let node=this.jsx_parseNamespacedName();if(this.type===tt.dot&&node.type==="JSXNamespacedName"&&!options.allowNamespacedObjects){this.unexpected()}while(this.eat(tt.dot)){let newNode=this.startNodeAt(startPos,startLoc);newNode.object=node;newNode.property=this.jsx_parseIdentifier();node=this.finishNode(newNode,"JSXMemberExpression")}return node}jsx_parseAttributeValue(){switch(this.type){case tt.braceL:let node=this.jsx_parseExpressionContainer();if(node.expression.type==="JSXEmptyExpression")this.raise(node.start,"JSX attributes must only be assigned a non-empty expression");return node;case tok.jsxTagStart:case tt.string:return this.parseExprAtom();default:this.raise(this.start,"JSX value should be either an expression or a quoted JSX text")}}jsx_parseEmptyExpression(){let node=this.startNodeAt(this.lastTokEnd,this.lastTokEndLoc);return this.finishNodeAt(node,"JSXEmptyExpression",this.start,this.startLoc)}jsx_parseExpressionContainer(){let node=this.startNode();this.next();node.expression=this.type===tt.braceR?this.jsx_parseEmptyExpression():this.parseExpression();this.expect(tt.braceR);return this.finishNode(node,"JSXExpressionContainer")}jsx_parseAttribute(){let node=this.startNode();if(this.eat(tt.braceL)){this.expect(tt.ellipsis);node.argument=this.parseMaybeAssign();this.expect(tt.braceR);return this.finishNode(node,"JSXSpreadAttribute")}node.name=this.jsx_parseNamespacedName();node.value=this.eat(tt.eq)?this.jsx_parseAttributeValue():null;return this.finishNode(node,"JSXAttribute")}jsx_parseOpeningElementAt(startPos,startLoc){let node=this.startNodeAt(startPos,startLoc);node.attributes=[];let nodeName=this.jsx_parseElementName();if(nodeName)node.name=nodeName;while(this.type!==tt.slash&&this.type!==tok.jsxTagEnd)node.attributes.push(this.jsx_parseAttribute());node.selfClosing=this.eat(tt.slash);this.expect(tok.jsxTagEnd);return this.finishNode(node,nodeName?"JSXOpeningElement":"JSXOpeningFragment")}jsx_parseClosingElementAt(startPos,startLoc){let node=this.startNodeAt(startPos,startLoc);let nodeName=this.jsx_parseElementName();if(nodeName)node.name=nodeName;this.expect(tok.jsxTagEnd);return this.finishNode(node,nodeName?"JSXClosingElement":"JSXClosingFragment")}jsx_parseElementAt(startPos,startLoc){let node=this.startNodeAt(startPos,startLoc);let children=[];let openingElement=this.jsx_parseOpeningElementAt(startPos,startLoc);let closingElement=null;if(!openingElement.selfClosing){contents:for(;;){switch(this.type){case tok.jsxTagStart:startPos=this.start;startLoc=this.startLoc;this.next();if(this.eat(tt.slash)){closingElement=this.jsx_parseClosingElementAt(startPos,startLoc);break contents}children.push(this.jsx_parseElementAt(startPos,startLoc));break;case tok.jsxText:children.push(this.parseExprAtom());break;case tt.braceL:children.push(this.jsx_parseExpressionContainer());break;default:this.unexpected()}}if(getQualifiedJSXName(closingElement.name)!==getQualifiedJSXName(openingElement.name)){this.raise(closingElement.start,"Expected corresponding JSX closing tag for <"+getQualifiedJSXName(openingElement.name)+">")}}let fragmentOrElement=openingElement.name?"Element":"Fragment";node["opening"+fragmentOrElement]=openingElement;node["closing"+fragmentOrElement]=closingElement;node.children=children;if(this.type===tt.relational&&this.value==="<"){this.raise(this.start,"Adjacent JSX elements must be wrapped in an enclosing tag")}return this.finishNode(node,"JSX"+fragmentOrElement)}jsx_parseText(){let node=this.parseLiteral(this.value);node.type="JSXText";return node}jsx_parseElement(){let startPos=this.start,startLoc=this.startLoc;this.next();return this.jsx_parseElementAt(startPos,startLoc)}parseExprAtom(refShortHandDefaultPos){if(this.type===tok.jsxText)return this.jsx_parseText();else if(this.type===tok.jsxTagStart)return this.jsx_parseElement();else return super.parseExprAtom(refShortHandDefaultPos)}readToken(code){let context=this.curContext();if(context===tc_expr)return this.jsx_readToken();if(context===tc_oTag||context===tc_cTag){if(isIdentifierStart(code))return this.jsx_readWord();if(code==62){++this.pos;return this.finishToken(tok.jsxTagEnd)}if((code===34||code===39)&&context==tc_oTag)return this.jsx_readString(code)}if(code===60&&this.exprAllowed&&this.input.charCodeAt(this.pos+1)!==33){++this.pos;return this.finishToken(tok.jsxTagStart)}return super.readToken(code)}updateContext(prevType){if(this.type==tt.braceL){var curContext=this.curContext();if(curContext==tc_oTag)this.context.push(tokContexts.b_expr);else if(curContext==tc_expr)this.context.push(tokContexts.b_tmpl);else super.updateContext(prevType);this.exprAllowed=true}else if(this.type===tt.slash&&prevType===tok.jsxTagStart){this.context.length-=2;this.context.push(tc_cTag);this.exprAllowed=false}else{return super.updateContext(prevType)}}}}})(acornJsx);return acornJsx.exports}var hasRequiredEspree;function requireEspree(){if(hasRequiredEspree)return espree;hasRequiredEspree=1;Object.defineProperty(espree,"__esModule",{value:true});var acorn=requireAcorn();var jsx=requireAcornJsx();var visitorKeys=requireEslintVisitorKeys();function _interopDefaultLegacy(e){return e&&typeof e==="object"&&"default"in e?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach((function(k){if(k!=="default"){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}})}}))}n["default"]=e;return Object.freeze(n)}var acorn__namespace=_interopNamespace(acorn);var jsx__default=_interopDefaultLegacy(jsx);var visitorKeys__namespace=_interopNamespace(visitorKeys);const Token={Boolean:"Boolean",EOF:"<end>",Identifier:"Identifier",PrivateIdentifier:"PrivateIdentifier",Keyword:"Keyword",Null:"Null",Numeric:"Numeric",Punctuator:"Punctuator",String:"String",RegularExpression:"RegularExpression",Template:"Template",JSXIdentifier:"JSXIdentifier",JSXText:"JSXText"};function convertTemplatePart(tokens,code){const firstToken=tokens[0],lastTemplateToken=tokens[tokens.length-1];const token={type:Token.Template,value:code.slice(firstToken.start,lastTemplateToken.end)};if(firstToken.loc){token.loc={start:firstToken.loc.start,end:lastTemplateToken.loc.end}}if(firstToken.range){token.start=firstToken.range[0];token.end=lastTemplateToken.range[1];token.range=[token.start,token.end]}return token}function TokenTranslator(acornTokTypes,code){this._acornTokTypes=acornTokTypes;this._tokens=[];this._curlyBrace=null;this._code=code}TokenTranslator.prototype={constructor:TokenTranslator,translate(token,extra){const type=token.type,tt=this._acornTokTypes;if(type===tt.name){token.type=Token.Identifier;if(token.value==="static"){token.type=Token.Keyword}if(extra.ecmaVersion>5&&(token.value==="yield"||token.value==="let")){token.type=Token.Keyword}}else if(type===tt.privateId){token.type=Token.PrivateIdentifier}else if(type===tt.semi||type===tt.comma||type===tt.parenL||type===tt.parenR||type===tt.braceL||type===tt.braceR||type===tt.dot||type===tt.bracketL||type===tt.colon||type===tt.question||type===tt.bracketR||type===tt.ellipsis||type===tt.arrow||type===tt.jsxTagStart||type===tt.incDec||type===tt.starstar||type===tt.jsxTagEnd||type===tt.prefix||type===tt.questionDot||type.binop&&!type.keyword||type.isAssign){token.type=Token.Punctuator;token.value=this._code.slice(token.start,token.end)}else if(type===tt.jsxName){token.type=Token.JSXIdentifier}else if(type.label==="jsxText"||type===tt.jsxAttrValueToken){token.type=Token.JSXText}else if(type.keyword){if(type.keyword==="true"||type.keyword==="false"){token.type=Token.Boolean}else if(type.keyword==="null"){token.type=Token.Null}else{token.type=Token.Keyword}}else if(type===tt.num){token.type=Token.Numeric;token.value=this._code.slice(token.start,token.end)}else if(type===tt.string){if(extra.jsxAttrValueToken){extra.jsxAttrValueToken=false;token.type=Token.JSXText}else{token.type=Token.String}token.value=this._code.slice(token.start,token.end)}else if(type===tt.regexp){token.type=Token.RegularExpression;const value=token.value;token.regex={flags:value.flags,pattern:value.pattern};token.value=`/${value.pattern}/${value.flags}`}return token},onToken(token,extra){const that=this,tt=this._acornTokTypes,tokens=extra.tokens,templateTokens=this._tokens;function translateTemplateTokens(){tokens.push(convertTemplatePart(that._tokens,that._code));that._tokens=[]}if(token.type===tt.eof){if(this._curlyBrace){tokens.push(this.translate(this._curlyBrace,extra))}return}if(token.type===tt.backQuote){if(this._curlyBrace){tokens.push(this.translate(this._curlyBrace,extra));this._curlyBrace=null}templateTokens.push(token);if(templateTokens.length>1){translateTemplateTokens()}return}if(token.type===tt.dollarBraceL){templateTokens.push(token);translateTemplateTokens();return}if(token.type===tt.braceR){if(this._curlyBrace){tokens.push(this.translate(this._curlyBrace,extra))}this._curlyBrace=token;return}if(token.type===tt.template||token.type===tt.invalidTemplate){if(this._curlyBrace){templateTokens.push(this._curlyBrace);this._curlyBrace=null}templateTokens.push(token);return}if(this._curlyBrace){tokens.push(this.translate(this._curlyBrace,extra));this._curlyBrace=null}tokens.push(this.translate(token,extra))}};const SUPPORTED_VERSIONS=[3,5,6,7,8,9,10,11,12,13,14];function getLatestEcmaVersion(){return SUPPORTED_VERSIONS[SUPPORTED_VERSIONS.length-1]}function getSupportedEcmaVersions(){return[...SUPPORTED_VERSIONS]}function normalizeEcmaVersion(ecmaVersion=5){let version=ecmaVersion==="latest"?getLatestEcmaVersion():ecmaVersion;if(typeof version!=="number"){throw new Error(`ecmaVersion must be a number or "latest". Received value of type ${typeof ecmaVersion} instead.`)}if(version>=2015){version-=2009}if(!SUPPORTED_VERSIONS.includes(version)){throw new Error("Invalid ecmaVersion.")}return version}function normalizeSourceType(sourceType="script"){if(sourceType==="script"||sourceType==="module"){return sourceType}if(sourceType==="commonjs"){return"script"}throw new Error("Invalid sourceType.")}function normalizeOptions(options){const ecmaVersion=normalizeEcmaVersion(options.ecmaVersion);const sourceType=normalizeSourceType(options.sourceType);const ranges=options.range===true;const locations=options.loc===true;if(ecmaVersion!==3&&options.allowReserved){throw new Error("`allowReserved` is only supported when ecmaVersion is 3")}if(typeof options.allowReserved!=="undefined"&&typeof options.allowReserved!=="boolean"){throw new Error("`allowReserved`, when present, must be `true` or `false`")}const allowReserved=ecmaVersion===3?options.allowReserved||"never":false;const ecmaFeatures=options.ecmaFeatures||{};const allowReturnOutsideFunction=options.sourceType==="commonjs"||Boolean(ecmaFeatures.globalReturn);if(sourceType==="module"&&ecmaVersion<6){throw new Error("sourceType 'module' is not supported when ecmaVersion < 2015. Consider adding `{ ecmaVersion: 2015 }` to the parser options.")}return Object.assign({},options,{ecmaVersion:ecmaVersion,sourceType:sourceType,ranges:ranges,locations:locations,allowReserved:allowReserved,allowReturnOutsideFunction:allowReturnOutsideFunction})}const STATE=Symbol("espree's internal state");const ESPRIMA_FINISH_NODE=Symbol("espree's esprimaFinishNode");function convertAcornCommentToEsprimaComment(block,text,start,end,startLoc,endLoc,code){let type;if(block){type="Block"}else if(code.slice(start,start+2)==="#!"){type="Hashbang"}else{type="Line"}const comment={type:type,value:text};if(typeof start==="number"){comment.start=start;comment.end=end;comment.range=[start,end]}if(typeof startLoc==="object"){comment.loc={start:startLoc,end:endLoc}}return comment}var espree$1=()=>Parser=>{const tokTypes=Object.assign({},Parser.acorn.tokTypes);if(Parser.acornJsx){Object.assign(tokTypes,Parser.acornJsx.tokTypes)}return class Espree extends Parser{constructor(opts,code){if(typeof opts!=="object"||opts===null){opts={}}if(typeof code!=="string"&&!(code instanceof String)){code=String(code)}const originalSourceType=opts.sourceType;const options=normalizeOptions(opts);const ecmaFeatures=options.ecmaFeatures||{};const tokenTranslator=options.tokens===true?new TokenTranslator(tokTypes,code):null;const state={originalSourceType:originalSourceType||options.sourceType,tokens:tokenTranslator?[]:null,comments:options.comment===true?[]:null,impliedStrict:ecmaFeatures.impliedStrict===true&&options.ecmaVersion>=5,ecmaVersion:options.ecmaVersion,jsxAttrValueToken:false,lastToken:null,templateElements:[]};super({ecmaVersion:options.ecmaVersion,sourceType:options.sourceType,ranges:options.ranges,locations:options.locations,allowReserved:options.allowReserved,allowReturnOutsideFunction:options.allowReturnOutsideFunction,onToken:token=>{if(tokenTranslator){tokenTranslator.onToken(token,state)}if(token.type!==tokTypes.eof){state.lastToken=token}},onComment:(block,text,start,end,startLoc,endLoc)=>{if(state.comments){const comment=convertAcornCommentToEsprimaComment(block,text,start,end,startLoc,endLoc,code);state.comments.push(comment)}}},code);this[STATE]=state}tokenize(){do{this.next()}while(this.type!==tokTypes.eof);this.next();const extra=this[STATE];const tokens=extra.tokens;if(extra.comments){tokens.comments=extra.comments}return tokens}finishNode(...args){const result=super.finishNode(...args);return this[ESPRIMA_FINISH_NODE](result)}finishNodeAt(...args){const result=super.finishNodeAt(...args);return this[ESPRIMA_FINISH_NODE](result)}parse(){const extra=this[STATE];const program=super.parse();program.sourceType=extra.originalSourceType;if(extra.comments){program.comments=extra.comments}if(extra.tokens){program.tokens=extra.tokens}if(program.body.length){const[firstNode]=program.body;if(program.range){program.range[0]=firstNode.range[0]}if(program.loc){program.loc.start=firstNode.loc.start}program.start=firstNode.start}if(extra.lastToken){if(program.range){program.range[1]=extra.lastToken.range[1]}if(program.loc){program.loc.end=extra.lastToken.loc.end}program.end=extra.lastToken.end}this[STATE].templateElements.forEach((templateElement=>{const startOffset=-1;const endOffset=templateElement.tail?1:2;templateElement.start+=startOffset;templateElement.end+=endOffset;if(templateElement.range){templateElement.range[0]+=startOffset;templateElement.range[1]+=endOffset}if(templateElement.loc){templateElement.loc.start.column+=startOffset;templateElement.loc.end.column+=endOffset}}));return program}parseTopLevel(node){if(this[STATE].impliedStrict){this.strict=true}return super.parseTopLevel(node)}raise(pos,message){const loc=Parser.acorn.getLineInfo(this.input,pos);const err=new SyntaxError(message);err.index=pos;err.lineNumber=loc.line;err.column=loc.column+1;throw err}raiseRecoverable(pos,message){this.raise(pos,message)}unexpected(pos){let message="Unexpected token";if(pos!==null&&pos!==void 0){this.pos=pos;if(this.options.locations){while(this.pos<this.lineStart){this.lineStart=this.input.lastIndexOf("\n",this.lineStart-2)+1;--this.curLine}}this.nextToken()}if(this.end>this.start){message+=` ${this.input.slice(this.start,this.end)}`}this.raise(this.start,message)}jsx_readString(quote){const result=super.jsx_readString(quote);if(this.type===tokTypes.string){this[STATE].jsxAttrValueToken=true}return result}[ESPRIMA_FINISH_NODE](result){if(result.type==="TemplateElement"){this[STATE].templateElements.push(result)}if(result.type.includes("Function")&&!result.generator){result.generator=false}return result}}};const version$1="9.4.0";const parsers={_regular:null,_jsx:null,get regular(){if(this._regular===null){this._regular=acorn__namespace.Parser.extend(espree$1())}return this._regular},get jsx(){if(this._jsx===null){this._jsx=acorn__namespace.Parser.extend(jsx__default["default"](),espree$1())}return this._jsx},get(options){const useJsx=Boolean(options&&options.ecmaFeatures&&options.ecmaFeatures.jsx);return useJsx?this.jsx:this.regular}};function tokenize(code,options){const Parser=parsers.get(options);if(!options||options.tokens!==true){options=Object.assign({},options,{tokens:true})}return new Parser(options,code).tokenize()}function parse(code,options){const Parser=parsers.get(options);return new Parser(options,code).parse()}const version=version$1;const VisitorKeys=function(){return visitorKeys__namespace.KEYS}();const Syntax=function(){let name,types={};if(typeof Object.create==="function"){types=Object.create(null)}for(name in VisitorKeys){if(Object.hasOwnProperty.call(VisitorKeys,name)){types[name]=name}}if(typeof Object.freeze==="function"){Object.freeze(types)}return types}();const latestEcmaVersion=getLatestEcmaVersion();const supportedEcmaVersions=getSupportedEcmaVersions();espree.Syntax=Syntax;espree.VisitorKeys=VisitorKeys;espree.latestEcmaVersion=latestEcmaVersion;espree.parse=parse;espree.supportedEcmaVersions=supportedEcmaVersions;espree.tokenize=tokenize;espree.version=version;return espree}var lodash_merge={exports:{}};var hasRequiredLodash_merge;function requireLodash_merge(){if(hasRequiredLodash_merge)return lodash_merge.exports;hasRequiredLodash_merge=1;(function(module,exports){var LARGE_ARRAY_SIZE=200;var HASH_UNDEFINED="__lodash_hash_undefined__";var HOT_COUNT=800,HOT_SPAN=16;var MAX_SAFE_INTEGER=9007199254740991;var argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsUint=/^(?:0|[1-9]\d*)$/;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var freeExports=exports&&!exports.nodeType&&exports;var freeModule=freeExports&&"object"=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;if(types){return types}return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();var nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function baseUnary(func){return function(value){return func(value)}}function getValue(object,key){return object==null?undefined:object[key]}function overArg(func,transform){return function(arg){return func(transform(arg))}}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=root["__core-js_shared__"];var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();var nativeObjectToString=objectProto.toString;var objectCtorString=funcToString.call(Object);var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?root.Buffer:undefined,Symbol=root.Symbol,Uint8Array=root.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,symToStringTag=Symbol?Symbol.toStringTag:undefined;var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();var nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeMax=Math.max,nativeNow=Date.now;var Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create");var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{}}if(objectCreate){return objectCreate(proto)}object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[];this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache;this.size=0}function stackDelete(key){var data=this.__data__,result=data["delete"](key);this.size=data.size;return result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}var baseFor=createBaseFor();function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}baseFor(source,(function(srcValue,key){stack||(stack=new Stack);if(isObject(srcValue)){baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;if(newValue===undefined){newValue=srcValue}assignMergeValue(object,key,newValue)}}),keysIn)}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue)}else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue,true)}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true)}else{newValue=[]}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||isFunction(objValue)){newValue=initCloneObject(srcValue)}}else{isCommon=false}}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack["delete"](srcValue)}assignMergeValue(object,key,newValue)}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,"toString",{configurable:true,enumerable:false,value:constant(string),writable:true})};function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key]}if(isNew){baseAssignValue(object,key,newValue)}else{assignValue(object,key,newValue)}}return object}function createAssigner(assigner){return baseRest((function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object}))}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){return eq(object[index],value)}return false}function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key)}}return result}function objectToString(value){return nativeObjectToString.call(value)}function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}function safeGet(object,key){if(key==="constructor"&&typeof object[key]==="function"){return}if(key=="__proto__"){return}return object[key]}var setToString=shortOut(baseSetToString);function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0]}}else{count=0}return func.apply(undefined,arguments)}}function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!==value&&other!==other}var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};var isArray=Array.isArray;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var isBuffer=nativeIsBuffer||stubFalse;function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}function isObjectLike(value){return value!=null&&typeof value=="object"}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function toPlainObject(value){return copyObject(value,keysIn(value))}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}var merge=createAssigner((function(object,source,srcIndex){baseMerge(object,source,srcIndex)}));function constant(value){return function(){return value}}function identity(value){return value}function stubFalse(){return false}module.exports=merge})(lodash_merge,lodash_merge.exports);return lodash_merge.exports}var name$1="eslint";var version$1="8.29.0";var author="Nicholas C. Zakas <nicholas+npm@nczconsulting.com>";var description$3="An AST-based pattern checker for JavaScript.";var bin={eslint:"./bin/eslint.js"};var main$1="./lib/api.js";var exports$1={"./package.json":"./package.json",".":"./lib/api.js","./use-at-your-own-risk":"./lib/unsupported-api.js"};var scripts$1={test:"node Makefile.js test","test:cli":"mocha",lint:"node Makefile.js lint","lint:docsjs":"node Makefile.js lintDocsJS",fix:"node Makefile.js lint -- fix","fix:docsjs":"node Makefile.js lintDocsJS -- fix",fuzz:"node Makefile.js fuzz","generate-release":"node Makefile.js generateRelease","generate-alpharelease":"node Makefile.js generatePrerelease -- alpha","generate-betarelease":"node Makefile.js generatePrerelease -- beta","generate-rcrelease":"node Makefile.js generatePrerelease -- rc","publish-release":"node Makefile.js publishRelease",gensite:"node Makefile.js gensite",webpack:"node Makefile.js webpack",perf:"node Makefile.js perf","docs:update-links":"node tools/fetch-docs-links.js"};var gitHooks={"pre-commit":"lint-staged"};var files$1=["LICENSE","README.md","bin","conf","lib","messages"];var repository$1="eslint/eslint";var funding="https://opencollective.com/eslint";var homepage$1="https://eslint.org";var bugs="https://github.com/eslint/eslint/issues/";var dependencies$3={"@eslint/eslintrc":"^1.3.3","@humanwhocodes/config-array":"^0.11.6","@humanwhocodes/module-importer":"^1.0.1","@nodelib/fs.walk":"^1.2.8",ajv:"^6.10.0",chalk:"^4.0.0","cross-spawn":"^7.0.2",debug:"^4.3.2",doctrine:"^3.0.0","escape-string-regexp":"^4.0.0","eslint-scope":"^7.1.1","eslint-utils":"^3.0.0","eslint-visitor-keys":"^3.3.0",espree:"^9.4.0",esquery:"^1.4.0",esutils:"^2.0.2","fast-deep-equal":"^3.1.3","file-entry-cache":"^6.0.1","find-up":"^5.0.0","glob-parent":"^6.0.2",globals:"^13.15.0","grapheme-splitter":"^1.0.4",ignore:"^5.2.0","import-fresh":"^3.0.0",imurmurhash:"^0.1.4","is-glob":"^4.0.0","is-path-inside":"^3.0.3","js-sdsl":"^4.1.4","js-yaml":"^4.1.0","json-stable-stringify-without-jsonify":"^1.0.1",levn:"^0.4.1","lodash.merge":"^4.6.2",minimatch:"^3.1.2","natural-compare":"^1.4.0",optionator:"^0.9.1",regexpp:"^3.2.0","strip-ansi":"^6.0.1","strip-json-comments":"^3.1.0","text-table":"^0.2.0"};var devDependencies$1={"@babel/core":"^7.4.3","@babel/preset-env":"^7.4.3","babel-loader":"^8.0.5",c8:"^7.12.0",chai:"^4.0.1",cheerio:"^0.22.0","common-tags":"^1.8.0","core-js":"^3.1.3",ejs:"^3.0.2",eslint:"file:.","eslint-config-eslint":"file:packages/eslint-config-eslint","eslint-plugin-eslint-comments":"^3.2.0","eslint-plugin-eslint-plugin":"^4.4.0","eslint-plugin-internal-rules":"file:tools/internal-rules","eslint-plugin-jsdoc":"^38.1.6","eslint-plugin-n":"^15.2.4","eslint-plugin-unicorn":"^42.0.0","eslint-release":"^3.2.0",eslump:"^3.0.0",esprima:"^4.0.1","fast-glob":"^3.2.11","fs-teardown":"^0.1.3",glob:"^7.1.6",got:"^11.8.3","gray-matter":"^4.0.3",karma:"^6.1.1","karma-chrome-launcher":"^3.1.0","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-webpack":"^5.0.0","lint-staged":"^11.0.0","load-perf":"^0.2.0",markdownlint:"^0.25.1","markdownlint-cli":"^0.31.1",marked:"^4.0.8",memfs:"^3.0.1",metascraper:"^5.25.7","metascraper-description":"^5.25.7","metascraper-image":"^5.29.3","metascraper-logo":"^5.25.7","metascraper-logo-favicon":"^5.25.7","metascraper-title":"^5.25.7",mocha:"^8.3.2","mocha-junit-reporter":"^2.0.0","node-polyfill-webpack-plugin":"^1.0.3","npm-license":"^0.3.3",pirates:"^4.0.5",progress:"^2.0.3",proxyquire:"^2.0.1",puppeteer:"^13.7.0",recast:"^0.20.4","regenerator-runtime":"^0.13.2",semver:"^7.3.5",shelljs:"^0.8.2",sinon:"^11.0.0",temp:"^0.9.0",webpack:"^5.23.0","webpack-cli":"^4.5.0",yorkie:"^2.0.0"};var keywords$1=["ast","lint","javascript","ecmascript","espree"];var license$1="MIT";var engines$1={node:"^12.22.0 || ^14.17.0 || >=16.0.0"};var require$$5={name:name$1,version:version$1,author:author,description:description$3,bin:bin,main:main$1,exports:exports$1,scripts:scripts$1,gitHooks:gitHooks,"lint-staged":{"*.js":"eslint --fix","*.md":"markdownlint --fix","docs/src/rules/*.md":["node tools/fetch-docs-links.js","git add docs/src/_data/further_reading_links.json"],"docs/**/*.svg":"npx svgo -r --multipass"},files:files$1,repository:repository$1,funding:funding,homepage:homepage$1,bugs:bugs,dependencies:dependencies$3,devDependencies:devDependencies$1,keywords:keywords$1,license:license$1,engines:engines$1};var astUtils$1;var hasRequiredAstUtils$1;function requireAstUtils$1(){if(hasRequiredAstUtils$1)return astUtils$1;hasRequiredAstUtils$1=1;const breakableTypePattern=/^(?:(?:Do)?While|For(?:In|Of)?|Switch)Statement$/u;const lineBreakPattern=/\r\n|[\r\n\u2028\u2029]/u;const shebangPattern=/^#!([^\r\n]+)/u;function createGlobalLinebreakMatcher(){return new RegExp(lineBreakPattern.source,"gu")}astUtils$1={breakableTypePattern:breakableTypePattern,lineBreakPattern:lineBreakPattern,createGlobalLinebreakMatcher:createGlobalLinebreakMatcher,shebangPattern:shebangPattern};return astUtils$1}var eslintrcUniversal={};var uri_all={exports:{}};
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */var hasRequiredUri_all;function requireUri_all(){if(hasRequiredUri_all)return uri_all.exports;hasRequiredUri_all=1;(function(module,exports){(function(global,factory){factory(exports)})(this,(function(exports){function merge(){for(var _len=arguments.length,sets=Array(_len),_key=0;_key<_len;_key++){sets[_key]=arguments[_key]}if(sets.length>1){sets[0]=sets[0].slice(0,-1);var xl=sets.length-1;for(var x=1;x<xl;++x){sets[x]=sets[x].slice(1,-1)}sets[xl]=sets[xl].slice(1);return sets.join("")}else{return sets[0]}}function subexp(str){return"(?:"+str+")"}function typeOf(o){return o===undefined?"undefined":o===null?"null":Object.prototype.toString.call(o).split(" ").pop().split("]").shift().toLowerCase()}function toUpperCase(str){return str.toUpperCase()}function toArray(obj){return obj!==undefined&&obj!==null?obj instanceof Array?obj:typeof obj.length!=="number"||obj.split||obj.setInterval||obj.call?[obj]:Array.prototype.slice.call(obj):[]}function assign(target,source){var obj=target;if(source){for(var key in source){obj[key]=source[key]}}return obj}function buildExps(isIRI){var ALPHA$$="[A-Za-z]",DIGIT$$="[0-9]",HEXDIG$$=merge(DIGIT$$,"[A-Fa-f]"),PCT_ENCODED$=subexp(subexp("%[EFef]"+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%[89A-Fa-f]"+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%"+HEXDIG$$+HEXDIG$$)),GEN_DELIMS$$="[\\:\\/\\?\\#\\[\\]\\@]",SUB_DELIMS$$="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",RESERVED$$=merge(GEN_DELIMS$$,SUB_DELIMS$$),UCSCHAR$$=isIRI?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",IPRIVATE$$=isIRI?"[\\uE000-\\uF8FF]":"[]",UNRESERVED$$=merge(ALPHA$$,DIGIT$$,"[\\-\\.\\_\\~]",UCSCHAR$$);subexp(ALPHA$$+merge(ALPHA$$,DIGIT$$,"[\\+\\-\\.]")+"*");subexp(subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\:]"))+"*");var DEC_OCTET_RELAXED$=subexp(subexp("25[0-5]")+"|"+subexp("2[0-4]"+DIGIT$$)+"|"+subexp("1"+DIGIT$$+DIGIT$$)+"|"+subexp("0?[1-9]"+DIGIT$$)+"|0?0?"+DIGIT$$),IPV4ADDRESS$=subexp(DEC_OCTET_RELAXED$+"\\."+DEC_OCTET_RELAXED$+"\\."+DEC_OCTET_RELAXED$+"\\."+DEC_OCTET_RELAXED$),H16$=subexp(HEXDIG$$+"{1,4}"),LS32$=subexp(subexp(H16$+"\\:"+H16$)+"|"+IPV4ADDRESS$),IPV6ADDRESS1$=subexp(subexp(H16$+"\\:")+"{6}"+LS32$),IPV6ADDRESS2$=subexp("\\:\\:"+subexp(H16$+"\\:")+"{5}"+LS32$),IPV6ADDRESS3$=subexp(subexp(H16$)+"?\\:\\:"+subexp(H16$+"\\:")+"{4}"+LS32$),IPV6ADDRESS4$=subexp(subexp(subexp(H16$+"\\:")+"{0,1}"+H16$)+"?\\:\\:"+subexp(H16$+"\\:")+"{3}"+LS32$),IPV6ADDRESS5$=subexp(subexp(subexp(H16$+"\\:")+"{0,2}"+H16$)+"?\\:\\:"+subexp(H16$+"\\:")+"{2}"+LS32$),IPV6ADDRESS6$=subexp(subexp(subexp(H16$+"\\:")+"{0,3}"+H16$)+"?\\:\\:"+H16$+"\\:"+LS32$),IPV6ADDRESS7$=subexp(subexp(subexp(H16$+"\\:")+"{0,4}"+H16$)+"?\\:\\:"+LS32$),IPV6ADDRESS8$=subexp(subexp(subexp(H16$+"\\:")+"{0,5}"+H16$)+"?\\:\\:"+H16$),IPV6ADDRESS9$=subexp(subexp(subexp(H16$+"\\:")+"{0,6}"+H16$)+"?\\:\\:"),IPV6ADDRESS$=subexp([IPV6ADDRESS1$,IPV6ADDRESS2$,IPV6ADDRESS3$,IPV6ADDRESS4$,IPV6ADDRESS5$,IPV6ADDRESS6$,IPV6ADDRESS7$,IPV6ADDRESS8$,IPV6ADDRESS9$].join("|")),ZONEID$=subexp(subexp(UNRESERVED$$+"|"+PCT_ENCODED$)+"+");subexp("[vV]"+HEXDIG$$+"+\\."+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\:]")+"+");subexp(subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$))+"*");var PCHAR$=subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\:\\@]"));subexp(subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\@]"))+"+");subexp(subexp(PCHAR$+"|"+merge("[\\/\\?]",IPRIVATE$$))+"*");return{NOT_SCHEME:new RegExp(merge("[^]",ALPHA$$,DIGIT$$,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(merge("[^\\%\\:]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_HOST:new RegExp(merge("[^\\%\\[\\]\\:]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_PATH:new RegExp(merge("[^\\%\\/\\:\\@]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_PATH_NOSCHEME:new RegExp(merge("[^\\%\\/\\@]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_QUERY:new RegExp(merge("[^\\%]",UNRESERVED$$,SUB_DELIMS$$,"[\\:\\@\\/\\?]",IPRIVATE$$),"g"),NOT_FRAGMENT:new RegExp(merge("[^\\%]",UNRESERVED$$,SUB_DELIMS$$,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(merge("[^]",UNRESERVED$$,SUB_DELIMS$$),"g"),UNRESERVED:new RegExp(UNRESERVED$$,"g"),OTHER_CHARS:new RegExp(merge("[^\\%]",UNRESERVED$$,RESERVED$$),"g"),PCT_ENCODED:new RegExp(PCT_ENCODED$,"g"),IPV4ADDRESS:new RegExp("^("+IPV4ADDRESS$+")$"),IPV6ADDRESS:new RegExp("^\\[?("+IPV6ADDRESS$+")"+subexp(subexp("\\%25|\\%(?!"+HEXDIG$$+"{2})")+"("+ZONEID$+")")+"?\\]?$")}}var URI_PROTOCOL=buildExps(false);var IRI_PROTOCOL=buildExps(true);var slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var toConsumableArray=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}else{return Array.from(arr)}};var maxInt=2147483647;var base=36;var tMin=1;var tMax=26;var skew=38;var damp=700;var initialBias=72;var initialN=128;var delimiter="-";var regexPunycode=/^xn--/;var regexNonASCII=/[^\0-\x7E]/;var regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g;var errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"};var baseMinusTMin=base-tMin;var floor=Math.floor;var stringFromCharCode=String.fromCharCode;function error$1(type){throw new RangeError(errors[type])}function map(array,fn){var result=[];var length=array.length;while(length--){result[length]=fn(array[length])}return result}function mapDomain(string,fn){var parts=string.split("@");var result="";if(parts.length>1){result=parts[0]+"@";string=parts[1]}string=string.replace(regexSeparators,".");var labels=string.split(".");var encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){var output=[];var counter=0;var length=string.length;while(counter<length){var value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){var extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}var ucs2encode=function ucs2encode(array){return String.fromCodePoint.apply(String,toConsumableArray(array))};var basicToDigit=function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base};var digitToBasic=function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)};var adapt=function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))};var decode=function decode(input){var output=[];var inputLength=input.length;var i=0;var n=initialN;var bias=initialBias;var basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(var j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error$1("not-basic")}output.push(input.charCodeAt(j))}for(var index=basic>0?basic+1:0;index<inputLength;){var oldi=i;for(var w=1,k=base;;k+=base){if(index>=inputLength){error$1("invalid-input")}var digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error$1("overflow")}i+=digit*w;var t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}var baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error$1("overflow")}w*=baseMinusT}var out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error$1("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return String.fromCodePoint.apply(String,output)};var encode=function encode(input){var output=[];input=ucs2decode(input);var inputLength=input.length;var n=initialN;var delta=0;var bias=initialBias;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=input[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _currentValue2=_step.value;if(_currentValue2<128){output.push(stringFromCharCode(_currentValue2))}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}var basicLength=output.length;var handledCPCount=basicLength;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){var m=maxInt;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=input[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var currentValue=_step2.value;if(currentValue>=n&&currentValue<m){m=currentValue}}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}var handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error$1("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=input[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var _currentValue=_step3.value;if(_currentValue<n&&++delta>maxInt){error$1("overflow")}if(_currentValue==n){var q=delta;for(var k=base;;k+=base){var t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}var qMinusT=q-t;var baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}++delta;++n}return output.join("")};var toUnicode=function toUnicode(input){return mapDomain(input,(function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string}))};var toASCII=function toASCII(input){return mapDomain(input,(function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string}))};var punycode={version:"2.1.0",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};var SCHEMES={};function pctEncChar(chr){var c=chr.charCodeAt(0);var e=void 0;if(c<16)e="%0"+c.toString(16).toUpperCase();else if(c<128)e="%"+c.toString(16).toUpperCase();else if(c<2048)e="%"+(c>>6|192).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase();else e="%"+(c>>12|224).toString(16).toUpperCase()+"%"+(c>>6&63|128).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase();return e}function pctDecChars(str){var newStr="";var i=0;var il=str.length;while(i<il){var c=parseInt(str.substr(i+1,2),16);if(c<128){newStr+=String.fromCharCode(c);i+=3}else if(c>=194&&c<224){if(il-i>=6){var c2=parseInt(str.substr(i+4,2),16);newStr+=String.fromCharCode((c&31)<<6|c2&63)}else{newStr+=str.substr(i,6)}i+=6}else if(c>=224){if(il-i>=9){var _c=parseInt(str.substr(i+4,2),16);var c3=parseInt(str.substr(i+7,2),16);newStr+=String.fromCharCode((c&15)<<12|(_c&63)<<6|c3&63)}else{newStr+=str.substr(i,9)}i+=9}else{newStr+=str.substr(i,3);i+=3}}return newStr}function _normalizeComponentEncoding(components,protocol){function decodeUnreserved(str){var decStr=pctDecChars(str);return!decStr.match(protocol.UNRESERVED)?str:decStr}if(components.scheme)components.scheme=String(components.scheme).replace(protocol.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME,"");if(components.userinfo!==undefined)components.userinfo=String(components.userinfo).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(protocol.NOT_USERINFO,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase);if(components.host!==undefined)components.host=String(components.host).replace(protocol.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase);if(components.path!==undefined)components.path=String(components.path).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(components.scheme?protocol.NOT_PATH:protocol.NOT_PATH_NOSCHEME,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase);if(components.query!==undefined)components.query=String(components.query).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(protocol.NOT_QUERY,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase);if(components.fragment!==undefined)components.fragment=String(components.fragment).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(protocol.NOT_FRAGMENT,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase);return components}function _stripLeadingZeros(str){return str.replace(/^0*(.*)/,"$1")||"0"}function _normalizeIPv4(host,protocol){var matches=host.match(protocol.IPV4ADDRESS)||[];var _matches=slicedToArray(matches,2),address=_matches[1];if(address){return address.split(".").map(_stripLeadingZeros).join(".")}else{return host}}function _normalizeIPv6(host,protocol){var matches=host.match(protocol.IPV6ADDRESS)||[];var _matches2=slicedToArray(matches,3),address=_matches2[1],zone=_matches2[2];if(address){var _address$toLowerCase$=address.toLowerCase().split("::").reverse(),_address$toLowerCase$2=slicedToArray(_address$toLowerCase$,2),last=_address$toLowerCase$2[0],first=_address$toLowerCase$2[1];var firstFields=first?first.split(":").map(_stripLeadingZeros):[];var lastFields=last.split(":").map(_stripLeadingZeros);var isLastFieldIPv4Address=protocol.IPV4ADDRESS.test(lastFields[lastFields.length-1]);var fieldCount=isLastFieldIPv4Address?7:8;var lastFieldsStart=lastFields.length-fieldCount;var fields=Array(fieldCount);for(var x=0;x<fieldCount;++x){fields[x]=firstFields[x]||lastFields[lastFieldsStart+x]||""}if(isLastFieldIPv4Address){fields[fieldCount-1]=_normalizeIPv4(fields[fieldCount-1],protocol)}var allZeroFields=fields.reduce((function(acc,field,index){if(!field||field==="0"){var lastLongest=acc[acc.length-1];if(lastLongest&&lastLongest.index+lastLongest.length===index){lastLongest.length++}else{acc.push({index:index,length:1})}}return acc}),[]);var longestZeroFields=allZeroFields.sort((function(a,b){return b.length-a.length}))[0];var newHost=void 0;if(longestZeroFields&&longestZeroFields.length>1){var newFirst=fields.slice(0,longestZeroFields.index);var newLast=fields.slice(longestZeroFields.index+longestZeroFields.length);newHost=newFirst.join(":")+"::"+newLast.join(":")}else{newHost=fields.join(":")}if(zone){newHost+="%"+zone}return newHost}else{return host}}var URI_PARSE=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i;var NO_MATCH_IS_UNDEFINED="".match(/(){0}/)[1]===undefined;function parse(uriString){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var components={};var protocol=options.iri!==false?IRI_PROTOCOL:URI_PROTOCOL;if(options.reference==="suffix")uriString=(options.scheme?options.scheme+":":"")+"//"+uriString;var matches=uriString.match(URI_PARSE);if(matches){if(NO_MATCH_IS_UNDEFINED){components.scheme=matches[1];components.userinfo=matches[3];components.host=matches[4];components.port=parseInt(matches[5],10);components.path=matches[6]||"";components.query=matches[7];components.fragment=matches[8];if(isNaN(components.port)){components.port=matches[5]}}else{components.scheme=matches[1]||undefined;components.userinfo=uriString.indexOf("@")!==-1?matches[3]:undefined;components.host=uriString.indexOf("//")!==-1?matches[4]:undefined;components.port=parseInt(matches[5],10);components.path=matches[6]||"";components.query=uriString.indexOf("?")!==-1?matches[7]:undefined;components.fragment=uriString.indexOf("#")!==-1?matches[8]:undefined;if(isNaN(components.port)){components.port=uriString.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?matches[4]:undefined}}if(components.host){components.host=_normalizeIPv6(_normalizeIPv4(components.host,protocol),protocol)}if(components.scheme===undefined&&components.userinfo===undefined&&components.host===undefined&&components.port===undefined&&!components.path&&components.query===undefined){components.reference="same-document"}else if(components.scheme===undefined){components.reference="relative"}else if(components.fragment===undefined){components.reference="absolute"}else{components.reference="uri"}if(options.reference&&options.reference!=="suffix"&&options.reference!==components.reference){components.error=components.error||"URI is not a "+options.reference+" reference."}var schemeHandler=SCHEMES[(options.scheme||components.scheme||"").toLowerCase()];if(!options.unicodeSupport&&(!schemeHandler||!schemeHandler.unicodeSupport)){if(components.host&&(options.domainHost||schemeHandler&&schemeHandler.domainHost)){try{components.host=punycode.toASCII(components.host.replace(protocol.PCT_ENCODED,pctDecChars).toLowerCase())}catch(e){components.error=components.error||"Host's domain name can not be converted to ASCII via punycode: "+e}}_normalizeComponentEncoding(components,URI_PROTOCOL)}else{_normalizeComponentEncoding(components,protocol)}if(schemeHandler&&schemeHandler.parse){schemeHandler.parse(components,options)}}else{components.error=components.error||"URI can not be parsed."}return components}function _recomposeAuthority(components,options){var protocol=options.iri!==false?IRI_PROTOCOL:URI_PROTOCOL;var uriTokens=[];if(components.userinfo!==undefined){uriTokens.push(components.userinfo);uriTokens.push("@")}if(components.host!==undefined){uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host),protocol),protocol).replace(protocol.IPV6ADDRESS,(function(_,$1,$2){return"["+$1+($2?"%25"+$2:"")+"]"})))}if(typeof components.port==="number"||typeof components.port==="string"){uriTokens.push(":");uriTokens.push(String(components.port))}return uriTokens.length?uriTokens.join(""):undefined}var RDS1=/^\.\.?\//;var RDS2=/^\/\.(\/|$)/;var RDS3=/^\/\.\.(\/|$)/;var RDS5=/^\/?(?:.|\n)*?(?=\/|$)/;function removeDotSegments(input){var output=[];while(input.length){if(input.match(RDS1)){input=input.replace(RDS1,"")}else if(input.match(RDS2)){input=input.replace(RDS2,"/")}else if(input.match(RDS3)){input=input.replace(RDS3,"/");output.pop()}else if(input==="."||input===".."){input=""}else{var im=input.match(RDS5);if(im){var s=im[0];input=input.slice(s.length);output.push(s)}else{throw new Error("Unexpected dot segment condition")}}}return output.join("")}function serialize(components){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var protocol=options.iri?IRI_PROTOCOL:URI_PROTOCOL;var uriTokens=[];var schemeHandler=SCHEMES[(options.scheme||components.scheme||"").toLowerCase()];if(schemeHandler&&schemeHandler.serialize)schemeHandler.serialize(components,options);if(components.host){if(protocol.IPV6ADDRESS.test(components.host));else if(options.domainHost||schemeHandler&&schemeHandler.domainHost){try{components.host=!options.iri?punycode.toASCII(components.host.replace(protocol.PCT_ENCODED,pctDecChars).toLowerCase()):punycode.toUnicode(components.host)}catch(e){components.error=components.error||"Host's domain name can not be converted to "+(!options.iri?"ASCII":"Unicode")+" via punycode: "+e}}}_normalizeComponentEncoding(components,protocol);if(options.reference!=="suffix"&&components.scheme){uriTokens.push(components.scheme);uriTokens.push(":")}var authority=_recomposeAuthority(components,options);if(authority!==undefined){if(options.reference!=="suffix"){uriTokens.push("//")}uriTokens.push(authority);if(components.path&&components.path.charAt(0)!=="/"){uriTokens.push("/")}}if(components.path!==undefined){var s=components.path;if(!options.absolutePath&&(!schemeHandler||!schemeHandler.absolutePath)){s=removeDotSegments(s)}if(authority===undefined){s=s.replace(/^\/\//,"/%2F")}uriTokens.push(s)}if(components.query!==undefined){uriTokens.push("?");uriTokens.push(components.query)}if(components.fragment!==undefined){uriTokens.push("#");uriTokens.push(components.fragment)}return uriTokens.join("")}function resolveComponents(base,relative){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var skipNormalization=arguments[3];var target={};if(!skipNormalization){base=parse(serialize(base,options),options);relative=parse(serialize(relative,options),options)}options=options||{};if(!options.tolerant&&relative.scheme){target.scheme=relative.scheme;target.userinfo=relative.userinfo;target.host=relative.host;target.port=relative.port;target.path=removeDotSegments(relative.path||"");target.query=relative.query}else{if(relative.userinfo!==undefined||relative.host!==undefined||relative.port!==undefined){target.userinfo=relative.userinfo;target.host=relative.host;target.port=relative.port;target.path=removeDotSegments(relative.path||"");target.query=relative.query}else{if(!relative.path){target.path=base.path;if(relative.query!==undefined){target.query=relative.query}else{target.query=base.query}}else{if(relative.path.charAt(0)==="/"){target.path=removeDotSegments(relative.path)}else{if((base.userinfo!==undefined||base.host!==undefined||base.port!==undefined)&&!base.path){target.path="/"+relative.path}else if(!base.path){target.path=relative.path}else{target.path=base.path.slice(0,base.path.lastIndexOf("/")+1)+relative.path}target.path=removeDotSegments(target.path)}target.query=relative.query}target.userinfo=base.userinfo;target.host=base.host;target.port=base.port}target.scheme=base.scheme}target.fragment=relative.fragment;return target}function resolve(baseURI,relativeURI,options){var schemelessOptions=assign({scheme:"null"},options);return serialize(resolveComponents(parse(baseURI,schemelessOptions),parse(relativeURI,schemelessOptions),schemelessOptions,true),schemelessOptions)}function normalize(uri,options){if(typeof uri==="string"){uri=serialize(parse(uri,options),options)}else if(typeOf(uri)==="object"){uri=parse(serialize(uri,options),options)}return uri}function equal(uriA,uriB,options){if(typeof uriA==="string"){uriA=serialize(parse(uriA,options),options)}else if(typeOf(uriA)==="object"){uriA=serialize(uriA,options)}if(typeof uriB==="string"){uriB=serialize(parse(uriB,options),options)}else if(typeOf(uriB)==="object"){uriB=serialize(uriB,options)}return uriA===uriB}function escapeComponent(str,options){return str&&str.toString().replace(!options||!options.iri?URI_PROTOCOL.ESCAPE:IRI_PROTOCOL.ESCAPE,pctEncChar)}function unescapeComponent(str,options){return str&&str.toString().replace(!options||!options.iri?URI_PROTOCOL.PCT_ENCODED:IRI_PROTOCOL.PCT_ENCODED,pctDecChars)}var handler={scheme:"http",domainHost:true,parse:function parse(components,options){if(!components.host){components.error=components.error||"HTTP URIs must have a host."}return components},serialize:function serialize(components,options){var secure=String(components.scheme).toLowerCase()==="https";if(components.port===(secure?443:80)||components.port===""){components.port=undefined}if(!components.path){components.path="/"}return components}};var handler$1={scheme:"https",domainHost:handler.domainHost,parse:handler.parse,serialize:handler.serialize};function isSecure(wsComponents){return typeof wsComponents.secure==="boolean"?wsComponents.secure:String(wsComponents.scheme).toLowerCase()==="wss"}var handler$2={scheme:"ws",domainHost:true,parse:function parse(components,options){var wsComponents=components;wsComponents.secure=isSecure(wsComponents);wsComponents.resourceName=(wsComponents.path||"/")+(wsComponents.query?"?"+wsComponents.query:"");wsComponents.path=undefined;wsComponents.query=undefined;return wsComponents},serialize:function serialize(wsComponents,options){if(wsComponents.port===(isSecure(wsComponents)?443:80)||wsComponents.port===""){wsComponents.port=undefined}if(typeof wsComponents.secure==="boolean"){wsComponents.scheme=wsComponents.secure?"wss":"ws";wsComponents.secure=undefined}if(wsComponents.resourceName){var _wsComponents$resourc=wsComponents.resourceName.split("?"),_wsComponents$resourc2=slicedToArray(_wsComponents$resourc,2),path=_wsComponents$resourc2[0],query=_wsComponents$resourc2[1];wsComponents.path=path&&path!=="/"?path:undefined;wsComponents.query=query;wsComponents.resourceName=undefined}wsComponents.fragment=undefined;return wsComponents}};var handler$3={scheme:"wss",domainHost:handler$2.domainHost,parse:handler$2.parse,serialize:handler$2.serialize};var O={};var UNRESERVED$$="[A-Za-z0-9\\-\\.\\_\\~"+"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF"+"]";var HEXDIG$$="[0-9A-Fa-f]";var PCT_ENCODED$=subexp(subexp("%[EFef]"+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%[89A-Fa-f]"+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%"+HEXDIG$$+HEXDIG$$));var ATEXT$$="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]";var QTEXT$$="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]";var VCHAR$$=merge(QTEXT$$,'[\\"\\\\]');var SOME_DELIMS$$="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]";var UNRESERVED=new RegExp(UNRESERVED$$,"g");var PCT_ENCODED=new RegExp(PCT_ENCODED$,"g");var NOT_LOCAL_PART=new RegExp(merge("[^]",ATEXT$$,"[\\.]",'[\\"]',VCHAR$$),"g");var NOT_HFNAME=new RegExp(merge("[^]",UNRESERVED$$,SOME_DELIMS$$),"g");var NOT_HFVALUE=NOT_HFNAME;function decodeUnreserved(str){var decStr=pctDecChars(str);return!decStr.match(UNRESERVED)?str:decStr}var handler$4={scheme:"mailto",parse:function parse$$1(components,options){var mailtoComponents=components;var to=mailtoComponents.to=mailtoComponents.path?mailtoComponents.path.split(","):[];mailtoComponents.path=undefined;if(mailtoComponents.query){var unknownHeaders=false;var headers={};var hfields=mailtoComponents.query.split("&");for(var x=0,xl=hfields.length;x<xl;++x){var hfield=hfields[x].split("=");switch(hfield[0]){case"to":var toAddrs=hfield[1].split(",");for(var _x=0,_xl=toAddrs.length;_x<_xl;++_x){to.push(toAddrs[_x])}break;case"subject":mailtoComponents.subject=unescapeComponent(hfield[1],options);break;case"body":mailtoComponents.body=unescapeComponent(hfield[1],options);break;default:unknownHeaders=true;headers[unescapeComponent(hfield[0],options)]=unescapeComponent(hfield[1],options);break}}if(unknownHeaders)mailtoComponents.headers=headers}mailtoComponents.query=undefined;for(var _x2=0,_xl2=to.length;_x2<_xl2;++_x2){var addr=to[_x2].split("@");addr[0]=unescapeComponent(addr[0]);if(!options.unicodeSupport){try{addr[1]=punycode.toASCII(unescapeComponent(addr[1],options).toLowerCase())}catch(e){mailtoComponents.error=mailtoComponents.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}}else{addr[1]=unescapeComponent(addr[1],options).toLowerCase()}to[_x2]=addr.join("@")}return mailtoComponents},serialize:function serialize$$1(mailtoComponents,options){var components=mailtoComponents;var to=toArray(mailtoComponents.to);if(to){for(var x=0,xl=to.length;x<xl;++x){var toAddr=String(to[x]);var atIdx=toAddr.lastIndexOf("@");var localPart=toAddr.slice(0,atIdx).replace(PCT_ENCODED,decodeUnreserved).replace(PCT_ENCODED,toUpperCase).replace(NOT_LOCAL_PART,pctEncChar);var domain=toAddr.slice(atIdx+1);try{domain=!options.iri?punycode.toASCII(unescapeComponent(domain,options).toLowerCase()):punycode.toUnicode(domain)}catch(e){components.error=components.error||"Email address's domain name can not be converted to "+(!options.iri?"ASCII":"Unicode")+" via punycode: "+e}to[x]=localPart+"@"+domain}components.path=to.join(",")}var headers=mailtoComponents.headers=mailtoComponents.headers||{};if(mailtoComponents.subject)headers["subject"]=mailtoComponents.subject;if(mailtoComponents.body)headers["body"]=mailtoComponents.body;var fields=[];for(var name in headers){if(headers[name]!==O[name]){fields.push(name.replace(PCT_ENCODED,decodeUnreserved).replace(PCT_ENCODED,toUpperCase).replace(NOT_HFNAME,pctEncChar)+"="+headers[name].replace(PCT_ENCODED,decodeUnreserved).replace(PCT_ENCODED,toUpperCase).replace(NOT_HFVALUE,pctEncChar))}}if(fields.length){components.query=fields.join("&")}return components}};var URN_PARSE=/^([^\:]+)\:(.*)/;var handler$5={scheme:"urn",parse:function parse$$1(components,options){var matches=components.path&&components.path.match(URN_PARSE);var urnComponents=components;if(matches){var scheme=options.scheme||urnComponents.scheme||"urn";var nid=matches[1].toLowerCase();var nss=matches[2];var urnScheme=scheme+":"+(options.nid||nid);var schemeHandler=SCHEMES[urnScheme];urnComponents.nid=nid;urnComponents.nss=nss;urnComponents.path=undefined;if(schemeHandler){urnComponents=schemeHandler.parse(urnComponents,options)}}else{urnComponents.error=urnComponents.error||"URN can not be parsed."}return urnComponents},serialize:function serialize$$1(urnComponents,options){var scheme=options.scheme||urnComponents.scheme||"urn";var nid=urnComponents.nid;var urnScheme=scheme+":"+(options.nid||nid);var schemeHandler=SCHEMES[urnScheme];if(schemeHandler){urnComponents=schemeHandler.serialize(urnComponents,options)}var uriComponents=urnComponents;var nss=urnComponents.nss;uriComponents.path=(nid||options.nid)+":"+nss;return uriComponents}};var UUID=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;var handler$6={scheme:"urn:uuid",parse:function parse(urnComponents,options){var uuidComponents=urnComponents;uuidComponents.uuid=uuidComponents.nss;uuidComponents.nss=undefined;if(!options.tolerant&&(!uuidComponents.uuid||!uuidComponents.uuid.match(UUID))){uuidComponents.error=uuidComponents.error||"UUID is not valid."}return uuidComponents},serialize:function serialize(uuidComponents,options){var urnComponents=uuidComponents;urnComponents.nss=(uuidComponents.uuid||"").toLowerCase();return urnComponents}};SCHEMES[handler.scheme]=handler;SCHEMES[handler$1.scheme]=handler$1;SCHEMES[handler$2.scheme]=handler$2;SCHEMES[handler$3.scheme]=handler$3;SCHEMES[handler$4.scheme]=handler$4;SCHEMES[handler$5.scheme]=handler$5;SCHEMES[handler$6.scheme]=handler$6;exports.SCHEMES=SCHEMES;exports.pctEncChar=pctEncChar;exports.pctDecChars=pctDecChars;exports.parse=parse;exports.removeDotSegments=removeDotSegments;exports.serialize=serialize;exports.resolveComponents=resolveComponents;exports.resolve=resolve;exports.normalize=normalize;exports.equal=equal;exports.escapeComponent=escapeComponent;exports.unescapeComponent=unescapeComponent;Object.defineProperty(exports,"__esModule",{value:true})}))})(uri_all,uri_all.exports);return uri_all.exports}var fastDeepEqual;var hasRequiredFastDeepEqual;function requireFastDeepEqual(){if(hasRequiredFastDeepEqual)return fastDeepEqual;hasRequiredFastDeepEqual=1;fastDeepEqual=function equal(a,b){if(a===b)return true;if(a&&b&&typeof a=="object"&&typeof b=="object"){if(a.constructor!==b.constructor)return false;var length,i,keys;if(Array.isArray(a)){length=a.length;if(length!=b.length)return false;for(i=length;i--!==0;)if(!equal(a[i],b[i]))return false;return true}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();keys=Object.keys(a);length=keys.length;if(length!==Object.keys(b).length)return false;for(i=length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return false;for(i=length;i--!==0;){var key=keys[i];if(!equal(a[key],b[key]))return false}return true}return a!==a&&b!==b};return fastDeepEqual}var ucs2length;var hasRequiredUcs2length;function requireUcs2length(){if(hasRequiredUcs2length)return ucs2length;hasRequiredUcs2length=1;ucs2length=function ucs2length(str){var length=0,len=str.length,pos=0,value;while(pos<len){length++;value=str.charCodeAt(pos++);if(value>=55296&&value<=56319&&pos<len){value=str.charCodeAt(pos);if((value&64512)==56320)pos++}}return length};return ucs2length}var util;var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;util={copy:copy,checkDataType:checkDataType,checkDataTypes:checkDataTypes,coerceToTypes:coerceToTypes,toHash:toHash,getProperty:getProperty,escapeQuotes:escapeQuotes,equal:requireFastDeepEqual(),ucs2length:requireUcs2length(),varOccurences:varOccurences,varReplace:varReplace,schemaHasRules:schemaHasRules,schemaHasRulesExcept:schemaHasRulesExcept,schemaUnknownRules:schemaUnknownRules,toQuotedString:toQuotedString,getPathExpr:getPathExpr,getPath:getPath,getData:getData,unescapeFragment:unescapeFragment,unescapeJsonPointer:unescapeJsonPointer,escapeFragment:escapeFragment,escapeJsonPointer:escapeJsonPointer};function copy(o,to){to=to||{};for(var key in o)to[key]=o[key];return to}function checkDataType(dataType,data,strictNumbers,negate){var EQUAL=negate?" !== ":" === ",AND=negate?" || ":" && ",OK=negate?"!":"",NOT=negate?"":"!";switch(dataType){case"null":return data+EQUAL+"null";case"array":return OK+"Array.isArray("+data+")";case"object":return"("+OK+data+AND+"typeof "+data+EQUAL+'"object"'+AND+NOT+"Array.isArray("+data+"))";case"integer":return"(typeof "+data+EQUAL+'"number"'+AND+NOT+"("+data+" % 1)"+AND+data+EQUAL+data+(strictNumbers?AND+OK+"isFinite("+data+")":"")+")";case"number":return"(typeof "+data+EQUAL+'"'+dataType+'"'+(strictNumbers?AND+OK+"isFinite("+data+")":"")+")";default:return"typeof "+data+EQUAL+'"'+dataType+'"'}}function checkDataTypes(dataTypes,data,strictNumbers){switch(dataTypes.length){case 1:return checkDataType(dataTypes[0],data,strictNumbers,true);default:var code="";var types=toHash(dataTypes);if(types.array&&types.object){code=types.null?"(":"(!"+data+" || ";code+="typeof "+data+' !== "object")';delete types.null;delete types.array;delete types.object}if(types.number)delete types.integer;for(var t in types)code+=(code?" && ":"")+checkDataType(t,data,strictNumbers,true);return code}}var COERCE_TO_TYPES=toHash(["string","number","integer","boolean","null"]);function coerceToTypes(optionCoerceTypes,dataTypes){if(Array.isArray(dataTypes)){var types=[];for(var i=0;i<dataTypes.length;i++){var t=dataTypes[i];if(COERCE_TO_TYPES[t])types[types.length]=t;else if(optionCoerceTypes==="array"&&t==="array")types[types.length]=t}if(types.length)return types}else if(COERCE_TO_TYPES[dataTypes]){return[dataTypes]}else if(optionCoerceTypes==="array"&&dataTypes==="array"){return["array"]}}function toHash(arr){var hash={};for(var i=0;i<arr.length;i++)hash[arr[i]]=true;return hash}var IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var SINGLE_QUOTE=/'|\\/g;function getProperty(key){return typeof key=="number"?"["+key+"]":IDENTIFIER.test(key)?"."+key:"['"+escapeQuotes(key)+"']"}function escapeQuotes(str){return str.replace(SINGLE_QUOTE,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function varOccurences(str,dataVar){dataVar+="[^0-9]";var matches=str.match(new RegExp(dataVar,"g"));return matches?matches.length:0}function varReplace(str,dataVar,expr){dataVar+="([^0-9])";expr=expr.replace(/\$/g,"$$$$");return str.replace(new RegExp(dataVar,"g"),expr+"$1")}function schemaHasRules(schema,rules){if(typeof schema=="boolean")return!schema;for(var key in schema)if(rules[key])return true}function schemaHasRulesExcept(schema,rules,exceptKeyword){if(typeof schema=="boolean")return!schema&&exceptKeyword!="not";for(var key in schema)if(key!=exceptKeyword&&rules[key])return true}function schemaUnknownRules(schema,rules){if(typeof schema=="boolean")return;for(var key in schema)if(!rules[key])return key}function toQuotedString(str){return"'"+escapeQuotes(str)+"'"}function getPathExpr(currentPath,expr,jsonPointers,isNumber){var path=jsonPointers?"'/' + "+expr+(isNumber?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):isNumber?"'[' + "+expr+" + ']'":"'[\\'' + "+expr+" + '\\']'";return joinPaths(currentPath,path)}function getPath(currentPath,prop,jsonPointers){var path=jsonPointers?toQuotedString("/"+escapeJsonPointer(prop)):toQuotedString(getProperty(prop));return joinPaths(currentPath,path)}var JSON_POINTER=/^\/(?:[^~]|~0|~1)*$/;var RELATIVE_JSON_POINTER=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData($data,lvl,paths){var up,jsonPointer,data,matches;if($data==="")return"rootData";if($data[0]=="/"){if(!JSON_POINTER.test($data))throw new Error("Invalid JSON-pointer: "+$data);jsonPointer=$data;data="rootData"}else{matches=$data.match(RELATIVE_JSON_POINTER);if(!matches)throw new Error("Invalid JSON-pointer: "+$data);up=+matches[1];jsonPointer=matches[2];if(jsonPointer=="#"){if(up>=lvl)throw new Error("Cannot access property/index "+up+" levels up, current level is "+lvl);return paths[lvl-up]}if(up>lvl)throw new Error("Cannot access data "+up+" levels up, current level is "+lvl);data="data"+(lvl-up||"");if(!jsonPointer)return data}var expr=data;var segments=jsonPointer.split("/");for(var i=0;i<segments.length;i++){var segment=segments[i];if(segment){data+=getProperty(unescapeJsonPointer(segment));expr+=" && "+data}}return expr}function joinPaths(a,b){if(a=='""')return b;return(a+" + "+b).replace(/([^\\])' \+ '/g,"$1")}function unescapeFragment(str){return unescapeJsonPointer(decodeURIComponent(str))}function escapeFragment(str){return encodeURIComponent(escapeJsonPointer(str))}function escapeJsonPointer(str){return str.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapeJsonPointer(str){return str.replace(/~1/g,"/").replace(/~0/g,"~")}return util}var schema_obj;var hasRequiredSchema_obj;function requireSchema_obj(){if(hasRequiredSchema_obj)return schema_obj;hasRequiredSchema_obj=1;var util=requireUtil();schema_obj=SchemaObject;function SchemaObject(obj){util.copy(obj,this)}return schema_obj}var jsonSchemaTraverse={exports:{}};var hasRequiredJsonSchemaTraverse;function requireJsonSchemaTraverse(){if(hasRequiredJsonSchemaTraverse)return jsonSchemaTraverse.exports;hasRequiredJsonSchemaTraverse=1;var traverse=jsonSchemaTraverse.exports=function(schema,opts,cb){if(typeof opts=="function"){cb=opts;opts={}}cb=opts.cb||cb;var pre=typeof cb=="function"?cb:cb.pre||function(){};var post=cb.post||function(){};_traverse(opts,pre,post,schema,"",schema)};traverse.keywords={additionalItems:true,items:true,contains:true,additionalProperties:true,propertyNames:true,not:true};traverse.arrayKeywords={items:true,allOf:true,anyOf:true,oneOf:true};traverse.propsKeywords={definitions:true,properties:true,patternProperties:true,dependencies:true};traverse.skipKeywords={default:true,enum:true,const:true,required:true,maximum:true,minimum:true,exclusiveMaximum:true,exclusiveMinimum:true,multipleOf:true,maxLength:true,minLength:true,pattern:true,format:true,maxItems:true,minItems:true,uniqueItems:true,maxProperties:true,minProperties:true};function _traverse(opts,pre,post,schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex){if(schema&&typeof schema=="object"&&!Array.isArray(schema)){pre(schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex);for(var key in schema){var sch=schema[key];if(Array.isArray(sch)){if(key in traverse.arrayKeywords){for(var i=0;i<sch.length;i++)_traverse(opts,pre,post,sch[i],jsonPtr+"/"+key+"/"+i,rootSchema,jsonPtr,key,schema,i)}}else if(key in traverse.propsKeywords){if(sch&&typeof sch=="object"){for(var prop in sch)_traverse(opts,pre,post,sch[prop],jsonPtr+"/"+key+"/"+escapeJsonPtr(prop),rootSchema,jsonPtr,key,schema,prop)}}else if(key in traverse.keywords||opts.allKeys&&!(key in traverse.skipKeywords)){_traverse(opts,pre,post,sch,jsonPtr+"/"+key,rootSchema,jsonPtr,key,schema)}}post(schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex)}}function escapeJsonPtr(str){return str.replace(/~/g,"~0").replace(/\//g,"~1")}return jsonSchemaTraverse.exports}var resolve_1;var hasRequiredResolve;function requireResolve(){if(hasRequiredResolve)return resolve_1;hasRequiredResolve=1;var URI=requireUri_all(),equal=requireFastDeepEqual(),util=requireUtil(),SchemaObject=requireSchema_obj(),traverse=requireJsonSchemaTraverse();resolve_1=resolve;resolve.normalizeId=normalizeId;resolve.fullPath=getFullPath;resolve.url=resolveUrl;resolve.ids=resolveIds;resolve.inlineRef=inlineRef;resolve.schema=resolveSchema;function resolve(compile,root,ref){var refVal=this._refs[ref];if(typeof refVal=="string"){if(this._refs[refVal])refVal=this._refs[refVal];else return resolve.call(this,compile,root,refVal)}refVal=refVal||this._schemas[ref];if(refVal instanceof SchemaObject){return inlineRef(refVal.schema,this._opts.inlineRefs)?refVal.schema:refVal.validate||this._compile(refVal)}var res=resolveSchema.call(this,root,ref);var schema,v,baseId;if(res){schema=res.schema;root=res.root;baseId=res.baseId}if(schema instanceof SchemaObject){v=schema.validate||compile.call(this,schema.schema,root,undefined,baseId)}else if(schema!==undefined){v=inlineRef(schema,this._opts.inlineRefs)?schema:compile.call(this,schema,root,undefined,baseId)}return v}function resolveSchema(root,ref){var p=URI.parse(ref),refPath=_getFullPath(p),baseId=getFullPath(this._getId(root.schema));if(Object.keys(root.schema).length===0||refPath!==baseId){var id=normalizeId(refPath);var refVal=this._refs[id];if(typeof refVal=="string"){return resolveRecursive.call(this,root,refVal,p)}else if(refVal instanceof SchemaObject){if(!refVal.validate)this._compile(refVal);root=refVal}else{refVal=this._schemas[id];if(refVal instanceof SchemaObject){if(!refVal.validate)this._compile(refVal);if(id==normalizeId(ref))return{schema:refVal,root:root,baseId:baseId};root=refVal}else{return}}if(!root.schema)return;baseId=getFullPath(this._getId(root.schema))}return getJsonPointer.call(this,p,baseId,root.schema,root)}function resolveRecursive(root,ref,parsedRef){var res=resolveSchema.call(this,root,ref);if(res){var schema=res.schema;var baseId=res.baseId;root=res.root;var id=this._getId(schema);if(id)baseId=resolveUrl(baseId,id);return getJsonPointer.call(this,parsedRef,baseId,schema,root)}}var PREVENT_SCOPE_CHANGE=util.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(parsedRef,baseId,schema,root){parsedRef.fragment=parsedRef.fragment||"";if(parsedRef.fragment.slice(0,1)!="/")return;var parts=parsedRef.fragment.split("/");for(var i=1;i<parts.length;i++){var part=parts[i];if(part){part=util.unescapeFragment(part);schema=schema[part];if(schema===undefined)break;var id;if(!PREVENT_SCOPE_CHANGE[part]){id=this._getId(schema);if(id)baseId=resolveUrl(baseId,id);if(schema.$ref){var $ref=resolveUrl(baseId,schema.$ref);var res=resolveSchema.call(this,root,$ref);if(res){schema=res.schema;root=res.root;baseId=res.baseId}}}}}if(schema!==undefined&&schema!==root.schema)return{schema:schema,root:root,baseId:baseId}}var SIMPLE_INLINED=util.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function inlineRef(schema,limit){if(limit===false)return false;if(limit===undefined||limit===true)return checkNoRef(schema);else if(limit)return countKeys(schema)<=limit}function checkNoRef(schema){var item;if(Array.isArray(schema)){for(var i=0;i<schema.length;i++){item=schema[i];if(typeof item=="object"&&!checkNoRef(item))return false}}else{for(var key in schema){if(key=="$ref")return false;item=schema[key];if(typeof item=="object"&&!checkNoRef(item))return false}}return true}function countKeys(schema){var count=0,item;if(Array.isArray(schema)){for(var i=0;i<schema.length;i++){item=schema[i];if(typeof item=="object")count+=countKeys(item);if(count==Infinity)return Infinity}}else{for(var key in schema){if(key=="$ref")return Infinity;if(SIMPLE_INLINED[key]){count++}else{item=schema[key];if(typeof item=="object")count+=countKeys(item)+1;if(count==Infinity)return Infinity}}}return count}function getFullPath(id,normalize){if(normalize!==false)id=normalizeId(id);var p=URI.parse(id);return _getFullPath(p)}function _getFullPath(p){return URI.serialize(p).split("#")[0]+"#"}var TRAILING_SLASH_HASH=/#\/?$/;function normalizeId(id){return id?id.replace(TRAILING_SLASH_HASH,""):""}function resolveUrl(baseId,id){id=normalizeId(id);return URI.resolve(baseId,id)}function resolveIds(schema){var schemaId=normalizeId(this._getId(schema));var baseIds={"":schemaId};var fullPaths={"":getFullPath(schemaId,false)};var localRefs={};var self=this;traverse(schema,{allKeys:true},(function(sch,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex){if(jsonPtr==="")return;var id=self._getId(sch);var baseId=baseIds[parentJsonPtr];var fullPath=fullPaths[parentJsonPtr]+"/"+parentKeyword;if(keyIndex!==undefined)fullPath+="/"+(typeof keyIndex=="number"?keyIndex:util.escapeFragment(keyIndex));if(typeof id=="string"){id=baseId=normalizeId(baseId?URI.resolve(baseId,id):id);var refVal=self._refs[id];if(typeof refVal=="string")refVal=self._refs[refVal];if(refVal&&refVal.schema){if(!equal(sch,refVal.schema))throw new Error('id "'+id+'" resolves to more than one schema')}else if(id!=normalizeId(fullPath)){if(id[0]=="#"){if(localRefs[id]&&!equal(sch,localRefs[id]))throw new Error('id "'+id+'" resolves to more than one schema');localRefs[id]=sch}else{self._refs[id]=fullPath}}}baseIds[jsonPtr]=baseId;fullPaths[jsonPtr]=fullPath}));return localRefs}return resolve_1}var error_classes;var hasRequiredError_classes;function requireError_classes(){if(hasRequiredError_classes)return error_classes;hasRequiredError_classes=1;var resolve=requireResolve();error_classes={Validation:errorSubclass(ValidationError),MissingRef:errorSubclass(MissingRefError)};function ValidationError(errors){this.message="validation failed";this.errors=errors;this.ajv=this.validation=true}MissingRefError.message=function(baseId,ref){return"can't resolve reference "+ref+" from id "+baseId};function MissingRefError(baseId,ref,message){this.message=message||MissingRefError.message(baseId,ref);this.missingRef=resolve.url(baseId,ref);this.missingSchema=resolve.normalizeId(resolve.fullPath(this.missingRef))}function errorSubclass(Subclass){Subclass.prototype=Object.create(Error.prototype);Subclass.prototype.constructor=Subclass;return Subclass}return error_classes}var fastJsonStableStringify;var hasRequiredFastJsonStableStringify;function requireFastJsonStableStringify(){if(hasRequiredFastJsonStableStringify)return fastJsonStableStringify;hasRequiredFastJsonStableStringify=1;fastJsonStableStringify=function(data,opts){if(!opts)opts={};if(typeof opts==="function")opts={cmp:opts};var cycles=typeof opts.cycles==="boolean"?opts.cycles:false;var cmp=opts.cmp&&function(f){return function(node){return function(a,b){var aobj={key:a,value:node[a]};var bobj={key:b,value:node[b]};return f(aobj,bobj)}}}(opts.cmp);var seen=[];return function stringify(node){if(node&&node.toJSON&&typeof node.toJSON==="function"){node=node.toJSON()}if(node===undefined)return;if(typeof node=="number")return isFinite(node)?""+node:"null";if(typeof node!=="object")return JSON.stringify(node);var i,out;if(Array.isArray(node)){out="[";for(i=0;i<node.length;i++){if(i)out+=",";out+=stringify(node[i])||"null"}return out+"]"}if(node===null)return"null";if(seen.indexOf(node)!==-1){if(cycles)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var seenIndex=seen.push(node)-1;var keys=Object.keys(node).sort(cmp&&cmp(node));out="";for(i=0;i<keys.length;i++){var key=keys[i];var value=stringify(node[key]);if(!value)continue;if(out)out+=",";out+=JSON.stringify(key)+":"+value}seen.splice(seenIndex,1);return"{"+out+"}"}(data)};return fastJsonStableStringify}var validate;var hasRequiredValidate;function requireValidate(){if(hasRequiredValidate)return validate;hasRequiredValidate=1;validate=function generate_validate(it,$keyword,$ruleType){var out="";var $async=it.schema.$async===true,$refKeywords=it.util.schemaHasRulesExcept(it.schema,it.RULES.all,"$ref"),$id=it.self._getId(it.schema);if(it.opts.strictKeywords){var $unknownKwd=it.util.schemaUnknownRules(it.schema,it.RULES.keywords);if($unknownKwd){var $keywordsMsg="unknown keyword: "+$unknownKwd;if(it.opts.strictKeywords==="log")it.logger.warn($keywordsMsg);else throw new Error($keywordsMsg)}}if(it.isTop){out+=" var validate = ";if($async){it.async=true;out+="async "}out+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ";if($id&&(it.opts.sourceCode||it.opts.processCode)){out+=" "+("/*# sourceURL="+$id+" */")+" "}}if(typeof it.schema=="boolean"||!($refKeywords||it.schema.$ref)){var $keyword="false schema";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $errorKeyword;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;if(it.schema===false){if(it.isTop){$breakOnError=true}else{out+=" var "+$valid+" = false; "}var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"false schema")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false){out+=" , message: 'boolean schema is false' "}if(it.opts.verbose){out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}}else{if(it.isTop){if($async){out+=" return data; "}else{out+=" validate.errors = null; return true; "}}else{out+=" var "+$valid+" = true; "}}if(it.isTop){out+=" }; return validate; "}return out}if(it.isTop){var $top=it.isTop,$lvl=it.level=0,$dataLvl=it.dataLevel=0,$data="data";it.rootId=it.resolve.fullPath(it.self._getId(it.root.schema));it.baseId=it.baseId||it.rootId;delete it.isTop;it.dataPathArr=[""];if(it.schema.default!==undefined&&it.opts.useDefaults&&it.opts.strictDefaults){var $defaultMsg="default is ignored in the schema root";if(it.opts.strictDefaults==="log")it.logger.warn($defaultMsg);else throw new Error($defaultMsg)}out+=" var vErrors = null; ";out+=" var errors = 0;     ";out+=" if (rootData === undefined) rootData = data; "}else{var $lvl=it.level,$dataLvl=it.dataLevel,$data="data"+($dataLvl||"");if($id)it.baseId=it.resolve.url(it.baseId,$id);if($async&&!it.async)throw new Error("async schema in sync schema");out+=" var errs_"+$lvl+" = errors;"}var $valid="valid"+$lvl,$breakOnError=!it.opts.allErrors,$closingBraces1="",$closingBraces2="";var $errorKeyword;var $typeSchema=it.schema.type,$typeIsArray=Array.isArray($typeSchema);if($typeSchema&&it.opts.nullable&&it.schema.nullable===true){if($typeIsArray){if($typeSchema.indexOf("null")==-1)$typeSchema=$typeSchema.concat("null")}else if($typeSchema!="null"){$typeSchema=[$typeSchema,"null"];$typeIsArray=true}}if($typeIsArray&&$typeSchema.length==1){$typeSchema=$typeSchema[0];$typeIsArray=false}if(it.schema.$ref&&$refKeywords){if(it.opts.extendRefs=="fail"){throw new Error('$ref: validation keywords used in schema at path "'+it.errSchemaPath+'" (see option extendRefs)')}else if(it.opts.extendRefs!==true){$refKeywords=false;it.logger.warn('$ref: keywords ignored in schema at path "'+it.errSchemaPath+'"')}}if(it.schema.$comment&&it.opts.$comment){out+=" "+it.RULES.all.$comment.code(it,"$comment")}if($typeSchema){if(it.opts.coerceTypes){var $coerceToTypes=it.util.coerceToTypes(it.opts.coerceTypes,$typeSchema)}var $rulesGroup=it.RULES.types[$typeSchema];if($coerceToTypes||$typeIsArray||$rulesGroup===true||$rulesGroup&&!$shouldUseGroup($rulesGroup)){var $schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type";var $schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type",$method=$typeIsArray?"checkDataTypes":"checkDataType";out+=" if ("+it.util[$method]($typeSchema,$data,it.opts.strictNumbers,true)+") { ";if($coerceToTypes){var $dataType="dataType"+$lvl,$coerced="coerced"+$lvl;out+=" var "+$dataType+" = typeof "+$data+"; var "+$coerced+" = undefined; ";if(it.opts.coerceTypes=="array"){out+=" if ("+$dataType+" == 'object' && Array.isArray("+$data+") && "+$data+".length == 1) { "+$data+" = "+$data+"[0]; "+$dataType+" = typeof "+$data+"; if ("+it.util.checkDataType(it.schema.type,$data,it.opts.strictNumbers)+") "+$coerced+" = "+$data+"; } "}out+=" if ("+$coerced+" !== undefined) ; ";var arr1=$coerceToTypes;if(arr1){var $type,$i=-1,l1=arr1.length-1;while($i<l1){$type=arr1[$i+=1];if($type=="string"){out+=" else if ("+$dataType+" == 'number' || "+$dataType+" == 'boolean') "+$coerced+" = '' + "+$data+"; else if ("+$data+" === null) "+$coerced+" = ''; "}else if($type=="number"||$type=="integer"){out+=" else if ("+$dataType+" == 'boolean' || "+$data+" === null || ("+$dataType+" == 'string' && "+$data+" && "+$data+" == +"+$data+" ";if($type=="integer"){out+=" && !("+$data+" % 1)"}out+=")) "+$coerced+" = +"+$data+"; "}else if($type=="boolean"){out+=" else if ("+$data+" === 'false' || "+$data+" === 0 || "+$data+" === null) "+$coerced+" = false; else if ("+$data+" === 'true' || "+$data+" === 1) "+$coerced+" = true; "}else if($type=="null"){out+=" else if ("+$data+" === '' || "+$data+" === 0 || "+$data+" === false) "+$coerced+" = null; "}else if(it.opts.coerceTypes=="array"&&$type=="array"){out+=" else if ("+$dataType+" == 'string' || "+$dataType+" == 'number' || "+$dataType+" == 'boolean' || "+$data+" == null) "+$coerced+" = ["+$data+"]; "}}}out+=" else {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"type")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '";if($typeIsArray){out+=""+$typeSchema.join(",")}else{out+=""+$typeSchema}out+="' } ";if(it.opts.messages!==false){out+=" , message: 'should be ";if($typeIsArray){out+=""+$typeSchema.join(",")}else{out+=""+$typeSchema}out+="' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" } if ("+$coerced+" !== undefined) {  ";var $parentData=$dataLvl?"data"+($dataLvl-1||""):"parentData",$parentDataProperty=$dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty";out+=" "+$data+" = "+$coerced+"; ";if(!$dataLvl){out+="if ("+$parentData+" !== undefined)"}out+=" "+$parentData+"["+$parentDataProperty+"] = "+$coerced+"; } "}else{var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"type")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '";if($typeIsArray){out+=""+$typeSchema.join(",")}else{out+=""+$typeSchema}out+="' } ";if(it.opts.messages!==false){out+=" , message: 'should be ";if($typeIsArray){out+=""+$typeSchema.join(",")}else{out+=""+$typeSchema}out+="' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}}out+=" } "}}if(it.schema.$ref&&!$refKeywords){out+=" "+it.RULES.all.$ref.code(it,"$ref")+" ";if($breakOnError){out+=" } if (errors === ";if($top){out+="0"}else{out+="errs_"+$lvl}out+=") { ";$closingBraces2+="}"}}else{var arr2=it.RULES;if(arr2){var $rulesGroup,i2=-1,l2=arr2.length-1;while(i2<l2){$rulesGroup=arr2[i2+=1];if($shouldUseGroup($rulesGroup)){if($rulesGroup.type){out+=" if ("+it.util.checkDataType($rulesGroup.type,$data,it.opts.strictNumbers)+") { "}if(it.opts.useDefaults){if($rulesGroup.type=="object"&&it.schema.properties){var $schema=it.schema.properties,$schemaKeys=Object.keys($schema);var arr3=$schemaKeys;if(arr3){var $propertyKey,i3=-1,l3=arr3.length-1;while(i3<l3){$propertyKey=arr3[i3+=1];var $sch=$schema[$propertyKey];if($sch.default!==undefined){var $passData=$data+it.util.getProperty($propertyKey);if(it.compositeRule){if(it.opts.strictDefaults){var $defaultMsg="default is ignored for: "+$passData;if(it.opts.strictDefaults==="log")it.logger.warn($defaultMsg);else throw new Error($defaultMsg)}}else{out+=" if ("+$passData+" === undefined ";if(it.opts.useDefaults=="empty"){out+=" || "+$passData+" === null || "+$passData+" === '' "}out+=" ) "+$passData+" = ";if(it.opts.useDefaults=="shared"){out+=" "+it.useDefault($sch.default)+" "}else{out+=" "+JSON.stringify($sch.default)+" "}out+="; "}}}}}else if($rulesGroup.type=="array"&&Array.isArray(it.schema.items)){var arr4=it.schema.items;if(arr4){var $sch,$i=-1,l4=arr4.length-1;while($i<l4){$sch=arr4[$i+=1];if($sch.default!==undefined){var $passData=$data+"["+$i+"]";if(it.compositeRule){if(it.opts.strictDefaults){var $defaultMsg="default is ignored for: "+$passData;if(it.opts.strictDefaults==="log")it.logger.warn($defaultMsg);else throw new Error($defaultMsg)}}else{out+=" if ("+$passData+" === undefined ";if(it.opts.useDefaults=="empty"){out+=" || "+$passData+" === null || "+$passData+" === '' "}out+=" ) "+$passData+" = ";if(it.opts.useDefaults=="shared"){out+=" "+it.useDefault($sch.default)+" "}else{out+=" "+JSON.stringify($sch.default)+" "}out+="; "}}}}}}var arr5=$rulesGroup.rules;if(arr5){var $rule,i5=-1,l5=arr5.length-1;while(i5<l5){$rule=arr5[i5+=1];if($shouldUseRule($rule)){var $code=$rule.code(it,$rule.keyword,$rulesGroup.type);if($code){out+=" "+$code+" ";if($breakOnError){$closingBraces1+="}"}}}}}if($breakOnError){out+=" "+$closingBraces1+" ";$closingBraces1=""}if($rulesGroup.type){out+=" } ";if($typeSchema&&$typeSchema===$rulesGroup.type&&!$coerceToTypes){out+=" else { ";var $schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"type")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '";if($typeIsArray){out+=""+$typeSchema.join(",")}else{out+=""+$typeSchema}out+="' } ";if(it.opts.messages!==false){out+=" , message: 'should be ";if($typeIsArray){out+=""+$typeSchema.join(",")}else{out+=""+$typeSchema}out+="' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" } "}}if($breakOnError){out+=" if (errors === ";if($top){out+="0"}else{out+="errs_"+$lvl}out+=") { ";$closingBraces2+="}"}}}}}if($breakOnError){out+=" "+$closingBraces2+" "}if($top){if($async){out+=" if (errors === 0) return data;           ";out+=" else throw new ValidationError(vErrors); "}else{out+=" validate.errors = vErrors; ";out+=" return errors === 0;       "}out+=" }; return validate;"}else{out+=" var "+$valid+" = errors === errs_"+$lvl+";"}function $shouldUseGroup($rulesGroup){var rules=$rulesGroup.rules;for(var i=0;i<rules.length;i++)if($shouldUseRule(rules[i]))return true}function $shouldUseRule($rule){return it.schema[$rule.keyword]!==undefined||$rule.implements&&$ruleImplementsSomeKeyword($rule)}function $ruleImplementsSomeKeyword($rule){var impl=$rule.implements;for(var i=0;i<impl.length;i++)if(it.schema[impl[i]]!==undefined)return true}return out};return validate}var compile_1;var hasRequiredCompile;function requireCompile(){if(hasRequiredCompile)return compile_1;hasRequiredCompile=1;var resolve=requireResolve(),util=requireUtil(),errorClasses=requireError_classes(),stableStringify=requireFastJsonStableStringify();var validateGenerator=requireValidate();var ucs2length=util.ucs2length;var equal=requireFastDeepEqual();var ValidationError=errorClasses.Validation;compile_1=compile;function compile(schema,root,localRefs,baseId){var self=this,opts=this._opts,refVal=[undefined],refs={},patterns=[],patternsHash={},defaults=[],defaultsHash={},customRules=[];root=root||{schema:schema,refVal:refVal,refs:refs};var c=checkCompiling.call(this,schema,root,baseId);var compilation=this._compilations[c.index];if(c.compiling)return compilation.callValidate=callValidate;var formats=this._formats;var RULES=this.RULES;try{var v=localCompile(schema,root,localRefs,baseId);compilation.validate=v;var cv=compilation.callValidate;if(cv){cv.schema=v.schema;cv.errors=null;cv.refs=v.refs;cv.refVal=v.refVal;cv.root=v.root;cv.$async=v.$async;if(opts.sourceCode)cv.source=v.source}return v}finally{endCompiling.call(this,schema,root,baseId)}function callValidate(){var validate=compilation.validate;var result=validate.apply(this,arguments);callValidate.errors=validate.errors;return result}function localCompile(_schema,_root,localRefs,baseId){var isRoot=!_root||_root&&_root.schema==_schema;if(_root.schema!=root.schema)return compile.call(self,_schema,_root,localRefs,baseId);var $async=_schema.$async===true;var sourceCode=validateGenerator({isTop:true,schema:_schema,isRoot:isRoot,baseId:baseId,root:_root,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:errorClasses.MissingRef,RULES:RULES,validate:validateGenerator,util:util,resolve:resolve,resolveRef:resolveRef,usePattern:usePattern,useDefault:useDefault,useCustomRule:useCustomRule,opts:opts,formats:formats,logger:self.logger,self:self});sourceCode=vars(refVal,refValCode)+vars(patterns,patternCode)+vars(defaults,defaultCode)+vars(customRules,customRuleCode)+sourceCode;if(opts.processCode)sourceCode=opts.processCode(sourceCode,_schema);var validate;try{var makeValidate=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",sourceCode);validate=makeValidate(self,RULES,formats,root,refVal,defaults,customRules,equal,ucs2length,ValidationError);refVal[0]=validate}catch(e){self.logger.error("Error compiling schema, function code:",sourceCode);throw e}validate.schema=_schema;validate.errors=null;validate.refs=refs;validate.refVal=refVal;validate.root=isRoot?validate:_root;if($async)validate.$async=true;if(opts.sourceCode===true){validate.source={code:sourceCode,patterns:patterns,defaults:defaults}}return validate}function resolveRef(baseId,ref,isRoot){ref=resolve.url(baseId,ref);var refIndex=refs[ref];var _refVal,refCode;if(refIndex!==undefined){_refVal=refVal[refIndex];refCode="refVal["+refIndex+"]";return resolvedRef(_refVal,refCode)}if(!isRoot&&root.refs){var rootRefId=root.refs[ref];if(rootRefId!==undefined){_refVal=root.refVal[rootRefId];refCode=addLocalRef(ref,_refVal);return resolvedRef(_refVal,refCode)}}refCode=addLocalRef(ref);var v=resolve.call(self,localCompile,root,ref);if(v===undefined){var localSchema=localRefs&&localRefs[ref];if(localSchema){v=resolve.inlineRef(localSchema,opts.inlineRefs)?localSchema:compile.call(self,localSchema,root,localRefs,baseId)}}if(v===undefined){removeLocalRef(ref)}else{replaceLocalRef(ref,v);return resolvedRef(v,refCode)}}function addLocalRef(ref,v){var refId=refVal.length;refVal[refId]=v;refs[ref]=refId;return"refVal"+refId}function removeLocalRef(ref){delete refs[ref]}function replaceLocalRef(ref,v){var refId=refs[ref];refVal[refId]=v}function resolvedRef(refVal,code){return typeof refVal=="object"||typeof refVal=="boolean"?{code:code,schema:refVal,inline:true}:{code:code,$async:refVal&&!!refVal.$async}}function usePattern(regexStr){var index=patternsHash[regexStr];if(index===undefined){index=patternsHash[regexStr]=patterns.length;patterns[index]=regexStr}return"pattern"+index}function useDefault(value){switch(typeof value){case"boolean":case"number":return""+value;case"string":return util.toQuotedString(value);case"object":if(value===null)return"null";var valueStr=stableStringify(value);var index=defaultsHash[valueStr];if(index===undefined){index=defaultsHash[valueStr]=defaults.length;defaults[index]=value}return"default"+index}}function useCustomRule(rule,schema,parentSchema,it){if(self._opts.validateSchema!==false){var deps=rule.definition.dependencies;if(deps&&!deps.every((function(keyword){return Object.prototype.hasOwnProperty.call(parentSchema,keyword)})))throw new Error("parent schema must have all required keywords: "+deps.join(","));var validateSchema=rule.definition.validateSchema;if(validateSchema){var valid=validateSchema(schema);if(!valid){var message="keyword schema is invalid: "+self.errorsText(validateSchema.errors);if(self._opts.validateSchema=="log")self.logger.error(message);else throw new Error(message)}}}var compile=rule.definition.compile,inline=rule.definition.inline,macro=rule.definition.macro;var validate;if(compile){validate=compile.call(self,schema,parentSchema,it)}else if(macro){validate=macro.call(self,schema,parentSchema,it);if(opts.validateSchema!==false)self.validateSchema(validate,true)}else if(inline){validate=inline.call(self,it,rule.keyword,schema,parentSchema)}else{validate=rule.definition.validate;if(!validate)return}if(validate===undefined)throw new Error('custom keyword "'+rule.keyword+'"failed to compile');var index=customRules.length;customRules[index]=validate;return{code:"customRule"+index,validate:validate}}}function checkCompiling(schema,root,baseId){var index=compIndex.call(this,schema,root,baseId);if(index>=0)return{index:index,compiling:true};index=this._compilations.length;this._compilations[index]={schema:schema,root:root,baseId:baseId};return{index:index,compiling:false}}function endCompiling(schema,root,baseId){var i=compIndex.call(this,schema,root,baseId);if(i>=0)this._compilations.splice(i,1)}function compIndex(schema,root,baseId){for(var i=0;i<this._compilations.length;i++){var c=this._compilations[i];if(c.schema==schema&&c.root==root&&c.baseId==baseId)return i}return-1}function patternCode(i,patterns){return"var pattern"+i+" = new RegExp("+util.toQuotedString(patterns[i])+");"}function defaultCode(i){return"var default"+i+" = defaults["+i+"];"}function refValCode(i,refVal){return refVal[i]===undefined?"":"var refVal"+i+" = refVal["+i+"];"}function customRuleCode(i){return"var customRule"+i+" = customRules["+i+"];"}function vars(arr,statement){if(!arr.length)return"";var code="";for(var i=0;i<arr.length;i++)code+=statement(i,arr);return code}return compile_1}var cache={exports:{}};var hasRequiredCache;function requireCache(){if(hasRequiredCache)return cache.exports;hasRequiredCache=1;var Cache=cache.exports=function Cache(){this._cache={}};Cache.prototype.put=function Cache_put(key,value){this._cache[key]=value};Cache.prototype.get=function Cache_get(key){return this._cache[key]};Cache.prototype.del=function Cache_del(key){delete this._cache[key]};Cache.prototype.clear=function Cache_clear(){this._cache={}};return cache.exports}var formats_1;var hasRequiredFormats;function requireFormats(){if(hasRequiredFormats)return formats_1;hasRequiredFormats=1;var util=requireUtil();var DATE=/^(\d\d\d\d)-(\d\d)-(\d\d)$/;var DAYS=[0,31,28,31,30,31,30,31,31,30,31,30,31];var TIME=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;var HOSTNAME=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;var URI=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;var URIREF=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;var URITEMPLATE=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i;var URL=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i;var UUID=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;var JSON_POINTER=/^(?:\/(?:[^~/]|~0|~1)*)*$/;var JSON_POINTER_URI_FRAGMENT=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;var RELATIVE_JSON_POINTER=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;formats_1=formats;function formats(mode){mode=mode=="full"?"full":"fast";return util.copy(formats[mode])}formats.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":URITEMPLATE,url:URL,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:HOSTNAME,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER,"json-pointer-uri-fragment":JSON_POINTER_URI_FRAGMENT,"relative-json-pointer":RELATIVE_JSON_POINTER};formats.full={date:date,time:time,"date-time":date_time,uri:uri,"uri-reference":URIREF,"uri-template":URITEMPLATE,url:URL,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:HOSTNAME,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER,"json-pointer-uri-fragment":JSON_POINTER_URI_FRAGMENT,"relative-json-pointer":RELATIVE_JSON_POINTER};function isLeapYear(year){return year%4===0&&(year%100!==0||year%400===0)}function date(str){var matches=str.match(DATE);if(!matches)return false;var year=+matches[1];var month=+matches[2];var day=+matches[3];return month>=1&&month<=12&&day>=1&&day<=(month==2&&isLeapYear(year)?29:DAYS[month])}function time(str,full){var matches=str.match(TIME);if(!matches)return false;var hour=matches[1];var minute=matches[2];var second=matches[3];var timeZone=matches[5];return(hour<=23&&minute<=59&&second<=59||hour==23&&minute==59&&second==60)&&(!full||timeZone)}var DATE_TIME_SEPARATOR=/t|\s/i;function date_time(str){var dateTime=str.split(DATE_TIME_SEPARATOR);return dateTime.length==2&&date(dateTime[0])&&time(dateTime[1],true)}var NOT_URI_FRAGMENT=/\/|:/;function uri(str){return NOT_URI_FRAGMENT.test(str)&&URI.test(str)}var Z_ANCHOR=/[^\\]\\Z/;function regex(str){if(Z_ANCHOR.test(str))return false;try{new RegExp(str);return true}catch(e){return false}}return formats_1}var ref;var hasRequiredRef;function requireRef(){if(hasRequiredRef)return ref;hasRequiredRef=1;ref=function generate_ref(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $async,$refCode;if($schema=="#"||$schema=="#/"){if(it.isRoot){$async=it.async;$refCode="validate"}else{$async=it.root.schema.$async===true;$refCode="root.refVal[0]"}}else{var $refVal=it.resolveRef(it.baseId,$schema,it.isRoot);if($refVal===undefined){var $message=it.MissingRefError.message(it.baseId,$schema);if(it.opts.missingRefs=="fail"){it.logger.error($message);var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"$ref"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { ref: '"+it.util.escapeQuotes($schema)+"' } ";if(it.opts.messages!==false){out+=" , message: 'can\\'t resolve reference "+it.util.escapeQuotes($schema)+"' "}if(it.opts.verbose){out+=" , schema: "+it.util.toQuotedString($schema)+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}if($breakOnError){out+=" if (false) { "}}else if(it.opts.missingRefs=="ignore"){it.logger.warn($message);if($breakOnError){out+=" if (true) { "}}else{throw new it.MissingRefError(it.baseId,$schema,$message)}}else if($refVal.inline){var $it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level;$it.schema=$refVal.schema;$it.schemaPath="";$it.errSchemaPath=$schema;var $code=it.validate($it).replace(/validate\.schema/g,$refVal.code);out+=" "+$code+" ";if($breakOnError){out+=" if ("+$nextValid+") { "}}else{$async=$refVal.$async===true||it.async&&$refVal.$async!==false;$refCode=$refVal.code}}if($refCode){var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.opts.passContext){out+=" "+$refCode+".call(this, "}else{out+=" "+$refCode+"( "}out+=" "+$data+", (dataPath || '')";if(it.errorPath!='""'){out+=" + "+it.errorPath}var $parentData=$dataLvl?"data"+($dataLvl-1||""):"parentData",$parentDataProperty=$dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty";out+=" , "+$parentData+" , "+$parentDataProperty+", rootData)  ";var __callValidate=out;out=$$outStack.pop();if($async){if(!it.async)throw new Error("async schema referenced by sync schema");if($breakOnError){out+=" var "+$valid+"; "}out+=" try { await "+__callValidate+"; ";if($breakOnError){out+=" "+$valid+" = true; "}out+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ";if($breakOnError){out+=" "+$valid+" = false; "}out+=" } ";if($breakOnError){out+=" if ("+$valid+") { "}}else{out+=" if (!"+__callValidate+") { if (vErrors === null) vErrors = "+$refCode+".errors; else vErrors = vErrors.concat("+$refCode+".errors); errors = vErrors.length; } ";if($breakOnError){out+=" else { "}}}return out};return ref}var allOf;var hasRequiredAllOf;function requireAllOf(){if(hasRequiredAllOf)return allOf;hasRequiredAllOf=1;allOf=function generate_allOf(it,$keyword,$ruleType){var out=" ";var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;var $currentBaseId=$it.baseId,$allSchemasEmpty=true;var arr1=$schema;if(arr1){var $sch,$i=-1,l1=arr1.length-1;while($i<l1){$sch=arr1[$i+=1];if(it.opts.strictKeywords?typeof $sch=="object"&&Object.keys($sch).length>0||$sch===false:it.util.schemaHasRules($sch,it.RULES.all)){$allSchemasEmpty=false;$it.schema=$sch;$it.schemaPath=$schemaPath+"["+$i+"]";$it.errSchemaPath=$errSchemaPath+"/"+$i;out+="  "+it.validate($it)+" ";$it.baseId=$currentBaseId;if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}}}if($breakOnError){if($allSchemasEmpty){out+=" if (true) { "}else{out+=" "+$closingBraces.slice(0,-1)+" "}}return out};return allOf}var anyOf;var hasRequiredAnyOf;function requireAnyOf(){if(hasRequiredAnyOf)return anyOf;hasRequiredAnyOf=1;anyOf=function generate_anyOf(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;var $noEmptySchema=$schema.every((function($sch){return it.opts.strictKeywords?typeof $sch=="object"&&Object.keys($sch).length>0||$sch===false:it.util.schemaHasRules($sch,it.RULES.all)}));if($noEmptySchema){var $currentBaseId=$it.baseId;out+=" var "+$errs+" = errors; var "+$valid+" = false;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;var arr1=$schema;if(arr1){var $sch,$i=-1,l1=arr1.length-1;while($i<l1){$sch=arr1[$i+=1];$it.schema=$sch;$it.schemaPath=$schemaPath+"["+$i+"]";$it.errSchemaPath=$errSchemaPath+"/"+$i;out+="  "+it.validate($it)+" ";$it.baseId=$currentBaseId;out+=" "+$valid+" = "+$valid+" || "+$nextValid+"; if (!"+$valid+") { ";$closingBraces+="}"}}it.compositeRule=$it.compositeRule=$wasComposite;out+=" "+$closingBraces+" if (!"+$valid+") {   var err =   ";if(it.createErrors!==false){out+=" { keyword: '"+"anyOf"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false){out+=" , message: 'should match some schema in anyOf' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(vErrors); "}else{out+=" validate.errors = vErrors; return false; "}}out+=" } else {  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; } ";if(it.opts.allErrors){out+=" } "}}else{if($breakOnError){out+=" if (true) { "}}return out};return anyOf}var comment;var hasRequiredComment;function requireComment(){if(hasRequiredComment)return comment;hasRequiredComment=1;comment=function generate_comment(it,$keyword,$ruleType){var out=" ";var $schema=it.schema[$keyword];var $errSchemaPath=it.errSchemaPath+"/"+$keyword;!it.opts.allErrors;var $comment=it.util.toQuotedString($schema);if(it.opts.$comment===true){out+=" console.log("+$comment+");"}else if(typeof it.opts.$comment=="function"){out+=" self._opts.$comment("+$comment+", "+it.util.toQuotedString($errSchemaPath)+", validate.root.schema);"}return out};return comment}var _const;var hasRequired_const;function require_const(){if(hasRequired_const)return _const;hasRequired_const=1;_const=function generate_const(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $isData=it.opts.$data&&$schema&&$schema.$data;if($isData){out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; "}if(!$isData){out+=" var schema"+$lvl+" = validate.schema"+$schemaPath+";"}out+="var "+$valid+" = equal("+$data+", schema"+$lvl+"); if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"const"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { allowedValue: schema"+$lvl+" } ";if(it.opts.messages!==false){out+=" , message: 'should be equal to constant' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" }";if($breakOnError){out+=" else { "}return out};return _const}var contains;var hasRequiredContains;function requireContains(){if(hasRequiredContains)return contains;hasRequiredContains=1;contains=function generate_contains(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;var $idx="i"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$currentBaseId=it.baseId,$nonEmptySchema=it.opts.strictKeywords?typeof $schema=="object"&&Object.keys($schema).length>0||$schema===false:it.util.schemaHasRules($schema,it.RULES.all);out+="var "+$errs+" = errors;var "+$valid+";";if($nonEmptySchema){var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;$it.schema=$schema;$it.schemaPath=$schemaPath;$it.errSchemaPath=$errSchemaPath;out+=" var "+$nextValid+" = false; for (var "+$idx+" = 0; "+$idx+" < "+$data+".length; "+$idx+"++) { ";$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,true);var $passData=$data+"["+$idx+"]";$it.dataPathArr[$dataNxt]=$idx;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2){out+=" "+it.util.varReplace($code,$nextData,$passData)+" "}else{out+=" var "+$nextData+" = "+$passData+"; "+$code+" "}out+=" if ("+$nextValid+") break; }  ";it.compositeRule=$it.compositeRule=$wasComposite;out+=" "+$closingBraces+" if (!"+$nextValid+") {"}else{out+=" if ("+$data+".length == 0) {"}var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"contains"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false){out+=" , message: 'should contain a valid item' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" } else { ";if($nonEmptySchema){out+="  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; } "}if(it.opts.allErrors){out+=" } "}return out};return contains}var dependencies$2;var hasRequiredDependencies;function requireDependencies(){if(hasRequiredDependencies)return dependencies$2;hasRequiredDependencies=1;dependencies$2=function generate_dependencies(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;var $schemaDeps={},$propertyDeps={},$ownProperties=it.opts.ownProperties;for($property in $schema){if($property=="__proto__")continue;var $sch=$schema[$property];var $deps=Array.isArray($sch)?$propertyDeps:$schemaDeps;$deps[$property]=$sch}out+="var "+$errs+" = errors;";var $currentErrorPath=it.errorPath;out+="var missing"+$lvl+";";for(var $property in $propertyDeps){$deps=$propertyDeps[$property];if($deps.length){out+=" if ( "+$data+it.util.getProperty($property)+" !== undefined ";if($ownProperties){out+=" && Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($property)+"') "}if($breakOnError){out+=" && ( ";var arr1=$deps;if(arr1){var $propertyKey,$i=-1,l1=arr1.length-1;while($i<l1){$propertyKey=arr1[$i+=1];if($i){out+=" || "}var $prop=it.util.getProperty($propertyKey),$useData=$data+$prop;out+=" ( ( "+$useData+" === undefined ";if($ownProperties){out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "}out+=") && (missing"+$lvl+" = "+it.util.toQuotedString(it.opts.jsonPointers?$propertyKey:$prop)+") ) "}}out+=")) {  ";var $propertyPath="missing"+$lvl,$missingProperty="' + "+$propertyPath+" + '";if(it.opts._errorDataPathProperty){it.errorPath=it.opts.jsonPointers?it.util.getPathExpr($currentErrorPath,$propertyPath,true):$currentErrorPath+" + "+$propertyPath}var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"dependencies"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { property: '"+it.util.escapeQuotes($property)+"', missingProperty: '"+$missingProperty+"', depsCount: "+$deps.length+", deps: '"+it.util.escapeQuotes($deps.length==1?$deps[0]:$deps.join(", "))+"' } ";if(it.opts.messages!==false){out+=" , message: 'should have ";if($deps.length==1){out+="property "+it.util.escapeQuotes($deps[0])}else{out+="properties "+it.util.escapeQuotes($deps.join(", "))}out+=" when property "+it.util.escapeQuotes($property)+" is present' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}}else{out+=" ) { ";var arr2=$deps;if(arr2){var $propertyKey,i2=-1,l2=arr2.length-1;while(i2<l2){$propertyKey=arr2[i2+=1];var $prop=it.util.getProperty($propertyKey),$missingProperty=it.util.escapeQuotes($propertyKey),$useData=$data+$prop;if(it.opts._errorDataPathProperty){it.errorPath=it.util.getPath($currentErrorPath,$propertyKey,it.opts.jsonPointers)}out+=" if ( "+$useData+" === undefined ";if($ownProperties){out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "}out+=") {  var err =   ";if(it.createErrors!==false){out+=" { keyword: '"+"dependencies"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { property: '"+it.util.escapeQuotes($property)+"', missingProperty: '"+$missingProperty+"', depsCount: "+$deps.length+", deps: '"+it.util.escapeQuotes($deps.length==1?$deps[0]:$deps.join(", "))+"' } ";if(it.opts.messages!==false){out+=" , message: 'should have ";if($deps.length==1){out+="property "+it.util.escapeQuotes($deps[0])}else{out+="properties "+it.util.escapeQuotes($deps.join(", "))}out+=" when property "+it.util.escapeQuotes($property)+" is present' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}}out+=" }   ";if($breakOnError){$closingBraces+="}";out+=" else { "}}}it.errorPath=$currentErrorPath;var $currentBaseId=$it.baseId;for(var $property in $schemaDeps){var $sch=$schemaDeps[$property];if(it.opts.strictKeywords?typeof $sch=="object"&&Object.keys($sch).length>0||$sch===false:it.util.schemaHasRules($sch,it.RULES.all)){out+=" "+$nextValid+" = true; if ( "+$data+it.util.getProperty($property)+" !== undefined ";if($ownProperties){out+=" && Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($property)+"') "}out+=") { ";$it.schema=$sch;$it.schemaPath=$schemaPath+it.util.getProperty($property);$it.errSchemaPath=$errSchemaPath+"/"+it.util.escapeFragment($property);out+="  "+it.validate($it)+" ";$it.baseId=$currentBaseId;out+=" }  ";if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}}if($breakOnError){out+="   "+$closingBraces+" if ("+$errs+" == errors) {"}return out};return dependencies$2}var _enum;var hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1;_enum=function generate_enum(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $isData=it.opts.$data&&$schema&&$schema.$data;if($isData){out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; "}var $i="i"+$lvl,$vSchema="schema"+$lvl;if(!$isData){out+=" var "+$vSchema+" = validate.schema"+$schemaPath+";"}out+="var "+$valid+";";if($isData){out+=" if (schema"+$lvl+" === undefined) "+$valid+" = true; else if (!Array.isArray(schema"+$lvl+")) "+$valid+" = false; else {"}out+=""+$valid+" = false;for (var "+$i+"=0; "+$i+"<"+$vSchema+".length; "+$i+"++) if (equal("+$data+", "+$vSchema+"["+$i+"])) { "+$valid+" = true; break; }";if($isData){out+="  }  "}out+=" if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"enum"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { allowedValues: schema"+$lvl+" } ";if(it.opts.messages!==false){out+=" , message: 'should be equal to one of the allowed values' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" }";if($breakOnError){out+=" else { "}return out};return _enum}var format;var hasRequiredFormat;function requireFormat(){if(hasRequiredFormat)return format;hasRequiredFormat=1;format=function generate_format(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");if(it.opts.format===false){if($breakOnError){out+=" if (true) { "}return out}var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else{$schemaValue=$schema}var $unknownFormats=it.opts.unknownFormats,$allowUnknown=Array.isArray($unknownFormats);if($isData){var $format="format"+$lvl,$isObject="isObject"+$lvl,$formatType="formatType"+$lvl;out+=" var "+$format+" = formats["+$schemaValue+"]; var "+$isObject+" = typeof "+$format+" == 'object' && !("+$format+" instanceof RegExp) && "+$format+".validate; var "+$formatType+" = "+$isObject+" && "+$format+".type || 'string'; if ("+$isObject+") { ";if(it.async){out+=" var async"+$lvl+" = "+$format+".async; "}out+=" "+$format+" = "+$format+".validate; } if (  ";if($isData){out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'string') || "}out+=" (";if($unknownFormats!="ignore"){out+=" ("+$schemaValue+" && !"+$format+" ";if($allowUnknown){out+=" && self._opts.unknownFormats.indexOf("+$schemaValue+") == -1 "}out+=") || "}out+=" ("+$format+" && "+$formatType+" == '"+$ruleType+"' && !(typeof "+$format+" == 'function' ? ";if(it.async){out+=" (async"+$lvl+" ? await "+$format+"("+$data+") : "+$format+"("+$data+")) "}else{out+=" "+$format+"("+$data+") "}out+=" : "+$format+".test("+$data+"))))) {"}else{var $format=it.formats[$schema];if(!$format){if($unknownFormats=="ignore"){it.logger.warn('unknown format "'+$schema+'" ignored in schema at path "'+it.errSchemaPath+'"');if($breakOnError){out+=" if (true) { "}return out}else if($allowUnknown&&$unknownFormats.indexOf($schema)>=0){if($breakOnError){out+=" if (true) { "}return out}else{throw new Error('unknown format "'+$schema+'" is used in schema at path "'+it.errSchemaPath+'"')}}var $isObject=typeof $format=="object"&&!($format instanceof RegExp)&&$format.validate;var $formatType=$isObject&&$format.type||"string";if($isObject){var $async=$format.async===true;$format=$format.validate}if($formatType!=$ruleType){if($breakOnError){out+=" if (true) { "}return out}if($async){if(!it.async)throw new Error("async format in sync schema");var $formatRef="formats"+it.util.getProperty($schema)+".validate";out+=" if (!(await "+$formatRef+"("+$data+"))) { "}else{out+=" if (! ";var $formatRef="formats"+it.util.getProperty($schema);if($isObject)$formatRef+=".validate";if(typeof $format=="function"){out+=" "+$formatRef+"("+$data+") "}else{out+=" "+$formatRef+".test("+$data+") "}out+=") { "}}var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"format"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { format:  ";if($isData){out+=""+$schemaValue}else{out+=""+it.util.toQuotedString($schema)}out+="  } ";if(it.opts.messages!==false){out+=" , message: 'should match format \"";if($isData){out+="' + "+$schemaValue+" + '"}else{out+=""+it.util.escapeQuotes($schema)}out+="\"' "}if(it.opts.verbose){out+=" , schema:  ";if($isData){out+="validate.schema"+$schemaPath}else{out+=""+it.util.toQuotedString($schema)}out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" } ";if($breakOnError){out+=" else { "}return out};return format}var _if;var hasRequired_if;function require_if(){if(hasRequired_if)return _if;hasRequired_if=1;_if=function generate_if(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $errs="errs__"+$lvl;var $it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level;var $thenSch=it.schema["then"],$elseSch=it.schema["else"],$thenPresent=$thenSch!==undefined&&(it.opts.strictKeywords?typeof $thenSch=="object"&&Object.keys($thenSch).length>0||$thenSch===false:it.util.schemaHasRules($thenSch,it.RULES.all)),$elsePresent=$elseSch!==undefined&&(it.opts.strictKeywords?typeof $elseSch=="object"&&Object.keys($elseSch).length>0||$elseSch===false:it.util.schemaHasRules($elseSch,it.RULES.all)),$currentBaseId=$it.baseId;if($thenPresent||$elsePresent){var $ifClause;$it.createErrors=false;$it.schema=$schema;$it.schemaPath=$schemaPath;$it.errSchemaPath=$errSchemaPath;out+=" var "+$errs+" = errors; var "+$valid+" = true;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;out+="  "+it.validate($it)+" ";$it.baseId=$currentBaseId;$it.createErrors=true;out+="  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; }  ";it.compositeRule=$it.compositeRule=$wasComposite;if($thenPresent){out+=" if ("+$nextValid+") {  ";$it.schema=it.schema["then"];$it.schemaPath=it.schemaPath+".then";$it.errSchemaPath=it.errSchemaPath+"/then";out+="  "+it.validate($it)+" ";$it.baseId=$currentBaseId;out+=" "+$valid+" = "+$nextValid+"; ";if($thenPresent&&$elsePresent){$ifClause="ifClause"+$lvl;out+=" var "+$ifClause+" = 'then'; "}else{$ifClause="'then'"}out+=" } ";if($elsePresent){out+=" else { "}}else{out+=" if (!"+$nextValid+") { "}if($elsePresent){$it.schema=it.schema["else"];$it.schemaPath=it.schemaPath+".else";$it.errSchemaPath=it.errSchemaPath+"/else";out+="  "+it.validate($it)+" ";$it.baseId=$currentBaseId;out+=" "+$valid+" = "+$nextValid+"; ";if($thenPresent&&$elsePresent){$ifClause="ifClause"+$lvl;out+=" var "+$ifClause+" = 'else'; "}else{$ifClause="'else'"}out+=" } "}out+=" if (!"+$valid+") {   var err =   ";if(it.createErrors!==false){out+=" { keyword: '"+"if"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { failingKeyword: "+$ifClause+" } ";if(it.opts.messages!==false){out+=" , message: 'should match \"' + "+$ifClause+" + '\" schema' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(vErrors); "}else{out+=" validate.errors = vErrors; return false; "}}out+=" }   ";if($breakOnError){out+=" else { "}}else{if($breakOnError){out+=" if (true) { "}}return out};return _if}var items;var hasRequiredItems;function requireItems(){if(hasRequiredItems)return items;hasRequiredItems=1;items=function generate_items(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;var $idx="i"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$currentBaseId=it.baseId;out+="var "+$errs+" = errors;var "+$valid+";";if(Array.isArray($schema)){var $additionalItems=it.schema.additionalItems;if($additionalItems===false){out+=" "+$valid+" = "+$data+".length <= "+$schema.length+"; ";var $currErrSchemaPath=$errSchemaPath;$errSchemaPath=it.errSchemaPath+"/additionalItems";out+="  if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"additionalItems"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schema.length+" } ";if(it.opts.messages!==false){out+=" , message: 'should NOT have more than "+$schema.length+" items' "}if(it.opts.verbose){out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" } ";$errSchemaPath=$currErrSchemaPath;if($breakOnError){$closingBraces+="}";out+=" else { "}}var arr1=$schema;if(arr1){var $sch,$i=-1,l1=arr1.length-1;while($i<l1){$sch=arr1[$i+=1];if(it.opts.strictKeywords?typeof $sch=="object"&&Object.keys($sch).length>0||$sch===false:it.util.schemaHasRules($sch,it.RULES.all)){out+=" "+$nextValid+" = true; if ("+$data+".length > "+$i+") { ";var $passData=$data+"["+$i+"]";$it.schema=$sch;$it.schemaPath=$schemaPath+"["+$i+"]";$it.errSchemaPath=$errSchemaPath+"/"+$i;$it.errorPath=it.util.getPathExpr(it.errorPath,$i,it.opts.jsonPointers,true);$it.dataPathArr[$dataNxt]=$i;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2){out+=" "+it.util.varReplace($code,$nextData,$passData)+" "}else{out+=" var "+$nextData+" = "+$passData+"; "+$code+" "}out+=" }  ";if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}}}if(typeof $additionalItems=="object"&&(it.opts.strictKeywords?typeof $additionalItems=="object"&&Object.keys($additionalItems).length>0||$additionalItems===false:it.util.schemaHasRules($additionalItems,it.RULES.all))){$it.schema=$additionalItems;$it.schemaPath=it.schemaPath+".additionalItems";$it.errSchemaPath=it.errSchemaPath+"/additionalItems";out+=" "+$nextValid+" = true; if ("+$data+".length > "+$schema.length+") {  for (var "+$idx+" = "+$schema.length+"; "+$idx+" < "+$data+".length; "+$idx+"++) { ";$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,true);var $passData=$data+"["+$idx+"]";$it.dataPathArr[$dataNxt]=$idx;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2){out+=" "+it.util.varReplace($code,$nextData,$passData)+" "}else{out+=" var "+$nextData+" = "+$passData+"; "+$code+" "}if($breakOnError){out+=" if (!"+$nextValid+") break; "}out+=" } }  ";if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}}else if(it.opts.strictKeywords?typeof $schema=="object"&&Object.keys($schema).length>0||$schema===false:it.util.schemaHasRules($schema,it.RULES.all)){$it.schema=$schema;$it.schemaPath=$schemaPath;$it.errSchemaPath=$errSchemaPath;out+="  for (var "+$idx+" = "+0+"; "+$idx+" < "+$data+".length; "+$idx+"++) { ";$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,true);var $passData=$data+"["+$idx+"]";$it.dataPathArr[$dataNxt]=$idx;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2){out+=" "+it.util.varReplace($code,$nextData,$passData)+" "}else{out+=" var "+$nextData+" = "+$passData+"; "+$code+" "}if($breakOnError){out+=" if (!"+$nextValid+") break; "}out+=" }"}if($breakOnError){out+=" "+$closingBraces+" if ("+$errs+" == errors) {"}return out};return items}var _limit;var hasRequired_limit;function require_limit(){if(hasRequired_limit)return _limit;hasRequired_limit=1;_limit=function generate__limit(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $errorKeyword;var $data="data"+($dataLvl||"");var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else{$schemaValue=$schema}var $isMax=$keyword=="maximum",$exclusiveKeyword=$isMax?"exclusiveMaximum":"exclusiveMinimum",$schemaExcl=it.schema[$exclusiveKeyword],$isDataExcl=it.opts.$data&&$schemaExcl&&$schemaExcl.$data,$op=$isMax?"<":">",$notOp=$isMax?">":"<",$errorKeyword=undefined;if(!($isData||typeof $schema=="number"||$schema===undefined)){throw new Error($keyword+" must be number")}if(!($isDataExcl||$schemaExcl===undefined||typeof $schemaExcl=="number"||typeof $schemaExcl=="boolean")){throw new Error($exclusiveKeyword+" must be number or boolean")}if($isDataExcl){var $schemaValueExcl=it.util.getData($schemaExcl.$data,$dataLvl,it.dataPathArr),$exclusive="exclusive"+$lvl,$exclType="exclType"+$lvl,$exclIsNumber="exclIsNumber"+$lvl,$opExpr="op"+$lvl,$opStr="' + "+$opExpr+" + '";out+=" var schemaExcl"+$lvl+" = "+$schemaValueExcl+"; ";$schemaValueExcl="schemaExcl"+$lvl;out+=" var "+$exclusive+"; var "+$exclType+" = typeof "+$schemaValueExcl+"; if ("+$exclType+" != 'boolean' && "+$exclType+" != 'undefined' && "+$exclType+" != 'number') { ";var $errorKeyword=$exclusiveKeyword;var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false){out+=" , message: '"+$exclusiveKeyword+" should be boolean' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" } else if ( ";if($isData){out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "}out+=" "+$exclType+" == 'number' ? ( ("+$exclusive+" = "+$schemaValue+" === undefined || "+$schemaValueExcl+" "+$op+"= "+$schemaValue+") ? "+$data+" "+$notOp+"= "+$schemaValueExcl+" : "+$data+" "+$notOp+" "+$schemaValue+" ) : ( ("+$exclusive+" = "+$schemaValueExcl+" === true) ? "+$data+" "+$notOp+"= "+$schemaValue+" : "+$data+" "+$notOp+" "+$schemaValue+" ) || "+$data+" !== "+$data+") { var op"+$lvl+" = "+$exclusive+" ? '"+$op+"' : '"+$op+"='; ";if($schema===undefined){$errorKeyword=$exclusiveKeyword;$errSchemaPath=it.errSchemaPath+"/"+$exclusiveKeyword;$schemaValue=$schemaValueExcl;$isData=$isDataExcl}}else{var $exclIsNumber=typeof $schemaExcl=="number",$opStr=$op;if($exclIsNumber&&$isData){var $opExpr="'"+$opStr+"'";out+=" if ( ";if($isData){out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "}out+=" ( "+$schemaValue+" === undefined || "+$schemaExcl+" "+$op+"= "+$schemaValue+" ? "+$data+" "+$notOp+"= "+$schemaExcl+" : "+$data+" "+$notOp+" "+$schemaValue+" ) || "+$data+" !== "+$data+") { "}else{if($exclIsNumber&&$schema===undefined){$exclusive=true;$errorKeyword=$exclusiveKeyword;$errSchemaPath=it.errSchemaPath+"/"+$exclusiveKeyword;$schemaValue=$schemaExcl;$notOp+="="}else{if($exclIsNumber)$schemaValue=Math[$isMax?"min":"max"]($schemaExcl,$schema);if($schemaExcl===($exclIsNumber?$schemaValue:true)){$exclusive=true;$errorKeyword=$exclusiveKeyword;$errSchemaPath=it.errSchemaPath+"/"+$exclusiveKeyword;$notOp+="="}else{$exclusive=false;$opStr+="="}}var $opExpr="'"+$opStr+"'";out+=" if ( ";if($isData){out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "}out+=" "+$data+" "+$notOp+" "+$schemaValue+" || "+$data+" !== "+$data+") { "}}$errorKeyword=$errorKeyword||$keyword;var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"_limit")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { comparison: "+$opExpr+", limit: "+$schemaValue+", exclusive: "+$exclusive+" } ";if(it.opts.messages!==false){out+=" , message: 'should be "+$opStr+" ";if($isData){out+="' + "+$schemaValue}else{out+=""+$schemaValue+"'"}}if(it.opts.verbose){out+=" , schema:  ";if($isData){out+="validate.schema"+$schemaPath}else{out+=""+$schema}out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" } ";if($breakOnError){out+=" else { "}return out};return _limit}var _limitItems;var hasRequired_limitItems;function require_limitItems(){if(hasRequired_limitItems)return _limitItems;hasRequired_limitItems=1;_limitItems=function generate__limitItems(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $errorKeyword;var $data="data"+($dataLvl||"");var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else{$schemaValue=$schema}if(!($isData||typeof $schema=="number")){throw new Error($keyword+" must be number")}var $op=$keyword=="maxItems"?">":"<";out+="if ( ";if($isData){out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "}out+=" "+$data+".length "+$op+" "+$schemaValue+") { ";var $errorKeyword=$keyword;var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"_limitItems")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ";if(it.opts.messages!==false){out+=" , message: 'should NOT have ";if($keyword=="maxItems"){out+="more"}else{out+="fewer"}out+=" than ";if($isData){out+="' + "+$schemaValue+" + '"}else{out+=""+$schema}out+=" items' "}if(it.opts.verbose){out+=" , schema:  ";if($isData){out+="validate.schema"+$schemaPath}else{out+=""+$schema}out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+="} ";if($breakOnError){out+=" else { "}return out};return _limitItems}var _limitLength;var hasRequired_limitLength;function require_limitLength(){if(hasRequired_limitLength)return _limitLength;hasRequired_limitLength=1;_limitLength=function generate__limitLength(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $errorKeyword;var $data="data"+($dataLvl||"");var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else{$schemaValue=$schema}if(!($isData||typeof $schema=="number")){throw new Error($keyword+" must be number")}var $op=$keyword=="maxLength"?">":"<";out+="if ( ";if($isData){out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "}if(it.opts.unicode===false){out+=" "+$data+".length "}else{out+=" ucs2length("+$data+") "}out+=" "+$op+" "+$schemaValue+") { ";var $errorKeyword=$keyword;var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"_limitLength")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ";if(it.opts.messages!==false){out+=" , message: 'should NOT be ";if($keyword=="maxLength"){out+="longer"}else{out+="shorter"}out+=" than ";if($isData){out+="' + "+$schemaValue+" + '"}else{out+=""+$schema}out+=" characters' "}if(it.opts.verbose){out+=" , schema:  ";if($isData){out+="validate.schema"+$schemaPath}else{out+=""+$schema}out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+="} ";if($breakOnError){out+=" else { "}return out};return _limitLength}var _limitProperties;var hasRequired_limitProperties;function require_limitProperties(){if(hasRequired_limitProperties)return _limitProperties;hasRequired_limitProperties=1;_limitProperties=function generate__limitProperties(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $errorKeyword;var $data="data"+($dataLvl||"");var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else{$schemaValue=$schema}if(!($isData||typeof $schema=="number")){throw new Error($keyword+" must be number")}var $op=$keyword=="maxProperties"?">":"<";out+="if ( ";if($isData){out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "}out+=" Object.keys("+$data+").length "+$op+" "+$schemaValue+") { ";var $errorKeyword=$keyword;var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"_limitProperties")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ";if(it.opts.messages!==false){out+=" , message: 'should NOT have ";if($keyword=="maxProperties"){out+="more"}else{out+="fewer"}out+=" than ";if($isData){out+="' + "+$schemaValue+" + '"}else{out+=""+$schema}out+=" properties' "}if(it.opts.verbose){out+=" , schema:  ";if($isData){out+="validate.schema"+$schemaPath}else{out+=""+$schema}out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+="} ";if($breakOnError){out+=" else { "}return out};return _limitProperties}var multipleOf;var hasRequiredMultipleOf;function requireMultipleOf(){if(hasRequiredMultipleOf)return multipleOf;hasRequiredMultipleOf=1;multipleOf=function generate_multipleOf(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else{$schemaValue=$schema}if(!($isData||typeof $schema=="number")){throw new Error($keyword+" must be number")}out+="var division"+$lvl+";if (";if($isData){out+=" "+$schemaValue+" !== undefined && ( typeof "+$schemaValue+" != 'number' || "}out+=" (division"+$lvl+" = "+$data+" / "+$schemaValue+", ";if(it.opts.multipleOfPrecision){out+=" Math.abs(Math.round(division"+$lvl+") - division"+$lvl+") > 1e-"+it.opts.multipleOfPrecision+" "}else{out+=" division"+$lvl+" !== parseInt(division"+$lvl+") "}out+=" ) ";if($isData){out+="  )  "}out+=" ) {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"multipleOf"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { multipleOf: "+$schemaValue+" } ";if(it.opts.messages!==false){out+=" , message: 'should be multiple of ";if($isData){out+="' + "+$schemaValue}else{out+=""+$schemaValue+"'"}}if(it.opts.verbose){out+=" , schema:  ";if($isData){out+="validate.schema"+$schemaPath}else{out+=""+$schema}out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+="} ";if($breakOnError){out+=" else { "}return out};return multipleOf}var not;var hasRequiredNot;function requireNot(){if(hasRequiredNot)return not;hasRequiredNot=1;not=function generate_not(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $errs="errs__"+$lvl;var $it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level;if(it.opts.strictKeywords?typeof $schema=="object"&&Object.keys($schema).length>0||$schema===false:it.util.schemaHasRules($schema,it.RULES.all)){$it.schema=$schema;$it.schemaPath=$schemaPath;$it.errSchemaPath=$errSchemaPath;out+=" var "+$errs+" = errors;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;$it.createErrors=false;var $allErrorsOption;if($it.opts.allErrors){$allErrorsOption=$it.opts.allErrors;$it.opts.allErrors=false}out+=" "+it.validate($it)+" ";$it.createErrors=true;if($allErrorsOption)$it.opts.allErrors=$allErrorsOption;it.compositeRule=$it.compositeRule=$wasComposite;out+=" if ("+$nextValid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"not"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false){out+=" , message: 'should NOT be valid' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" } else {  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; } ";if(it.opts.allErrors){out+=" } "}}else{out+="  var err =   ";if(it.createErrors!==false){out+=" { keyword: '"+"not"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false){out+=" , message: 'should NOT be valid' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if($breakOnError){out+=" if (false) { "}}return out};return not}var oneOf;var hasRequiredOneOf;function requireOneOf(){if(hasRequiredOneOf)return oneOf;hasRequiredOneOf=1;oneOf=function generate_oneOf(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;var $currentBaseId=$it.baseId,$prevValid="prevValid"+$lvl,$passingSchemas="passingSchemas"+$lvl;out+="var "+$errs+" = errors , "+$prevValid+" = false , "+$valid+" = false , "+$passingSchemas+" = null; ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;var arr1=$schema;if(arr1){var $sch,$i=-1,l1=arr1.length-1;while($i<l1){$sch=arr1[$i+=1];if(it.opts.strictKeywords?typeof $sch=="object"&&Object.keys($sch).length>0||$sch===false:it.util.schemaHasRules($sch,it.RULES.all)){$it.schema=$sch;$it.schemaPath=$schemaPath+"["+$i+"]";$it.errSchemaPath=$errSchemaPath+"/"+$i;out+="  "+it.validate($it)+" ";$it.baseId=$currentBaseId}else{out+=" var "+$nextValid+" = true; "}if($i){out+=" if ("+$nextValid+" && "+$prevValid+") { "+$valid+" = false; "+$passingSchemas+" = ["+$passingSchemas+", "+$i+"]; } else { ";$closingBraces+="}"}out+=" if ("+$nextValid+") { "+$valid+" = "+$prevValid+" = true; "+$passingSchemas+" = "+$i+"; }"}}it.compositeRule=$it.compositeRule=$wasComposite;out+=""+$closingBraces+"if (!"+$valid+") {   var err =   ";if(it.createErrors!==false){out+=" { keyword: '"+"oneOf"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { passingSchemas: "+$passingSchemas+" } ";if(it.opts.messages!==false){out+=" , message: 'should match exactly one schema in oneOf' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(vErrors); "}else{out+=" validate.errors = vErrors; return false; "}}out+="} else {  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; }";if(it.opts.allErrors){out+=" } "}return out};return oneOf}var pattern;var hasRequiredPattern;function requirePattern(){if(hasRequiredPattern)return pattern;hasRequiredPattern=1;pattern=function generate_pattern(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else{$schemaValue=$schema}var $regexp=$isData?"(new RegExp("+$schemaValue+"))":it.usePattern($schema);out+="if ( ";if($isData){out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'string') || "}out+=" !"+$regexp+".test("+$data+") ) {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"pattern"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { pattern:  ";if($isData){out+=""+$schemaValue}else{out+=""+it.util.toQuotedString($schema)}out+="  } ";if(it.opts.messages!==false){out+=" , message: 'should match pattern \"";if($isData){out+="' + "+$schemaValue+" + '"}else{out+=""+it.util.escapeQuotes($schema)}out+="\"' "}if(it.opts.verbose){out+=" , schema:  ";if($isData){out+="validate.schema"+$schemaPath}else{out+=""+it.util.toQuotedString($schema)}out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+="} ";if($breakOnError){out+=" else { "}return out};return pattern}var properties$3;var hasRequiredProperties;function requireProperties(){if(hasRequiredProperties)return properties$3;hasRequiredProperties=1;properties$3=function generate_properties(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;var $key="key"+$lvl,$idx="idx"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$dataProperties="dataProperties"+$lvl;var $schemaKeys=Object.keys($schema||{}).filter(notProto),$pProperties=it.schema.patternProperties||{},$pPropertyKeys=Object.keys($pProperties).filter(notProto),$aProperties=it.schema.additionalProperties,$someProperties=$schemaKeys.length||$pPropertyKeys.length,$noAdditional=$aProperties===false,$additionalIsSchema=typeof $aProperties=="object"&&Object.keys($aProperties).length,$removeAdditional=it.opts.removeAdditional,$checkAdditional=$noAdditional||$additionalIsSchema||$removeAdditional,$ownProperties=it.opts.ownProperties,$currentBaseId=it.baseId;var $required=it.schema.required;if($required&&!(it.opts.$data&&$required.$data)&&$required.length<it.opts.loopRequired){var $requiredHash=it.util.toHash($required)}function notProto(p){return p!=="__proto__"}out+="var "+$errs+" = errors;var "+$nextValid+" = true;";if($ownProperties){out+=" var "+$dataProperties+" = undefined;"}if($checkAdditional){if($ownProperties){out+=" "+$dataProperties+" = "+$dataProperties+" || Object.keys("+$data+"); for (var "+$idx+"=0; "+$idx+"<"+$dataProperties+".length; "+$idx+"++) { var "+$key+" = "+$dataProperties+"["+$idx+"]; "}else{out+=" for (var "+$key+" in "+$data+") { "}if($someProperties){out+=" var isAdditional"+$lvl+" = !(false ";if($schemaKeys.length){if($schemaKeys.length>8){out+=" || validate.schema"+$schemaPath+".hasOwnProperty("+$key+") "}else{var arr1=$schemaKeys;if(arr1){var $propertyKey,i1=-1,l1=arr1.length-1;while(i1<l1){$propertyKey=arr1[i1+=1];out+=" || "+$key+" == "+it.util.toQuotedString($propertyKey)+" "}}}}if($pPropertyKeys.length){var arr2=$pPropertyKeys;if(arr2){var $pProperty,$i=-1,l2=arr2.length-1;while($i<l2){$pProperty=arr2[$i+=1];out+=" || "+it.usePattern($pProperty)+".test("+$key+") "}}}out+=" ); if (isAdditional"+$lvl+") { "}if($removeAdditional=="all"){out+=" delete "+$data+"["+$key+"]; "}else{var $currentErrorPath=it.errorPath;var $additionalProperty="' + "+$key+" + '";if(it.opts._errorDataPathProperty){it.errorPath=it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers)}if($noAdditional){if($removeAdditional){out+=" delete "+$data+"["+$key+"]; "}else{out+=" "+$nextValid+" = false; ";var $currErrSchemaPath=$errSchemaPath;$errSchemaPath=it.errSchemaPath+"/additionalProperties";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"additionalProperties"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { additionalProperty: '"+$additionalProperty+"' } ";if(it.opts.messages!==false){out+=" , message: '";if(it.opts._errorDataPathProperty){out+="is an invalid additional property"}else{out+="should NOT have additional properties"}out+="' "}if(it.opts.verbose){out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}$errSchemaPath=$currErrSchemaPath;if($breakOnError){out+=" break; "}}}else if($additionalIsSchema){if($removeAdditional=="failing"){out+=" var "+$errs+" = errors;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;$it.schema=$aProperties;$it.schemaPath=it.schemaPath+".additionalProperties";$it.errSchemaPath=it.errSchemaPath+"/additionalProperties";$it.errorPath=it.opts._errorDataPathProperty?it.errorPath:it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);var $passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2){out+=" "+it.util.varReplace($code,$nextData,$passData)+" "}else{out+=" var "+$nextData+" = "+$passData+"; "+$code+" "}out+=" if (!"+$nextValid+") { errors = "+$errs+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+$data+"["+$key+"]; }  ";it.compositeRule=$it.compositeRule=$wasComposite}else{$it.schema=$aProperties;$it.schemaPath=it.schemaPath+".additionalProperties";$it.errSchemaPath=it.errSchemaPath+"/additionalProperties";$it.errorPath=it.opts._errorDataPathProperty?it.errorPath:it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);var $passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2){out+=" "+it.util.varReplace($code,$nextData,$passData)+" "}else{out+=" var "+$nextData+" = "+$passData+"; "+$code+" "}if($breakOnError){out+=" if (!"+$nextValid+") break; "}}}it.errorPath=$currentErrorPath}if($someProperties){out+=" } "}out+=" }  ";if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}var $useDefaults=it.opts.useDefaults&&!it.compositeRule;if($schemaKeys.length){var arr3=$schemaKeys;if(arr3){var $propertyKey,i3=-1,l3=arr3.length-1;while(i3<l3){$propertyKey=arr3[i3+=1];var $sch=$schema[$propertyKey];if(it.opts.strictKeywords?typeof $sch=="object"&&Object.keys($sch).length>0||$sch===false:it.util.schemaHasRules($sch,it.RULES.all)){var $prop=it.util.getProperty($propertyKey),$passData=$data+$prop,$hasDefault=$useDefaults&&$sch.default!==undefined;$it.schema=$sch;$it.schemaPath=$schemaPath+$prop;$it.errSchemaPath=$errSchemaPath+"/"+it.util.escapeFragment($propertyKey);$it.errorPath=it.util.getPath(it.errorPath,$propertyKey,it.opts.jsonPointers);$it.dataPathArr[$dataNxt]=it.util.toQuotedString($propertyKey);var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2){$code=it.util.varReplace($code,$nextData,$passData);var $useData=$passData}else{var $useData=$nextData;out+=" var "+$nextData+" = "+$passData+"; "}if($hasDefault){out+=" "+$code+" "}else{if($requiredHash&&$requiredHash[$propertyKey]){out+=" if ( "+$useData+" === undefined ";if($ownProperties){out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "}out+=") { "+$nextValid+" = false; ";var $currentErrorPath=it.errorPath,$currErrSchemaPath=$errSchemaPath,$missingProperty=it.util.escapeQuotes($propertyKey);if(it.opts._errorDataPathProperty){it.errorPath=it.util.getPath($currentErrorPath,$propertyKey,it.opts.jsonPointers)}$errSchemaPath=it.errSchemaPath+"/required";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ";if(it.opts.messages!==false){out+=" , message: '";if(it.opts._errorDataPathProperty){out+="is a required property"}else{out+="should have required property \\'"+$missingProperty+"\\'"}out+="' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}$errSchemaPath=$currErrSchemaPath;it.errorPath=$currentErrorPath;out+=" } else { "}else{if($breakOnError){out+=" if ( "+$useData+" === undefined ";if($ownProperties){out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "}out+=") { "+$nextValid+" = true; } else { "}else{out+=" if ("+$useData+" !== undefined ";if($ownProperties){out+=" &&   Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "}out+=" ) { "}}out+=" "+$code+" } "}}if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}}}if($pPropertyKeys.length){var arr4=$pPropertyKeys;if(arr4){var $pProperty,i4=-1,l4=arr4.length-1;while(i4<l4){$pProperty=arr4[i4+=1];var $sch=$pProperties[$pProperty];if(it.opts.strictKeywords?typeof $sch=="object"&&Object.keys($sch).length>0||$sch===false:it.util.schemaHasRules($sch,it.RULES.all)){$it.schema=$sch;$it.schemaPath=it.schemaPath+".patternProperties"+it.util.getProperty($pProperty);$it.errSchemaPath=it.errSchemaPath+"/patternProperties/"+it.util.escapeFragment($pProperty);if($ownProperties){out+=" "+$dataProperties+" = "+$dataProperties+" || Object.keys("+$data+"); for (var "+$idx+"=0; "+$idx+"<"+$dataProperties+".length; "+$idx+"++) { var "+$key+" = "+$dataProperties+"["+$idx+"]; "}else{out+=" for (var "+$key+" in "+$data+") { "}out+=" if ("+it.usePattern($pProperty)+".test("+$key+")) { ";$it.errorPath=it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);var $passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2){out+=" "+it.util.varReplace($code,$nextData,$passData)+" "}else{out+=" var "+$nextData+" = "+$passData+"; "+$code+" "}if($breakOnError){out+=" if (!"+$nextValid+") break; "}out+=" } ";if($breakOnError){out+=" else "+$nextValid+" = true; "}out+=" }  ";if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}}}}if($breakOnError){out+=" "+$closingBraces+" if ("+$errs+" == errors) {"}return out};return properties$3}var propertyNames;var hasRequiredPropertyNames;function requirePropertyNames(){if(hasRequiredPropertyNames)return propertyNames;hasRequiredPropertyNames=1;propertyNames=function generate_propertyNames(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;out+="var "+$errs+" = errors;";if(it.opts.strictKeywords?typeof $schema=="object"&&Object.keys($schema).length>0||$schema===false:it.util.schemaHasRules($schema,it.RULES.all)){$it.schema=$schema;$it.schemaPath=$schemaPath;$it.errSchemaPath=$errSchemaPath;var $key="key"+$lvl,$idx="idx"+$lvl,$i="i"+$lvl,$invalidName="' + "+$key+" + '",$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$dataProperties="dataProperties"+$lvl,$ownProperties=it.opts.ownProperties,$currentBaseId=it.baseId;if($ownProperties){out+=" var "+$dataProperties+" = undefined; "}if($ownProperties){out+=" "+$dataProperties+" = "+$dataProperties+" || Object.keys("+$data+"); for (var "+$idx+"=0; "+$idx+"<"+$dataProperties+".length; "+$idx+"++) { var "+$key+" = "+$dataProperties+"["+$idx+"]; "}else{out+=" for (var "+$key+" in "+$data+") { "}out+=" var startErrs"+$lvl+" = errors; ";var $passData=$key;var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2){out+=" "+it.util.varReplace($code,$nextData,$passData)+" "}else{out+=" var "+$nextData+" = "+$passData+"; "+$code+" "}it.compositeRule=$it.compositeRule=$wasComposite;out+=" if (!"+$nextValid+") { for (var "+$i+"=startErrs"+$lvl+"; "+$i+"<errors; "+$i+"++) { vErrors["+$i+"].propertyName = "+$key+"; }   var err =   ";if(it.createErrors!==false){out+=" { keyword: '"+"propertyNames"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { propertyName: '"+$invalidName+"' } ";if(it.opts.messages!==false){out+=" , message: 'property name \\'"+$invalidName+"\\' is invalid' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(vErrors); "}else{out+=" validate.errors = vErrors; return false; "}}if($breakOnError){out+=" break; "}out+=" } }"}if($breakOnError){out+=" "+$closingBraces+" if ("+$errs+" == errors) {"}return out};return propertyNames}var required$1;var hasRequiredRequired;function requireRequired(){if(hasRequiredRequired)return required$1;hasRequiredRequired=1;required$1=function generate_required(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $isData=it.opts.$data&&$schema&&$schema.$data;if($isData){out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; "}var $vSchema="schema"+$lvl;if(!$isData){if($schema.length<it.opts.loopRequired&&it.schema.properties&&Object.keys(it.schema.properties).length){var $required=[];var arr1=$schema;if(arr1){var $property,i1=-1,l1=arr1.length-1;while(i1<l1){$property=arr1[i1+=1];var $propertySch=it.schema.properties[$property];if(!($propertySch&&(it.opts.strictKeywords?typeof $propertySch=="object"&&Object.keys($propertySch).length>0||$propertySch===false:it.util.schemaHasRules($propertySch,it.RULES.all)))){$required[$required.length]=$property}}}}else{var $required=$schema}}if($isData||$required.length){var $currentErrorPath=it.errorPath,$loopRequired=$isData||$required.length>=it.opts.loopRequired,$ownProperties=it.opts.ownProperties;if($breakOnError){out+=" var missing"+$lvl+"; ";if($loopRequired){if(!$isData){out+=" var "+$vSchema+" = validate.schema"+$schemaPath+"; "}var $i="i"+$lvl,$propertyPath="schema"+$lvl+"["+$i+"]",$missingProperty="' + "+$propertyPath+" + '";if(it.opts._errorDataPathProperty){it.errorPath=it.util.getPathExpr($currentErrorPath,$propertyPath,it.opts.jsonPointers)}out+=" var "+$valid+" = true; ";if($isData){out+=" if (schema"+$lvl+" === undefined) "+$valid+" = true; else if (!Array.isArray(schema"+$lvl+")) "+$valid+" = false; else {"}out+=" for (var "+$i+" = 0; "+$i+" < "+$vSchema+".length; "+$i+"++) { "+$valid+" = "+$data+"["+$vSchema+"["+$i+"]] !== undefined ";if($ownProperties){out+=" &&   Object.prototype.hasOwnProperty.call("+$data+", "+$vSchema+"["+$i+"]) "}out+="; if (!"+$valid+") break; } ";if($isData){out+="  }  "}out+="  if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ";if(it.opts.messages!==false){out+=" , message: '";if(it.opts._errorDataPathProperty){out+="is a required property"}else{out+="should have required property \\'"+$missingProperty+"\\'"}out+="' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" } else { "}else{out+=" if ( ";var arr2=$required;if(arr2){var $propertyKey,$i=-1,l2=arr2.length-1;while($i<l2){$propertyKey=arr2[$i+=1];if($i){out+=" || "}var $prop=it.util.getProperty($propertyKey),$useData=$data+$prop;out+=" ( ( "+$useData+" === undefined ";if($ownProperties){out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "}out+=") && (missing"+$lvl+" = "+it.util.toQuotedString(it.opts.jsonPointers?$propertyKey:$prop)+") ) "}}out+=") {  ";var $propertyPath="missing"+$lvl,$missingProperty="' + "+$propertyPath+" + '";if(it.opts._errorDataPathProperty){it.errorPath=it.opts.jsonPointers?it.util.getPathExpr($currentErrorPath,$propertyPath,true):$currentErrorPath+" + "+$propertyPath}var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ";if(it.opts.messages!==false){out+=" , message: '";if(it.opts._errorDataPathProperty){out+="is a required property"}else{out+="should have required property \\'"+$missingProperty+"\\'"}out+="' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" } else { "}}else{if($loopRequired){if(!$isData){out+=" var "+$vSchema+" = validate.schema"+$schemaPath+"; "}var $i="i"+$lvl,$propertyPath="schema"+$lvl+"["+$i+"]",$missingProperty="' + "+$propertyPath+" + '";if(it.opts._errorDataPathProperty){it.errorPath=it.util.getPathExpr($currentErrorPath,$propertyPath,it.opts.jsonPointers)}if($isData){out+=" if ("+$vSchema+" && !Array.isArray("+$vSchema+")) {  var err =   ";if(it.createErrors!==false){out+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ";if(it.opts.messages!==false){out+=" , message: '";if(it.opts._errorDataPathProperty){out+="is a required property"}else{out+="should have required property \\'"+$missingProperty+"\\'"}out+="' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+$vSchema+" !== undefined) { "}out+=" for (var "+$i+" = 0; "+$i+" < "+$vSchema+".length; "+$i+"++) { if ("+$data+"["+$vSchema+"["+$i+"]] === undefined ";if($ownProperties){out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", "+$vSchema+"["+$i+"]) "}out+=") {  var err =   ";if(it.createErrors!==false){out+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ";if(it.opts.messages!==false){out+=" , message: '";if(it.opts._errorDataPathProperty){out+="is a required property"}else{out+="should have required property \\'"+$missingProperty+"\\'"}out+="' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ";if($isData){out+="  }  "}}else{var arr3=$required;if(arr3){var $propertyKey,i3=-1,l3=arr3.length-1;while(i3<l3){$propertyKey=arr3[i3+=1];var $prop=it.util.getProperty($propertyKey),$missingProperty=it.util.escapeQuotes($propertyKey),$useData=$data+$prop;if(it.opts._errorDataPathProperty){it.errorPath=it.util.getPath($currentErrorPath,$propertyKey,it.opts.jsonPointers)}out+=" if ( "+$useData+" === undefined ";if($ownProperties){out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "}out+=") {  var err =   ";if(it.createErrors!==false){out+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ";if(it.opts.messages!==false){out+=" , message: '";if(it.opts._errorDataPathProperty){out+="is a required property"}else{out+="should have required property \\'"+$missingProperty+"\\'"}out+="' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}}}it.errorPath=$currentErrorPath}else if($breakOnError){out+=" if (true) {"}return out};return required$1}var uniqueItems;var hasRequiredUniqueItems;function requireUniqueItems(){if(hasRequiredUniqueItems)return uniqueItems;hasRequiredUniqueItems=1;uniqueItems=function generate_uniqueItems(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else{$schemaValue=$schema}if(($schema||$isData)&&it.opts.uniqueItems!==false){if($isData){out+=" var "+$valid+"; if ("+$schemaValue+" === false || "+$schemaValue+" === undefined) "+$valid+" = true; else if (typeof "+$schemaValue+" != 'boolean') "+$valid+" = false; else { "}out+=" var i = "+$data+".length , "+$valid+" = true , j; if (i > 1) { ";var $itemType=it.schema.items&&it.schema.items.type,$typeIsArray=Array.isArray($itemType);if(!$itemType||$itemType=="object"||$itemType=="array"||$typeIsArray&&($itemType.indexOf("object")>=0||$itemType.indexOf("array")>=0)){out+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+$data+"[i], "+$data+"[j])) { "+$valid+" = false; break outer; } } } "}else{out+=" var itemIndices = {}, item; for (;i--;) { var item = "+$data+"[i]; ";var $method="checkDataType"+($typeIsArray?"s":"");out+=" if ("+it.util[$method]($itemType,"item",it.opts.strictNumbers,true)+") continue; ";if($typeIsArray){out+=" if (typeof item == 'string') item = '\"' + item; "}out+=" if (typeof itemIndices[item] == 'number') { "+$valid+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}out+=" } ";if($isData){out+="  }  "}out+=" if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"uniqueItems"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { i: i, j: j } ";if(it.opts.messages!==false){out+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "}if(it.opts.verbose){out+=" , schema:  ";if($isData){out+="validate.schema"+$schemaPath}else{out+=""+$schema}out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" } ";if($breakOnError){out+=" else { "}}else{if($breakOnError){out+=" if (true) { "}}return out};return uniqueItems}var dotjs;var hasRequiredDotjs;function requireDotjs(){if(hasRequiredDotjs)return dotjs;hasRequiredDotjs=1;dotjs={$ref:requireRef(),allOf:requireAllOf(),anyOf:requireAnyOf(),$comment:requireComment(),const:require_const(),contains:requireContains(),dependencies:requireDependencies(),enum:require_enum(),format:requireFormat(),if:require_if(),items:requireItems(),maximum:require_limit(),minimum:require_limit(),maxItems:require_limitItems(),minItems:require_limitItems(),maxLength:require_limitLength(),minLength:require_limitLength(),maxProperties:require_limitProperties(),minProperties:require_limitProperties(),multipleOf:requireMultipleOf(),not:requireNot(),oneOf:requireOneOf(),pattern:requirePattern(),properties:requireProperties(),propertyNames:requirePropertyNames(),required:requireRequired(),uniqueItems:requireUniqueItems(),validate:requireValidate()};return dotjs}var rules$3;var hasRequiredRules$2;function requireRules$2(){if(hasRequiredRules$2)return rules$3;hasRequiredRules$2=1;var ruleModules=requireDotjs(),toHash=requireUtil().toHash;rules$3=function rules(){var RULES=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}];var ALL=["type","$comment"];var KEYWORDS=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"];var TYPES=["number","integer","string","array","object","boolean","null"];RULES.all=toHash(ALL);RULES.types=toHash(TYPES);RULES.forEach((function(group){group.rules=group.rules.map((function(keyword){var implKeywords;if(typeof keyword=="object"){var key=Object.keys(keyword)[0];implKeywords=keyword[key];keyword=key;implKeywords.forEach((function(k){ALL.push(k);RULES.all[k]=true}))}ALL.push(keyword);var rule=RULES.all[keyword]={keyword:keyword,code:ruleModules[keyword],implements:implKeywords};return rule}));RULES.all.$comment={keyword:"$comment",code:ruleModules.$comment};if(group.type)RULES.types[group.type]=group}));RULES.keywords=toHash(ALL.concat(KEYWORDS));RULES.custom={};return RULES};return rules$3}var data;var hasRequiredData;function requireData(){if(hasRequiredData)return data;hasRequiredData=1;var KEYWORDS=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];data=function(metaSchema,keywordsJsonPointers){for(var i=0;i<keywordsJsonPointers.length;i++){metaSchema=JSON.parse(JSON.stringify(metaSchema));var segments=keywordsJsonPointers[i].split("/");var keywords=metaSchema;var j;for(j=1;j<segments.length;j++)keywords=keywords[segments[j]];for(j=0;j<KEYWORDS.length;j++){var key=KEYWORDS[j];var schema=keywords[key];if(schema){keywords[key]={anyOf:[schema,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}}}}return metaSchema};return data}var async;var hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var MissingRefError=requireError_classes().MissingRef;async=compileAsync;function compileAsync(schema,meta,callback){var self=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");if(typeof meta=="function"){callback=meta;meta=undefined}var p=loadMetaSchemaOf(schema).then((function(){var schemaObj=self._addSchema(schema,undefined,meta);return schemaObj.validate||_compileAsync(schemaObj)}));if(callback){p.then((function(v){callback(null,v)}),callback)}return p;function loadMetaSchemaOf(sch){var $schema=sch.$schema;return $schema&&!self.getSchema($schema)?compileAsync.call(self,{$ref:$schema},true):Promise.resolve()}function _compileAsync(schemaObj){try{return self._compile(schemaObj)}catch(e){if(e instanceof MissingRefError)return loadMissingSchema(e);throw e}function loadMissingSchema(e){var ref=e.missingSchema;if(added(ref))throw new Error("Schema "+ref+" is loaded but "+e.missingRef+" cannot be resolved");var schemaPromise=self._loadingSchemas[ref];if(!schemaPromise){schemaPromise=self._loadingSchemas[ref]=self._opts.loadSchema(ref);schemaPromise.then(removePromise,removePromise)}return schemaPromise.then((function(sch){if(!added(ref)){return loadMetaSchemaOf(sch).then((function(){if(!added(ref))self.addSchema(sch,ref,undefined,meta)}))}})).then((function(){return _compileAsync(schemaObj)}));function removePromise(){delete self._loadingSchemas[ref]}function added(ref){return self._refs[ref]||self._schemas[ref]}}}}return async}var custom;var hasRequiredCustom;function requireCustom(){if(hasRequiredCustom)return custom;hasRequiredCustom=1;custom=function generate_custom(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $errorKeyword;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $errs="errs__"+$lvl;var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else{$schemaValue=$schema}var $rule=this,$definition="definition"+$lvl,$rDef=$rule.definition,$closingBraces="";var $compile,$inline,$macro,$ruleValidate,$validateCode;if($isData&&$rDef.$data){$validateCode="keywordValidate"+$lvl;var $validateSchema=$rDef.validateSchema;out+=" var "+$definition+" = RULES.custom['"+$keyword+"'].definition; var "+$validateCode+" = "+$definition+".validate;"}else{$ruleValidate=it.useCustomRule($rule,$schema,it.schema,it);if(!$ruleValidate)return;$schemaValue="validate.schema"+$schemaPath;$validateCode=$ruleValidate.code;$compile=$rDef.compile;$inline=$rDef.inline;$macro=$rDef.macro}var $ruleErrs=$validateCode+".errors",$i="i"+$lvl,$ruleErr="ruleErr"+$lvl,$asyncKeyword=$rDef.async;if($asyncKeyword&&!it.async)throw new Error("async keyword in sync schema");if(!($inline||$macro)){out+=""+$ruleErrs+" = null;"}out+="var "+$errs+" = errors;var "+$valid+";";if($isData&&$rDef.$data){$closingBraces+="}";out+=" if ("+$schemaValue+" === undefined) { "+$valid+" = true; } else { ";if($validateSchema){$closingBraces+="}";out+=" "+$valid+" = "+$definition+".validateSchema("+$schemaValue+"); if ("+$valid+") { "}}if($inline){if($rDef.statements){out+=" "+$ruleValidate.validate+" "}else{out+=" "+$valid+" = "+$ruleValidate.validate+"; "}}else if($macro){var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;$it.schema=$ruleValidate.validate;$it.schemaPath="";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;var $code=it.validate($it).replace(/validate\.schema/g,$validateCode);it.compositeRule=$it.compositeRule=$wasComposite;out+=" "+$code}else{var $$outStack=$$outStack||[];$$outStack.push(out);out="";out+="  "+$validateCode+".call( ";if(it.opts.passContext){out+="this"}else{out+="self"}if($compile||$rDef.schema===false){out+=" , "+$data+" "}else{out+=" , "+$schemaValue+" , "+$data+" , validate.schema"+it.schemaPath+" "}out+=" , (dataPath || '')";if(it.errorPath!='""'){out+=" + "+it.errorPath}var $parentData=$dataLvl?"data"+($dataLvl-1||""):"parentData",$parentDataProperty=$dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty";out+=" , "+$parentData+" , "+$parentDataProperty+" , rootData )  ";var def_callRuleValidate=out;out=$$outStack.pop();if($rDef.errors===false){out+=" "+$valid+" = ";if($asyncKeyword){out+="await "}out+=""+def_callRuleValidate+"; "}else{if($asyncKeyword){$ruleErrs="customErrors"+$lvl;out+=" var "+$ruleErrs+" = null; try { "+$valid+" = await "+def_callRuleValidate+"; } catch (e) { "+$valid+" = false; if (e instanceof ValidationError) "+$ruleErrs+" = e.errors; else throw e; } "}else{out+=" "+$ruleErrs+" = null; "+$valid+" = "+def_callRuleValidate+"; "}}}if($rDef.modifying){out+=" if ("+$parentData+") "+$data+" = "+$parentData+"["+$parentDataProperty+"];"}out+=""+$closingBraces;if($rDef.valid){if($breakOnError){out+=" if (true) { "}}else{out+=" if ( ";if($rDef.valid===undefined){out+=" !";if($macro){out+=""+$nextValid}else{out+=""+$valid}}else{out+=" "+!$rDef.valid+" "}out+=") { ";$errorKeyword=$rule.keyword;var $$outStack=$$outStack||[];$$outStack.push(out);out="";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"custom")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { keyword: '"+$rule.keyword+"' } ";if(it.opts.messages!==false){out+=" , message: 'should pass \""+$rule.keyword+"\" keyword validation' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(["+__err+"]); "}else{out+=" validate.errors = ["+__err+"]; return false; "}}else{out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}var def_customError=out;out=$$outStack.pop();if($inline){if($rDef.errors){if($rDef.errors!="full"){out+="  for (var "+$i+"="+$errs+"; "+$i+"<errors; "+$i+"++) { var "+$ruleErr+" = vErrors["+$i+"]; if ("+$ruleErr+".dataPath === undefined) "+$ruleErr+".dataPath = (dataPath || '') + "+it.errorPath+"; if ("+$ruleErr+".schemaPath === undefined) { "+$ruleErr+'.schemaPath = "'+$errSchemaPath+'"; } ';if(it.opts.verbose){out+=" "+$ruleErr+".schema = "+$schemaValue+"; "+$ruleErr+".data = "+$data+"; "}out+=" } "}}else{if($rDef.errors===false){out+=" "+def_customError+" "}else{out+=" if ("+$errs+" == errors) { "+def_customError+" } else {  for (var "+$i+"="+$errs+"; "+$i+"<errors; "+$i+"++) { var "+$ruleErr+" = vErrors["+$i+"]; if ("+$ruleErr+".dataPath === undefined) "+$ruleErr+".dataPath = (dataPath || '') + "+it.errorPath+"; if ("+$ruleErr+".schemaPath === undefined) { "+$ruleErr+'.schemaPath = "'+$errSchemaPath+'"; } ';if(it.opts.verbose){out+=" "+$ruleErr+".schema = "+$schemaValue+"; "+$ruleErr+".data = "+$data+"; "}out+=" } } "}}}else if($macro){out+="   var err =   ";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"custom")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { keyword: '"+$rule.keyword+"' } ";if(it.opts.messages!==false){out+=" , message: 'should pass \""+$rule.keyword+"\" keyword validation' "}if(it.opts.verbose){out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else{out+=" {} "}out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(!it.compositeRule&&$breakOnError){if(it.async){out+=" throw new ValidationError(vErrors); "}else{out+=" validate.errors = vErrors; return false; "}}}else{if($rDef.errors===false){out+=" "+def_customError+" "}else{out+=" if (Array.isArray("+$ruleErrs+")) { if (vErrors === null) vErrors = "+$ruleErrs+"; else vErrors = vErrors.concat("+$ruleErrs+"); errors = vErrors.length;  for (var "+$i+"="+$errs+"; "+$i+"<errors; "+$i+"++) { var "+$ruleErr+" = vErrors["+$i+"]; if ("+$ruleErr+".dataPath === undefined) "+$ruleErr+".dataPath = (dataPath || '') + "+it.errorPath+";  "+$ruleErr+'.schemaPath = "'+$errSchemaPath+'";  ';if(it.opts.verbose){out+=" "+$ruleErr+".schema = "+$schemaValue+"; "+$ruleErr+".data = "+$data+"; "}out+=" } } else { "+def_customError+" } "}}out+=" } ";if($breakOnError){out+=" else { "}}return out};return custom}var $schema$2="http://json-schema.org/draft-07/schema#";var $id$1="http://json-schema.org/draft-07/schema#";var title="Core schema meta-schema";var definitions$1={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:true,default:[]}};var type$2=["object","boolean"];var properties$2={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:true,readOnly:{type:"boolean",default:false},examples:{type:"array",items:true},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:true},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:false},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:true,enum:{type:"array",items:true,minItems:1,uniqueItems:true},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:true}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}};var require$$13={$schema:$schema$2,$id:$id$1,title:title,definitions:definitions$1,type:type$2,properties:properties$2,default:true};var definition_schema;var hasRequiredDefinition_schema;function requireDefinition_schema(){if(hasRequiredDefinition_schema)return definition_schema;hasRequiredDefinition_schema=1;var metaSchema=require$$13;definition_schema={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:metaSchema.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:metaSchema.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}};return definition_schema}var keyword$1;var hasRequiredKeyword$1;function requireKeyword$1(){if(hasRequiredKeyword$1)return keyword$1;hasRequiredKeyword$1=1;var IDENTIFIER=/^[a-z_$][a-z0-9_$-]*$/i;var customRuleCode=requireCustom();var definitionSchema=requireDefinition_schema();keyword$1={add:addKeyword,get:getKeyword,remove:removeKeyword,validate:validateKeyword};function addKeyword(keyword,definition){var RULES=this.RULES;if(RULES.keywords[keyword])throw new Error("Keyword "+keyword+" is already defined");if(!IDENTIFIER.test(keyword))throw new Error("Keyword "+keyword+" is not a valid identifier");if(definition){this.validateKeyword(definition,true);var dataType=definition.type;if(Array.isArray(dataType)){for(var i=0;i<dataType.length;i++)_addRule(keyword,dataType[i],definition)}else{_addRule(keyword,dataType,definition)}var metaSchema=definition.metaSchema;if(metaSchema){if(definition.$data&&this._opts.$data){metaSchema={anyOf:[metaSchema,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}}definition.validateSchema=this.compile(metaSchema,true)}}RULES.keywords[keyword]=RULES.all[keyword]=true;function _addRule(keyword,dataType,definition){var ruleGroup;for(var i=0;i<RULES.length;i++){var rg=RULES[i];if(rg.type==dataType){ruleGroup=rg;break}}if(!ruleGroup){ruleGroup={type:dataType,rules:[]};RULES.push(ruleGroup)}var rule={keyword:keyword,definition:definition,custom:true,code:customRuleCode,implements:definition.implements};ruleGroup.rules.push(rule);RULES.custom[keyword]=rule}return this}function getKeyword(keyword){var rule=this.RULES.custom[keyword];return rule?rule.definition:this.RULES.keywords[keyword]||false}function removeKeyword(keyword){var RULES=this.RULES;delete RULES.keywords[keyword];delete RULES.all[keyword];delete RULES.custom[keyword];for(var i=0;i<RULES.length;i++){var rules=RULES[i].rules;for(var j=0;j<rules.length;j++){if(rules[j].keyword==keyword){rules.splice(j,1);break}}}return this}function validateKeyword(definition,throwError){validateKeyword.errors=null;var v=this._validateKeyword=this._validateKeyword||this.compile(definitionSchema,true);if(v(definition))return true;validateKeyword.errors=v.errors;if(throwError)throw new Error("custom keyword definition is invalid: "+this.errorsText(v.errors));else return false}return keyword$1}var $schema$1="http://json-schema.org/draft-07/schema#";var $id="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#";var description$2="Meta-schema for $data reference (JSON Schema extension proposal)";var type$1="object";var required=["$data"];var properties$1={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}};var additionalProperties=false;var require$$12={$schema:$schema$1,$id:$id,description:description$2,type:type$1,required:required,properties:properties$1,additionalProperties:additionalProperties};var ajv$1;var hasRequiredAjv$1;function requireAjv$1(){if(hasRequiredAjv$1)return ajv$1;hasRequiredAjv$1=1;var compileSchema=requireCompile(),resolve=requireResolve(),Cache=requireCache(),SchemaObject=requireSchema_obj(),stableStringify=requireFastJsonStableStringify(),formats=requireFormats(),rules=requireRules$2(),$dataMetaSchema=requireData(),util=requireUtil();ajv$1=Ajv;Ajv.prototype.validate=validate;Ajv.prototype.compile=compile;Ajv.prototype.addSchema=addSchema;Ajv.prototype.addMetaSchema=addMetaSchema;Ajv.prototype.validateSchema=validateSchema;Ajv.prototype.getSchema=getSchema;Ajv.prototype.removeSchema=removeSchema;Ajv.prototype.addFormat=addFormat;Ajv.prototype.errorsText=errorsText;Ajv.prototype._addSchema=_addSchema;Ajv.prototype._compile=_compile;Ajv.prototype.compileAsync=requireAsync();var customKeyword=requireKeyword$1();Ajv.prototype.addKeyword=customKeyword.add;Ajv.prototype.getKeyword=customKeyword.get;Ajv.prototype.removeKeyword=customKeyword.remove;Ajv.prototype.validateKeyword=customKeyword.validate;var errorClasses=requireError_classes();Ajv.ValidationError=errorClasses.Validation;Ajv.MissingRefError=errorClasses.MissingRef;Ajv.$dataMetaSchema=$dataMetaSchema;var META_SCHEMA_ID="http://json-schema.org/draft-07/schema";var META_IGNORE_OPTIONS=["removeAdditional","useDefaults","coerceTypes","strictDefaults"];var META_SUPPORT_DATA=["/properties"];function Ajv(opts){if(!(this instanceof Ajv))return new Ajv(opts);opts=this._opts=util.copy(opts)||{};setLogger(this);this._schemas={};this._refs={};this._fragments={};this._formats=formats(opts.format);this._cache=opts.cache||new Cache;this._loadingSchemas={};this._compilations=[];this.RULES=rules();this._getId=chooseGetId(opts);opts.loopRequired=opts.loopRequired||Infinity;if(opts.errorDataPath=="property")opts._errorDataPathProperty=true;if(opts.serialize===undefined)opts.serialize=stableStringify;this._metaOpts=getMetaSchemaOptions(this);if(opts.formats)addInitialFormats(this);if(opts.keywords)addInitialKeywords(this);addDefaultMetaSchema(this);if(typeof opts.meta=="object")this.addMetaSchema(opts.meta);if(opts.nullable)this.addKeyword("nullable",{metaSchema:{type:"boolean"}});addInitialSchemas(this)}function validate(schemaKeyRef,data){var v;if(typeof schemaKeyRef=="string"){v=this.getSchema(schemaKeyRef);if(!v)throw new Error('no schema with key or ref "'+schemaKeyRef+'"')}else{var schemaObj=this._addSchema(schemaKeyRef);v=schemaObj.validate||this._compile(schemaObj)}var valid=v(data);if(v.$async!==true)this.errors=v.errors;return valid}function compile(schema,_meta){var schemaObj=this._addSchema(schema,undefined,_meta);return schemaObj.validate||this._compile(schemaObj)}function addSchema(schema,key,_skipValidation,_meta){if(Array.isArray(schema)){for(var i=0;i<schema.length;i++)this.addSchema(schema[i],undefined,_skipValidation,_meta);return this}var id=this._getId(schema);if(id!==undefined&&typeof id!="string")throw new Error("schema id must be string");key=resolve.normalizeId(key||id);checkUnique(this,key);this._schemas[key]=this._addSchema(schema,_skipValidation,_meta,true);return this}function addMetaSchema(schema,key,skipValidation){this.addSchema(schema,key,skipValidation,true);return this}function validateSchema(schema,throwOrLogError){var $schema=schema.$schema;if($schema!==undefined&&typeof $schema!="string")throw new Error("$schema must be a string");$schema=$schema||this._opts.defaultMeta||defaultMeta(this);if(!$schema){this.logger.warn("meta-schema not available");this.errors=null;return true}var valid=this.validate($schema,schema);if(!valid&&throwOrLogError){var message="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(message);else throw new Error(message)}return valid}function defaultMeta(self){var meta=self._opts.meta;self._opts.defaultMeta=typeof meta=="object"?self._getId(meta)||meta:self.getSchema(META_SCHEMA_ID)?META_SCHEMA_ID:undefined;return self._opts.defaultMeta}function getSchema(keyRef){var schemaObj=_getSchemaObj(this,keyRef);switch(typeof schemaObj){case"object":return schemaObj.validate||this._compile(schemaObj);case"string":return this.getSchema(schemaObj);case"undefined":return _getSchemaFragment(this,keyRef)}}function _getSchemaFragment(self,ref){var res=resolve.schema.call(self,{schema:{}},ref);if(res){var schema=res.schema,root=res.root,baseId=res.baseId;var v=compileSchema.call(self,schema,root,undefined,baseId);self._fragments[ref]=new SchemaObject({ref:ref,fragment:true,schema:schema,root:root,baseId:baseId,validate:v});return v}}function _getSchemaObj(self,keyRef){keyRef=resolve.normalizeId(keyRef);return self._schemas[keyRef]||self._refs[keyRef]||self._fragments[keyRef]}function removeSchema(schemaKeyRef){if(schemaKeyRef instanceof RegExp){_removeAllSchemas(this,this._schemas,schemaKeyRef);_removeAllSchemas(this,this._refs,schemaKeyRef);return this}switch(typeof schemaKeyRef){case"undefined":_removeAllSchemas(this,this._schemas);_removeAllSchemas(this,this._refs);this._cache.clear();return this;case"string":var schemaObj=_getSchemaObj(this,schemaKeyRef);if(schemaObj)this._cache.del(schemaObj.cacheKey);delete this._schemas[schemaKeyRef];delete this._refs[schemaKeyRef];return this;case"object":var serialize=this._opts.serialize;var cacheKey=serialize?serialize(schemaKeyRef):schemaKeyRef;this._cache.del(cacheKey);var id=this._getId(schemaKeyRef);if(id){id=resolve.normalizeId(id);delete this._schemas[id];delete this._refs[id]}}return this}function _removeAllSchemas(self,schemas,regex){for(var keyRef in schemas){var schemaObj=schemas[keyRef];if(!schemaObj.meta&&(!regex||regex.test(keyRef))){self._cache.del(schemaObj.cacheKey);delete schemas[keyRef]}}}function _addSchema(schema,skipValidation,meta,shouldAddSchema){if(typeof schema!="object"&&typeof schema!="boolean")throw new Error("schema should be object or boolean");var serialize=this._opts.serialize;var cacheKey=serialize?serialize(schema):schema;var cached=this._cache.get(cacheKey);if(cached)return cached;shouldAddSchema=shouldAddSchema||this._opts.addUsedSchema!==false;var id=resolve.normalizeId(this._getId(schema));if(id&&shouldAddSchema)checkUnique(this,id);var willValidate=this._opts.validateSchema!==false&&!skipValidation;var recursiveMeta;if(willValidate&&!(recursiveMeta=id&&id==resolve.normalizeId(schema.$schema)))this.validateSchema(schema,true);var localRefs=resolve.ids.call(this,schema);var schemaObj=new SchemaObject({id:id,schema:schema,localRefs:localRefs,cacheKey:cacheKey,meta:meta});if(id[0]!="#"&&shouldAddSchema)this._refs[id]=schemaObj;this._cache.put(cacheKey,schemaObj);if(willValidate&&recursiveMeta)this.validateSchema(schema,true);return schemaObj}function _compile(schemaObj,root){if(schemaObj.compiling){schemaObj.validate=callValidate;callValidate.schema=schemaObj.schema;callValidate.errors=null;callValidate.root=root?root:callValidate;if(schemaObj.schema.$async===true)callValidate.$async=true;return callValidate}schemaObj.compiling=true;var currentOpts;if(schemaObj.meta){currentOpts=this._opts;this._opts=this._metaOpts}var v;try{v=compileSchema.call(this,schemaObj.schema,root,schemaObj.localRefs)}catch(e){delete schemaObj.validate;throw e}finally{schemaObj.compiling=false;if(schemaObj.meta)this._opts=currentOpts}schemaObj.validate=v;schemaObj.refs=v.refs;schemaObj.refVal=v.refVal;schemaObj.root=v.root;return v;function callValidate(){var _validate=schemaObj.validate;var result=_validate.apply(this,arguments);callValidate.errors=_validate.errors;return result}}function chooseGetId(opts){switch(opts.schemaId){case"auto":return _get$IdOrId;case"id":return _getId;default:return _get$Id}}function _getId(schema){if(schema.$id)this.logger.warn("schema $id ignored",schema.$id);return schema.id}function _get$Id(schema){if(schema.id)this.logger.warn("schema id ignored",schema.id);return schema.$id}function _get$IdOrId(schema){if(schema.$id&&schema.id&&schema.$id!=schema.id)throw new Error("schema $id is different from id");return schema.$id||schema.id}function errorsText(errors,options){errors=errors||this.errors;if(!errors)return"No errors";options=options||{};var separator=options.separator===undefined?", ":options.separator;var dataVar=options.dataVar===undefined?"data":options.dataVar;var text="";for(var i=0;i<errors.length;i++){var e=errors[i];if(e)text+=dataVar+e.dataPath+" "+e.message+separator}return text.slice(0,-separator.length)}function addFormat(name,format){if(typeof format=="string")format=new RegExp(format);this._formats[name]=format;return this}function addDefaultMetaSchema(self){var $dataSchema;if(self._opts.$data){$dataSchema=require$$12;self.addMetaSchema($dataSchema,$dataSchema.$id,true)}if(self._opts.meta===false)return;var metaSchema=require$$13;if(self._opts.$data)metaSchema=$dataMetaSchema(metaSchema,META_SUPPORT_DATA);self.addMetaSchema(metaSchema,META_SCHEMA_ID,true);self._refs["http://json-schema.org/schema"]=META_SCHEMA_ID}function addInitialSchemas(self){var optsSchemas=self._opts.schemas;if(!optsSchemas)return;if(Array.isArray(optsSchemas))self.addSchema(optsSchemas);else for(var key in optsSchemas)self.addSchema(optsSchemas[key],key)}function addInitialFormats(self){for(var name in self._opts.formats){var format=self._opts.formats[name];self.addFormat(name,format)}}function addInitialKeywords(self){for(var name in self._opts.keywords){var keyword=self._opts.keywords[name];self.addKeyword(name,keyword)}}function checkUnique(self,id){if(self._schemas[id]||self._refs[id])throw new Error('schema with key or id "'+id+'" already exists')}function getMetaSchemaOptions(self){var metaOpts=util.copy(self._opts);for(var i=0;i<META_IGNORE_OPTIONS.length;i++)delete metaOpts[META_IGNORE_OPTIONS[i]];return metaOpts}function setLogger(self){var logger=self._opts.logger;if(logger===false){self.logger={log:noop,warn:noop,error:noop}}else{if(logger===undefined)logger=console;if(!(typeof logger=="object"&&logger.log&&logger.warn&&logger.error))throw new Error("logger must implement log, warn and error methods");self.logger=logger}}function noop(){}return ajv$1}var globals$1={exports:{}};var builtin={AggregateError:false,Array:false,ArrayBuffer:false,Atomics:false,BigInt:false,BigInt64Array:false,BigUint64Array:false,Boolean:false,constructor:false,DataView:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,escape:false,eval:false,EvalError:false,FinalizationRegistry:false,Float32Array:false,Float64Array:false,Function:false,globalThis:false,hasOwnProperty:false,Infinity:false,Int16Array:false,Int32Array:false,Int8Array:false,isFinite:false,isNaN:false,isPrototypeOf:false,JSON:false,Map:false,Math:false,NaN:false,Number:false,Object:false,parseFloat:false,parseInt:false,Promise:false,propertyIsEnumerable:false,Proxy:false,RangeError:false,ReferenceError:false,Reflect:false,RegExp:false,Set:false,SharedArrayBuffer:false,String:false,Symbol:false,SyntaxError:false,toLocaleString:false,toString:false,TypeError:false,Uint16Array:false,Uint32Array:false,Uint8Array:false,Uint8ClampedArray:false,undefined:false,unescape:false,URIError:false,valueOf:false,WeakMap:false,WeakRef:false,WeakSet:false};var es5={Array:false,Boolean:false,constructor:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,escape:false,eval:false,EvalError:false,Function:false,hasOwnProperty:false,Infinity:false,isFinite:false,isNaN:false,isPrototypeOf:false,JSON:false,Math:false,NaN:false,Number:false,Object:false,parseFloat:false,parseInt:false,propertyIsEnumerable:false,RangeError:false,ReferenceError:false,RegExp:false,String:false,SyntaxError:false,toLocaleString:false,toString:false,TypeError:false,undefined:false,unescape:false,URIError:false,valueOf:false};var es2015={Array:false,ArrayBuffer:false,Boolean:false,constructor:false,DataView:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,escape:false,eval:false,EvalError:false,Float32Array:false,Float64Array:false,Function:false,hasOwnProperty:false,Infinity:false,Int16Array:false,Int32Array:false,Int8Array:false,isFinite:false,isNaN:false,isPrototypeOf:false,JSON:false,Map:false,Math:false,NaN:false,Number:false,Object:false,parseFloat:false,parseInt:false,Promise:false,propertyIsEnumerable:false,Proxy:false,RangeError:false,ReferenceError:false,Reflect:false,RegExp:false,Set:false,String:false,Symbol:false,SyntaxError:false,toLocaleString:false,toString:false,TypeError:false,Uint16Array:false,Uint32Array:false,Uint8Array:false,Uint8ClampedArray:false,undefined:false,unescape:false,URIError:false,valueOf:false,WeakMap:false,WeakSet:false};var es2017={Array:false,ArrayBuffer:false,Atomics:false,Boolean:false,constructor:false,DataView:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,escape:false,eval:false,EvalError:false,Float32Array:false,Float64Array:false,Function:false,hasOwnProperty:false,Infinity:false,Int16Array:false,Int32Array:false,Int8Array:false,isFinite:false,isNaN:false,isPrototypeOf:false,JSON:false,Map:false,Math:false,NaN:false,Number:false,Object:false,parseFloat:false,parseInt:false,Promise:false,propertyIsEnumerable:false,Proxy:false,RangeError:false,ReferenceError:false,Reflect:false,RegExp:false,Set:false,SharedArrayBuffer:false,String:false,Symbol:false,SyntaxError:false,toLocaleString:false,toString:false,TypeError:false,Uint16Array:false,Uint32Array:false,Uint8Array:false,Uint8ClampedArray:false,undefined:false,unescape:false,URIError:false,valueOf:false,WeakMap:false,WeakSet:false};var es2020={Array:false,ArrayBuffer:false,Atomics:false,BigInt:false,BigInt64Array:false,BigUint64Array:false,Boolean:false,constructor:false,DataView:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,escape:false,eval:false,EvalError:false,Float32Array:false,Float64Array:false,Function:false,globalThis:false,hasOwnProperty:false,Infinity:false,Int16Array:false,Int32Array:false,Int8Array:false,isFinite:false,isNaN:false,isPrototypeOf:false,JSON:false,Map:false,Math:false,NaN:false,Number:false,Object:false,parseFloat:false,parseInt:false,Promise:false,propertyIsEnumerable:false,Proxy:false,RangeError:false,ReferenceError:false,Reflect:false,RegExp:false,Set:false,SharedArrayBuffer:false,String:false,Symbol:false,SyntaxError:false,toLocaleString:false,toString:false,TypeError:false,Uint16Array:false,Uint32Array:false,Uint8Array:false,Uint8ClampedArray:false,undefined:false,unescape:false,URIError:false,valueOf:false,WeakMap:false,WeakSet:false};var es2021={AggregateError:false,Array:false,ArrayBuffer:false,Atomics:false,BigInt:false,BigInt64Array:false,BigUint64Array:false,Boolean:false,constructor:false,DataView:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,escape:false,eval:false,EvalError:false,FinalizationRegistry:false,Float32Array:false,Float64Array:false,Function:false,globalThis:false,hasOwnProperty:false,Infinity:false,Int16Array:false,Int32Array:false,Int8Array:false,isFinite:false,isNaN:false,isPrototypeOf:false,JSON:false,Map:false,Math:false,NaN:false,Number:false,Object:false,parseFloat:false,parseInt:false,Promise:false,propertyIsEnumerable:false,Proxy:false,RangeError:false,ReferenceError:false,Reflect:false,RegExp:false,Set:false,SharedArrayBuffer:false,String:false,Symbol:false,SyntaxError:false,toLocaleString:false,toString:false,TypeError:false,Uint16Array:false,Uint32Array:false,Uint8Array:false,Uint8ClampedArray:false,undefined:false,unescape:false,URIError:false,valueOf:false,WeakMap:false,WeakRef:false,WeakSet:false};var browser$1={AbortController:false,AbortSignal:false,addEventListener:false,alert:false,AnalyserNode:false,Animation:false,AnimationEffectReadOnly:false,AnimationEffectTiming:false,AnimationEffectTimingReadOnly:false,AnimationEvent:false,AnimationPlaybackEvent:false,AnimationTimeline:false,applicationCache:false,ApplicationCache:false,ApplicationCacheErrorEvent:false,atob:false,Attr:false,Audio:false,AudioBuffer:false,AudioBufferSourceNode:false,AudioContext:false,AudioDestinationNode:false,AudioListener:false,AudioNode:false,AudioParam:false,AudioProcessingEvent:false,AudioScheduledSourceNode:false,AudioWorkletGlobalScope:false,AudioWorkletNode:false,AudioWorkletProcessor:false,BarProp:false,BaseAudioContext:false,BatteryManager:false,BeforeUnloadEvent:false,BiquadFilterNode:false,Blob:false,BlobEvent:false,blur:false,BroadcastChannel:false,btoa:false,BudgetService:false,ByteLengthQueuingStrategy:false,Cache:false,caches:false,CacheStorage:false,cancelAnimationFrame:false,cancelIdleCallback:false,CanvasCaptureMediaStreamTrack:false,CanvasGradient:false,CanvasPattern:false,CanvasRenderingContext2D:false,ChannelMergerNode:false,ChannelSplitterNode:false,CharacterData:false,clearInterval:false,clearTimeout:false,clientInformation:false,ClipboardEvent:false,close:false,closed:false,CloseEvent:false,Comment:false,CompositionEvent:false,confirm:false,console:false,ConstantSourceNode:false,ConvolverNode:false,CountQueuingStrategy:false,createImageBitmap:false,Credential:false,CredentialsContainer:false,crypto:false,Crypto:false,CryptoKey:false,CSS:false,CSSConditionRule:false,CSSFontFaceRule:false,CSSGroupingRule:false,CSSImportRule:false,CSSKeyframeRule:false,CSSKeyframesRule:false,CSSMatrixComponent:false,CSSMediaRule:false,CSSNamespaceRule:false,CSSPageRule:false,CSSPerspective:false,CSSRotate:false,CSSRule:false,CSSRuleList:false,CSSScale:false,CSSSkew:false,CSSSkewX:false,CSSSkewY:false,CSSStyleDeclaration:false,CSSStyleRule:false,CSSStyleSheet:false,CSSSupportsRule:false,CSSTransformValue:false,CSSTranslate:false,CustomElementRegistry:false,customElements:false,CustomEvent:false,DataTransfer:false,DataTransferItem:false,DataTransferItemList:false,defaultstatus:false,defaultStatus:false,DelayNode:false,DeviceMotionEvent:false,DeviceOrientationEvent:false,devicePixelRatio:false,dispatchEvent:false,document:false,Document:false,DocumentFragment:false,DocumentType:false,DOMError:false,DOMException:false,DOMImplementation:false,DOMMatrix:false,DOMMatrixReadOnly:false,DOMParser:false,DOMPoint:false,DOMPointReadOnly:false,DOMQuad:false,DOMRect:false,DOMRectList:false,DOMRectReadOnly:false,DOMStringList:false,DOMStringMap:false,DOMTokenList:false,DragEvent:false,DynamicsCompressorNode:false,Element:false,ErrorEvent:false,event:false,Event:false,EventSource:false,EventTarget:false,external:false,fetch:false,File:false,FileList:false,FileReader:false,find:false,focus:false,FocusEvent:false,FontFace:false,FontFaceSetLoadEvent:false,FormData:false,FormDataEvent:false,frameElement:false,frames:false,GainNode:false,Gamepad:false,GamepadButton:false,GamepadEvent:false,getComputedStyle:false,getSelection:false,HashChangeEvent:false,Headers:false,history:false,History:false,HTMLAllCollection:false,HTMLAnchorElement:false,HTMLAreaElement:false,HTMLAudioElement:false,HTMLBaseElement:false,HTMLBodyElement:false,HTMLBRElement:false,HTMLButtonElement:false,HTMLCanvasElement:false,HTMLCollection:false,HTMLContentElement:false,HTMLDataElement:false,HTMLDataListElement:false,HTMLDetailsElement:false,HTMLDialogElement:false,HTMLDirectoryElement:false,HTMLDivElement:false,HTMLDListElement:false,HTMLDocument:false,HTMLElement:false,HTMLEmbedElement:false,HTMLFieldSetElement:false,HTMLFontElement:false,HTMLFormControlsCollection:false,HTMLFormElement:false,HTMLFrameElement:false,HTMLFrameSetElement:false,HTMLHeadElement:false,HTMLHeadingElement:false,HTMLHRElement:false,HTMLHtmlElement:false,HTMLIFrameElement:false,HTMLImageElement:false,HTMLInputElement:false,HTMLLabelElement:false,HTMLLegendElement:false,HTMLLIElement:false,HTMLLinkElement:false,HTMLMapElement:false,HTMLMarqueeElement:false,HTMLMediaElement:false,HTMLMenuElement:false,HTMLMetaElement:false,HTMLMeterElement:false,HTMLModElement:false,HTMLObjectElement:false,HTMLOListElement:false,HTMLOptGroupElement:false,HTMLOptionElement:false,HTMLOptionsCollection:false,HTMLOutputElement:false,HTMLParagraphElement:false,HTMLParamElement:false,HTMLPictureElement:false,HTMLPreElement:false,HTMLProgressElement:false,HTMLQuoteElement:false,HTMLScriptElement:false,HTMLSelectElement:false,HTMLShadowElement:false,HTMLSlotElement:false,HTMLSourceElement:false,HTMLSpanElement:false,HTMLStyleElement:false,HTMLTableCaptionElement:false,HTMLTableCellElement:false,HTMLTableColElement:false,HTMLTableElement:false,HTMLTableRowElement:false,HTMLTableSectionElement:false,HTMLTemplateElement:false,HTMLTextAreaElement:false,HTMLTimeElement:false,HTMLTitleElement:false,HTMLTrackElement:false,HTMLUListElement:false,HTMLUnknownElement:false,HTMLVideoElement:false,IDBCursor:false,IDBCursorWithValue:false,IDBDatabase:false,IDBFactory:false,IDBIndex:false,IDBKeyRange:false,IDBObjectStore:false,IDBOpenDBRequest:false,IDBRequest:false,IDBTransaction:false,IDBVersionChangeEvent:false,IdleDeadline:false,IIRFilterNode:false,Image:false,ImageBitmap:false,ImageBitmapRenderingContext:false,ImageCapture:false,ImageData:false,indexedDB:false,innerHeight:false,innerWidth:false,InputEvent:false,IntersectionObserver:false,IntersectionObserverEntry:false,Intl:false,isSecureContext:false,KeyboardEvent:false,KeyframeEffect:false,KeyframeEffectReadOnly:false,length:false,localStorage:false,location:true,Location:false,locationbar:false,matchMedia:false,MediaDeviceInfo:false,MediaDevices:false,MediaElementAudioSourceNode:false,MediaEncryptedEvent:false,MediaError:false,MediaKeyMessageEvent:false,MediaKeySession:false,MediaKeyStatusMap:false,MediaKeySystemAccess:false,MediaList:false,MediaMetadata:false,MediaQueryList:false,MediaQueryListEvent:false,MediaRecorder:false,MediaSettingsRange:false,MediaSource:false,MediaStream:false,MediaStreamAudioDestinationNode:false,MediaStreamAudioSourceNode:false,MediaStreamEvent:false,MediaStreamTrack:false,MediaStreamTrackEvent:false,menubar:false,MessageChannel:false,MessageEvent:false,MessagePort:false,MIDIAccess:false,MIDIConnectionEvent:false,MIDIInput:false,MIDIInputMap:false,MIDIMessageEvent:false,MIDIOutput:false,MIDIOutputMap:false,MIDIPort:false,MimeType:false,MimeTypeArray:false,MouseEvent:false,moveBy:false,moveTo:false,MutationEvent:false,MutationObserver:false,MutationRecord:false,name:false,NamedNodeMap:false,NavigationPreloadManager:false,navigator:false,Navigator:false,NetworkInformation:false,Node:false,NodeFilter:false,NodeIterator:false,NodeList:false,Notification:false,OfflineAudioCompletionEvent:false,OfflineAudioContext:false,offscreenBuffering:false,OffscreenCanvas:true,OffscreenCanvasRenderingContext2D:false,onabort:true,onafterprint:true,onanimationend:true,onanimationiteration:true,onanimationstart:true,onappinstalled:true,onauxclick:true,onbeforeinstallprompt:true,onbeforeprint:true,onbeforeunload:true,onblur:true,oncancel:true,oncanplay:true,oncanplaythrough:true,onchange:true,onclick:true,onclose:true,oncontextmenu:true,oncuechange:true,ondblclick:true,ondevicemotion:true,ondeviceorientation:true,ondeviceorientationabsolute:true,ondrag:true,ondragend:true,ondragenter:true,ondragleave:true,ondragover:true,ondragstart:true,ondrop:true,ondurationchange:true,onemptied:true,onended:true,onerror:true,onfocus:true,ongotpointercapture:true,onhashchange:true,oninput:true,oninvalid:true,onkeydown:true,onkeypress:true,onkeyup:true,onlanguagechange:true,onload:true,onloadeddata:true,onloadedmetadata:true,onloadstart:true,onlostpointercapture:true,onmessage:true,onmessageerror:true,onmousedown:true,onmouseenter:true,onmouseleave:true,onmousemove:true,onmouseout:true,onmouseover:true,onmouseup:true,onmousewheel:true,onoffline:true,ononline:true,onpagehide:true,onpageshow:true,onpause:true,onplay:true,onplaying:true,onpointercancel:true,onpointerdown:true,onpointerenter:true,onpointerleave:true,onpointermove:true,onpointerout:true,onpointerover:true,onpointerup:true,onpopstate:true,onprogress:true,onratechange:true,onrejectionhandled:true,onreset:true,onresize:true,onscroll:true,onsearch:true,onseeked:true,onseeking:true,onselect:true,onstalled:true,onstorage:true,onsubmit:true,onsuspend:true,ontimeupdate:true,ontoggle:true,ontransitionend:true,onunhandledrejection:true,onunload:true,onvolumechange:true,onwaiting:true,onwheel:true,open:false,openDatabase:false,opener:false,Option:false,origin:false,OscillatorNode:false,outerHeight:false,outerWidth:false,OverconstrainedError:false,PageTransitionEvent:false,pageXOffset:false,pageYOffset:false,PannerNode:false,parent:false,Path2D:false,PaymentAddress:false,PaymentRequest:false,PaymentRequestUpdateEvent:false,PaymentResponse:false,performance:false,Performance:false,PerformanceEntry:false,PerformanceLongTaskTiming:false,PerformanceMark:false,PerformanceMeasure:false,PerformanceNavigation:false,PerformanceNavigationTiming:false,PerformanceObserver:false,PerformanceObserverEntryList:false,PerformancePaintTiming:false,PerformanceResourceTiming:false,PerformanceTiming:false,PeriodicWave:false,Permissions:false,PermissionStatus:false,personalbar:false,PhotoCapabilities:false,Plugin:false,PluginArray:false,PointerEvent:false,PopStateEvent:false,postMessage:false,Presentation:false,PresentationAvailability:false,PresentationConnection:false,PresentationConnectionAvailableEvent:false,PresentationConnectionCloseEvent:false,PresentationConnectionList:false,PresentationReceiver:false,PresentationRequest:false,print:false,ProcessingInstruction:false,ProgressEvent:false,PromiseRejectionEvent:false,prompt:false,PushManager:false,PushSubscription:false,PushSubscriptionOptions:false,queueMicrotask:false,RadioNodeList:false,Range:false,ReadableStream:false,registerProcessor:false,RemotePlayback:false,removeEventListener:false,reportError:false,Request:false,requestAnimationFrame:false,requestIdleCallback:false,resizeBy:false,ResizeObserver:false,ResizeObserverEntry:false,resizeTo:false,Response:false,RTCCertificate:false,RTCDataChannel:false,RTCDataChannelEvent:false,RTCDtlsTransport:false,RTCIceCandidate:false,RTCIceGatherer:false,RTCIceTransport:false,RTCPeerConnection:false,RTCPeerConnectionIceEvent:false,RTCRtpContributingSource:false,RTCRtpReceiver:false,RTCRtpSender:false,RTCSctpTransport:false,RTCSessionDescription:false,RTCStatsReport:false,RTCTrackEvent:false,screen:false,Screen:false,screenLeft:false,ScreenOrientation:false,screenTop:false,screenX:false,screenY:false,ScriptProcessorNode:false,scroll:false,scrollbars:false,scrollBy:false,scrollTo:false,scrollX:false,scrollY:false,SecurityPolicyViolationEvent:false,Selection:false,self:false,ServiceWorker:false,ServiceWorkerContainer:false,ServiceWorkerRegistration:false,sessionStorage:false,setInterval:false,setTimeout:false,ShadowRoot:false,SharedWorker:false,SourceBuffer:false,SourceBufferList:false,speechSynthesis:false,SpeechSynthesisEvent:false,SpeechSynthesisUtterance:false,StaticRange:false,status:false,statusbar:false,StereoPannerNode:false,stop:false,Storage:false,StorageEvent:false,StorageManager:false,structuredClone:false,styleMedia:false,StyleSheet:false,StyleSheetList:false,SubmitEvent:false,SubtleCrypto:false,SVGAElement:false,SVGAngle:false,SVGAnimatedAngle:false,SVGAnimatedBoolean:false,SVGAnimatedEnumeration:false,SVGAnimatedInteger:false,SVGAnimatedLength:false,SVGAnimatedLengthList:false,SVGAnimatedNumber:false,SVGAnimatedNumberList:false,SVGAnimatedPreserveAspectRatio:false,SVGAnimatedRect:false,SVGAnimatedString:false,SVGAnimatedTransformList:false,SVGAnimateElement:false,SVGAnimateMotionElement:false,SVGAnimateTransformElement:false,SVGAnimationElement:false,SVGCircleElement:false,SVGClipPathElement:false,SVGComponentTransferFunctionElement:false,SVGDefsElement:false,SVGDescElement:false,SVGDiscardElement:false,SVGElement:false,SVGEllipseElement:false,SVGFEBlendElement:false,SVGFEColorMatrixElement:false,SVGFEComponentTransferElement:false,SVGFECompositeElement:false,SVGFEConvolveMatrixElement:false,SVGFEDiffuseLightingElement:false,SVGFEDisplacementMapElement:false,SVGFEDistantLightElement:false,SVGFEDropShadowElement:false,SVGFEFloodElement:false,SVGFEFuncAElement:false,SVGFEFuncBElement:false,SVGFEFuncGElement:false,SVGFEFuncRElement:false,SVGFEGaussianBlurElement:false,SVGFEImageElement:false,SVGFEMergeElement:false,SVGFEMergeNodeElement:false,SVGFEMorphologyElement:false,SVGFEOffsetElement:false,SVGFEPointLightElement:false,SVGFESpecularLightingElement:false,SVGFESpotLightElement:false,SVGFETileElement:false,SVGFETurbulenceElement:false,SVGFilterElement:false,SVGForeignObjectElement:false,SVGGElement:false,SVGGeometryElement:false,SVGGradientElement:false,SVGGraphicsElement:false,SVGImageElement:false,SVGLength:false,SVGLengthList:false,SVGLinearGradientElement:false,SVGLineElement:false,SVGMarkerElement:false,SVGMaskElement:false,SVGMatrix:false,SVGMetadataElement:false,SVGMPathElement:false,SVGNumber:false,SVGNumberList:false,SVGPathElement:false,SVGPatternElement:false,SVGPoint:false,SVGPointList:false,SVGPolygonElement:false,SVGPolylineElement:false,SVGPreserveAspectRatio:false,SVGRadialGradientElement:false,SVGRect:false,SVGRectElement:false,SVGScriptElement:false,SVGSetElement:false,SVGStopElement:false,SVGStringList:false,SVGStyleElement:false,SVGSVGElement:false,SVGSwitchElement:false,SVGSymbolElement:false,SVGTextContentElement:false,SVGTextElement:false,SVGTextPathElement:false,SVGTextPositioningElement:false,SVGTitleElement:false,SVGTransform:false,SVGTransformList:false,SVGTSpanElement:false,SVGUnitTypes:false,SVGUseElement:false,SVGViewElement:false,TaskAttributionTiming:false,Text:false,TextDecoder:false,TextEncoder:false,TextEvent:false,TextMetrics:false,TextTrack:false,TextTrackCue:false,TextTrackCueList:false,TextTrackList:false,TimeRanges:false,toolbar:false,top:false,Touch:false,TouchEvent:false,TouchList:false,TrackEvent:false,TransformStream:false,TransitionEvent:false,TreeWalker:false,UIEvent:false,URL:false,URLSearchParams:false,ValidityState:false,visualViewport:false,VisualViewport:false,VTTCue:false,WaveShaperNode:false,WebAssembly:false,WebGL2RenderingContext:false,WebGLActiveInfo:false,WebGLBuffer:false,WebGLContextEvent:false,WebGLFramebuffer:false,WebGLProgram:false,WebGLQuery:false,WebGLRenderbuffer:false,WebGLRenderingContext:false,WebGLSampler:false,WebGLShader:false,WebGLShaderPrecisionFormat:false,WebGLSync:false,WebGLTexture:false,WebGLTransformFeedback:false,WebGLUniformLocation:false,WebGLVertexArrayObject:false,WebSocket:false,WheelEvent:false,window:false,Window:false,Worker:false,WritableStream:false,XMLDocument:false,XMLHttpRequest:false,XMLHttpRequestEventTarget:false,XMLHttpRequestUpload:false,XMLSerializer:false,XPathEvaluator:false,XPathExpression:false,XPathResult:false,XSLTProcessor:false};var worker={addEventListener:false,applicationCache:false,atob:false,Blob:false,BroadcastChannel:false,btoa:false,Cache:false,caches:false,clearInterval:false,clearTimeout:false,close:true,console:false,CustomEvent:false,ErrorEvent:false,Event:false,fetch:false,FileReaderSync:false,FormData:false,Headers:false,IDBCursor:false,IDBCursorWithValue:false,IDBDatabase:false,IDBFactory:false,IDBIndex:false,IDBKeyRange:false,IDBObjectStore:false,IDBOpenDBRequest:false,IDBRequest:false,IDBTransaction:false,IDBVersionChangeEvent:false,ImageData:false,importScripts:true,indexedDB:false,location:false,MessageChannel:false,MessageEvent:false,MessagePort:false,name:false,navigator:false,Notification:false,onclose:true,onconnect:true,onerror:true,onlanguagechange:true,onmessage:true,onoffline:true,ononline:true,onrejectionhandled:true,onunhandledrejection:true,performance:false,Performance:false,PerformanceEntry:false,PerformanceMark:false,PerformanceMeasure:false,PerformanceNavigation:false,PerformanceResourceTiming:false,PerformanceTiming:false,postMessage:true,Promise:false,queueMicrotask:false,removeEventListener:false,reportError:false,Request:false,Response:false,self:true,ServiceWorkerRegistration:false,setInterval:false,setTimeout:false,TextDecoder:false,TextEncoder:false,URL:false,URLSearchParams:false,WebSocket:false,Worker:false,WorkerGlobalScope:false,XMLHttpRequest:false};var node$1={__dirname:false,__filename:false,AbortController:false,AbortSignal:false,atob:false,btoa:false,Buffer:false,clearImmediate:false,clearInterval:false,clearTimeout:false,console:false,DOMException:false,Event:false,EventTarget:false,exports:true,fetch:false,global:false,Intl:false,MessageChannel:false,MessageEvent:false,MessagePort:false,module:false,performance:false,process:false,queueMicrotask:false,require:false,setImmediate:false,setInterval:false,setTimeout:false,structuredClone:false,TextDecoder:false,TextEncoder:false,URL:false,URLSearchParams:false};var nodeBuiltin={AbortController:false,AbortSignal:false,atob:false,btoa:false,Buffer:false,clearImmediate:false,clearInterval:false,clearTimeout:false,console:false,DOMException:false,Event:false,EventTarget:false,fetch:false,global:false,Intl:false,MessageChannel:false,MessageEvent:false,MessagePort:false,performance:false,process:false,queueMicrotask:false,setImmediate:false,setInterval:false,setTimeout:false,structuredClone:false,TextDecoder:false,TextEncoder:false,URL:false,URLSearchParams:false};var commonjs={exports:true,global:false,module:false,require:false};var amd={define:false,require:false};var mocha={after:false,afterEach:false,before:false,beforeEach:false,context:false,describe:false,it:false,mocha:false,run:false,setup:false,specify:false,suite:false,suiteSetup:false,suiteTeardown:false,teardown:false,test:false,xcontext:false,xdescribe:false,xit:false,xspecify:false};var jasmine={afterAll:false,afterEach:false,beforeAll:false,beforeEach:false,describe:false,expect:false,expectAsync:false,fail:false,fdescribe:false,fit:false,it:false,jasmine:false,pending:false,runs:false,spyOn:false,spyOnAllFunctions:false,spyOnProperty:false,waits:false,waitsFor:false,xdescribe:false,xit:false};var jest={afterAll:false,afterEach:false,beforeAll:false,beforeEach:false,describe:false,expect:false,fdescribe:false,fit:false,it:false,jest:false,pit:false,require:false,test:false,xdescribe:false,xit:false,xtest:false};var qunit={asyncTest:false,deepEqual:false,equal:false,expect:false,module:false,notDeepEqual:false,notEqual:false,notOk:false,notPropEqual:false,notStrictEqual:false,ok:false,propEqual:false,QUnit:false,raises:false,start:false,stop:false,strictEqual:false,test:false,throws:false};var phantomjs={console:true,exports:true,phantom:true,require:true,WebPage:true};var couch={emit:false,exports:false,getRow:false,log:false,module:false,provides:false,require:false,respond:false,send:false,start:false,sum:false};var rhino={defineClass:false,deserialize:false,gc:false,help:false,importClass:false,importPackage:false,java:false,load:false,loadClass:false,Packages:false,print:false,quit:false,readFile:false,readUrl:false,runCommand:false,seal:false,serialize:false,spawn:false,sync:false,toint32:false,version:false};var nashorn={__DIR__:false,__FILE__:false,__LINE__:false,com:false,edu:false,exit:false,java:false,Java:false,javafx:false,JavaImporter:false,javax:false,JSAdapter:false,load:false,loadWithNewGlobal:false,org:false,Packages:false,print:false,quit:false};var wsh={ActiveXObject:false,CollectGarbage:false,Debug:false,Enumerator:false,GetObject:false,RuntimeObject:false,ScriptEngine:false,ScriptEngineBuildVersion:false,ScriptEngineMajorVersion:false,ScriptEngineMinorVersion:false,VBArray:false,WScript:false,WSH:false};var jquery={$:false,jQuery:false};var yui={YAHOO:false,YAHOO_config:false,YUI:false,YUI_config:false};var shelljs={cat:false,cd:false,chmod:false,config:false,cp:false,dirs:false,echo:false,env:false,error:false,exec:false,exit:false,find:false,grep:false,ln:false,ls:false,mkdir:false,mv:false,popd:false,pushd:false,pwd:false,rm:false,sed:false,set:false,target:false,tempdir:false,test:false,touch:false,which:false};var prototypejs={$:false,$$:false,$A:false,$break:false,$continue:false,$F:false,$H:false,$R:false,$w:false,Abstract:false,Ajax:false,Autocompleter:false,Builder:false,Class:false,Control:false,Draggable:false,Draggables:false,Droppables:false,Effect:false,Element:false,Enumerable:false,Event:false,Field:false,Form:false,Hash:false,Insertion:false,ObjectRange:false,PeriodicalExecuter:false,Position:false,Prototype:false,Scriptaculous:false,Selector:false,Sortable:false,SortableObserver:false,Sound:false,Template:false,Toggle:false,Try:false};var meteor={$:false,Accounts:false,AccountsClient:false,AccountsCommon:false,AccountsServer:false,App:false,Assets:false,Blaze:false,check:false,Cordova:false,DDP:false,DDPRateLimiter:false,DDPServer:false,Deps:false,EJSON:false,Email:false,HTTP:false,Log:false,Match:false,Meteor:false,Mongo:false,MongoInternals:false,Npm:false,Package:false,Plugin:false,process:false,Random:false,ReactiveDict:false,ReactiveVar:false,Router:false,ServiceConfiguration:false,Session:false,share:false,Spacebars:false,Template:false,Tinytest:false,Tracker:false,UI:false,Utils:false,WebApp:false,WebAppInternals:false};var mongo={_isWindows:false,_rand:false,BulkWriteResult:false,cat:false,cd:false,connect:false,db:false,getHostName:false,getMemInfo:false,hostname:false,ISODate:false,listFiles:false,load:false,ls:false,md5sumFile:false,mkdir:false,Mongo:false,NumberInt:false,NumberLong:false,ObjectId:false,PlanCache:false,print:false,printjson:false,pwd:false,quit:false,removeFile:false,rs:false,sh:false,UUID:false,version:false,WriteResult:false};var applescript={$:false,Application:false,Automation:false,console:false,delay:false,Library:false,ObjC:false,ObjectSpecifier:false,Path:false,Progress:false,Ref:false};var serviceworker={addEventListener:false,applicationCache:false,atob:false,Blob:false,BroadcastChannel:false,btoa:false,Cache:false,caches:false,CacheStorage:false,clearInterval:false,clearTimeout:false,Client:false,clients:false,Clients:false,close:true,console:false,CustomEvent:false,ErrorEvent:false,Event:false,ExtendableEvent:false,ExtendableMessageEvent:false,fetch:false,FetchEvent:false,FileReaderSync:false,FormData:false,Headers:false,IDBCursor:false,IDBCursorWithValue:false,IDBDatabase:false,IDBFactory:false,IDBIndex:false,IDBKeyRange:false,IDBObjectStore:false,IDBOpenDBRequest:false,IDBRequest:false,IDBTransaction:false,IDBVersionChangeEvent:false,ImageData:false,importScripts:false,indexedDB:false,location:false,MessageChannel:false,MessageEvent:false,MessagePort:false,name:false,navigator:false,Notification:false,onclose:true,onconnect:true,onerror:true,onfetch:true,oninstall:true,onlanguagechange:true,onmessage:true,onmessageerror:true,onnotificationclick:true,onnotificationclose:true,onoffline:true,ononline:true,onpush:true,onpushsubscriptionchange:true,onrejectionhandled:true,onsync:true,onunhandledrejection:true,performance:false,Performance:false,PerformanceEntry:false,PerformanceMark:false,PerformanceMeasure:false,PerformanceNavigation:false,PerformanceResourceTiming:false,PerformanceTiming:false,postMessage:true,Promise:false,queueMicrotask:false,registration:false,removeEventListener:false,Request:false,Response:false,self:false,ServiceWorker:false,ServiceWorkerContainer:false,ServiceWorkerGlobalScope:false,ServiceWorkerMessageEvent:false,ServiceWorkerRegistration:false,setInterval:false,setTimeout:false,skipWaiting:false,TextDecoder:false,TextEncoder:false,URL:false,URLSearchParams:false,WebSocket:false,WindowClient:false,Worker:false,WorkerGlobalScope:false,XMLHttpRequest:false};var atomtest={advanceClock:false,atom:false,fakeClearInterval:false,fakeClearTimeout:false,fakeSetInterval:false,fakeSetTimeout:false,resetTimeouts:false,waitsForPromise:false};var embertest={andThen:false,click:false,currentPath:false,currentRouteName:false,currentURL:false,fillIn:false,find:false,findAll:false,findWithAssert:false,keyEvent:false,pauseTest:false,resumeTest:false,triggerEvent:false,visit:false,wait:false};var protractor={$:false,$$:false,browser:false,by:false,By:false,DartObject:false,element:false,protractor:false};var webextensions={browser:false,chrome:false,opr:false};var greasemonkey={cloneInto:false,createObjectIn:false,exportFunction:false,GM:false,GM_addElement:false,GM_addStyle:false,GM_addValueChangeListener:false,GM_deleteValue:false,GM_download:false,GM_getResourceText:false,GM_getResourceURL:false,GM_getTab:false,GM_getTabs:false,GM_getValue:false,GM_info:false,GM_listValues:false,GM_log:false,GM_notification:false,GM_openInTab:false,GM_registerMenuCommand:false,GM_removeValueChangeListener:false,GM_saveTab:false,GM_setClipboard:false,GM_setValue:false,GM_unregisterMenuCommand:false,GM_xmlhttpRequest:false,unsafeWindow:false};var devtools={$:false,$_:false,$$:false,$0:false,$1:false,$2:false,$3:false,$4:false,$x:false,chrome:false,clear:false,copy:false,debug:false,dir:false,dirxml:false,getEventListeners:false,inspect:false,keys:false,monitor:false,monitorEvents:false,profile:false,profileEnd:false,queryObjects:false,table:false,undebug:false,unmonitor:false,unmonitorEvents:false,values:false};var require$$0$3={builtin:builtin,es5:es5,es2015:es2015,es2017:es2017,es2020:es2020,es2021:es2021,browser:browser$1,worker:worker,node:node$1,nodeBuiltin:nodeBuiltin,commonjs:commonjs,amd:amd,mocha:mocha,jasmine:jasmine,jest:jest,qunit:qunit,phantomjs:phantomjs,couch:couch,rhino:rhino,nashorn:nashorn,wsh:wsh,jquery:jquery,yui:yui,shelljs:shelljs,prototypejs:prototypejs,meteor:meteor,mongo:mongo,applescript:applescript,serviceworker:serviceworker,atomtest:atomtest,embertest:embertest,protractor:protractor,"shared-node-browser":{AbortController:false,AbortSignal:false,atob:false,btoa:false,clearInterval:false,clearTimeout:false,console:false,DOMException:false,Event:false,EventTarget:false,fetch:false,Intl:false,MessageChannel:false,MessageEvent:false,MessagePort:false,performance:false,queueMicrotask:false,setInterval:false,setTimeout:false,structuredClone:false,TextDecoder:false,TextEncoder:false,URL:false,URLSearchParams:false},webextensions:webextensions,greasemonkey:greasemonkey,devtools:devtools};var hasRequiredGlobals$1;function requireGlobals$1(){if(hasRequiredGlobals$1)return globals$1.exports;hasRequiredGlobals$1=1;(function(module){module.exports=require$$0$3})(globals$1);return globals$1.exports}var hasRequiredEslintrcUniversal;function requireEslintrcUniversal(){if(hasRequiredEslintrcUniversal)return eslintrcUniversal;hasRequiredEslintrcUniversal=1;Object.defineProperty(eslintrcUniversal,"__esModule",{value:true});var util=require$$1$2;var path=require$$0$4;var Ajv=requireAjv$1();var globals=requireGlobals$1();function _interopDefaultLegacy(e){return e&&typeof e==="object"&&"default"in e?e:{default:e}}var util__default=_interopDefaultLegacy(util);var path__default=_interopDefaultLegacy(path);var Ajv__default=_interopDefaultLegacy(Ajv);var globals__default=_interopDefaultLegacy(globals);const RULE_SEVERITY_STRINGS=["off","warn","error"],RULE_SEVERITY=RULE_SEVERITY_STRINGS.reduce(((map,value,index)=>{map[value]=index;return map}),{}),VALID_SEVERITIES=[0,1,2,"off","warn","error"];function getRuleSeverity(ruleConfig){const severityValue=Array.isArray(ruleConfig)?ruleConfig[0]:ruleConfig;if(severityValue===0||severityValue===1||severityValue===2){return severityValue}if(typeof severityValue==="string"){return RULE_SEVERITY[severityValue.toLowerCase()]||0}return 0}function normalizeToStrings(config){if(config.rules){Object.keys(config.rules).forEach((ruleId=>{const ruleConfig=config.rules[ruleId];if(typeof ruleConfig==="number"){config.rules[ruleId]=RULE_SEVERITY_STRINGS[ruleConfig]||RULE_SEVERITY_STRINGS[0]}else if(Array.isArray(ruleConfig)&&typeof ruleConfig[0]==="number"){ruleConfig[0]=RULE_SEVERITY_STRINGS[ruleConfig[0]]||RULE_SEVERITY_STRINGS[0]}}))}}function isErrorSeverity(ruleConfig){return getRuleSeverity(ruleConfig)===2}function isValidSeverity(ruleConfig){let severity=Array.isArray(ruleConfig)?ruleConfig[0]:ruleConfig;if(typeof severity==="string"){severity=severity.toLowerCase()}return VALID_SEVERITIES.indexOf(severity)!==-1}function isEverySeverityValid(config){return Object.keys(config).every((ruleId=>isValidSeverity(config[ruleId])))}function normalizeConfigGlobal(configuredValue){switch(configuredValue){case"off":return"off";case true:case"true":case"writeable":case"writable":return"writable";case null:case false:case"false":case"readable":case"readonly":return"readonly";default:throw new Error(`'${configuredValue}' is not a valid configuration for a global (use 'readonly', 'writable', or 'off')`)}}var ConfigOps={__proto__:null,getRuleSeverity:getRuleSeverity,normalizeToStrings:normalizeToStrings,isErrorSeverity:isErrorSeverity,isValidSeverity:isValidSeverity,isEverySeverityValid:isEverySeverityValid,normalizeConfigGlobal:normalizeConfigGlobal};const deprecationWarningMessages={ESLINT_LEGACY_ECMAFEATURES:"The 'ecmaFeatures' config file property is deprecated and has no effect.",ESLINT_PERSONAL_CONFIG_LOAD:"'~/.eslintrc.*' config files have been deprecated. "+"Please use a config file per project or the '--config' option.",ESLINT_PERSONAL_CONFIG_SUPPRESS:"'~/.eslintrc.*' config files have been deprecated. "+"Please remove it or add 'root:true' to the config files in your "+"projects in order to avoid loading '~/.eslintrc.*' accidentally."};const sourceFileErrorCache=new Set;function emitDeprecationWarning(source,errorCode){const cacheKey=JSON.stringify({source:source,errorCode:errorCode});if(sourceFileErrorCache.has(cacheKey)){return}sourceFileErrorCache.add(cacheKey);const rel=path__default["default"].relative(process.cwd(),source);const message=deprecationWarningMessages[errorCode];process.emitWarning(`${message} (found in "${rel}")`,"DeprecationWarning",errorCode)}const metaSchema={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:true}},type:"object",properties:{id:{type:"string"},$schema:{type:"string"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:true},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:false},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:false},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:false},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:true},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:true}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}};var ajvOrig=(additionalOptions={})=>{const ajv=new Ajv__default["default"]({meta:false,useDefaults:true,validateSchema:false,missingRefs:"ignore",verbose:true,schemaId:"auto",...additionalOptions});ajv.addMetaSchema(metaSchema);ajv._opts.defaultMeta=metaSchema.id;return ajv};const baseConfigProperties={$schema:{type:"string"},env:{type:"object"},extends:{$ref:"#/definitions/stringOrStrings"},globals:{type:"object"},overrides:{type:"array",items:{$ref:"#/definitions/overrideConfig"},additionalItems:false},parser:{type:["string","null"]},parserOptions:{type:"object"},plugins:{type:"array"},processor:{type:"string"},rules:{type:"object"},settings:{type:"object"},noInlineConfig:{type:"boolean"},reportUnusedDisableDirectives:{type:"boolean"},ecmaFeatures:{type:"object"}};const configSchema={definitions:{stringOrStrings:{oneOf:[{type:"string"},{type:"array",items:{type:"string"},additionalItems:false}]},stringOrStringsRequired:{oneOf:[{type:"string"},{type:"array",items:{type:"string"},additionalItems:false,minItems:1}]},objectConfig:{type:"object",properties:{root:{type:"boolean"},ignorePatterns:{$ref:"#/definitions/stringOrStrings"},...baseConfigProperties},additionalProperties:false},overrideConfig:{type:"object",properties:{excludedFiles:{$ref:"#/definitions/stringOrStrings"},files:{$ref:"#/definitions/stringOrStringsRequired"},...baseConfigProperties},required:["files"],additionalProperties:false}},$ref:"#/definitions/objectConfig"};function getDiff(current,prev){const retv={};for(const[key,value]of Object.entries(current)){if(!Object.hasOwnProperty.call(prev,key)){retv[key]=value}}return retv}const newGlobals2015=getDiff(globals__default["default"].es2015,globals__default["default"].es5);const newGlobals2017={Atomics:false,SharedArrayBuffer:false};const newGlobals2020={BigInt:false,BigInt64Array:false,BigUint64Array:false,globalThis:false};const newGlobals2021={AggregateError:false,FinalizationRegistry:false,WeakRef:false};var environments=new Map(Object.entries({builtin:{globals:globals__default["default"].es5},es6:{globals:newGlobals2015,parserOptions:{ecmaVersion:6}},es2015:{globals:newGlobals2015,parserOptions:{ecmaVersion:6}},es2016:{globals:newGlobals2015,parserOptions:{ecmaVersion:7}},es2017:{globals:{...newGlobals2015,...newGlobals2017},parserOptions:{ecmaVersion:8}},es2018:{globals:{...newGlobals2015,...newGlobals2017},parserOptions:{ecmaVersion:9}},es2019:{globals:{...newGlobals2015,...newGlobals2017},parserOptions:{ecmaVersion:10}},es2020:{globals:{...newGlobals2015,...newGlobals2017,...newGlobals2020},parserOptions:{ecmaVersion:11}},es2021:{globals:{...newGlobals2015,...newGlobals2017,...newGlobals2020,...newGlobals2021},parserOptions:{ecmaVersion:12}},es2022:{globals:{...newGlobals2015,...newGlobals2017,...newGlobals2020,...newGlobals2021},parserOptions:{ecmaVersion:13}},browser:{globals:globals__default["default"].browser},node:{globals:globals__default["default"].node,parserOptions:{ecmaFeatures:{globalReturn:true}}},"shared-node-browser":{globals:globals__default["default"]["shared-node-browser"]},worker:{globals:globals__default["default"].worker},serviceworker:{globals:globals__default["default"].serviceworker},commonjs:{globals:globals__default["default"].commonjs,parserOptions:{ecmaFeatures:{globalReturn:true}}},amd:{globals:globals__default["default"].amd},mocha:{globals:globals__default["default"].mocha},jasmine:{globals:globals__default["default"].jasmine},jest:{globals:globals__default["default"].jest},phantomjs:{globals:globals__default["default"].phantomjs},jquery:{globals:globals__default["default"].jquery},qunit:{globals:globals__default["default"].qunit},prototypejs:{globals:globals__default["default"].prototypejs},shelljs:{globals:globals__default["default"].shelljs},meteor:{globals:globals__default["default"].meteor},mongo:{globals:globals__default["default"].mongo},protractor:{globals:globals__default["default"].protractor},applescript:{globals:globals__default["default"].applescript},nashorn:{globals:globals__default["default"].nashorn},atomtest:{globals:globals__default["default"].atomtest},embertest:{globals:globals__default["default"].embertest},webextensions:{globals:globals__default["default"].webextensions},greasemonkey:{globals:globals__default["default"].greasemonkey}}));const ajv=ajvOrig();const ruleValidators=new WeakMap;const noop=Function.prototype;let validateSchema;const severityMap={error:2,warn:1,off:0};const validated=new WeakSet;class ConfigValidator{constructor({builtInRules:builtInRules=new Map}={}){this.builtInRules=builtInRules}getRuleOptionsSchema(rule){if(!rule){return null}const schema=rule.schema||rule.meta&&rule.meta.schema;if(Array.isArray(schema)){if(schema.length){return{type:"array",items:schema,minItems:0,maxItems:schema.length}}return{type:"array",minItems:0,maxItems:0}}return schema||null}validateRuleSeverity(options){const severity=Array.isArray(options)?options[0]:options;const normSeverity=typeof severity==="string"?severityMap[severity.toLowerCase()]:severity;if(normSeverity===0||normSeverity===1||normSeverity===2){return normSeverity}throw new Error(`\tSeverity should be one of the following: 0 = off, 1 = warn, 2 = error (you passed '${util__default["default"].inspect(severity).replace(/'/gu,'"').replace(/\n/gu,"")}').\n`)}validateRuleSchema(rule,localOptions){if(!ruleValidators.has(rule)){const schema=this.getRuleOptionsSchema(rule);if(schema){ruleValidators.set(rule,ajv.compile(schema))}}const validateRule=ruleValidators.get(rule);if(validateRule){validateRule(localOptions);if(validateRule.errors){throw new Error(validateRule.errors.map((error=>`\tValue ${JSON.stringify(error.data)} ${error.message}.\n`)).join(""))}}}validateRuleOptions(rule,ruleId,options,source=null){try{const severity=this.validateRuleSeverity(options);if(severity!==0){this.validateRuleSchema(rule,Array.isArray(options)?options.slice(1):[])}}catch(err){const enhancedMessage=`Configuration for rule "${ruleId}" is invalid:\n${err.message}`;if(typeof source==="string"){throw new Error(`${source}:\n\t${enhancedMessage}`)}else{throw new Error(enhancedMessage)}}}validateEnvironment(environment,source,getAdditionalEnv=noop){if(!environment){return}Object.keys(environment).forEach((id=>{const env=getAdditionalEnv(id)||environments.get(id)||null;if(!env){const message=`${source}:\n\tEnvironment key "${id}" is unknown\n`;throw new Error(message)}}))}validateRules(rulesConfig,source,getAdditionalRule=noop){if(!rulesConfig){return}Object.keys(rulesConfig).forEach((id=>{const rule=getAdditionalRule(id)||this.builtInRules.get(id)||null;this.validateRuleOptions(rule,id,rulesConfig[id],source)}))}validateGlobals(globalsConfig,source=null){if(!globalsConfig){return}Object.entries(globalsConfig).forEach((([configuredGlobal,configuredValue])=>{try{normalizeConfigGlobal(configuredValue)}catch(err){throw new Error(`ESLint configuration of global '${configuredGlobal}' in ${source} is invalid:\n${err.message}`)}}))}validateProcessor(processorName,source,getProcessor){if(processorName&&!getProcessor(processorName)){throw new Error(`ESLint configuration of processor in '${source}' is invalid: '${processorName}' was not found.`)}}formatErrors(errors){return errors.map((error=>{if(error.keyword==="additionalProperties"){const formattedPropertyPath=error.dataPath.length?`${error.dataPath.slice(1)}.${error.params.additionalProperty}`:error.params.additionalProperty;return`Unexpected top-level property "${formattedPropertyPath}"`}if(error.keyword==="type"){const formattedField=error.dataPath.slice(1);const formattedExpectedType=Array.isArray(error.schema)?error.schema.join("/"):error.schema;const formattedValue=JSON.stringify(error.data);return`Property "${formattedField}" is the wrong type (expected ${formattedExpectedType} but got \`${formattedValue}\`)`}const field=error.dataPath[0]==="."?error.dataPath.slice(1):error.dataPath;return`"${field}" ${error.message}. Value: ${JSON.stringify(error.data)}`})).map((message=>`\t- ${message}.\n`)).join("")}validateConfigSchema(config,source=null){validateSchema=validateSchema||ajv.compile(configSchema);if(!validateSchema(config)){throw new Error(`ESLint configuration in ${source} is invalid:\n${this.formatErrors(validateSchema.errors)}`)}if(Object.hasOwnProperty.call(config,"ecmaFeatures")){emitDeprecationWarning(source,"ESLINT_LEGACY_ECMAFEATURES")}}validate(config,source,getAdditionalRule,getAdditionalEnv){this.validateConfigSchema(config,source);this.validateRules(config.rules,source,getAdditionalRule);this.validateEnvironment(config.env,source,getAdditionalEnv);this.validateGlobals(config.globals,source);for(const override of config.overrides||[]){this.validateRules(override.rules,source,getAdditionalRule);this.validateEnvironment(override.env,source,getAdditionalEnv);this.validateGlobals(config.globals,source)}}validateConfigArray(configArray){const getPluginEnv=Map.prototype.get.bind(configArray.pluginEnvironments);const getPluginProcessor=Map.prototype.get.bind(configArray.pluginProcessors);const getPluginRule=Map.prototype.get.bind(configArray.pluginRules);for(const element of configArray){if(validated.has(element)){continue}validated.add(element);this.validateEnvironment(element.env,element.name,getPluginEnv);this.validateGlobals(element.globals,element.name);this.validateProcessor(element.processor,element.name,getPluginProcessor);this.validateRules(element.rules,element.name,getPluginRule)}}}const NAMESPACE_REGEX=/^@.*\//iu;function normalizePackageName(name,prefix){let normalizedName=name;if(normalizedName.includes("\\")){normalizedName=normalizedName.replace(/\\/gu,"/")}if(normalizedName.charAt(0)==="@"){const scopedPackageShortcutRegex=new RegExp(`^(@[^/]+)(?:/(?:${prefix})?)?$`,"u"),scopedPackageNameRegex=new RegExp(`^${prefix}(-|$)`,"u");if(scopedPackageShortcutRegex.test(normalizedName)){normalizedName=normalizedName.replace(scopedPackageShortcutRegex,`$1/${prefix}`)}else if(!scopedPackageNameRegex.test(normalizedName.split("/")[1])){normalizedName=normalizedName.replace(/^@([^/]+)\/(.*)$/u,`@$1/${prefix}-$2`)}}else if(!normalizedName.startsWith(`${prefix}-`)){normalizedName=`${prefix}-${normalizedName}`}return normalizedName}function getShorthandName(fullname,prefix){if(fullname[0]==="@"){let matchResult=new RegExp(`^(@[^/]+)/${prefix}$`,"u").exec(fullname);if(matchResult){return matchResult[1]}matchResult=new RegExp(`^(@[^/]+)/${prefix}-(.+)$`,"u").exec(fullname);if(matchResult){return`${matchResult[1]}/${matchResult[2]}`}}else if(fullname.startsWith(`${prefix}-`)){return fullname.slice(prefix.length+1)}return fullname}function getNamespaceFromTerm(term){const match=term.match(NAMESPACE_REGEX);return match?match[0]:""}var naming={__proto__:null,normalizePackageName:normalizePackageName,getShorthandName:getShorthandName,getNamespaceFromTerm:getNamespaceFromTerm};const Legacy={environments:environments,ConfigOps:ConfigOps,ConfigValidator:ConfigValidator,naming:naming};eslintrcUniversal.Legacy=Legacy;return eslintrcUniversal}var src$1={exports:{}};var browser={exports:{}};var ms;var hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var s=1e3;var m=s*60;var h=m*60;var d=h*24;var w=d*7;var y=d*365.25;ms=function(val,options){options=options||{};var type=typeof val;if(type==="string"&&val.length>0){return parse(val)}else if(type==="number"&&isFinite(val)){return options.long?fmtLong(val):fmtShort(val)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))};function parse(str){str=String(str);if(str.length>100){return}var match=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);if(!match){return}var n=parseFloat(match[1]);var type=(match[2]||"ms").toLowerCase();switch(type){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"weeks":case"week":case"w":return n*w;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return undefined}}function fmtShort(ms){var msAbs=Math.abs(ms);if(msAbs>=d){return Math.round(ms/d)+"d"}if(msAbs>=h){return Math.round(ms/h)+"h"}if(msAbs>=m){return Math.round(ms/m)+"m"}if(msAbs>=s){return Math.round(ms/s)+"s"}return ms+"ms"}function fmtLong(ms){var msAbs=Math.abs(ms);if(msAbs>=d){return plural(ms,msAbs,d,"day")}if(msAbs>=h){return plural(ms,msAbs,h,"hour")}if(msAbs>=m){return plural(ms,msAbs,m,"minute")}if(msAbs>=s){return plural(ms,msAbs,s,"second")}return ms+" ms"}function plural(ms,msAbs,n,name){var isPlural=msAbs>=n*1.5;return Math.round(ms/n)+" "+name+(isPlural?"s":"")}return ms}var common;var hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;function setup(env){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=requireMs();createDebug.destroy=destroy;Object.keys(env).forEach((key=>{createDebug[key]=env[key]}));createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(namespace){let hash=0;for(let i=0;i<namespace.length;i++){hash=(hash<<5)-hash+namespace.charCodeAt(i);hash|=0}return createDebug.colors[Math.abs(hash)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(namespace){let prevTime;let enableOverride=null;let namespacesCache;let enabledCache;function debug(...args){if(!debug.enabled){return}const self=debug;const curr=Number(new Date);const ms=curr-(prevTime||curr);self.diff=ms;self.prev=prevTime;self.curr=curr;prevTime=curr;args[0]=createDebug.coerce(args[0]);if(typeof args[0]!=="string"){args.unshift("%O")}let index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,((match,format)=>{if(match==="%%"){return"%"}index++;const formatter=createDebug.formatters[format];if(typeof formatter==="function"){const val=args[index];match=formatter.call(self,val);args.splice(index,1);index--}return match}));createDebug.formatArgs.call(self,args);const logFn=self.log||createDebug.log;logFn.apply(self,args)}debug.namespace=namespace;debug.useColors=createDebug.useColors();debug.color=createDebug.selectColor(namespace);debug.extend=extend;debug.destroy=createDebug.destroy;Object.defineProperty(debug,"enabled",{enumerable:true,configurable:false,get:()=>{if(enableOverride!==null){return enableOverride}if(namespacesCache!==createDebug.namespaces){namespacesCache=createDebug.namespaces;enabledCache=createDebug.enabled(namespace)}return enabledCache},set:v=>{enableOverride=v}});if(typeof createDebug.init==="function"){createDebug.init(debug)}return debug}function extend(namespace,delimiter){const newDebug=createDebug(this.namespace+(typeof delimiter==="undefined"?":":delimiter)+namespace);newDebug.log=this.log;return newDebug}function enable(namespaces){createDebug.save(namespaces);createDebug.namespaces=namespaces;createDebug.names=[];createDebug.skips=[];let i;const split=(typeof namespaces==="string"?namespaces:"").split(/[\s,]+/);const len=split.length;for(i=0;i<len;i++){if(!split[i]){continue}namespaces=split[i].replace(/\*/g,".*?");if(namespaces[0]==="-"){createDebug.skips.push(new RegExp("^"+namespaces.substr(1)+"$"))}else{createDebug.names.push(new RegExp("^"+namespaces+"$"))}}}function disable(){const namespaces=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((namespace=>"-"+namespace))].join(",");createDebug.enable("");return namespaces}function enabled(name){if(name[name.length-1]==="*"){return true}let i;let len;for(i=0,len=createDebug.skips.length;i<len;i++){if(createDebug.skips[i].test(name)){return false}}for(i=0,len=createDebug.names.length;i<len;i++){if(createDebug.names[i].test(name)){return true}}return false}function toNamespace(regexp){return regexp.toString().substring(2,regexp.toString().length-2).replace(/\.\*\?$/,"*")}function coerce(val){if(val instanceof Error){return val.stack||val.message}return val}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}createDebug.enable(createDebug.load());return createDebug}common=setup;return common}var hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser.exports;hasRequiredBrowser=1;(function(module,exports){exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.storage=localstorage();exports.destroy=(()=>{let warned=false;return()=>{if(!warned){warned=true;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}}})();exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(args){args[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+args[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff);if(!this.useColors){return}const c="color: "+this.color;args.splice(1,0,c,"color: inherit");let index=0;let lastC=0;args[0].replace(/%[a-zA-Z%]/g,(match=>{if(match==="%%"){return}index++;if(match==="%c"){lastC=index}}));args.splice(lastC,0,c)}exports.log=console.debug||console.log||(()=>{});function save(namespaces){try{if(namespaces){exports.storage.setItem("debug",namespaces)}else{exports.storage.removeItem("debug")}}catch(error){}}function load(){let r;try{r=exports.storage.getItem("debug")}catch(error){}if(!r&&typeof process!=="undefined"&&"env"in process){r=process.env.DEBUG}return r}function localstorage(){try{return localStorage}catch(error){}}module.exports=requireCommon()(exports);const{formatters:formatters}=module.exports;formatters.j=function(v){try{return JSON.stringify(v)}catch(error){return"[UnexpectedJSONParseError]: "+error.message}}})(browser,browser.exports);return browser.exports}var node={exports:{}};function isatty(){return false}function ReadStream(){throw new Error("tty.ReadStream is not implemented")}function WriteStream(){throw new Error("tty.ReadStream is not implemented")}var require$$0$2={isatty:isatty,ReadStream:ReadStream,WriteStream:WriteStream};var hasRequiredNode;function requireNode(){if(hasRequiredNode)return node.exports;hasRequiredNode=1;(function(module,exports){const tty=require$$0$2;const util=require$$1$2;exports.init=init;exports.log=log;exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.destroy=util.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");exports.colors=[6,2,3,4,5,1];try{const supportsColor=require("supports-color");if(supportsColor&&(supportsColor.stderr||supportsColor).level>=2){exports.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(error){}exports.inspectOpts=Object.keys(process.env).filter((key=>/^debug_/i.test(key))).reduce(((obj,key)=>{const prop=key.substring(6).toLowerCase().replace(/_([a-z])/g,((_,k)=>k.toUpperCase()));let val=process.env[key];if(/^(yes|on|true|enabled)$/i.test(val)){val=true}else if(/^(no|off|false|disabled)$/i.test(val)){val=false}else if(val==="null"){val=null}else{val=Number(val)}obj[prop]=val;return obj}),{});function useColors(){return"colors"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(process.stderr.fd)}function formatArgs(args){const{namespace:name,useColors:useColors}=this;if(useColors){const c=this.color;const colorCode="[3"+(c<8?c:"8;5;"+c);const prefix=`  ${colorCode};1m${name} [0m`;args[0]=prefix+args[0].split("\n").join("\n"+prefix);args.push(colorCode+"m+"+module.exports.humanize(this.diff)+"[0m")}else{args[0]=getDate()+name+" "+args[0]}}function getDate(){if(exports.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function log(...args){return process.stderr.write(util.format(...args)+"\n")}function save(namespaces){if(namespaces){process.env.DEBUG=namespaces}else{delete process.env.DEBUG}}function load(){return process.env.DEBUG}function init(debug){debug.inspectOpts={};const keys=Object.keys(exports.inspectOpts);for(let i=0;i<keys.length;i++){debug.inspectOpts[keys[i]]=exports.inspectOpts[keys[i]]}}module.exports=requireCommon()(exports);const{formatters:formatters}=module.exports;formatters.o=function(v){this.inspectOpts.colors=this.useColors;return util.inspect(v,this.inspectOpts).split("\n").map((str=>str.trim())).join(" ")};formatters.O=function(v){this.inspectOpts.colors=this.useColors;return util.inspect(v,this.inspectOpts)}})(node,node.exports);return node.exports}var hasRequiredSrc$1;function requireSrc$1(){if(hasRequiredSrc$1)return src$1.exports;hasRequiredSrc$1=1;(function(module){if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){module.exports=requireBrowser()}else{module.exports=requireNode()}})(src$1);return src$1.exports}var traverser;var hasRequiredTraverser;function requireTraverser(){if(hasRequiredTraverser)return traverser;hasRequiredTraverser=1;const vk=requireEslintVisitorKeys();const debug=requireSrc$1()("eslint:traverser");function noop(){}function isNode(x){return x!==null&&typeof x==="object"&&typeof x.type==="string"}function getVisitorKeys(visitorKeys,node){let keys=visitorKeys[node.type];if(!keys){keys=vk.getKeys(node);debug('Unknown node type "%s": Estimated visitor keys %j',node.type,keys)}return keys}class Traverser{constructor(){this._current=null;this._parents=[];this._skipped=false;this._broken=false;this._visitorKeys=null;this._enter=null;this._leave=null}current(){return this._current}parents(){return this._parents.slice(0)}break(){this._broken=true}skip(){this._skipped=true}traverse(node,options){this._current=null;this._parents=[];this._skipped=false;this._broken=false;this._visitorKeys=options.visitorKeys||vk.KEYS;this._enter=options.enter||noop;this._leave=options.leave||noop;this._traverse(node,null)}_traverse(node,parent){if(!isNode(node)){return}this._current=node;this._skipped=false;this._enter(node,parent);if(!this._skipped&&!this._broken){const keys=getVisitorKeys(this._visitorKeys,node);if(keys.length>=1){this._parents.push(node);for(let i=0;i<keys.length&&!this._broken;++i){const child=node[keys[i]];if(Array.isArray(child)){for(let j=0;j<child.length&&!this._broken;++j){this._traverse(child[j],node)}}else{this._traverse(child,node)}}this._parents.pop()}}if(!this._broken){this._leave(node,parent)}this._current=parent}static getKeys(node){return vk.getKeys(node)}static traverse(node,options){(new Traverser).traverse(node,options)}static get DEFAULT_VISITOR_KEYS(){return vk.KEYS}}traverser=Traverser;return traverser}var eslintUtils={};var AssignmentExpression=["left","right"];var AssignmentPattern=["left","right"];var ArrayExpression=["elements"];var ArrayPattern=["elements"];var ArrowFunctionExpression=["params","body"];var AwaitExpression=["argument"];var BlockStatement=["body"];var BinaryExpression=["left","right"];var BreakStatement=["label"];var CallExpression=["callee","arguments"];var CatchClause=["param","body"];var ChainExpression=["expression"];var ClassBody=["body"];var ClassDeclaration=["id","superClass","body"];var ClassExpression=["id","superClass","body"];var ConditionalExpression=["test","consequent","alternate"];var ContinueStatement=["label"];var DebuggerStatement=[];var DoWhileStatement=["body","test"];var EmptyStatement=[];var ExportAllDeclaration=["exported","source"];var ExportDefaultDeclaration=["declaration"];var ExportNamedDeclaration=["declaration","specifiers","source"];var ExportSpecifier=["exported","local"];var ExpressionStatement=["expression"];var ExperimentalRestProperty=["argument"];var ExperimentalSpreadProperty=["argument"];var ForStatement=["init","test","update","body"];var ForInStatement=["left","right","body"];var ForOfStatement=["left","right","body"];var FunctionDeclaration=["id","params","body"];var FunctionExpression=["id","params","body"];var Identifier=[];var IfStatement=["test","consequent","alternate"];var ImportDeclaration=["specifiers","source"];var ImportDefaultSpecifier=["local"];var ImportExpression=["source"];var ImportNamespaceSpecifier=["local"];var ImportSpecifier=["imported","local"];var JSXAttribute=["name","value"];var JSXClosingElement=["name"];var JSXElement=["openingElement","children","closingElement"];var JSXEmptyExpression=[];var JSXExpressionContainer=["expression"];var JSXIdentifier=[];var JSXMemberExpression=["object","property"];var JSXNamespacedName=["namespace","name"];var JSXOpeningElement=["name","attributes"];var JSXSpreadAttribute=["argument"];var JSXText=[];var JSXFragment=["openingFragment","children","closingFragment"];var Literal=[];var LabeledStatement=["label","body"];var LogicalExpression=["left","right"];var MemberExpression=["object","property"];var MetaProperty=["meta","property"];var MethodDefinition=["key","value"];var NewExpression=["callee","arguments"];var ObjectExpression=["properties"];var ObjectPattern=["properties"];var PrivateIdentifier=[];var Program=["body"];var Property=["key","value"];var PropertyDefinition=["key","value"];var RestElement=["argument"];var ReturnStatement=["argument"];var SequenceExpression=["expressions"];var SpreadElement=["argument"];var Super=[];var SwitchStatement=["discriminant","cases"];var SwitchCase=["test","consequent"];var TaggedTemplateExpression=["tag","quasi"];var TemplateElement=[];var TemplateLiteral=["quasis","expressions"];var ThisExpression=[];var ThrowStatement=["argument"];var TryStatement=["block","handler","finalizer"];var UnaryExpression=["argument"];var UpdateExpression=["argument"];var VariableDeclaration=["declarations"];var VariableDeclarator=["id","init"];var WhileStatement=["test","body"];var WithStatement=["object","body"];var YieldExpression=["argument"];var require$$0$1={AssignmentExpression:AssignmentExpression,AssignmentPattern:AssignmentPattern,ArrayExpression:ArrayExpression,ArrayPattern:ArrayPattern,ArrowFunctionExpression:ArrowFunctionExpression,AwaitExpression:AwaitExpression,BlockStatement:BlockStatement,BinaryExpression:BinaryExpression,BreakStatement:BreakStatement,CallExpression:CallExpression,CatchClause:CatchClause,ChainExpression:ChainExpression,ClassBody:ClassBody,ClassDeclaration:ClassDeclaration,ClassExpression:ClassExpression,ConditionalExpression:ConditionalExpression,ContinueStatement:ContinueStatement,DebuggerStatement:DebuggerStatement,DoWhileStatement:DoWhileStatement,EmptyStatement:EmptyStatement,ExportAllDeclaration:ExportAllDeclaration,ExportDefaultDeclaration:ExportDefaultDeclaration,ExportNamedDeclaration:ExportNamedDeclaration,ExportSpecifier:ExportSpecifier,ExpressionStatement:ExpressionStatement,ExperimentalRestProperty:ExperimentalRestProperty,ExperimentalSpreadProperty:ExperimentalSpreadProperty,ForStatement:ForStatement,ForInStatement:ForInStatement,ForOfStatement:ForOfStatement,FunctionDeclaration:FunctionDeclaration,FunctionExpression:FunctionExpression,Identifier:Identifier,IfStatement:IfStatement,ImportDeclaration:ImportDeclaration,ImportDefaultSpecifier:ImportDefaultSpecifier,ImportExpression:ImportExpression,ImportNamespaceSpecifier:ImportNamespaceSpecifier,ImportSpecifier:ImportSpecifier,JSXAttribute:JSXAttribute,JSXClosingElement:JSXClosingElement,JSXElement:JSXElement,JSXEmptyExpression:JSXEmptyExpression,JSXExpressionContainer:JSXExpressionContainer,JSXIdentifier:JSXIdentifier,JSXMemberExpression:JSXMemberExpression,JSXNamespacedName:JSXNamespacedName,JSXOpeningElement:JSXOpeningElement,JSXSpreadAttribute:JSXSpreadAttribute,JSXText:JSXText,JSXFragment:JSXFragment,Literal:Literal,LabeledStatement:LabeledStatement,LogicalExpression:LogicalExpression,MemberExpression:MemberExpression,MetaProperty:MetaProperty,MethodDefinition:MethodDefinition,NewExpression:NewExpression,ObjectExpression:ObjectExpression,ObjectPattern:ObjectPattern,PrivateIdentifier:PrivateIdentifier,Program:Program,Property:Property,PropertyDefinition:PropertyDefinition,RestElement:RestElement,ReturnStatement:ReturnStatement,SequenceExpression:SequenceExpression,SpreadElement:SpreadElement,Super:Super,SwitchStatement:SwitchStatement,SwitchCase:SwitchCase,TaggedTemplateExpression:TaggedTemplateExpression,TemplateElement:TemplateElement,TemplateLiteral:TemplateLiteral,ThisExpression:ThisExpression,ThrowStatement:ThrowStatement,TryStatement:TryStatement,UnaryExpression:UnaryExpression,UpdateExpression:UpdateExpression,VariableDeclaration:VariableDeclaration,VariableDeclarator:VariableDeclarator,WhileStatement:WhileStatement,WithStatement:WithStatement,YieldExpression:YieldExpression};var lib$3;var hasRequiredLib$3;function requireLib$3(){if(hasRequiredLib$3)return lib$3;hasRequiredLib$3=1;const KEYS=require$$0$1;const NODE_TYPES=Object.freeze(Object.keys(KEYS));for(const type of NODE_TYPES){Object.freeze(KEYS[type])}Object.freeze(KEYS);const KEY_BLACKLIST=new Set(["parent","leadingComments","trailingComments"]);function filterKey(key){return!KEY_BLACKLIST.has(key)&&key[0]!=="_"}lib$3=Object.freeze({KEYS:KEYS,getKeys(node){return Object.keys(node).filter(filterKey)},unionWith(additionalKeys){const retv=Object.assign({},KEYS);for(const type of Object.keys(additionalKeys)){if(retv.hasOwnProperty(type)){const keys=new Set(additionalKeys[type]);for(const key of retv[type]){keys.add(key)}retv[type]=Object.freeze(Array.from(keys))}else{retv[type]=Object.freeze(Array.from(additionalKeys[type]))}}return Object.freeze(retv)}});return lib$3}
/*! @author Toru Nagashima <https://github.com/mysticatea> */var hasRequiredEslintUtils;function requireEslintUtils(){if(hasRequiredEslintUtils)return eslintUtils;hasRequiredEslintUtils=1;Object.defineProperty(eslintUtils,"__esModule",{value:true});function _interopDefault(ex){return ex&&typeof ex==="object"&&"default"in ex?ex["default"]:ex}var evk=_interopDefault(requireLib$3());function getInnermostScope(initialScope,node){const location=node.range[0];let scope=initialScope;let found=false;do{found=false;for(const childScope of scope.childScopes){const range=childScope.block.range;if(range[0]<=location&&location<range[1]){scope=childScope;found=true;break}}}while(found);return scope}function findVariable(initialScope,nameOrNode){let name="";let scope=initialScope;if(typeof nameOrNode==="string"){name=nameOrNode}else{name=nameOrNode.name;scope=getInnermostScope(scope,nameOrNode)}while(scope!=null){const variable=scope.set.get(name);if(variable!=null){return variable}scope=scope.upper}return null}function negate0(token){return!this(token)}function negate(f){return negate0.bind(f)}function isPunctuatorTokenWithValue(token,value){return token.type==="Punctuator"&&token.value===value}function isArrowToken(token){return isPunctuatorTokenWithValue(token,"=>")}function isCommaToken(token){return isPunctuatorTokenWithValue(token,",")}function isSemicolonToken(token){return isPunctuatorTokenWithValue(token,";")}function isColonToken(token){return isPunctuatorTokenWithValue(token,":")}function isOpeningParenToken(token){return isPunctuatorTokenWithValue(token,"(")}function isClosingParenToken(token){return isPunctuatorTokenWithValue(token,")")}function isOpeningBracketToken(token){return isPunctuatorTokenWithValue(token,"[")}function isClosingBracketToken(token){return isPunctuatorTokenWithValue(token,"]")}function isOpeningBraceToken(token){return isPunctuatorTokenWithValue(token,"{")}function isClosingBraceToken(token){return isPunctuatorTokenWithValue(token,"}")}function isCommentToken(token){return["Block","Line","Shebang"].includes(token.type)}const isNotArrowToken=negate(isArrowToken);const isNotCommaToken=negate(isCommaToken);const isNotSemicolonToken=negate(isSemicolonToken);const isNotColonToken=negate(isColonToken);const isNotOpeningParenToken=negate(isOpeningParenToken);const isNotClosingParenToken=negate(isClosingParenToken);const isNotOpeningBracketToken=negate(isOpeningBracketToken);const isNotClosingBracketToken=negate(isClosingBracketToken);const isNotOpeningBraceToken=negate(isOpeningBraceToken);const isNotClosingBraceToken=negate(isClosingBraceToken);const isNotCommentToken=negate(isCommentToken);function getOpeningParenOfParams(node,sourceCode){return node.id?sourceCode.getTokenAfter(node.id,isOpeningParenToken):sourceCode.getFirstToken(node,isOpeningParenToken)}function getFunctionHeadLocation(node,sourceCode){const parent=node.parent;let start=null;let end=null;if(node.type==="ArrowFunctionExpression"){const arrowToken=sourceCode.getTokenBefore(node.body,isArrowToken);start=arrowToken.loc.start;end=arrowToken.loc.end}else if(parent.type==="Property"||parent.type==="MethodDefinition"||parent.type==="PropertyDefinition"){start=parent.loc.start;end=getOpeningParenOfParams(node,sourceCode).loc.start}else{start=node.loc.start;end=getOpeningParenOfParams(node,sourceCode).loc.start}return{start:{...start},end:{...end}}}const globalObject=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof global!=="undefined"?global:{};const builtinNames=Object.freeze(new Set(["Array","ArrayBuffer","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","Float32Array","Float64Array","Function","Infinity","Int16Array","Int32Array","Int8Array","isFinite","isNaN","isPrototypeOf","JSON","Map","Math","NaN","Number","Object","parseFloat","parseInt","Promise","Proxy","Reflect","RegExp","Set","String","Symbol","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","undefined","unescape","WeakMap","WeakSet"]));const callAllowed=new Set([Array.isArray,typeof BigInt==="function"?BigInt:undefined,Boolean,Date,Date.parse,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,escape,isFinite,isNaN,isPrototypeOf,...Object.getOwnPropertyNames(Math).map((k=>Math[k])).filter((f=>typeof f==="function")),Number,Number.isFinite,Number.isNaN,Number.parseFloat,Number.parseInt,Object,Object.entries,Object.is,Object.isExtensible,Object.isFrozen,Object.isSealed,Object.keys,Object.values,parseFloat,parseInt,RegExp,String,String.fromCharCode,String.fromCodePoint,String.raw,Symbol.for,Symbol.keyFor,unescape].filter((f=>typeof f==="function")));const callPassThrough=new Set([Object.freeze,Object.preventExtensions,Object.seal]);function getPropertyDescriptor(object,name){let x=object;while((typeof x==="object"||typeof x==="function")&&x!==null){const d=Object.getOwnPropertyDescriptor(x,name);if(d){return d}x=Object.getPrototypeOf(x)}return null}function isGetter(object,name){const d=getPropertyDescriptor(object,name);return d!=null&&d.get!=null}function getElementValues(nodeList,initialScope){const valueList=[];for(let i=0;i<nodeList.length;++i){const elementNode=nodeList[i];if(elementNode==null){valueList.length=i+1}else if(elementNode.type==="SpreadElement"){const argument=getStaticValueR(elementNode.argument,initialScope);if(argument==null){return null}valueList.push(...argument.value)}else{const element=getStaticValueR(elementNode,initialScope);if(element==null){return null}valueList.push(element.value)}}return valueList}const operations=Object.freeze({ArrayExpression(node,initialScope){const elements=getElementValues(node.elements,initialScope);return elements!=null?{value:elements}:null},AssignmentExpression(node,initialScope){if(node.operator==="="){return getStaticValueR(node.right,initialScope)}return null},BinaryExpression(node,initialScope){if(node.operator==="in"||node.operator==="instanceof"){return null}const left=getStaticValueR(node.left,initialScope);const right=getStaticValueR(node.right,initialScope);if(left!=null&&right!=null){switch(node.operator){case"==":return{value:left.value==right.value};case"!=":return{value:left.value!=right.value};case"===":return{value:left.value===right.value};case"!==":return{value:left.value!==right.value};case"<":return{value:left.value<right.value};case"<=":return{value:left.value<=right.value};case">":return{value:left.value>right.value};case">=":return{value:left.value>=right.value};case"<<":return{value:left.value<<right.value};case">>":return{value:left.value>>right.value};case">>>":return{value:left.value>>>right.value};case"+":return{value:left.value+right.value};case"-":return{value:left.value-right.value};case"*":return{value:left.value*right.value};case"/":return{value:left.value/right.value};case"%":return{value:left.value%right.value};case"**":return{value:Math.pow(left.value,right.value)};case"|":return{value:left.value|right.value};case"^":return{value:left.value^right.value};case"&":return{value:left.value&right.value}}}return null},CallExpression(node,initialScope){const calleeNode=node.callee;const args=getElementValues(node.arguments,initialScope);if(args!=null){if(calleeNode.type==="MemberExpression"){if(calleeNode.property.type==="PrivateIdentifier"){return null}const object=getStaticValueR(calleeNode.object,initialScope);if(object!=null){if(object.value==null&&(object.optional||node.optional)){return{value:undefined,optional:true}}const property=getStaticPropertyNameValue(calleeNode,initialScope);if(property!=null){const receiver=object.value;const methodName=property.value;if(callAllowed.has(receiver[methodName])){return{value:receiver[methodName](...args)}}if(callPassThrough.has(receiver[methodName])){return{value:args[0]}}}}}else{const callee=getStaticValueR(calleeNode,initialScope);if(callee!=null){if(callee.value==null&&node.optional){return{value:undefined,optional:true}}const func=callee.value;if(callAllowed.has(func)){return{value:func(...args)}}if(callPassThrough.has(func)){return{value:args[0]}}}}}return null},ConditionalExpression(node,initialScope){const test=getStaticValueR(node.test,initialScope);if(test!=null){return test.value?getStaticValueR(node.consequent,initialScope):getStaticValueR(node.alternate,initialScope)}return null},ExpressionStatement(node,initialScope){return getStaticValueR(node.expression,initialScope)},Identifier(node,initialScope){if(initialScope!=null){const variable=findVariable(initialScope,node);if(variable!=null&&variable.defs.length===0&&builtinNames.has(variable.name)&&variable.name in globalObject){return{value:globalObject[variable.name]}}if(variable!=null&&variable.defs.length===1){const def=variable.defs[0];if(def.parent&&def.parent.kind==="const"&&def.node.id.type==="Identifier"){return getStaticValueR(def.node.init,initialScope)}}}return null},Literal(node){if((node.regex!=null||node.bigint!=null)&&node.value==null){return null}return{value:node.value}},LogicalExpression(node,initialScope){const left=getStaticValueR(node.left,initialScope);if(left!=null){if(node.operator==="||"&&Boolean(left.value)===true||node.operator==="&&"&&Boolean(left.value)===false||node.operator==="??"&&left.value!=null){return left}const right=getStaticValueR(node.right,initialScope);if(right!=null){return right}}return null},MemberExpression(node,initialScope){if(node.property.type==="PrivateIdentifier"){return null}const object=getStaticValueR(node.object,initialScope);if(object!=null){if(object.value==null&&(object.optional||node.optional)){return{value:undefined,optional:true}}const property=getStaticPropertyNameValue(node,initialScope);if(property!=null&&!isGetter(object.value,property.value)){return{value:object.value[property.value]}}}return null},ChainExpression(node,initialScope){const expression=getStaticValueR(node.expression,initialScope);if(expression!=null){return{value:expression.value}}return null},NewExpression(node,initialScope){const callee=getStaticValueR(node.callee,initialScope);const args=getElementValues(node.arguments,initialScope);if(callee!=null&&args!=null){const Func=callee.value;if(callAllowed.has(Func)){return{value:new Func(...args)}}}return null},ObjectExpression(node,initialScope){const object={};for(const propertyNode of node.properties){if(propertyNode.type==="Property"){if(propertyNode.kind!=="init"){return null}const key=getStaticPropertyNameValue(propertyNode,initialScope);const value=getStaticValueR(propertyNode.value,initialScope);if(key==null||value==null){return null}object[key.value]=value.value}else if(propertyNode.type==="SpreadElement"||propertyNode.type==="ExperimentalSpreadProperty"){const argument=getStaticValueR(propertyNode.argument,initialScope);if(argument==null){return null}Object.assign(object,argument.value)}else{return null}}return{value:object}},SequenceExpression(node,initialScope){const last=node.expressions[node.expressions.length-1];return getStaticValueR(last,initialScope)},TaggedTemplateExpression(node,initialScope){const tag=getStaticValueR(node.tag,initialScope);const expressions=getElementValues(node.quasi.expressions,initialScope);if(tag!=null&&expressions!=null){const func=tag.value;const strings=node.quasi.quasis.map((q=>q.value.cooked));strings.raw=node.quasi.quasis.map((q=>q.value.raw));if(func===String.raw){return{value:func(strings,...expressions)}}}return null},TemplateLiteral(node,initialScope){const expressions=getElementValues(node.expressions,initialScope);if(expressions!=null){let value=node.quasis[0].value.cooked;for(let i=0;i<expressions.length;++i){value+=expressions[i];value+=node.quasis[i+1].value.cooked}return{value:value}}return null},UnaryExpression(node,initialScope){if(node.operator==="delete"){return null}if(node.operator==="void"){return{value:undefined}}const arg=getStaticValueR(node.argument,initialScope);if(arg!=null){switch(node.operator){case"-":return{value:-arg.value};case"+":return{value:+arg.value};case"!":return{value:!arg.value};case"~":return{value:~arg.value};case"typeof":return{value:typeof arg.value}}}return null}});function getStaticValueR(node,initialScope){if(node!=null&&Object.hasOwnProperty.call(operations,node.type)){return operations[node.type](node,initialScope)}return null}function getStaticPropertyNameValue(node,initialScope){const nameNode=node.type==="Property"?node.key:node.property;if(node.computed){return getStaticValueR(nameNode,initialScope)}if(nameNode.type==="Identifier"){return{value:nameNode.name}}if(nameNode.type==="Literal"){if(nameNode.bigint){return{value:nameNode.bigint}}return{value:String(nameNode.value)}}return null}function getStaticValue(node,initialScope=null){try{return getStaticValueR(node,initialScope)}catch(_error){return null}}function getStringIfConstant(node,initialScope=null){if(node&&node.type==="Literal"&&node.value===null){if(node.regex){return`/${node.regex.pattern}/${node.regex.flags}`}if(node.bigint){return node.bigint}}const evaluated=getStaticValue(node,initialScope);return evaluated&&String(evaluated.value)}function getPropertyName(node,initialScope){switch(node.type){case"MemberExpression":if(node.computed){return getStringIfConstant(node.property,initialScope)}if(node.property.type==="PrivateIdentifier"){return null}return node.property.name;case"Property":case"MethodDefinition":case"PropertyDefinition":if(node.computed){return getStringIfConstant(node.key,initialScope)}if(node.key.type==="Literal"){return String(node.key.value)}if(node.key.type==="PrivateIdentifier"){return null}return node.key.name}return null}function getFunctionNameWithKind(node,sourceCode){const parent=node.parent;const tokens=[];const isObjectMethod=parent.type==="Property"&&parent.value===node;const isClassMethod=parent.type==="MethodDefinition"&&parent.value===node;const isClassFieldMethod=parent.type==="PropertyDefinition"&&parent.value===node;if(isClassMethod||isClassFieldMethod){if(parent.static){tokens.push("static")}if(parent.key.type==="PrivateIdentifier"){tokens.push("private")}}if(node.async){tokens.push("async")}if(node.generator){tokens.push("generator")}if(isObjectMethod||isClassMethod){if(parent.kind==="constructor"){return"constructor"}if(parent.kind==="get"){tokens.push("getter")}else if(parent.kind==="set"){tokens.push("setter")}else{tokens.push("method")}}else if(isClassFieldMethod){tokens.push("method")}else{if(node.type==="ArrowFunctionExpression"){tokens.push("arrow")}tokens.push("function")}if(isObjectMethod||isClassMethod||isClassFieldMethod){if(parent.key.type==="PrivateIdentifier"){tokens.push(`#${parent.key.name}`)}else{const name=getPropertyName(parent);if(name){tokens.push(`'${name}'`)}else if(sourceCode){const keyText=sourceCode.getText(parent.key);if(!keyText.includes("\n")){tokens.push(`[${keyText}]`)}}}}else if(node.id){tokens.push(`'${node.id.name}'`)}else if(parent.type==="VariableDeclarator"&&parent.id&&parent.id.type==="Identifier"){tokens.push(`'${parent.id.name}'`)}else if((parent.type==="AssignmentExpression"||parent.type==="AssignmentPattern")&&parent.left&&parent.left.type==="Identifier"){tokens.push(`'${parent.left.name}'`)}return tokens.join(" ")}const typeConversionBinaryOps=Object.freeze(new Set(["==","!=","<","<=",">",">=","<<",">>",">>>","+","-","*","/","%","|","^","&","in"]));const typeConversionUnaryOps=Object.freeze(new Set(["-","+","!","~"]));function isNode(x){return x!==null&&typeof x==="object"&&typeof x.type==="string"}const visitor=Object.freeze(Object.assign(Object.create(null),{$visit(node,options,visitorKeys){const{type:type}=node;if(typeof this[type]==="function"){return this[type](node,options,visitorKeys)}return this.$visitChildren(node,options,visitorKeys)},$visitChildren(node,options,visitorKeys){const{type:type}=node;for(const key of visitorKeys[type]||evk.getKeys(node)){const value=node[key];if(Array.isArray(value)){for(const element of value){if(isNode(element)&&this.$visit(element,options,visitorKeys)){return true}}}else if(isNode(value)&&this.$visit(value,options,visitorKeys)){return true}}return false},ArrowFunctionExpression(){return false},AssignmentExpression(){return true},AwaitExpression(){return true},BinaryExpression(node,options,visitorKeys){if(options.considerImplicitTypeConversion&&typeConversionBinaryOps.has(node.operator)&&(node.left.type!=="Literal"||node.right.type!=="Literal")){return true}return this.$visitChildren(node,options,visitorKeys)},CallExpression(){return true},FunctionExpression(){return false},ImportExpression(){return true},MemberExpression(node,options,visitorKeys){if(options.considerGetters){return true}if(options.considerImplicitTypeConversion&&node.computed&&node.property.type!=="Literal"){return true}return this.$visitChildren(node,options,visitorKeys)},MethodDefinition(node,options,visitorKeys){if(options.considerImplicitTypeConversion&&node.computed&&node.key.type!=="Literal"){return true}return this.$visitChildren(node,options,visitorKeys)},NewExpression(){return true},Property(node,options,visitorKeys){if(options.considerImplicitTypeConversion&&node.computed&&node.key.type!=="Literal"){return true}return this.$visitChildren(node,options,visitorKeys)},PropertyDefinition(node,options,visitorKeys){if(options.considerImplicitTypeConversion&&node.computed&&node.key.type!=="Literal"){return true}return this.$visitChildren(node,options,visitorKeys)},UnaryExpression(node,options,visitorKeys){if(node.operator==="delete"){return true}if(options.considerImplicitTypeConversion&&typeConversionUnaryOps.has(node.operator)&&node.argument.type!=="Literal"){return true}return this.$visitChildren(node,options,visitorKeys)},UpdateExpression(){return true},YieldExpression(){return true}}));function hasSideEffect(node,sourceCode,{considerGetters:considerGetters=false,considerImplicitTypeConversion:considerImplicitTypeConversion=false}={}){return visitor.$visit(node,{considerGetters:considerGetters,considerImplicitTypeConversion:considerImplicitTypeConversion},sourceCode.visitorKeys||evk.KEYS)}function getParentSyntaxParen(node,sourceCode){const parent=node.parent;switch(parent.type){case"CallExpression":case"NewExpression":if(parent.arguments.length===1&&parent.arguments[0]===node){return sourceCode.getTokenAfter(parent.callee,isOpeningParenToken)}return null;case"DoWhileStatement":if(parent.test===node){return sourceCode.getTokenAfter(parent.body,isOpeningParenToken)}return null;case"IfStatement":case"WhileStatement":if(parent.test===node){return sourceCode.getFirstToken(parent,1)}return null;case"ImportExpression":if(parent.source===node){return sourceCode.getFirstToken(parent,1)}return null;case"SwitchStatement":if(parent.discriminant===node){return sourceCode.getFirstToken(parent,1)}return null;case"WithStatement":if(parent.object===node){return sourceCode.getFirstToken(parent,1)}return null;default:return null}}function isParenthesized(timesOrNode,nodeOrSourceCode,optionalSourceCode){let times,node,sourceCode,maybeLeftParen,maybeRightParen;if(typeof timesOrNode==="number"){times=timesOrNode|0;node=nodeOrSourceCode;sourceCode=optionalSourceCode;if(!(times>=1)){throw new TypeError("'times' should be a positive integer.")}}else{times=1;node=timesOrNode;sourceCode=nodeOrSourceCode}if(node==null||node.parent.type==="CatchClause"&&node.parent.param===node){return false}maybeLeftParen=maybeRightParen=node;do{maybeLeftParen=sourceCode.getTokenBefore(maybeLeftParen);maybeRightParen=sourceCode.getTokenAfter(maybeRightParen)}while(maybeLeftParen!=null&&maybeRightParen!=null&&isOpeningParenToken(maybeLeftParen)&&isClosingParenToken(maybeRightParen)&&maybeLeftParen!==getParentSyntaxParen(node,sourceCode)&&--times>0);return times===0}const placeholder=/\$(?:[$&`']|[1-9][0-9]?)/gu;const internal=new WeakMap;function isEscaped(str,index){let escaped=false;for(let i=index-1;i>=0&&str.charCodeAt(i)===92;--i){escaped=!escaped}return escaped}function replaceS(matcher,str,replacement){const chunks=[];let index=0;let match=null;function replacer(key){switch(key){case"$$":return"$";case"$&":return match[0];case"$`":return str.slice(0,match.index);case"$'":return str.slice(match.index+match[0].length);default:{const i=key.slice(1);if(i in match){return match[i]}return key}}}for(match of matcher.execAll(str)){chunks.push(str.slice(index,match.index));chunks.push(replacement.replace(placeholder,replacer));index=match.index+match[0].length}chunks.push(str.slice(index));return chunks.join("")}function replaceF(matcher,str,replace){const chunks=[];let index=0;for(const match of matcher.execAll(str)){chunks.push(str.slice(index,match.index));chunks.push(String(replace(...match,match.index,match.input)));index=match.index+match[0].length}chunks.push(str.slice(index));return chunks.join("")}class PatternMatcher{constructor(pattern,{escaped:escaped=false}={}){if(!(pattern instanceof RegExp)){throw new TypeError("'pattern' should be a RegExp instance.")}if(!pattern.flags.includes("g")){throw new Error("'pattern' should contains 'g' flag.")}internal.set(this,{pattern:new RegExp(pattern.source,pattern.flags),escaped:Boolean(escaped)})}*execAll(str){const{pattern:pattern,escaped:escaped}=internal.get(this);let match=null;let lastIndex=0;pattern.lastIndex=0;while((match=pattern.exec(str))!=null){if(escaped||!isEscaped(str,match.index)){lastIndex=pattern.lastIndex;yield match;pattern.lastIndex=lastIndex}}}test(str){const it=this.execAll(str);const ret=it.next();return!ret.done}[Symbol.replace](str,replacer){return typeof replacer==="function"?replaceF(this,String(str),replacer):replaceS(this,String(str),String(replacer))}}const IMPORT_TYPE=/^(?:Import|Export(?:All|Default|Named))Declaration$/u;const has=Function.call.bind(Object.hasOwnProperty);const READ=Symbol("read");const CALL=Symbol("call");const CONSTRUCT=Symbol("construct");const ESM=Symbol("esm");const requireCall={require:{[CALL]:true}};function isModifiedGlobal(variable){return variable==null||variable.defs.length!==0||variable.references.some((r=>r.isWrite()))}function isPassThrough(node){const parent=node.parent;switch(parent&&parent.type){case"ConditionalExpression":return parent.consequent===node||parent.alternate===node;case"LogicalExpression":return true;case"SequenceExpression":return parent.expressions[parent.expressions.length-1]===node;case"ChainExpression":return true;default:return false}}class ReferenceTracker{constructor(globalScope,{mode:mode="strict",globalObjectNames:globalObjectNames=["global","globalThis","self","window"]}={}){this.variableStack=[];this.globalScope=globalScope;this.mode=mode;this.globalObjectNames=globalObjectNames.slice(0)}*iterateGlobalReferences(traceMap){for(const key of Object.keys(traceMap)){const nextTraceMap=traceMap[key];const path=[key];const variable=this.globalScope.set.get(key);if(isModifiedGlobal(variable)){continue}yield*this._iterateVariableReferences(variable,path,nextTraceMap,true)}for(const key of this.globalObjectNames){const path=[];const variable=this.globalScope.set.get(key);if(isModifiedGlobal(variable)){continue}yield*this._iterateVariableReferences(variable,path,traceMap,false)}}*iterateCjsReferences(traceMap){for(const{node:node}of this.iterateGlobalReferences(requireCall)){const key=getStringIfConstant(node.arguments[0]);if(key==null||!has(traceMap,key)){continue}const nextTraceMap=traceMap[key];const path=[key];if(nextTraceMap[READ]){yield{node:node,path:path,type:READ,info:nextTraceMap[READ]}}yield*this._iteratePropertyReferences(node,path,nextTraceMap)}}*iterateEsmReferences(traceMap){const programNode=this.globalScope.block;for(const node of programNode.body){if(!IMPORT_TYPE.test(node.type)||node.source==null){continue}const moduleId=node.source.value;if(!has(traceMap,moduleId)){continue}const nextTraceMap=traceMap[moduleId];const path=[moduleId];if(nextTraceMap[READ]){yield{node:node,path:path,type:READ,info:nextTraceMap[READ]}}if(node.type==="ExportAllDeclaration"){for(const key of Object.keys(nextTraceMap)){const exportTraceMap=nextTraceMap[key];if(exportTraceMap[READ]){yield{node:node,path:path.concat(key),type:READ,info:exportTraceMap[READ]}}}}else{for(const specifier of node.specifiers){const esm=has(nextTraceMap,ESM);const it=this._iterateImportReferences(specifier,path,esm?nextTraceMap:this.mode==="legacy"?{default:nextTraceMap,...nextTraceMap}:{default:nextTraceMap});if(esm){yield*it}else{for(const report of it){report.path=report.path.filter(exceptDefault);if(report.path.length>=2||report.type!==READ){yield report}}}}}}}*_iterateVariableReferences(variable,path,traceMap,shouldReport){if(this.variableStack.includes(variable)){return}this.variableStack.push(variable);try{for(const reference of variable.references){if(!reference.isRead()){continue}const node=reference.identifier;if(shouldReport&&traceMap[READ]){yield{node:node,path:path,type:READ,info:traceMap[READ]}}yield*this._iteratePropertyReferences(node,path,traceMap)}}finally{this.variableStack.pop()}}*_iteratePropertyReferences(rootNode,path,traceMap){let node=rootNode;while(isPassThrough(node)){node=node.parent}const parent=node.parent;if(parent.type==="MemberExpression"){if(parent.object===node){const key=getPropertyName(parent);if(key==null||!has(traceMap,key)){return}path=path.concat(key);const nextTraceMap=traceMap[key];if(nextTraceMap[READ]){yield{node:parent,path:path,type:READ,info:nextTraceMap[READ]}}yield*this._iteratePropertyReferences(parent,path,nextTraceMap)}return}if(parent.type==="CallExpression"){if(parent.callee===node&&traceMap[CALL]){yield{node:parent,path:path,type:CALL,info:traceMap[CALL]}}return}if(parent.type==="NewExpression"){if(parent.callee===node&&traceMap[CONSTRUCT]){yield{node:parent,path:path,type:CONSTRUCT,info:traceMap[CONSTRUCT]}}return}if(parent.type==="AssignmentExpression"){if(parent.right===node){yield*this._iterateLhsReferences(parent.left,path,traceMap);yield*this._iteratePropertyReferences(parent,path,traceMap)}return}if(parent.type==="AssignmentPattern"){if(parent.right===node){yield*this._iterateLhsReferences(parent.left,path,traceMap)}return}if(parent.type==="VariableDeclarator"){if(parent.init===node){yield*this._iterateLhsReferences(parent.id,path,traceMap)}}}*_iterateLhsReferences(patternNode,path,traceMap){if(patternNode.type==="Identifier"){const variable=findVariable(this.globalScope,patternNode);if(variable!=null){yield*this._iterateVariableReferences(variable,path,traceMap,false)}return}if(patternNode.type==="ObjectPattern"){for(const property of patternNode.properties){const key=getPropertyName(property);if(key==null||!has(traceMap,key)){continue}const nextPath=path.concat(key);const nextTraceMap=traceMap[key];if(nextTraceMap[READ]){yield{node:property,path:nextPath,type:READ,info:nextTraceMap[READ]}}yield*this._iterateLhsReferences(property.value,nextPath,nextTraceMap)}return}if(patternNode.type==="AssignmentPattern"){yield*this._iterateLhsReferences(patternNode.left,path,traceMap)}}*_iterateImportReferences(specifierNode,path,traceMap){const type=specifierNode.type;if(type==="ImportSpecifier"||type==="ImportDefaultSpecifier"){const key=type==="ImportDefaultSpecifier"?"default":specifierNode.imported.name;if(!has(traceMap,key)){return}path=path.concat(key);const nextTraceMap=traceMap[key];if(nextTraceMap[READ]){yield{node:specifierNode,path:path,type:READ,info:nextTraceMap[READ]}}yield*this._iterateVariableReferences(findVariable(this.globalScope,specifierNode.local),path,nextTraceMap,false);return}if(type==="ImportNamespaceSpecifier"){yield*this._iterateVariableReferences(findVariable(this.globalScope,specifierNode.local),path,traceMap,false);return}if(type==="ExportSpecifier"){const key=specifierNode.local.name;if(!has(traceMap,key)){return}path=path.concat(key);const nextTraceMap=traceMap[key];if(nextTraceMap[READ]){yield{node:specifierNode,path:path,type:READ,info:nextTraceMap[READ]}}}}}ReferenceTracker.READ=READ;ReferenceTracker.CALL=CALL;ReferenceTracker.CONSTRUCT=CONSTRUCT;ReferenceTracker.ESM=ESM;function exceptDefault(name,index){return!(index===1&&name==="default")}var index={CALL:CALL,CONSTRUCT:CONSTRUCT,ESM:ESM,findVariable:findVariable,getFunctionHeadLocation:getFunctionHeadLocation,getFunctionNameWithKind:getFunctionNameWithKind,getInnermostScope:getInnermostScope,getPropertyName:getPropertyName,getStaticValue:getStaticValue,getStringIfConstant:getStringIfConstant,hasSideEffect:hasSideEffect,isArrowToken:isArrowToken,isClosingBraceToken:isClosingBraceToken,isClosingBracketToken:isClosingBracketToken,isClosingParenToken:isClosingParenToken,isColonToken:isColonToken,isCommaToken:isCommaToken,isCommentToken:isCommentToken,isNotArrowToken:isNotArrowToken,isNotClosingBraceToken:isNotClosingBraceToken,isNotClosingBracketToken:isNotClosingBracketToken,isNotClosingParenToken:isNotClosingParenToken,isNotColonToken:isNotColonToken,isNotCommaToken:isNotCommaToken,isNotCommentToken:isNotCommentToken,isNotOpeningBraceToken:isNotOpeningBraceToken,isNotOpeningBracketToken:isNotOpeningBracketToken,isNotOpeningParenToken:isNotOpeningParenToken,isNotSemicolonToken:isNotSemicolonToken,isOpeningBraceToken:isOpeningBraceToken,isOpeningBracketToken:isOpeningBracketToken,isOpeningParenToken:isOpeningParenToken,isParenthesized:isParenthesized,isSemicolonToken:isSemicolonToken,PatternMatcher:PatternMatcher,READ:READ,ReferenceTracker:ReferenceTracker};eslintUtils.CALL=CALL;eslintUtils.CONSTRUCT=CONSTRUCT;eslintUtils.ESM=ESM;eslintUtils.PatternMatcher=PatternMatcher;eslintUtils.READ=READ;eslintUtils.ReferenceTracker=ReferenceTracker;eslintUtils.default=index;eslintUtils.findVariable=findVariable;eslintUtils.getFunctionHeadLocation=getFunctionHeadLocation;eslintUtils.getFunctionNameWithKind=getFunctionNameWithKind;eslintUtils.getInnermostScope=getInnermostScope;eslintUtils.getPropertyName=getPropertyName;eslintUtils.getStaticValue=getStaticValue;eslintUtils.getStringIfConstant=getStringIfConstant;eslintUtils.hasSideEffect=hasSideEffect;eslintUtils.isArrowToken=isArrowToken;eslintUtils.isClosingBraceToken=isClosingBraceToken;eslintUtils.isClosingBracketToken=isClosingBracketToken;eslintUtils.isClosingParenToken=isClosingParenToken;eslintUtils.isColonToken=isColonToken;eslintUtils.isCommaToken=isCommaToken;eslintUtils.isCommentToken=isCommentToken;eslintUtils.isNotArrowToken=isNotArrowToken;eslintUtils.isNotClosingBraceToken=isNotClosingBraceToken;eslintUtils.isNotClosingBracketToken=isNotClosingBracketToken;eslintUtils.isNotClosingParenToken=isNotClosingParenToken;eslintUtils.isNotColonToken=isNotColonToken;eslintUtils.isNotCommaToken=isNotCommaToken;eslintUtils.isNotCommentToken=isNotCommentToken;eslintUtils.isNotOpeningBraceToken=isNotOpeningBraceToken;eslintUtils.isNotOpeningBracketToken=isNotOpeningBracketToken;eslintUtils.isNotOpeningParenToken=isNotOpeningParenToken;eslintUtils.isNotSemicolonToken=isNotSemicolonToken;eslintUtils.isOpeningBraceToken=isOpeningBraceToken;eslintUtils.isOpeningBracketToken=isOpeningBracketToken;eslintUtils.isOpeningParenToken=isOpeningParenToken;eslintUtils.isParenthesized=isParenthesized;eslintUtils.isSemicolonToken=isSemicolonToken;return eslintUtils}var cursors={};var cursor;var hasRequiredCursor;function requireCursor(){if(hasRequiredCursor)return cursor;hasRequiredCursor=1;cursor=class Cursor{constructor(){this.current=null}getOneToken(){return this.moveNext()?this.current:null}getAllTokens(){const tokens=[];while(this.moveNext()){tokens.push(this.current)}return tokens}moveNext(){throw new Error("Not implemented.")}};return cursor}var utils$1={};var hasRequiredUtils$1;function requireUtils$1(){if(hasRequiredUtils$1)return utils$1;hasRequiredUtils$1=1;function getStartLocation(token){return token.range[0]}utils$1.search=function search(tokens,location){const index=tokens.findIndex((el=>location<=getStartLocation(el)));return index===-1?tokens.length:index};utils$1.getFirstIndex=function getFirstIndex(tokens,indexMap,startLoc){if(startLoc in indexMap){return indexMap[startLoc]}if(startLoc-1 in indexMap){const index=indexMap[startLoc-1];const token=index>=0&&index<tokens.length?tokens[index]:null;if(token&&token.range[0]>=startLoc){return index}return index+1}return 0};utils$1.getLastIndex=function getLastIndex(tokens,indexMap,endLoc){if(endLoc in indexMap){return indexMap[endLoc]-1}if(endLoc-1 in indexMap){const index=indexMap[endLoc-1];const token=index>=0&&index<tokens.length?tokens[index]:null;if(token&&token.range[1]>endLoc){return index-1}return index}return tokens.length-1};return utils$1}var backwardTokenCommentCursor;var hasRequiredBackwardTokenCommentCursor;function requireBackwardTokenCommentCursor(){if(hasRequiredBackwardTokenCommentCursor)return backwardTokenCommentCursor;hasRequiredBackwardTokenCommentCursor=1;const Cursor=requireCursor();const utils=requireUtils$1();backwardTokenCommentCursor=class BackwardTokenCommentCursor extends Cursor{constructor(tokens,comments,indexMap,startLoc,endLoc){super();this.tokens=tokens;this.comments=comments;this.tokenIndex=utils.getLastIndex(tokens,indexMap,endLoc);this.commentIndex=utils.search(comments,endLoc)-1;this.border=startLoc}moveNext(){const token=this.tokenIndex>=0?this.tokens[this.tokenIndex]:null;const comment=this.commentIndex>=0?this.comments[this.commentIndex]:null;if(token&&(!comment||token.range[1]>comment.range[1])){this.current=token;this.tokenIndex-=1}else if(comment){this.current=comment;this.commentIndex-=1}else{this.current=null}return Boolean(this.current)&&(this.border===-1||this.current.range[0]>=this.border)}};return backwardTokenCommentCursor}var backwardTokenCursor;var hasRequiredBackwardTokenCursor;function requireBackwardTokenCursor(){if(hasRequiredBackwardTokenCursor)return backwardTokenCursor;hasRequiredBackwardTokenCursor=1;const Cursor=requireCursor();const utils=requireUtils$1();backwardTokenCursor=class BackwardTokenCursor extends Cursor{constructor(tokens,comments,indexMap,startLoc,endLoc){super();this.tokens=tokens;this.index=utils.getLastIndex(tokens,indexMap,endLoc);this.indexEnd=utils.getFirstIndex(tokens,indexMap,startLoc)}moveNext(){if(this.index>=this.indexEnd){this.current=this.tokens[this.index];this.index-=1;return true}return false}getOneToken(){return this.index>=this.indexEnd?this.tokens[this.index]:null}};return backwardTokenCursor}var decorativeCursor;var hasRequiredDecorativeCursor;function requireDecorativeCursor(){if(hasRequiredDecorativeCursor)return decorativeCursor;hasRequiredDecorativeCursor=1;const Cursor=requireCursor();decorativeCursor=class DecorativeCursor extends Cursor{constructor(cursor){super();this.cursor=cursor}moveNext(){const retv=this.cursor.moveNext();this.current=this.cursor.current;return retv}};return decorativeCursor}var filterCursor;var hasRequiredFilterCursor;function requireFilterCursor(){if(hasRequiredFilterCursor)return filterCursor;hasRequiredFilterCursor=1;const DecorativeCursor=requireDecorativeCursor();filterCursor=class FilterCursor extends DecorativeCursor{constructor(cursor,predicate){super(cursor);this.predicate=predicate}moveNext(){const predicate=this.predicate;while(super.moveNext()){if(predicate(this.current)){return true}}return false}};return filterCursor}var forwardTokenCommentCursor;var hasRequiredForwardTokenCommentCursor;function requireForwardTokenCommentCursor(){if(hasRequiredForwardTokenCommentCursor)return forwardTokenCommentCursor;hasRequiredForwardTokenCommentCursor=1;const Cursor=requireCursor();const utils=requireUtils$1();forwardTokenCommentCursor=class ForwardTokenCommentCursor extends Cursor{constructor(tokens,comments,indexMap,startLoc,endLoc){super();this.tokens=tokens;this.comments=comments;this.tokenIndex=utils.getFirstIndex(tokens,indexMap,startLoc);this.commentIndex=utils.search(comments,startLoc);this.border=endLoc}moveNext(){const token=this.tokenIndex<this.tokens.length?this.tokens[this.tokenIndex]:null;const comment=this.commentIndex<this.comments.length?this.comments[this.commentIndex]:null;if(token&&(!comment||token.range[0]<comment.range[0])){this.current=token;this.tokenIndex+=1}else if(comment){this.current=comment;this.commentIndex+=1}else{this.current=null}return Boolean(this.current)&&(this.border===-1||this.current.range[1]<=this.border)}};return forwardTokenCommentCursor}var forwardTokenCursor;var hasRequiredForwardTokenCursor;function requireForwardTokenCursor(){if(hasRequiredForwardTokenCursor)return forwardTokenCursor;hasRequiredForwardTokenCursor=1;const Cursor=requireCursor();const utils=requireUtils$1();forwardTokenCursor=class ForwardTokenCursor extends Cursor{constructor(tokens,comments,indexMap,startLoc,endLoc){super();this.tokens=tokens;this.index=utils.getFirstIndex(tokens,indexMap,startLoc);this.indexEnd=utils.getLastIndex(tokens,indexMap,endLoc)}moveNext(){if(this.index<=this.indexEnd){this.current=this.tokens[this.index];this.index+=1;return true}return false}getOneToken(){return this.index<=this.indexEnd?this.tokens[this.index]:null}getAllTokens(){return this.tokens.slice(this.index,this.indexEnd+1)}};return forwardTokenCursor}var limitCursor;var hasRequiredLimitCursor;function requireLimitCursor(){if(hasRequiredLimitCursor)return limitCursor;hasRequiredLimitCursor=1;const DecorativeCursor=requireDecorativeCursor();limitCursor=class LimitCursor extends DecorativeCursor{constructor(cursor,count){super(cursor);this.count=count}moveNext(){if(this.count>0){this.count-=1;return super.moveNext()}return false}};return limitCursor}var skipCursor;var hasRequiredSkipCursor;function requireSkipCursor(){if(hasRequiredSkipCursor)return skipCursor;hasRequiredSkipCursor=1;const DecorativeCursor=requireDecorativeCursor();skipCursor=class SkipCursor extends DecorativeCursor{constructor(cursor,count){super(cursor);this.count=count}moveNext(){while(this.count>0){this.count-=1;if(!super.moveNext()){return false}}return super.moveNext()}};return skipCursor}var hasRequiredCursors;function requireCursors(){if(hasRequiredCursors)return cursors;hasRequiredCursors=1;const BackwardTokenCommentCursor=requireBackwardTokenCommentCursor();const BackwardTokenCursor=requireBackwardTokenCursor();const FilterCursor=requireFilterCursor();const ForwardTokenCommentCursor=requireForwardTokenCommentCursor();const ForwardTokenCursor=requireForwardTokenCursor();const LimitCursor=requireLimitCursor();const SkipCursor=requireSkipCursor();class CursorFactory{constructor(TokenCursor,TokenCommentCursor){this.TokenCursor=TokenCursor;this.TokenCommentCursor=TokenCommentCursor}createBaseCursor(tokens,comments,indexMap,startLoc,endLoc,includeComments){const Cursor=includeComments?this.TokenCommentCursor:this.TokenCursor;return new Cursor(tokens,comments,indexMap,startLoc,endLoc)}createCursor(tokens,comments,indexMap,startLoc,endLoc,includeComments,filter,skip,count){let cursor=this.createBaseCursor(tokens,comments,indexMap,startLoc,endLoc,includeComments);if(filter){cursor=new FilterCursor(cursor,filter)}if(skip>=1){cursor=new SkipCursor(cursor,skip)}if(count>=0){cursor=new LimitCursor(cursor,count)}return cursor}}cursors.forward=new CursorFactory(ForwardTokenCursor,ForwardTokenCommentCursor);cursors.backward=new CursorFactory(BackwardTokenCursor,BackwardTokenCommentCursor);return cursors}var paddedTokenCursor;var hasRequiredPaddedTokenCursor;function requirePaddedTokenCursor(){if(hasRequiredPaddedTokenCursor)return paddedTokenCursor;hasRequiredPaddedTokenCursor=1;const ForwardTokenCursor=requireForwardTokenCursor();paddedTokenCursor=class PaddedTokenCursor extends ForwardTokenCursor{constructor(tokens,comments,indexMap,startLoc,endLoc,beforeCount,afterCount){super(tokens,comments,indexMap,startLoc,endLoc);this.index=Math.max(0,this.index-beforeCount);this.indexEnd=Math.min(tokens.length-1,this.indexEnd+afterCount)}};return paddedTokenCursor}var tokenStore;var hasRequiredTokenStore;function requireTokenStore(){if(hasRequiredTokenStore)return tokenStore;hasRequiredTokenStore=1;const assert$1=assert;const{isCommentToken:isCommentToken}=requireEslintUtils();const cursors=requireCursors();const ForwardTokenCursor=requireForwardTokenCursor();const PaddedTokenCursor=requirePaddedTokenCursor();const utils=requireUtils$1();const TOKENS=Symbol("tokens");const COMMENTS=Symbol("comments");const INDEX_MAP=Symbol("indexMap");function createIndexMap(tokens,comments){const map=Object.create(null);let tokenIndex=0;let commentIndex=0;let nextStart=0;let range=null;while(tokenIndex<tokens.length||commentIndex<comments.length){nextStart=commentIndex<comments.length?comments[commentIndex].range[0]:Number.MAX_SAFE_INTEGER;while(tokenIndex<tokens.length&&(range=tokens[tokenIndex].range)[0]<nextStart){map[range[0]]=tokenIndex;map[range[1]-1]=tokenIndex;tokenIndex+=1}nextStart=tokenIndex<tokens.length?tokens[tokenIndex].range[0]:Number.MAX_SAFE_INTEGER;while(commentIndex<comments.length&&(range=comments[commentIndex].range)[0]<nextStart){map[range[0]]=tokenIndex;map[range[1]-1]=tokenIndex;commentIndex+=1}}return map}function createCursorWithSkip(factory,tokens,comments,indexMap,startLoc,endLoc,opts){let includeComments=false;let skip=0;let filter=null;if(typeof opts==="number"){skip=opts|0}else if(typeof opts==="function"){filter=opts}else if(opts){includeComments=!!opts.includeComments;skip=opts.skip|0;filter=opts.filter||null}assert$1(skip>=0,"options.skip should be zero or a positive integer.");assert$1(!filter||typeof filter==="function","options.filter should be a function.");return factory.createCursor(tokens,comments,indexMap,startLoc,endLoc,includeComments,filter,skip,-1)}function createCursorWithCount(factory,tokens,comments,indexMap,startLoc,endLoc,opts){let includeComments=false;let count=0;let countExists=false;let filter=null;if(typeof opts==="number"){count=opts|0;countExists=true}else if(typeof opts==="function"){filter=opts}else if(opts){includeComments=!!opts.includeComments;count=opts.count|0;countExists=typeof opts.count==="number";filter=opts.filter||null}assert$1(count>=0,"options.count should be zero or a positive integer.");assert$1(!filter||typeof filter==="function","options.filter should be a function.");return factory.createCursor(tokens,comments,indexMap,startLoc,endLoc,includeComments,filter,0,countExists?count:-1)}function createCursorWithPadding(tokens,comments,indexMap,startLoc,endLoc,beforeCount,afterCount){if(typeof beforeCount==="undefined"&&typeof afterCount==="undefined"){return new ForwardTokenCursor(tokens,comments,indexMap,startLoc,endLoc)}if(typeof beforeCount==="number"||typeof beforeCount==="undefined"){return new PaddedTokenCursor(tokens,comments,indexMap,startLoc,endLoc,beforeCount|0,afterCount|0)}return createCursorWithCount(cursors.forward,tokens,comments,indexMap,startLoc,endLoc,beforeCount)}function getAdjacentCommentTokensFromCursor(cursor){const tokens=[];let currentToken=cursor.getOneToken();while(currentToken&&isCommentToken(currentToken)){tokens.push(currentToken);currentToken=cursor.getOneToken()}return tokens}tokenStore=class TokenStore{constructor(tokens,comments){this[TOKENS]=tokens;this[COMMENTS]=comments;this[INDEX_MAP]=createIndexMap(tokens,comments)}getTokenByRangeStart(offset,options){const includeComments=options&&options.includeComments;const token=cursors.forward.createBaseCursor(this[TOKENS],this[COMMENTS],this[INDEX_MAP],offset,-1,includeComments).getOneToken();if(token&&token.range[0]===offset){return token}return null}getFirstToken(node,options){return createCursorWithSkip(cursors.forward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],node.range[0],node.range[1],options).getOneToken()}getLastToken(node,options){return createCursorWithSkip(cursors.backward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],node.range[0],node.range[1],options).getOneToken()}getTokenBefore(node,options){return createCursorWithSkip(cursors.backward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],-1,node.range[0],options).getOneToken()}getTokenAfter(node,options){return createCursorWithSkip(cursors.forward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],node.range[1],-1,options).getOneToken()}getFirstTokenBetween(left,right,options){return createCursorWithSkip(cursors.forward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],left.range[1],right.range[0],options).getOneToken()}getLastTokenBetween(left,right,options){return createCursorWithSkip(cursors.backward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],left.range[1],right.range[0],options).getOneToken()}getTokenOrCommentBefore(node,skip){return this.getTokenBefore(node,{includeComments:true,skip:skip})}getTokenOrCommentAfter(node,skip){return this.getTokenAfter(node,{includeComments:true,skip:skip})}getFirstTokens(node,options){return createCursorWithCount(cursors.forward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],node.range[0],node.range[1],options).getAllTokens()}getLastTokens(node,options){return createCursorWithCount(cursors.backward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],node.range[0],node.range[1],options).getAllTokens().reverse()}getTokensBefore(node,options){return createCursorWithCount(cursors.backward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],-1,node.range[0],options).getAllTokens().reverse()}getTokensAfter(node,options){return createCursorWithCount(cursors.forward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],node.range[1],-1,options).getAllTokens()}getFirstTokensBetween(left,right,options){return createCursorWithCount(cursors.forward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],left.range[1],right.range[0],options).getAllTokens()}getLastTokensBetween(left,right,options){return createCursorWithCount(cursors.backward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],left.range[1],right.range[0],options).getAllTokens().reverse()}getTokens(node,beforeCount,afterCount){return createCursorWithPadding(this[TOKENS],this[COMMENTS],this[INDEX_MAP],node.range[0],node.range[1],beforeCount,afterCount).getAllTokens()}getTokensBetween(left,right,padding){return createCursorWithPadding(this[TOKENS],this[COMMENTS],this[INDEX_MAP],left.range[1],right.range[0],padding,padding).getAllTokens()}commentsExistBetween(left,right){const index=utils.search(this[COMMENTS],left.range[1]);return index<this[COMMENTS].length&&this[COMMENTS][index].range[1]<=right.range[0]}getCommentsBefore(nodeOrToken){const cursor=createCursorWithCount(cursors.backward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],-1,nodeOrToken.range[0],{includeComments:true});return getAdjacentCommentTokensFromCursor(cursor).reverse()}getCommentsAfter(nodeOrToken){const cursor=createCursorWithCount(cursors.forward,this[TOKENS],this[COMMENTS],this[INDEX_MAP],nodeOrToken.range[1],-1,{includeComments:true});return getAdjacentCommentTokensFromCursor(cursor)}getCommentsInside(node){return this.getTokens(node,{includeComments:true,filter:isCommentToken})}};return tokenStore}var sourceCode$1;var hasRequiredSourceCode$1;function requireSourceCode$1(){if(hasRequiredSourceCode$1)return sourceCode$1;hasRequiredSourceCode$1=1;const{isCommentToken:isCommentToken}=requireEslintUtils(),TokenStore=requireTokenStore(),astUtils=requireAstUtils$1(),Traverser=requireTraverser();function validate(ast){if(!ast.tokens){throw new Error("AST is missing the tokens array.")}if(!ast.comments){throw new Error("AST is missing the comments array.")}if(!ast.loc){throw new Error("AST is missing location information.")}if(!ast.range){throw new Error("AST is missing range information")}}function looksLikeExport(astNode){return astNode.type==="ExportDefaultDeclaration"||astNode.type==="ExportNamedDeclaration"||astNode.type==="ExportAllDeclaration"||astNode.type==="ExportSpecifier"}function sortedMerge(tokens,comments){const result=[];let tokenIndex=0;let commentIndex=0;while(tokenIndex<tokens.length||commentIndex<comments.length){if(commentIndex>=comments.length||tokenIndex<tokens.length&&tokens[tokenIndex].range[0]<comments[commentIndex].range[0]){result.push(tokens[tokenIndex++])}else{result.push(comments[commentIndex++])}}return result}function nodesOrTokensOverlap(first,second){return first.range[0]<=second.range[0]&&first.range[1]>=second.range[0]||second.range[0]<=first.range[0]&&second.range[1]>=first.range[0]}function isSpaceBetween(sourceCode,first,second,checkInsideOfJSXText){if(nodesOrTokensOverlap(first,second)){return false}const[startingNodeOrToken,endingNodeOrToken]=first.range[1]<=second.range[0]?[first,second]:[second,first];const firstToken=sourceCode.getLastToken(startingNodeOrToken)||startingNodeOrToken;const finalToken=sourceCode.getFirstToken(endingNodeOrToken)||endingNodeOrToken;let currentToken=firstToken;while(currentToken!==finalToken){const nextToken=sourceCode.getTokenAfter(currentToken,{includeComments:true});if(currentToken.range[1]!==nextToken.range[0]||checkInsideOfJSXText&&nextToken!==finalToken&&nextToken.type==="JSXText"&&/\s/u.test(nextToken.value)){return true}currentToken=nextToken}return false}class SourceCode extends TokenStore{constructor(textOrConfig,astIfNoConfig){let text,ast,parserServices,scopeManager,visitorKeys;if(typeof textOrConfig==="string"){text=textOrConfig;ast=astIfNoConfig}else if(typeof textOrConfig==="object"&&textOrConfig!==null){text=textOrConfig.text;ast=textOrConfig.ast;parserServices=textOrConfig.parserServices;scopeManager=textOrConfig.scopeManager;visitorKeys=textOrConfig.visitorKeys}validate(ast);super(ast.tokens,ast.comments);this.hasBOM=text.charCodeAt(0)===65279;this.text=this.hasBOM?text.slice(1):text;this.ast=ast;this.parserServices=parserServices||{};this.scopeManager=scopeManager||null;this.visitorKeys=visitorKeys||Traverser.DEFAULT_VISITOR_KEYS;const shebangMatched=this.text.match(astUtils.shebangPattern);const hasShebang=shebangMatched&&ast.comments.length&&ast.comments[0].value===shebangMatched[1];if(hasShebang){ast.comments[0].type="Shebang"}this.tokensAndComments=sortedMerge(ast.tokens,ast.comments);this.lines=[];this.lineStartIndices=[0];const lineEndingPattern=astUtils.createGlobalLinebreakMatcher();let match;while(match=lineEndingPattern.exec(this.text)){this.lines.push(this.text.slice(this.lineStartIndices[this.lineStartIndices.length-1],match.index));this.lineStartIndices.push(match.index+match[0].length)}this.lines.push(this.text.slice(this.lineStartIndices[this.lineStartIndices.length-1]));this._commentCache=new WeakMap;Object.freeze(this);Object.freeze(this.lines)}static splitLines(text){return text.split(astUtils.createGlobalLinebreakMatcher())}getText(node,beforeCount,afterCount){if(node){return this.text.slice(Math.max(node.range[0]-(beforeCount||0),0),node.range[1]+(afterCount||0))}return this.text}getLines(){return this.lines}getAllComments(){return this.ast.comments}getComments(node){if(this._commentCache.has(node)){return this._commentCache.get(node)}const comments={leading:[],trailing:[]};if(node.type==="Program"){if(node.body.length===0){comments.leading=node.comments}}else{if((node.type==="BlockStatement"||node.type==="ClassBody")&&node.body.length===0||node.type==="ObjectExpression"&&node.properties.length===0||node.type==="ArrayExpression"&&node.elements.length===0||node.type==="SwitchStatement"&&node.cases.length===0){comments.trailing=this.getTokens(node,{includeComments:true,filter:isCommentToken})}let currentToken=this.getTokenBefore(node,{includeComments:true});while(currentToken&&isCommentToken(currentToken)){if(node.parent&&node.parent.type!=="Program"&&currentToken.start<node.parent.start){break}comments.leading.push(currentToken);currentToken=this.getTokenBefore(currentToken,{includeComments:true})}comments.leading.reverse();currentToken=this.getTokenAfter(node,{includeComments:true});while(currentToken&&isCommentToken(currentToken)){if(node.parent&&node.parent.type!=="Program"&&currentToken.end>node.parent.end){break}comments.trailing.push(currentToken);currentToken=this.getTokenAfter(currentToken,{includeComments:true})}}this._commentCache.set(node,comments);return comments}getJSDocComment(node){const findJSDocComment=astNode=>{const tokenBefore=this.getTokenBefore(astNode,{includeComments:true});if(tokenBefore&&isCommentToken(tokenBefore)&&tokenBefore.type==="Block"&&tokenBefore.value.charAt(0)==="*"&&astNode.loc.start.line-tokenBefore.loc.end.line<=1){return tokenBefore}return null};let parent=node.parent;switch(node.type){case"ClassDeclaration":case"FunctionDeclaration":return findJSDocComment(looksLikeExport(parent)?parent:node);case"ClassExpression":return findJSDocComment(parent.parent);case"ArrowFunctionExpression":case"FunctionExpression":if(parent.type!=="CallExpression"&&parent.type!=="NewExpression"){while(!this.getCommentsBefore(parent).length&&!/Function/u.test(parent.type)&&parent.type!=="MethodDefinition"&&parent.type!=="Property"){parent=parent.parent;if(!parent){break}}if(parent&&parent.type!=="FunctionDeclaration"&&parent.type!=="Program"){return findJSDocComment(parent)}}return findJSDocComment(node);default:return null}}getNodeByRangeIndex(index){let result=null;Traverser.traverse(this.ast,{visitorKeys:this.visitorKeys,enter(node){if(node.range[0]<=index&&index<node.range[1]){result=node}else{this.skip()}},leave(node){if(node===result){this.break()}}});return result}isSpaceBetween(first,second){return isSpaceBetween(this,first,second,false)}isSpaceBetweenTokens(first,second){return isSpaceBetween(this,first,second,true)}getLocFromIndex(index){if(typeof index!=="number"){throw new TypeError("Expected `index` to be a number.")}if(index<0||index>this.text.length){throw new RangeError(`Index out of range (requested index ${index}, but source text has length ${this.text.length}).`)}if(index===this.text.length){return{line:this.lines.length,column:this.lines[this.lines.length-1].length}}const lineNumber=index>=this.lineStartIndices[this.lineStartIndices.length-1]?this.lineStartIndices.length:this.lineStartIndices.findIndex((el=>index<el));return{line:lineNumber,column:index-this.lineStartIndices[lineNumber-1]}}getIndexFromLoc(loc){if(typeof loc!=="object"||typeof loc.line!=="number"||typeof loc.column!=="number"){throw new TypeError("Expected `loc` to be an object with numeric `line` and `column` properties.")}if(loc.line<=0){throw new RangeError(`Line number out of range (line ${loc.line} requested). Line numbers should be 1-based.`)}if(loc.line>this.lineStartIndices.length){throw new RangeError(`Line number out of range (line ${loc.line} requested, but only ${this.lineStartIndices.length} lines present).`)}const lineStartIndex=this.lineStartIndices[loc.line-1];const lineEndIndex=loc.line===this.lineStartIndices.length?this.text.length:this.lineStartIndices[loc.line];const positionIndex=lineStartIndex+loc.column;if(loc.line===this.lineStartIndices.length&&positionIndex>lineEndIndex||loc.line<this.lineStartIndices.length&&positionIndex>=lineEndIndex){throw new RangeError(`Column number out of range (column ${loc.column} requested, but the length of line ${loc.line} is ${lineEndIndex-lineStartIndex}).`)}return positionIndex}}sourceCode$1=SourceCode;return sourceCode$1}var sourceCode;var hasRequiredSourceCode;function requireSourceCode(){if(hasRequiredSourceCode)return sourceCode;hasRequiredSourceCode=1;sourceCode={SourceCode:requireSourceCode$1()};return sourceCode}var debugHelpers;var hasRequiredDebugHelpers;function requireDebugHelpers(){if(hasRequiredDebugHelpers)return debugHelpers;hasRequiredDebugHelpers=1;const debug=requireSrc$1()("eslint:code-path");function getId(segment){return segment.id+(segment.reachable?"":"!")}function nodeToString(node,label){const suffix=label?`:${label}`:"";switch(node.type){case"Identifier":return`${node.type}${suffix} (${node.name})`;case"Literal":return`${node.type}${suffix} (${node.value})`;default:return`${node.type}${suffix}`}}debugHelpers={enabled:debug.enabled,dump:debug,dumpState:!debug.enabled?debug:function(node,state,leaving){for(let i=0;i<state.currentSegments.length;++i){const segInternal=state.currentSegments[i].internal;if(leaving){const last=segInternal.nodes.length-1;if(last>=0&&segInternal.nodes[last]===nodeToString(node,"enter")){segInternal.nodes[last]=nodeToString(node,void 0)}else{segInternal.nodes.push(nodeToString(node,"exit"))}}else{segInternal.nodes.push(nodeToString(node,"enter"))}}debug([`${state.currentSegments.map(getId).join(",")})`,`${node.type}${leaving?":exit":""}`].join(" "))},dumpDot:!debug.enabled?debug:function(codePath){let text="\n"+"digraph {\n"+'node[shape=box,style="rounded,filled",fillcolor=white];\n'+'initial[label="",shape=circle,style=filled,fillcolor=black,width=0.25,height=0.25];\n';if(codePath.returnedSegments.length>0){text+='final[label="",shape=doublecircle,style=filled,fillcolor=black,width=0.25,height=0.25];\n'}if(codePath.thrownSegments.length>0){text+='thrown[label="✘",shape=circle,width=0.3,height=0.3,fixedsize];\n'}const traceMap=Object.create(null);const arrows=this.makeDotArrows(codePath,traceMap);for(const id in traceMap){const segment=traceMap[id];text+=`${id}[`;if(segment.reachable){text+='label="'}else{text+='style="rounded,dashed,filled",fillcolor="#FF9800",label="<<unreachable>>\\n'}if(segment.internal.nodes.length>0){text+=segment.internal.nodes.join("\\n")}else{text+="????"}text+='"];\n'}text+=`${arrows}\n`;text+="}";debug("DOT",text)},makeDotArrows(codePath,traceMap){const stack=[[codePath.initialSegment,0]];const done=traceMap||Object.create(null);let lastId=codePath.initialSegment.id;let text=`initial->${codePath.initialSegment.id}`;while(stack.length>0){const item=stack.pop();const segment=item[0];const index=item[1];if(done[segment.id]&&index===0){continue}done[segment.id]=segment;const nextSegment=segment.allNextSegments[index];if(!nextSegment){continue}if(lastId===segment.id){text+=`->${nextSegment.id}`}else{text+=`;\n${segment.id}->${nextSegment.id}`}lastId=nextSegment.id;stack.unshift([segment,1+index]);stack.push([nextSegment,0])}codePath.returnedSegments.forEach((finalSegment=>{if(lastId===finalSegment.id){text+="->final"}else{text+=`;\n${finalSegment.id}->final`}lastId=null}));codePath.thrownSegments.forEach((finalSegment=>{if(lastId===finalSegment.id){text+="->thrown"}else{text+=`;\n${finalSegment.id}->thrown`}lastId=null}));return`${text};`}};return debugHelpers}var codePathSegment;var hasRequiredCodePathSegment;function requireCodePathSegment(){if(hasRequiredCodePathSegment)return codePathSegment;hasRequiredCodePathSegment=1;const debug=requireDebugHelpers();function isReachable(segment){return segment.reachable}class CodePathSegment{constructor(id,allPrevSegments,reachable){this.id=id;this.nextSegments=[];this.prevSegments=allPrevSegments.filter(isReachable);this.allNextSegments=[];this.allPrevSegments=allPrevSegments;this.reachable=reachable;Object.defineProperty(this,"internal",{value:{used:false,loopedPrevSegments:[]}});if(debug.enabled){this.internal.nodes=[]}}isLoopedPrevSegment(segment){return this.internal.loopedPrevSegments.includes(segment)}static newRoot(id){return new CodePathSegment(id,[],true)}static newNext(id,allPrevSegments){return new CodePathSegment(id,CodePathSegment.flattenUnusedSegments(allPrevSegments),allPrevSegments.some(isReachable))}static newUnreachable(id,allPrevSegments){const segment=new CodePathSegment(id,CodePathSegment.flattenUnusedSegments(allPrevSegments),false);CodePathSegment.markUsed(segment);return segment}static newDisconnected(id,allPrevSegments){return new CodePathSegment(id,[],allPrevSegments.some(isReachable))}static markUsed(segment){if(segment.internal.used){return}segment.internal.used=true;let i;if(segment.reachable){for(i=0;i<segment.allPrevSegments.length;++i){const prevSegment=segment.allPrevSegments[i];prevSegment.allNextSegments.push(segment);prevSegment.nextSegments.push(segment)}}else{for(i=0;i<segment.allPrevSegments.length;++i){segment.allPrevSegments[i].allNextSegments.push(segment)}}}static markPrevSegmentAsLooped(segment,prevSegment){segment.internal.loopedPrevSegments.push(prevSegment)}static flattenUnusedSegments(segments){const done=Object.create(null);const retv=[];for(let i=0;i<segments.length;++i){const segment=segments[i];if(done[segment.id]){continue}if(!segment.internal.used){for(let j=0;j<segment.allPrevSegments.length;++j){const prevSegment=segment.allPrevSegments[j];if(!done[prevSegment.id]){done[prevSegment.id]=true;retv.push(prevSegment)}}}else{done[segment.id]=true;retv.push(segment)}}return retv}}codePathSegment=CodePathSegment;return codePathSegment}var forkContext;var hasRequiredForkContext;function requireForkContext(){if(hasRequiredForkContext)return forkContext;hasRequiredForkContext=1;const assert$1=assert,CodePathSegment=requireCodePathSegment();function isReachable(segment){return segment.reachable}function makeSegments(context,begin,end,create){const list=context.segmentsList;const normalizedBegin=begin>=0?begin:list.length+begin;const normalizedEnd=end>=0?end:list.length+end;const segments=[];for(let i=0;i<context.count;++i){const allPrevSegments=[];for(let j=normalizedBegin;j<=normalizedEnd;++j){allPrevSegments.push(list[j][i])}segments.push(create(context.idGenerator.next(),allPrevSegments))}return segments}function mergeExtraSegments(context,segments){let currentSegments=segments;while(currentSegments.length>context.count){const merged=[];for(let i=0,length=currentSegments.length/2|0;i<length;++i){merged.push(CodePathSegment.newNext(context.idGenerator.next(),[currentSegments[i],currentSegments[i+length]]))}currentSegments=merged}return currentSegments}class ForkContext{constructor(idGenerator,upper,count){this.idGenerator=idGenerator;this.upper=upper;this.count=count;this.segmentsList=[]}get head(){const list=this.segmentsList;return list.length===0?[]:list[list.length-1]}get empty(){return this.segmentsList.length===0}get reachable(){const segments=this.head;return segments.length>0&&segments.some(isReachable)}makeNext(begin,end){return makeSegments(this,begin,end,CodePathSegment.newNext)}makeUnreachable(begin,end){return makeSegments(this,begin,end,CodePathSegment.newUnreachable)}makeDisconnected(begin,end){return makeSegments(this,begin,end,CodePathSegment.newDisconnected)}add(segments){assert$1(segments.length>=this.count,`${segments.length} >= ${this.count}`);this.segmentsList.push(mergeExtraSegments(this,segments))}replaceHead(segments){assert$1(segments.length>=this.count,`${segments.length} >= ${this.count}`);this.segmentsList.splice(-1,1,mergeExtraSegments(this,segments))}addAll(context){assert$1(context.count===this.count);const source=context.segmentsList;for(let i=0;i<source.length;++i){this.segmentsList.push(source[i])}}clear(){this.segmentsList=[]}static newRoot(idGenerator){const context=new ForkContext(idGenerator,null,1);context.add([CodePathSegment.newRoot(idGenerator.next())]);return context}static newEmpty(parentContext,forkLeavingPath){return new ForkContext(parentContext.idGenerator,parentContext,(forkLeavingPath?2:1)*parentContext.count)}}forkContext=ForkContext;return forkContext}var codePathState;var hasRequiredCodePathState;function requireCodePathState(){if(hasRequiredCodePathState)return codePathState;hasRequiredCodePathState=1;const CodePathSegment=requireCodePathSegment(),ForkContext=requireForkContext();function addToReturnedOrThrown(dest,others,all,segments){for(let i=0;i<segments.length;++i){const segment=segments[i];dest.push(segment);if(!others.includes(segment)){all.push(segment)}}}function getContinueContext(state,label){if(!label){return state.loopContext}let context=state.loopContext;while(context){if(context.label===label){return context}context=context.upper}return null}function getBreakContext(state,label){let context=state.breakContext;while(context){if(label?context.label===label:context.breakable){return context}context=context.upper}return null}function getReturnContext(state){let context=state.tryContext;while(context){if(context.hasFinalizer&&context.position!=="finally"){return context}context=context.upper}return state}function getThrowContext(state){let context=state.tryContext;while(context){if(context.position==="try"||context.hasFinalizer&&context.position==="catch"){return context}context=context.upper}return state}function remove(xs,x){xs.splice(xs.indexOf(x),1)}function removeConnection(prevSegments,nextSegments){for(let i=0;i<prevSegments.length;++i){const prevSegment=prevSegments[i];const nextSegment=nextSegments[i];remove(prevSegment.nextSegments,nextSegment);remove(prevSegment.allNextSegments,nextSegment);remove(nextSegment.prevSegments,prevSegment);remove(nextSegment.allPrevSegments,prevSegment)}}function makeLooped(state,unflattenedFromSegments,unflattenedToSegments){const fromSegments=CodePathSegment.flattenUnusedSegments(unflattenedFromSegments);const toSegments=CodePathSegment.flattenUnusedSegments(unflattenedToSegments);const end=Math.min(fromSegments.length,toSegments.length);for(let i=0;i<end;++i){const fromSegment=fromSegments[i];const toSegment=toSegments[i];if(toSegment.reachable){fromSegment.nextSegments.push(toSegment)}if(fromSegment.reachable){toSegment.prevSegments.push(fromSegment)}fromSegment.allNextSegments.push(toSegment);toSegment.allPrevSegments.push(fromSegment);if(toSegment.allPrevSegments.length>=2){CodePathSegment.markPrevSegmentAsLooped(toSegment,fromSegment)}state.notifyLooped(fromSegment,toSegment)}}function finalizeTestSegmentsOfFor(context,choiceContext,head){if(!choiceContext.processed){choiceContext.trueForkContext.add(head);choiceContext.falseForkContext.add(head);choiceContext.qqForkContext.add(head)}if(context.test!==true){context.brokenForkContext.addAll(choiceContext.falseForkContext)}context.endOfTestSegments=choiceContext.trueForkContext.makeNext(0,-1)}class CodePathState{constructor(idGenerator,onLooped){this.idGenerator=idGenerator;this.notifyLooped=onLooped;this.forkContext=ForkContext.newRoot(idGenerator);this.choiceContext=null;this.switchContext=null;this.tryContext=null;this.loopContext=null;this.breakContext=null;this.chainContext=null;this.currentSegments=[];this.initialSegment=this.forkContext.head[0];const final=this.finalSegments=[];const returned=this.returnedForkContext=[];const thrown=this.thrownForkContext=[];returned.add=addToReturnedOrThrown.bind(null,returned,thrown,final);thrown.add=addToReturnedOrThrown.bind(null,thrown,returned,final)}get headSegments(){return this.forkContext.head}get parentForkContext(){const current=this.forkContext;return current&&current.upper}pushForkContext(forkLeavingPath){this.forkContext=ForkContext.newEmpty(this.forkContext,forkLeavingPath);return this.forkContext}popForkContext(){const lastContext=this.forkContext;this.forkContext=lastContext.upper;this.forkContext.replaceHead(lastContext.makeNext(0,-1));return lastContext}forkPath(){this.forkContext.add(this.parentForkContext.makeNext(-1,-1))}forkBypassPath(){this.forkContext.add(this.parentForkContext.head)}pushChoiceContext(kind,isForkingAsResult){this.choiceContext={upper:this.choiceContext,kind:kind,isForkingAsResult:isForkingAsResult,trueForkContext:ForkContext.newEmpty(this.forkContext),falseForkContext:ForkContext.newEmpty(this.forkContext),qqForkContext:ForkContext.newEmpty(this.forkContext),processed:false}}popChoiceContext(){const context=this.choiceContext;this.choiceContext=context.upper;const forkContext=this.forkContext;const headSegments=forkContext.head;switch(context.kind){case"&&":case"||":case"??":if(!context.processed){context.trueForkContext.add(headSegments);context.falseForkContext.add(headSegments);context.qqForkContext.add(headSegments)}if(context.isForkingAsResult){const parentContext=this.choiceContext;parentContext.trueForkContext.addAll(context.trueForkContext);parentContext.falseForkContext.addAll(context.falseForkContext);parentContext.qqForkContext.addAll(context.qqForkContext);parentContext.processed=true;return context}break;case"test":if(!context.processed){context.trueForkContext.clear();context.trueForkContext.add(headSegments)}else{context.falseForkContext.clear();context.falseForkContext.add(headSegments)}break;case"loop":return context;default:throw new Error("unreachable")}const prevForkContext=context.trueForkContext;prevForkContext.addAll(context.falseForkContext);forkContext.replaceHead(prevForkContext.makeNext(0,-1));return context}makeLogicalRight(){const context=this.choiceContext;const forkContext=this.forkContext;if(context.processed){let prevForkContext;switch(context.kind){case"&&":prevForkContext=context.trueForkContext;break;case"||":prevForkContext=context.falseForkContext;break;case"??":prevForkContext=context.qqForkContext;break;default:throw new Error("unreachable")}forkContext.replaceHead(prevForkContext.makeNext(0,-1));prevForkContext.clear();context.processed=false}else{switch(context.kind){case"&&":context.falseForkContext.add(forkContext.head);break;case"||":context.trueForkContext.add(forkContext.head);break;case"??":context.trueForkContext.add(forkContext.head);context.falseForkContext.add(forkContext.head);break;default:throw new Error("unreachable")}forkContext.replaceHead(forkContext.makeNext(-1,-1))}}makeIfConsequent(){const context=this.choiceContext;const forkContext=this.forkContext;if(!context.processed){context.trueForkContext.add(forkContext.head);context.falseForkContext.add(forkContext.head);context.qqForkContext.add(forkContext.head)}context.processed=false;forkContext.replaceHead(context.trueForkContext.makeNext(0,-1))}makeIfAlternate(){const context=this.choiceContext;const forkContext=this.forkContext;context.trueForkContext.clear();context.trueForkContext.add(forkContext.head);context.processed=true;forkContext.replaceHead(context.falseForkContext.makeNext(0,-1))}pushChainContext(){this.chainContext={upper:this.chainContext,countChoiceContexts:0}}popChainContext(){const context=this.chainContext;this.chainContext=context.upper;for(let i=context.countChoiceContexts;i>0;--i){this.popChoiceContext()}}makeOptionalNode(){if(this.chainContext){this.chainContext.countChoiceContexts+=1;this.pushChoiceContext("??",false)}}makeOptionalRight(){if(this.chainContext){this.makeLogicalRight()}}pushSwitchContext(hasCase,label){this.switchContext={upper:this.switchContext,hasCase:hasCase,defaultSegments:null,defaultBodySegments:null,foundDefault:false,lastIsDefault:false,countForks:0};this.pushBreakContext(true,label)}popSwitchContext(){const context=this.switchContext;this.switchContext=context.upper;const forkContext=this.forkContext;const brokenForkContext=this.popBreakContext().brokenForkContext;if(context.countForks===0){if(!brokenForkContext.empty){brokenForkContext.add(forkContext.makeNext(-1,-1));forkContext.replaceHead(brokenForkContext.makeNext(0,-1))}return}const lastSegments=forkContext.head;this.forkBypassPath();const lastCaseSegments=forkContext.head;brokenForkContext.add(lastSegments);if(!context.lastIsDefault){if(context.defaultBodySegments){removeConnection(context.defaultSegments,context.defaultBodySegments);makeLooped(this,lastCaseSegments,context.defaultBodySegments)}else{brokenForkContext.add(lastCaseSegments)}}for(let i=0;i<context.countForks;++i){this.forkContext=this.forkContext.upper}this.forkContext.replaceHead(brokenForkContext.makeNext(0,-1))}makeSwitchCaseBody(isEmpty,isDefault){const context=this.switchContext;if(!context.hasCase){return}const parentForkContext=this.forkContext;const forkContext=this.pushForkContext();forkContext.add(parentForkContext.makeNext(0,-1));if(isDefault){context.defaultSegments=parentForkContext.head;if(isEmpty){context.foundDefault=true}else{context.defaultBodySegments=forkContext.head}}else{if(!isEmpty&&context.foundDefault){context.foundDefault=false;context.defaultBodySegments=forkContext.head}}context.lastIsDefault=isDefault;context.countForks+=1}pushTryContext(hasFinalizer){this.tryContext={upper:this.tryContext,position:"try",hasFinalizer:hasFinalizer,returnedForkContext:hasFinalizer?ForkContext.newEmpty(this.forkContext):null,thrownForkContext:ForkContext.newEmpty(this.forkContext),lastOfTryIsReachable:false,lastOfCatchIsReachable:false}}popTryContext(){const context=this.tryContext;this.tryContext=context.upper;if(context.position==="catch"){this.popForkContext();return}const returned=context.returnedForkContext;const thrown=context.thrownForkContext;if(returned.empty&&thrown.empty){return}const headSegments=this.forkContext.head;this.forkContext=this.forkContext.upper;const normalSegments=headSegments.slice(0,headSegments.length/2|0);const leavingSegments=headSegments.slice(headSegments.length/2|0);if(!returned.empty){getReturnContext(this).returnedForkContext.add(leavingSegments)}if(!thrown.empty){getThrowContext(this).thrownForkContext.add(leavingSegments)}this.forkContext.replaceHead(normalSegments);if(!context.lastOfTryIsReachable&&!context.lastOfCatchIsReachable){this.forkContext.makeUnreachable()}}makeCatchBlock(){const context=this.tryContext;const forkContext=this.forkContext;const thrown=context.thrownForkContext;context.position="catch";context.thrownForkContext=ForkContext.newEmpty(forkContext);context.lastOfTryIsReachable=forkContext.reachable;thrown.add(forkContext.head);const thrownSegments=thrown.makeNext(0,-1);this.pushForkContext();this.forkBypassPath();this.forkContext.add(thrownSegments)}makeFinallyBlock(){const context=this.tryContext;let forkContext=this.forkContext;const returned=context.returnedForkContext;const thrown=context.thrownForkContext;const headOfLeavingSegments=forkContext.head;if(context.position==="catch"){this.popForkContext();forkContext=this.forkContext;context.lastOfCatchIsReachable=forkContext.reachable}else{context.lastOfTryIsReachable=forkContext.reachable}context.position="finally";if(returned.empty&&thrown.empty){return}const segments=forkContext.makeNext(-1,-1);for(let i=0;i<forkContext.count;++i){const prevSegsOfLeavingSegment=[headOfLeavingSegments[i]];for(let j=0;j<returned.segmentsList.length;++j){prevSegsOfLeavingSegment.push(returned.segmentsList[j][i])}for(let j=0;j<thrown.segmentsList.length;++j){prevSegsOfLeavingSegment.push(thrown.segmentsList[j][i])}segments.push(CodePathSegment.newNext(this.idGenerator.next(),prevSegsOfLeavingSegment))}this.pushForkContext(true);this.forkContext.add(segments)}makeFirstThrowablePathInTryBlock(){const forkContext=this.forkContext;if(!forkContext.reachable){return}const context=getThrowContext(this);if(context===this||context.position!=="try"||!context.thrownForkContext.empty){return}context.thrownForkContext.add(forkContext.head);forkContext.replaceHead(forkContext.makeNext(-1,-1))}pushLoopContext(type,label){const forkContext=this.forkContext;const breakContext=this.pushBreakContext(true,label);switch(type){case"WhileStatement":this.pushChoiceContext("loop",false);this.loopContext={upper:this.loopContext,type:type,label:label,test:void 0,continueDestSegments:null,brokenForkContext:breakContext.brokenForkContext};break;case"DoWhileStatement":this.pushChoiceContext("loop",false);this.loopContext={upper:this.loopContext,type:type,label:label,test:void 0,entrySegments:null,continueForkContext:ForkContext.newEmpty(forkContext),brokenForkContext:breakContext.brokenForkContext};break;case"ForStatement":this.pushChoiceContext("loop",false);this.loopContext={upper:this.loopContext,type:type,label:label,test:void 0,endOfInitSegments:null,testSegments:null,endOfTestSegments:null,updateSegments:null,endOfUpdateSegments:null,continueDestSegments:null,brokenForkContext:breakContext.brokenForkContext};break;case"ForInStatement":case"ForOfStatement":this.loopContext={upper:this.loopContext,type:type,label:label,prevSegments:null,leftSegments:null,endOfLeftSegments:null,continueDestSegments:null,brokenForkContext:breakContext.brokenForkContext};break;default:throw new Error(`unknown type: "${type}"`)}}popLoopContext(){const context=this.loopContext;this.loopContext=context.upper;const forkContext=this.forkContext;const brokenForkContext=this.popBreakContext().brokenForkContext;switch(context.type){case"WhileStatement":case"ForStatement":this.popChoiceContext();makeLooped(this,forkContext.head,context.continueDestSegments);break;case"DoWhileStatement":{const choiceContext=this.popChoiceContext();if(!choiceContext.processed){choiceContext.trueForkContext.add(forkContext.head);choiceContext.falseForkContext.add(forkContext.head)}if(context.test!==true){brokenForkContext.addAll(choiceContext.falseForkContext)}const segmentsList=choiceContext.trueForkContext.segmentsList;for(let i=0;i<segmentsList.length;++i){makeLooped(this,segmentsList[i],context.entrySegments)}break}case"ForInStatement":case"ForOfStatement":brokenForkContext.add(forkContext.head);makeLooped(this,forkContext.head,context.leftSegments);break;default:throw new Error("unreachable")}if(brokenForkContext.empty){forkContext.replaceHead(forkContext.makeUnreachable(-1,-1))}else{forkContext.replaceHead(brokenForkContext.makeNext(0,-1))}}makeWhileTest(test){const context=this.loopContext;const forkContext=this.forkContext;const testSegments=forkContext.makeNext(0,-1);context.test=test;context.continueDestSegments=testSegments;forkContext.replaceHead(testSegments)}makeWhileBody(){const context=this.loopContext;const choiceContext=this.choiceContext;const forkContext=this.forkContext;if(!choiceContext.processed){choiceContext.trueForkContext.add(forkContext.head);choiceContext.falseForkContext.add(forkContext.head)}if(context.test!==true){context.brokenForkContext.addAll(choiceContext.falseForkContext)}forkContext.replaceHead(choiceContext.trueForkContext.makeNext(0,-1))}makeDoWhileBody(){const context=this.loopContext;const forkContext=this.forkContext;const bodySegments=forkContext.makeNext(-1,-1);context.entrySegments=bodySegments;forkContext.replaceHead(bodySegments)}makeDoWhileTest(test){const context=this.loopContext;const forkContext=this.forkContext;context.test=test;if(!context.continueForkContext.empty){context.continueForkContext.add(forkContext.head);const testSegments=context.continueForkContext.makeNext(0,-1);forkContext.replaceHead(testSegments)}}makeForTest(test){const context=this.loopContext;const forkContext=this.forkContext;const endOfInitSegments=forkContext.head;const testSegments=forkContext.makeNext(-1,-1);context.test=test;context.endOfInitSegments=endOfInitSegments;context.continueDestSegments=context.testSegments=testSegments;forkContext.replaceHead(testSegments)}makeForUpdate(){const context=this.loopContext;const choiceContext=this.choiceContext;const forkContext=this.forkContext;if(context.testSegments){finalizeTestSegmentsOfFor(context,choiceContext,forkContext.head)}else{context.endOfInitSegments=forkContext.head}const updateSegments=forkContext.makeDisconnected(-1,-1);context.continueDestSegments=context.updateSegments=updateSegments;forkContext.replaceHead(updateSegments)}makeForBody(){const context=this.loopContext;const choiceContext=this.choiceContext;const forkContext=this.forkContext;if(context.updateSegments){context.endOfUpdateSegments=forkContext.head;if(context.testSegments){makeLooped(this,context.endOfUpdateSegments,context.testSegments)}}else if(context.testSegments){finalizeTestSegmentsOfFor(context,choiceContext,forkContext.head)}else{context.endOfInitSegments=forkContext.head}let bodySegments=context.endOfTestSegments;if(!bodySegments){const prevForkContext=ForkContext.newEmpty(forkContext);prevForkContext.add(context.endOfInitSegments);if(context.endOfUpdateSegments){prevForkContext.add(context.endOfUpdateSegments)}bodySegments=prevForkContext.makeNext(0,-1)}context.continueDestSegments=context.continueDestSegments||bodySegments;forkContext.replaceHead(bodySegments)}makeForInOfLeft(){const context=this.loopContext;const forkContext=this.forkContext;const leftSegments=forkContext.makeDisconnected(-1,-1);context.prevSegments=forkContext.head;context.leftSegments=context.continueDestSegments=leftSegments;forkContext.replaceHead(leftSegments)}makeForInOfRight(){const context=this.loopContext;const forkContext=this.forkContext;const temp=ForkContext.newEmpty(forkContext);temp.add(context.prevSegments);const rightSegments=temp.makeNext(-1,-1);context.endOfLeftSegments=forkContext.head;forkContext.replaceHead(rightSegments)}makeForInOfBody(){const context=this.loopContext;const forkContext=this.forkContext;const temp=ForkContext.newEmpty(forkContext);temp.add(context.endOfLeftSegments);const bodySegments=temp.makeNext(-1,-1);makeLooped(this,forkContext.head,context.leftSegments);context.brokenForkContext.add(forkContext.head);forkContext.replaceHead(bodySegments)}pushBreakContext(breakable,label){this.breakContext={upper:this.breakContext,breakable:breakable,label:label,brokenForkContext:ForkContext.newEmpty(this.forkContext)};return this.breakContext}popBreakContext(){const context=this.breakContext;const forkContext=this.forkContext;this.breakContext=context.upper;if(!context.breakable){const brokenForkContext=context.brokenForkContext;if(!brokenForkContext.empty){brokenForkContext.add(forkContext.head);forkContext.replaceHead(brokenForkContext.makeNext(0,-1))}}return context}makeBreak(label){const forkContext=this.forkContext;if(!forkContext.reachable){return}const context=getBreakContext(this,label);if(context){context.brokenForkContext.add(forkContext.head)}forkContext.replaceHead(forkContext.makeUnreachable(-1,-1))}makeContinue(label){const forkContext=this.forkContext;if(!forkContext.reachable){return}const context=getContinueContext(this,label);if(context){if(context.continueDestSegments){makeLooped(this,forkContext.head,context.continueDestSegments);if(context.type==="ForInStatement"||context.type==="ForOfStatement"){context.brokenForkContext.add(forkContext.head)}}else{context.continueForkContext.add(forkContext.head)}}forkContext.replaceHead(forkContext.makeUnreachable(-1,-1))}makeReturn(){const forkContext=this.forkContext;if(forkContext.reachable){getReturnContext(this).returnedForkContext.add(forkContext.head);forkContext.replaceHead(forkContext.makeUnreachable(-1,-1))}}makeThrow(){const forkContext=this.forkContext;if(forkContext.reachable){getThrowContext(this).thrownForkContext.add(forkContext.head);forkContext.replaceHead(forkContext.makeUnreachable(-1,-1))}}makeFinal(){const segments=this.currentSegments;if(segments.length>0&&segments[0].reachable){this.returnedForkContext.add(segments)}}}codePathState=CodePathState;return codePathState}var idGenerator;var hasRequiredIdGenerator;function requireIdGenerator(){if(hasRequiredIdGenerator)return idGenerator;hasRequiredIdGenerator=1;class IdGenerator{constructor(prefix){this.prefix=String(prefix);this.n=0}next(){this.n=1+this.n|0;if(this.n<0){this.n=1}return this.prefix+this.n}}idGenerator=IdGenerator;return idGenerator}var codePath;var hasRequiredCodePath;function requireCodePath(){if(hasRequiredCodePath)return codePath;hasRequiredCodePath=1;const CodePathState=requireCodePathState();const IdGenerator=requireIdGenerator();class CodePath{constructor({id:id,origin:origin,upper:upper,onLooped:onLooped}){this.id=id;this.origin=origin;this.upper=upper;this.childCodePaths=[];Object.defineProperty(this,"internal",{value:new CodePathState(new IdGenerator(`${id}_`),onLooped)});if(upper){upper.childCodePaths.push(this)}}static getState(codePath){return codePath.internal}get initialSegment(){return this.internal.initialSegment}get finalSegments(){return this.internal.finalSegments}get returnedSegments(){return this.internal.returnedForkContext}get thrownSegments(){return this.internal.thrownForkContext}get currentSegments(){return this.internal.currentSegments}traverseSegments(options,callback){let resolvedOptions;let resolvedCallback;if(typeof options==="function"){resolvedCallback=options;resolvedOptions={}}else{resolvedOptions=options||{};resolvedCallback=callback}const startSegment=resolvedOptions.first||this.internal.initialSegment;const lastSegment=resolvedOptions.last;let item=null;let index=0;let end=0;let segment=null;const visited=Object.create(null);const stack=[[startSegment,0]];let skippedSegment=null;let broken=false;const controller={skip(){if(stack.length<=1){broken=true}else{skippedSegment=stack[stack.length-2][0]}},break(){broken=true}};function isVisited(prevSegment){return visited[prevSegment.id]||segment.isLoopedPrevSegment(prevSegment)}while(stack.length>0){item=stack[stack.length-1];segment=item[0];index=item[1];if(index===0){if(visited[segment.id]){stack.pop();continue}if(segment!==startSegment&&segment.prevSegments.length>0&&!segment.prevSegments.every(isVisited)){stack.pop();continue}if(skippedSegment&&segment.prevSegments.includes(skippedSegment)){skippedSegment=null}visited[segment.id]=true;if(!skippedSegment){resolvedCallback.call(this,segment,controller);if(segment===lastSegment){controller.skip()}if(broken){break}}}end=segment.nextSegments.length-1;if(index<end){item[1]+=1;stack.push([segment.nextSegments[index],0])}else if(index===end){item[0]=segment.nextSegments[index];item[1]=0}else{stack.pop()}}}}codePath=CodePath;return codePath}var codePathAnalyzer;var hasRequiredCodePathAnalyzer;function requireCodePathAnalyzer(){if(hasRequiredCodePathAnalyzer)return codePathAnalyzer;hasRequiredCodePathAnalyzer=1;const assert$1=assert,{breakableTypePattern:breakableTypePattern}=requireAstUtils$1(),CodePath=requireCodePath(),CodePathSegment=requireCodePathSegment(),IdGenerator=requireIdGenerator(),debug=requireDebugHelpers();function isCaseNode(node){return Boolean(node.test)}function isPropertyDefinitionValue(node){const parent=node.parent;return parent&&parent.type==="PropertyDefinition"&&parent.value===node}function isHandledLogicalOperator(operator){return operator==="&&"||operator==="||"||operator==="??"}function isLogicalAssignmentOperator(operator){return operator==="&&="||operator==="||="||operator==="??="}function getLabel(node){if(node.parent.type==="LabeledStatement"){return node.parent.label.name}return null}function isForkingByTrueOrFalse(node){const parent=node.parent;switch(parent.type){case"ConditionalExpression":case"IfStatement":case"WhileStatement":case"DoWhileStatement":case"ForStatement":return parent.test===node;case"LogicalExpression":return isHandledLogicalOperator(parent.operator);case"AssignmentExpression":return isLogicalAssignmentOperator(parent.operator);default:return false}}function getBooleanValueIfSimpleConstant(node){if(node.type==="Literal"){return Boolean(node.value)}return void 0}function isIdentifierReference(node){const parent=node.parent;switch(parent.type){case"LabeledStatement":case"BreakStatement":case"ContinueStatement":case"ArrayPattern":case"RestElement":case"ImportSpecifier":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"CatchClause":return false;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ClassDeclaration":case"ClassExpression":case"VariableDeclarator":return parent.id!==node;case"Property":case"PropertyDefinition":case"MethodDefinition":return parent.key!==node||parent.computed||parent.shorthand;case"AssignmentPattern":return parent.key!==node;default:return true}}function forwardCurrentToHead(analyzer,node){const codePath=analyzer.codePath;const state=CodePath.getState(codePath);const currentSegments=state.currentSegments;const headSegments=state.headSegments;const end=Math.max(currentSegments.length,headSegments.length);let i,currentSegment,headSegment;for(i=0;i<end;++i){currentSegment=currentSegments[i];headSegment=headSegments[i];if(currentSegment!==headSegment&&currentSegment){debug.dump(`onCodePathSegmentEnd ${currentSegment.id}`);if(currentSegment.reachable){analyzer.emitter.emit("onCodePathSegmentEnd",currentSegment,node)}}}state.currentSegments=headSegments;for(i=0;i<end;++i){currentSegment=currentSegments[i];headSegment=headSegments[i];if(currentSegment!==headSegment&&headSegment){debug.dump(`onCodePathSegmentStart ${headSegment.id}`);CodePathSegment.markUsed(headSegment);if(headSegment.reachable){analyzer.emitter.emit("onCodePathSegmentStart",headSegment,node)}}}}function leaveFromCurrentSegment(analyzer,node){const state=CodePath.getState(analyzer.codePath);const currentSegments=state.currentSegments;for(let i=0;i<currentSegments.length;++i){const currentSegment=currentSegments[i];debug.dump(`onCodePathSegmentEnd ${currentSegment.id}`);if(currentSegment.reachable){analyzer.emitter.emit("onCodePathSegmentEnd",currentSegment,node)}}state.currentSegments=[]}function preprocess(analyzer,node){const codePath=analyzer.codePath;const state=CodePath.getState(codePath);const parent=node.parent;switch(parent.type){case"CallExpression":if(parent.optional===true&&parent.arguments.length>=1&&parent.arguments[0]===node){state.makeOptionalRight()}break;case"MemberExpression":if(parent.optional===true&&parent.property===node){state.makeOptionalRight()}break;case"LogicalExpression":if(parent.right===node&&isHandledLogicalOperator(parent.operator)){state.makeLogicalRight()}break;case"AssignmentExpression":if(parent.right===node&&isLogicalAssignmentOperator(parent.operator)){state.makeLogicalRight()}break;case"ConditionalExpression":case"IfStatement":if(parent.consequent===node){state.makeIfConsequent()}else if(parent.alternate===node){state.makeIfAlternate()}break;case"SwitchCase":if(parent.consequent[0]===node){state.makeSwitchCaseBody(false,!parent.test)}break;case"TryStatement":if(parent.handler===node){state.makeCatchBlock()}else if(parent.finalizer===node){state.makeFinallyBlock()}break;case"WhileStatement":if(parent.test===node){state.makeWhileTest(getBooleanValueIfSimpleConstant(node))}else{assert$1(parent.body===node);state.makeWhileBody()}break;case"DoWhileStatement":if(parent.body===node){state.makeDoWhileBody()}else{assert$1(parent.test===node);state.makeDoWhileTest(getBooleanValueIfSimpleConstant(node))}break;case"ForStatement":if(parent.test===node){state.makeForTest(getBooleanValueIfSimpleConstant(node))}else if(parent.update===node){state.makeForUpdate()}else if(parent.body===node){state.makeForBody()}break;case"ForInStatement":case"ForOfStatement":if(parent.left===node){state.makeForInOfLeft()}else if(parent.right===node){state.makeForInOfRight()}else{assert$1(parent.body===node);state.makeForInOfBody()}break;case"AssignmentPattern":if(parent.right===node){state.pushForkContext();state.forkBypassPath();state.forkPath()}break}}function processCodePathToEnter(analyzer,node){let codePath=analyzer.codePath;let state=codePath&&CodePath.getState(codePath);const parent=node.parent;function startCodePath(origin){if(codePath){forwardCurrentToHead(analyzer,node);debug.dumpState(node,state,false)}codePath=analyzer.codePath=new CodePath({id:analyzer.idGenerator.next(),origin:origin,upper:codePath,onLooped:analyzer.onLooped});state=CodePath.getState(codePath);debug.dump(`onCodePathStart ${codePath.id}`);analyzer.emitter.emit("onCodePathStart",codePath,node)}if(isPropertyDefinitionValue(node)){startCodePath("class-field-initializer")}switch(node.type){case"Program":startCodePath("program");break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":startCodePath("function");break;case"StaticBlock":startCodePath("class-static-block");break;case"ChainExpression":state.pushChainContext();break;case"CallExpression":if(node.optional===true){state.makeOptionalNode()}break;case"MemberExpression":if(node.optional===true){state.makeOptionalNode()}break;case"LogicalExpression":if(isHandledLogicalOperator(node.operator)){state.pushChoiceContext(node.operator,isForkingByTrueOrFalse(node))}break;case"AssignmentExpression":if(isLogicalAssignmentOperator(node.operator)){state.pushChoiceContext(node.operator.slice(0,-1),isForkingByTrueOrFalse(node))}break;case"ConditionalExpression":case"IfStatement":state.pushChoiceContext("test",false);break;case"SwitchStatement":state.pushSwitchContext(node.cases.some(isCaseNode),getLabel(node));break;case"TryStatement":state.pushTryContext(Boolean(node.finalizer));break;case"SwitchCase":if(parent.discriminant!==node&&parent.cases[0]!==node){state.forkPath()}break;case"WhileStatement":case"DoWhileStatement":case"ForStatement":case"ForInStatement":case"ForOfStatement":state.pushLoopContext(node.type,getLabel(node));break;case"LabeledStatement":if(!breakableTypePattern.test(node.body.type)){state.pushBreakContext(false,node.label.name)}break}forwardCurrentToHead(analyzer,node);debug.dumpState(node,state,false)}function processCodePathToExit(analyzer,node){const codePath=analyzer.codePath;const state=CodePath.getState(codePath);let dontForward=false;switch(node.type){case"ChainExpression":state.popChainContext();break;case"IfStatement":case"ConditionalExpression":state.popChoiceContext();break;case"LogicalExpression":if(isHandledLogicalOperator(node.operator)){state.popChoiceContext()}break;case"AssignmentExpression":if(isLogicalAssignmentOperator(node.operator)){state.popChoiceContext()}break;case"SwitchStatement":state.popSwitchContext();break;case"SwitchCase":if(node.consequent.length===0){state.makeSwitchCaseBody(true,!node.test)}if(state.forkContext.reachable){dontForward=true}break;case"TryStatement":state.popTryContext();break;case"BreakStatement":forwardCurrentToHead(analyzer,node);state.makeBreak(node.label&&node.label.name);dontForward=true;break;case"ContinueStatement":forwardCurrentToHead(analyzer,node);state.makeContinue(node.label&&node.label.name);dontForward=true;break;case"ReturnStatement":forwardCurrentToHead(analyzer,node);state.makeReturn();dontForward=true;break;case"ThrowStatement":forwardCurrentToHead(analyzer,node);state.makeThrow();dontForward=true;break;case"Identifier":if(isIdentifierReference(node)){state.makeFirstThrowablePathInTryBlock();dontForward=true}break;case"CallExpression":case"ImportExpression":case"MemberExpression":case"NewExpression":case"YieldExpression":state.makeFirstThrowablePathInTryBlock();break;case"WhileStatement":case"DoWhileStatement":case"ForStatement":case"ForInStatement":case"ForOfStatement":state.popLoopContext();break;case"AssignmentPattern":state.popForkContext();break;case"LabeledStatement":if(!breakableTypePattern.test(node.body.type)){state.popBreakContext()}break}if(!dontForward){forwardCurrentToHead(analyzer,node)}debug.dumpState(node,state,true)}function postprocess(analyzer,node){function endCodePath(){let codePath=analyzer.codePath;CodePath.getState(codePath).makeFinal();leaveFromCurrentSegment(analyzer,node);debug.dump(`onCodePathEnd ${codePath.id}`);analyzer.emitter.emit("onCodePathEnd",codePath,node);debug.dumpDot(codePath);codePath=analyzer.codePath=analyzer.codePath.upper;if(codePath){debug.dumpState(node,CodePath.getState(codePath),true)}}switch(node.type){case"Program":case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"StaticBlock":{endCodePath();break}case"CallExpression":if(node.optional===true&&node.arguments.length===0){CodePath.getState(analyzer.codePath).makeOptionalRight()}break}if(isPropertyDefinitionValue(node)){endCodePath()}}class CodePathAnalyzer{constructor(eventGenerator){this.original=eventGenerator;this.emitter=eventGenerator.emitter;this.codePath=null;this.idGenerator=new IdGenerator("s");this.currentNode=null;this.onLooped=this.onLooped.bind(this)}enterNode(node){this.currentNode=node;if(node.parent){preprocess(this,node)}processCodePathToEnter(this,node);this.original.enterNode(node);this.currentNode=null}leaveNode(node){this.currentNode=node;processCodePathToExit(this,node);this.original.leaveNode(node);postprocess(this,node);this.currentNode=null}onLooped(fromSegment,toSegment){if(fromSegment.reachable&&toSegment.reachable){debug.dump(`onCodePathSegmentLoop ${fromSegment.id} -> ${toSegment.id}`);this.emitter.emit("onCodePathSegmentLoop",fromSegment,toSegment,this.currentNode)}}}codePathAnalyzer=CodePathAnalyzer;return codePathAnalyzer}var escapeStringRegexp;var hasRequiredEscapeStringRegexp;function requireEscapeStringRegexp(){if(hasRequiredEscapeStringRegexp)return escapeStringRegexp;hasRequiredEscapeStringRegexp=1;escapeStringRegexp=string=>{if(typeof string!=="string"){throw new TypeError("Expected a string")}return string.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")};return escapeStringRegexp}var applyDisableDirectives;var hasRequiredApplyDisableDirectives;function requireApplyDisableDirectives(){if(hasRequiredApplyDisableDirectives)return applyDisableDirectives;hasRequiredApplyDisableDirectives=1;const escapeRegExp=requireEscapeStringRegexp();function compareLocations(itemA,itemB){return itemA.line-itemB.line||itemA.column-itemB.column}function groupByParentComment(directives){const groups=new Map;for(const directive of directives){const{unprocessedDirective:{parentComment:parentComment}}=directive;if(groups.has(parentComment)){groups.get(parentComment).push(directive)}else{groups.set(parentComment,[directive])}}return[...groups.values()]}function createIndividualDirectivesRemoval(directives,commentToken){const commentValueStart=commentToken.range[0]+"//".length;const listStartOffset=/^\s*\S+\s+/u.exec(commentToken.value)[0].length;const listText=commentToken.value.slice(listStartOffset).split(/\s-{2,}\s/u)[0].trimEnd();return directives.map((directive=>{const{ruleId:ruleId}=directive;const regex=new RegExp(String.raw`(?:^|\s*,\s*)${escapeRegExp(ruleId)}(?:\s*,\s*|$)`,"u");const match=regex.exec(listText);const matchedText=match[0];const matchStartOffset=listStartOffset+match.index;const matchEndOffset=matchStartOffset+matchedText.length;const firstIndexOfComma=matchedText.indexOf(",");const lastIndexOfComma=matchedText.lastIndexOf(",");let removalStartOffset,removalEndOffset;if(firstIndexOfComma!==lastIndexOfComma){removalStartOffset=matchStartOffset+firstIndexOfComma;removalEndOffset=matchStartOffset+lastIndexOfComma}else{removalStartOffset=matchStartOffset;removalEndOffset=matchEndOffset}return{description:`'${ruleId}'`,fix:{range:[commentValueStart+removalStartOffset,commentValueStart+removalEndOffset],text:""},unprocessedDirective:directive.unprocessedDirective}}))}function createCommentRemoval(directives,commentToken){const{range:range}=commentToken;const ruleIds=directives.filter((directive=>directive.ruleId)).map((directive=>`'${directive.ruleId}'`));return{description:ruleIds.length<=2?ruleIds.join(" or "):`${ruleIds.slice(0,ruleIds.length-1).join(", ")}, or ${ruleIds[ruleIds.length-1]}`,fix:{range:range,text:" "},unprocessedDirective:directives[0].unprocessedDirective}}function processUnusedDisableDirectives(allDirectives){const directiveGroups=groupByParentComment(allDirectives);return directiveGroups.flatMap((directives=>{const{parentComment:parentComment}=directives[0].unprocessedDirective;const remainingRuleIds=new Set(parentComment.ruleIds);for(const directive of directives){remainingRuleIds.delete(directive.ruleId)}return remainingRuleIds.size?createIndividualDirectivesRemoval(directives,parentComment.commentToken):[createCommentRemoval(directives,parentComment.commentToken)]}))}function applyDirectives(options){const problems=[];const usedDisableDirectives=new Set;for(const problem of options.problems){let disableDirectivesForProblem=[];let nextDirectiveIndex=0;while(nextDirectiveIndex<options.directives.length&&compareLocations(options.directives[nextDirectiveIndex],problem)<=0){const directive=options.directives[nextDirectiveIndex++];if(directive.ruleId===null||directive.ruleId===problem.ruleId){switch(directive.type){case"disable":disableDirectivesForProblem.push(directive);break;case"enable":disableDirectivesForProblem=[];break}}}if(disableDirectivesForProblem.length>0){const suppressions=disableDirectivesForProblem.map((directive=>({kind:"directive",justification:directive.unprocessedDirective.justification})));if(problem.suppressions){problem.suppressions=problem.suppressions.concat(suppressions)}else{problem.suppressions=suppressions;usedDisableDirectives.add(disableDirectivesForProblem[disableDirectivesForProblem.length-1])}}problems.push(problem)}const unusedDisableDirectivesToReport=options.directives.filter((directive=>directive.type==="disable"&&!usedDisableDirectives.has(directive)));const processed=processUnusedDisableDirectives(unusedDisableDirectivesToReport);const unusedDisableDirectives=processed.map((({description:description,fix:fix,unprocessedDirective:unprocessedDirective})=>{const{parentComment:parentComment,type:type,line:line,column:column}=unprocessedDirective;return{ruleId:null,message:description?`Unused eslint-disable directive (no problems were reported from ${description}).`:"Unused eslint-disable directive (no problems were reported).",line:type==="disable-next-line"?parentComment.commentToken.loc.start.line:line,column:type==="disable-next-line"?parentComment.commentToken.loc.start.column+1:column,severity:options.reportUnusedDisableDirectives==="warn"?1:2,nodeType:null,...options.disableFixes?{}:{fix:fix}}}));return{problems:problems,unusedDisableDirectives:unusedDisableDirectives}}applyDisableDirectives=({directives:directives,disableFixes:disableFixes,problems:problems,reportUnusedDisableDirectives:reportUnusedDisableDirectives="off"})=>{const blockDirectives=directives.filter((directive=>directive.type==="disable"||directive.type==="enable")).map((directive=>Object.assign({},directive,{unprocessedDirective:directive}))).sort(compareLocations);const lineDirectives=directives.flatMap((directive=>{switch(directive.type){case"disable":case"enable":return[];case"disable-line":return[{type:"disable",line:directive.line,column:1,ruleId:directive.ruleId,unprocessedDirective:directive},{type:"enable",line:directive.line+1,column:0,ruleId:directive.ruleId,unprocessedDirective:directive}];case"disable-next-line":return[{type:"disable",line:directive.line+1,column:1,ruleId:directive.ruleId,unprocessedDirective:directive},{type:"enable",line:directive.line+2,column:0,ruleId:directive.ruleId,unprocessedDirective:directive}];default:throw new TypeError(`Unrecognized directive type '${directive.type}'`)}})).sort(compareLocations);const blockDirectivesResult=applyDirectives({problems:problems,directives:blockDirectives,disableFixes:disableFixes,reportUnusedDisableDirectives:reportUnusedDisableDirectives});const lineDirectivesResult=applyDirectives({problems:blockDirectivesResult.problems,directives:lineDirectives,disableFixes:disableFixes,reportUnusedDisableDirectives:reportUnusedDisableDirectives});return reportUnusedDisableDirectives!=="off"?lineDirectivesResult.problems.concat(blockDirectivesResult.unusedDisableDirectives).concat(lineDirectivesResult.unusedDisableDirectives).sort(compareLocations):lineDirectivesResult.problems};return applyDisableDirectives}var lib$2={exports:{}};var parseString={exports:{}};var Func;var hasRequiredFunc;function requireFunc(){if(hasRequiredFunc)return Func;hasRequiredFunc=1;var apply,curry,flip,fix,over,memoize,toString$={}.toString;apply=curry$((function(f,list){return f.apply(null,list)}));curry=function(f){return curry$(f)};flip=curry$((function(f,x,y){return f(y,x)}));fix=function(f){return function(g){return function(){return f(g(g)).apply(null,arguments)}}((function(g){return function(){return f(g(g)).apply(null,arguments)}}))};over=curry$((function(f,g,x,y){return f(g(x),g(y))}));memoize=function(f){var memo;memo={};return function(){var args,res$,i$,to$,key,arg;res$=[];for(i$=0,to$=arguments.length;i$<to$;++i$){res$.push(arguments[i$])}args=res$;key=function(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=args).length;i$<len$;++i$){arg=ref$[i$];results$.push(arg+toString$.call(arg).slice(8,-1))}return results$}().join("");return memo[key]=key in memo?memo[key]:f.apply(null,args)}};Func={curry:curry,flip:flip,fix:fix,apply:apply,over:over,memoize:memoize};function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];context=bound?context||this:this;return params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}return Func}var List;var hasRequiredList;function requireList(){if(hasRequiredList)return List;hasRequiredList=1;var each,map,compact,filter,reject,remove,partition,find,head,first,tail,last,initial,empty,reverse,unique,uniqueBy,fold,foldl,fold1,foldl1,foldr,foldr1,unfoldr,concat,concatMap,flatten,difference,intersection,union,countBy,groupBy,andList,orList,any,all,sort,sortWith,sortBy,sum,product,mean,average,maximum,minimum,maximumBy,minimumBy,scan,scanl,scan1,scanl1,scanr,scanr1,slice,take,drop,splitAt,takeWhile,dropWhile,span,breakList,zip,zipWith,zipAll,zipAllWith,at,elemIndex,elemIndices,findIndex,findIndices,toString$={}.toString;each=curry$((function(f,xs){var i$,len$,x;for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];f(x)}return xs}));map=curry$((function(f,xs){var i$,len$,x,results$=[];for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];results$.push(f(x))}return results$}));compact=function(xs){var i$,len$,x,results$=[];for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];if(x){results$.push(x)}}return results$};filter=curry$((function(f,xs){var i$,len$,x,results$=[];for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];if(f(x)){results$.push(x)}}return results$}));reject=curry$((function(f,xs){var i$,len$,x,results$=[];for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];if(!f(x)){results$.push(x)}}return results$}));remove=curry$((function(el,xs){var i,x$;i=elemIndex(el,xs);x$=xs.slice();if(i!=null){x$.splice(i,1)}return x$}));partition=curry$((function(f,xs){var passed,failed,i$,len$,x;passed=[];failed=[];for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];(f(x)?passed:failed).push(x)}return[passed,failed]}));find=curry$((function(f,xs){var i$,len$,x;for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];if(f(x)){return x}}}));head=first=function(xs){return xs[0]};tail=function(xs){if(!xs.length){return}return xs.slice(1)};last=function(xs){return xs[xs.length-1]};initial=function(xs){if(!xs.length){return}return xs.slice(0,-1)};empty=function(xs){return!xs.length};reverse=function(xs){return xs.concat().reverse()};unique=function(xs){var result,i$,len$,x;result=[];for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];if(!in$(x,result)){result.push(x)}}return result};uniqueBy=curry$((function(f,xs){var seen,i$,len$,x,val,results$=[];seen=[];for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];val=f(x);if(in$(val,seen)){continue}seen.push(val);results$.push(x)}return results$}));fold=foldl=curry$((function(f,memo,xs){var i$,len$,x;for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];memo=f(memo,x)}return memo}));fold1=foldl1=curry$((function(f,xs){return fold(f,xs[0],xs.slice(1))}));foldr=curry$((function(f,memo,xs){var i$,x;for(i$=xs.length-1;i$>=0;--i$){x=xs[i$];memo=f(x,memo)}return memo}));foldr1=curry$((function(f,xs){return foldr(f,xs[xs.length-1],xs.slice(0,-1))}));unfoldr=curry$((function(f,b){var result,x,that;result=[];x=b;while((that=f(x))!=null){result.push(that[0]);x=that[1]}return result}));concat=function(xss){return[].concat.apply([],xss)};concatMap=curry$((function(f,xs){var x;return[].concat.apply([],function(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=xs).length;i$<len$;++i$){x=ref$[i$];results$.push(f(x))}return results$}())}));flatten=function(xs){var x;return[].concat.apply([],function(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=xs).length;i$<len$;++i$){x=ref$[i$];if(toString$.call(x).slice(8,-1)==="Array"){results$.push(flatten(x))}else{results$.push(x)}}return results$}())};difference=function(xs){var yss,res$,i$,to$,results,len$,x,j$,len1$,ys;res$=[];for(i$=1,to$=arguments.length;i$<to$;++i$){res$.push(arguments[i$])}yss=res$;results=[];outer:for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];for(j$=0,len1$=yss.length;j$<len1$;++j$){ys=yss[j$];if(in$(x,ys)){continue outer}}results.push(x)}return results};intersection=function(xs){var yss,res$,i$,to$,results,len$,x,j$,len1$,ys;res$=[];for(i$=1,to$=arguments.length;i$<to$;++i$){res$.push(arguments[i$])}yss=res$;results=[];outer:for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];for(j$=0,len1$=yss.length;j$<len1$;++j$){ys=yss[j$];if(!in$(x,ys)){continue outer}}results.push(x)}return results};union=function(){var xss,res$,i$,to$,results,len$,xs,j$,len1$,x;res$=[];for(i$=0,to$=arguments.length;i$<to$;++i$){res$.push(arguments[i$])}xss=res$;results=[];for(i$=0,len$=xss.length;i$<len$;++i$){xs=xss[i$];for(j$=0,len1$=xs.length;j$<len1$;++j$){x=xs[j$];if(!in$(x,results)){results.push(x)}}}return results};countBy=curry$((function(f,xs){var results,i$,len$,x,key;results={};for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];key=f(x);if(key in results){results[key]+=1}else{results[key]=1}}return results}));groupBy=curry$((function(f,xs){var results,i$,len$,x,key;results={};for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];key=f(x);if(key in results){results[key].push(x)}else{results[key]=[x]}}return results}));andList=function(xs){var i$,len$,x;for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];if(!x){return false}}return true};orList=function(xs){var i$,len$,x;for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];if(x){return true}}return false};any=curry$((function(f,xs){var i$,len$,x;for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];if(f(x)){return true}}return false}));all=curry$((function(f,xs){var i$,len$,x;for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];if(!f(x)){return false}}return true}));sort=function(xs){return xs.concat().sort((function(x,y){if(x>y){return 1}else if(x<y){return-1}else{return 0}}))};sortWith=curry$((function(f,xs){return xs.concat().sort(f)}));sortBy=curry$((function(f,xs){return xs.concat().sort((function(x,y){if(f(x)>f(y)){return 1}else if(f(x)<f(y)){return-1}else{return 0}}))}));sum=function(xs){var result,i$,len$,x;result=0;for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];result+=x}return result};product=function(xs){var result,i$,len$,x;result=1;for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];result*=x}return result};mean=average=function(xs){var sum,i$,len$,x;sum=0;for(i$=0,len$=xs.length;i$<len$;++i$){x=xs[i$];sum+=x}return sum/xs.length};maximum=function(xs){var max,i$,ref$,len$,x;max=xs[0];for(i$=0,len$=(ref$=xs.slice(1)).length;i$<len$;++i$){x=ref$[i$];if(x>max){max=x}}return max};minimum=function(xs){var min,i$,ref$,len$,x;min=xs[0];for(i$=0,len$=(ref$=xs.slice(1)).length;i$<len$;++i$){x=ref$[i$];if(x<min){min=x}}return min};maximumBy=curry$((function(f,xs){var max,i$,ref$,len$,x;max=xs[0];for(i$=0,len$=(ref$=xs.slice(1)).length;i$<len$;++i$){x=ref$[i$];if(f(x)>f(max)){max=x}}return max}));minimumBy=curry$((function(f,xs){var min,i$,ref$,len$,x;min=xs[0];for(i$=0,len$=(ref$=xs.slice(1)).length;i$<len$;++i$){x=ref$[i$];if(f(x)<f(min)){min=x}}return min}));scan=scanl=curry$((function(f,memo,xs){var last,x;last=memo;return[memo].concat(function(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=xs).length;i$<len$;++i$){x=ref$[i$];results$.push(last=f(last,x))}return results$}())}));scan1=scanl1=curry$((function(f,xs){if(!xs.length){return}return scan(f,xs[0],xs.slice(1))}));scanr=curry$((function(f,memo,xs){xs=xs.concat().reverse();return scan(f,memo,xs).reverse()}));scanr1=curry$((function(f,xs){if(!xs.length){return}xs=xs.concat().reverse();return scan(f,xs[0],xs.slice(1)).reverse()}));slice=curry$((function(x,y,xs){return xs.slice(x,y)}));take=curry$((function(n,xs){if(n<=0){return xs.slice(0,0)}else{return xs.slice(0,n)}}));drop=curry$((function(n,xs){if(n<=0){return xs}else{return xs.slice(n)}}));splitAt=curry$((function(n,xs){return[take(n,xs),drop(n,xs)]}));takeWhile=curry$((function(p,xs){var len,i;len=xs.length;if(!len){return xs}i=0;while(i<len&&p(xs[i])){i+=1}return xs.slice(0,i)}));dropWhile=curry$((function(p,xs){var len,i;len=xs.length;if(!len){return xs}i=0;while(i<len&&p(xs[i])){i+=1}return xs.slice(i)}));span=curry$((function(p,xs){return[takeWhile(p,xs),dropWhile(p,xs)]}));breakList=curry$((function(p,xs){return span(compose$(p,not$),xs)}));zip=curry$((function(xs,ys){var result,len,i$,len$,i,x;result=[];len=ys.length;for(i$=0,len$=xs.length;i$<len$;++i$){i=i$;x=xs[i$];if(i===len){break}result.push([x,ys[i]])}return result}));zipWith=curry$((function(f,xs,ys){var result,len,i$,len$,i,x;result=[];len=ys.length;for(i$=0,len$=xs.length;i$<len$;++i$){i=i$;x=xs[i$];if(i===len){break}result.push(f(x,ys[i]))}return result}));zipAll=function(){var xss,res$,i$,to$,minLength,len$,xs,ref$,i,lresult$,j$,results$=[];res$=[];for(i$=0,to$=arguments.length;i$<to$;++i$){res$.push(arguments[i$])}xss=res$;minLength=undefined;for(i$=0,len$=xss.length;i$<len$;++i$){xs=xss[i$];minLength<=(ref$=xs.length)||(minLength=ref$)}for(i$=0;i$<minLength;++i$){i=i$;lresult$=[];for(j$=0,len$=xss.length;j$<len$;++j$){xs=xss[j$];lresult$.push(xs[i])}results$.push(lresult$)}return results$};zipAllWith=function(f){var xss,res$,i$,to$,minLength,len$,xs,ref$,i,results$=[];res$=[];for(i$=1,to$=arguments.length;i$<to$;++i$){res$.push(arguments[i$])}xss=res$;minLength=undefined;for(i$=0,len$=xss.length;i$<len$;++i$){xs=xss[i$];minLength<=(ref$=xs.length)||(minLength=ref$)}for(i$=0;i$<minLength;++i$){i=i$;results$.push(f.apply(null,fn$()))}return results$;function fn$(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=xss).length;i$<len$;++i$){xs=ref$[i$];results$.push(xs[i])}return results$}};at=curry$((function(n,xs){if(n<0){return xs[xs.length+n]}else{return xs[n]}}));elemIndex=curry$((function(el,xs){var i$,len$,i,x;for(i$=0,len$=xs.length;i$<len$;++i$){i=i$;x=xs[i$];if(x===el){return i}}}));elemIndices=curry$((function(el,xs){var i$,len$,i,x,results$=[];for(i$=0,len$=xs.length;i$<len$;++i$){i=i$;x=xs[i$];if(x===el){results$.push(i)}}return results$}));findIndex=curry$((function(f,xs){var i$,len$,i,x;for(i$=0,len$=xs.length;i$<len$;++i$){i=i$;x=xs[i$];if(f(x)){return i}}}));findIndices=curry$((function(f,xs){var i$,len$,i,x,results$=[];for(i$=0,len$=xs.length;i$<len$;++i$){i=i$;x=xs[i$];if(f(x)){results$.push(i)}}return results$}));List={each:each,map:map,filter:filter,compact:compact,reject:reject,remove:remove,partition:partition,find:find,head:head,first:first,tail:tail,last:last,initial:initial,empty:empty,reverse:reverse,difference:difference,intersection:intersection,union:union,countBy:countBy,groupBy:groupBy,fold:fold,fold1:fold1,foldl:foldl,foldl1:foldl1,foldr:foldr,foldr1:foldr1,unfoldr:unfoldr,andList:andList,orList:orList,any:any,all:all,unique:unique,uniqueBy:uniqueBy,sort:sort,sortWith:sortWith,sortBy:sortBy,sum:sum,product:product,mean:mean,average:average,concat:concat,concatMap:concatMap,flatten:flatten,maximum:maximum,minimum:minimum,maximumBy:maximumBy,minimumBy:minimumBy,scan:scan,scan1:scan1,scanl:scanl,scanl1:scanl1,scanr:scanr,scanr1:scanr1,slice:slice,take:take,drop:drop,splitAt:splitAt,takeWhile:takeWhile,dropWhile:dropWhile,span:span,breakList:breakList,zip:zip,zipWith:zipWith,zipAll:zipAll,zipAllWith:zipAllWith,at:at,elemIndex:elemIndex,elemIndices:elemIndices,findIndex:findIndex,findIndices:findIndices};function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];context=bound?context||this:this;return params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}function in$(x,xs){var i=-1,l=xs.length>>>0;while(++i<l)if(x===xs[i])return true;return false}function compose$(){var functions=arguments;return function(){var i,result;result=functions[0].apply(this,arguments);for(i=1;i<functions.length;++i){result=functions[i](result)}return result}}function not$(x){return!x}return List}var Obj;var hasRequiredObj;function requireObj(){if(hasRequiredObj)return Obj;hasRequiredObj=1;var values,keys,pairsToObj,objToPairs,listsToObj,objToLists,empty,each,map,compact,filter,reject,partition,find;values=function(object){var i$,x,results$=[];for(i$ in object){x=object[i$];results$.push(x)}return results$};keys=function(object){var x,results$=[];for(x in object){results$.push(x)}return results$};pairsToObj=function(object){var i$,len$,x,resultObj$={};for(i$=0,len$=object.length;i$<len$;++i$){x=object[i$];resultObj$[x[0]]=x[1]}return resultObj$};objToPairs=function(object){var key,value,results$=[];for(key in object){value=object[key];results$.push([key,value])}return results$};listsToObj=curry$((function(keys,values){var i$,len$,i,key,resultObj$={};for(i$=0,len$=keys.length;i$<len$;++i$){i=i$;key=keys[i$];resultObj$[key]=values[i]}return resultObj$}));objToLists=function(object){var keys,values,key,value;keys=[];values=[];for(key in object){value=object[key];keys.push(key);values.push(value)}return[keys,values]};empty=function(object){var x;for(x in object){return false}return true};each=curry$((function(f,object){var i$,x;for(i$ in object){x=object[i$];f(x)}return object}));map=curry$((function(f,object){var k,x,resultObj$={};for(k in object){x=object[k];resultObj$[k]=f(x)}return resultObj$}));compact=function(object){var k,x,resultObj$={};for(k in object){x=object[k];if(x){resultObj$[k]=x}}return resultObj$};filter=curry$((function(f,object){var k,x,resultObj$={};for(k in object){x=object[k];if(f(x)){resultObj$[k]=x}}return resultObj$}));reject=curry$((function(f,object){var k,x,resultObj$={};for(k in object){x=object[k];if(!f(x)){resultObj$[k]=x}}return resultObj$}));partition=curry$((function(f,object){var passed,failed,k,x;passed={};failed={};for(k in object){x=object[k];(f(x)?passed:failed)[k]=x}return[passed,failed]}));find=curry$((function(f,object){var i$,x;for(i$ in object){x=object[i$];if(f(x)){return x}}}));Obj={values:values,keys:keys,pairsToObj:pairsToObj,objToPairs:objToPairs,listsToObj:listsToObj,objToLists:objToLists,empty:empty,each:each,map:map,filter:filter,compact:compact,reject:reject,partition:partition,find:find};function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];context=bound?context||this:this;return params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}return Obj}var Str;var hasRequiredStr;function requireStr(){if(hasRequiredStr)return Str;hasRequiredStr=1;var split,join,lines,unlines,words,unwords,chars,unchars,reverse,repeat,capitalize,camelize,dasherize;split=curry$((function(sep,str){return str.split(sep)}));join=curry$((function(sep,xs){return xs.join(sep)}));lines=function(str){if(!str.length){return[]}return str.split("\n")};unlines=function(it){return it.join("\n")};words=function(str){if(!str.length){return[]}return str.split(/[ ]+/)};unwords=function(it){return it.join(" ")};chars=function(it){return it.split("")};unchars=function(it){return it.join("")};reverse=function(str){return str.split("").reverse().join("")};repeat=curry$((function(n,str){var result,i$;result="";for(i$=0;i$<n;++i$){result+=str}return result}));capitalize=function(str){return str.charAt(0).toUpperCase()+str.slice(1)};camelize=function(it){return it.replace(/[-_]+(.)?/g,(function(arg$,c){return(c!=null?c:"").toUpperCase()}))};dasherize=function(str){return str.replace(/([^-A-Z])([A-Z]+)/g,(function(arg$,lower,upper){return lower+"-"+(upper.length>1?upper:upper.toLowerCase())})).replace(/^([A-Z]+)/,(function(arg$,upper){if(upper.length>1){return upper+"-"}else{return upper.toLowerCase()}}))};Str={split:split,join:join,lines:lines,unlines:unlines,words:words,unwords:unwords,chars:chars,unchars:unchars,reverse:reverse,repeat:repeat,capitalize:capitalize,camelize:camelize,dasherize:dasherize};function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];context=bound?context||this:this;return params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}return Str}var Num;var hasRequiredNum;function requireNum(){if(hasRequiredNum)return Num;hasRequiredNum=1;var max,min,negate,abs,signum,quot,rem,div,mod,recip,pi,tau,exp,sqrt,ln,pow,sin,tan,cos,asin,acos,atan,atan2,truncate,round,ceiling,floor,isItNaN,even,odd,gcd,lcm;max=curry$((function(x$,y$){return x$>y$?x$:y$}));min=curry$((function(x$,y$){return x$<y$?x$:y$}));negate=function(x){return-x};abs=Math.abs;signum=function(x){if(x<0){return-1}else if(x>0){return 1}else{return 0}};quot=curry$((function(x,y){return~~(x/y)}));rem=curry$((function(x$,y$){return x$%y$}));div=curry$((function(x,y){return Math.floor(x/y)}));mod=curry$((function(x$,y$){var ref$;return(x$%(ref$=y$)+ref$)%ref$}));recip=function(it){return 1/it};pi=Math.PI;tau=pi*2;exp=Math.exp;sqrt=Math.sqrt;ln=Math.log;pow=curry$((function(x$,y$){return Math.pow(x$,y$)}));sin=Math.sin;tan=Math.tan;cos=Math.cos;asin=Math.asin;acos=Math.acos;atan=Math.atan;atan2=curry$((function(x,y){return Math.atan2(x,y)}));truncate=function(x){return~~x};round=Math.round;ceiling=Math.ceil;floor=Math.floor;isItNaN=function(x){return x!==x};even=function(x){return x%2===0};odd=function(x){return x%2!==0};gcd=curry$((function(x,y){var z;x=Math.abs(x);y=Math.abs(y);while(y!==0){z=x%y;x=y;y=z}return x}));lcm=curry$((function(x,y){return Math.abs(Math.floor(x/gcd(x,y)*y))}));Num={max:max,min:min,negate:negate,abs:abs,signum:signum,quot:quot,rem:rem,div:div,mod:mod,recip:recip,pi:pi,tau:tau,exp:exp,sqrt:sqrt,ln:ln,pow:pow,sin:sin,tan:tan,cos:cos,acos:acos,asin:asin,atan:atan,atan2:atan2,truncate:truncate,round:round,ceiling:ceiling,floor:floor,isItNaN:isItNaN,even:even,odd:odd,gcd:gcd,lcm:lcm};function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];context=bound?context||this:this;return params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}return Num}var lib$1;var hasRequiredLib$2;function requireLib$2(){if(hasRequiredLib$2)return lib$1;hasRequiredLib$2=1;var Func,List,Obj,Str,Num,id,isType,replicate,prelude,toString$={}.toString;Func=requireFunc();List=requireList();Obj=requireObj();Str=requireStr();Num=requireNum();id=function(x){return x};isType=curry$((function(type,x){return toString$.call(x).slice(8,-1)===type}));replicate=curry$((function(n,x){var i$,results$=[];for(i$=0;i$<n;++i$){results$.push(x)}return results$}));Str.empty=List.empty;Str.slice=List.slice;Str.take=List.take;Str.drop=List.drop;Str.splitAt=List.splitAt;Str.takeWhile=List.takeWhile;Str.dropWhile=List.dropWhile;Str.span=List.span;Str.breakStr=List.breakList;prelude={Func:Func,List:List,Obj:Obj,Str:Str,Num:Num,id:id,isType:isType,replicate:replicate};prelude.each=List.each;prelude.map=List.map;prelude.filter=List.filter;prelude.compact=List.compact;prelude.reject=List.reject;prelude.partition=List.partition;prelude.find=List.find;prelude.head=List.head;prelude.first=List.first;prelude.tail=List.tail;prelude.last=List.last;prelude.initial=List.initial;prelude.empty=List.empty;prelude.reverse=List.reverse;prelude.difference=List.difference;prelude.intersection=List.intersection;prelude.union=List.union;prelude.countBy=List.countBy;prelude.groupBy=List.groupBy;prelude.fold=List.fold;prelude.foldl=List.foldl;prelude.fold1=List.fold1;prelude.foldl1=List.foldl1;prelude.foldr=List.foldr;prelude.foldr1=List.foldr1;prelude.unfoldr=List.unfoldr;prelude.andList=List.andList;prelude.orList=List.orList;prelude.any=List.any;prelude.all=List.all;prelude.unique=List.unique;prelude.uniqueBy=List.uniqueBy;prelude.sort=List.sort;prelude.sortWith=List.sortWith;prelude.sortBy=List.sortBy;prelude.sum=List.sum;prelude.product=List.product;prelude.mean=List.mean;prelude.average=List.average;prelude.concat=List.concat;prelude.concatMap=List.concatMap;prelude.flatten=List.flatten;prelude.maximum=List.maximum;prelude.minimum=List.minimum;prelude.maximumBy=List.maximumBy;prelude.minimumBy=List.minimumBy;prelude.scan=List.scan;prelude.scanl=List.scanl;prelude.scan1=List.scan1;prelude.scanl1=List.scanl1;prelude.scanr=List.scanr;prelude.scanr1=List.scanr1;prelude.slice=List.slice;prelude.take=List.take;prelude.drop=List.drop;prelude.splitAt=List.splitAt;prelude.takeWhile=List.takeWhile;prelude.dropWhile=List.dropWhile;prelude.span=List.span;prelude.breakList=List.breakList;prelude.zip=List.zip;prelude.zipWith=List.zipWith;prelude.zipAll=List.zipAll;prelude.zipAllWith=List.zipAllWith;prelude.at=List.at;prelude.elemIndex=List.elemIndex;prelude.elemIndices=List.elemIndices;prelude.findIndex=List.findIndex;prelude.findIndices=List.findIndices;prelude.apply=Func.apply;prelude.curry=Func.curry;prelude.flip=Func.flip;prelude.fix=Func.fix;prelude.over=Func.over;prelude.split=Str.split;prelude.join=Str.join;prelude.lines=Str.lines;prelude.unlines=Str.unlines;prelude.words=Str.words;prelude.unwords=Str.unwords;prelude.chars=Str.chars;prelude.unchars=Str.unchars;prelude.repeat=Str.repeat;prelude.capitalize=Str.capitalize;prelude.camelize=Str.camelize;prelude.dasherize=Str.dasherize;prelude.values=Obj.values;prelude.keys=Obj.keys;prelude.pairsToObj=Obj.pairsToObj;prelude.objToPairs=Obj.objToPairs;prelude.listsToObj=Obj.listsToObj;prelude.objToLists=Obj.objToLists;prelude.max=Num.max;prelude.min=Num.min;prelude.negate=Num.negate;prelude.abs=Num.abs;prelude.signum=Num.signum;prelude.quot=Num.quot;prelude.rem=Num.rem;prelude.div=Num.div;prelude.mod=Num.mod;prelude.recip=Num.recip;prelude.pi=Num.pi;prelude.tau=Num.tau;prelude.exp=Num.exp;prelude.sqrt=Num.sqrt;prelude.ln=Num.ln;prelude.pow=Num.pow;prelude.sin=Num.sin;prelude.tan=Num.tan;prelude.cos=Num.cos;prelude.acos=Num.acos;prelude.asin=Num.asin;prelude.atan=Num.atan;prelude.atan2=Num.atan2;prelude.truncate=Num.truncate;prelude.round=Num.round;prelude.ceiling=Num.ceiling;prelude.floor=Num.floor;prelude.isItNaN=Num.isItNaN;prelude.even=Num.even;prelude.odd=Num.odd;prelude.gcd=Num.gcd;prelude.lcm=Num.lcm;prelude.VERSION="1.2.1";lib$1=prelude;function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];context=bound?context||this:this;return params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}return lib$1}var hasRequiredParseString;function requireParseString(){if(hasRequiredParseString)return parseString.exports;hasRequiredParseString=1;(function(){var reject,special,tokenRegex;reject=requireLib$2().reject;function consumeOp(tokens,op){if(tokens[0]===op){return tokens.shift()}else{throw new Error("Expected '"+op+"', but got '"+tokens[0]+"' instead in "+JSON.stringify(tokens)+".")}}function maybeConsumeOp(tokens,op){if(tokens[0]===op){return tokens.shift()}}function consumeList(tokens,arg$,hasDelimiters){var open,close,result,untilTest;open=arg$[0],close=arg$[1];if(hasDelimiters){consumeOp(tokens,open)}result=[];untilTest=","+(hasDelimiters?close:"");while(tokens.length&&(hasDelimiters&&tokens[0]!==close)){result.push(consumeElement(tokens,untilTest));maybeConsumeOp(tokens,",")}if(hasDelimiters){consumeOp(tokens,close)}return result}function consumeArray(tokens,hasDelimiters){return consumeList(tokens,["[","]"],hasDelimiters)}function consumeTuple(tokens,hasDelimiters){return consumeList(tokens,["(",")"],hasDelimiters)}function consumeFields(tokens,hasDelimiters){var result,untilTest,key;if(hasDelimiters){consumeOp(tokens,"{")}result={};untilTest=","+(hasDelimiters?"}":"");while(tokens.length&&(!hasDelimiters||tokens[0]!=="}")){key=consumeValue(tokens,":");consumeOp(tokens,":");result[key]=consumeElement(tokens,untilTest);maybeConsumeOp(tokens,",")}if(hasDelimiters){consumeOp(tokens,"}")}return result}function consumeValue(tokens,untilTest){var out;untilTest==null&&(untilTest="");out="";while(tokens.length&&-1===untilTest.indexOf(tokens[0])){out+=tokens.shift()}return out}function consumeElement(tokens,untilTest){switch(tokens[0]){case"[":return consumeArray(tokens,true);case"(":return consumeTuple(tokens,true);case"{":return consumeFields(tokens,true);default:return consumeValue(tokens,untilTest)}}function consumeTopLevel(tokens,types,options){var ref$,type,structure,origTokens,result,finalResult,x$,y$;ref$=types[0],type=ref$.type,structure=ref$.structure;origTokens=tokens.concat();if(!options.explicit&&types.length===1&&(!type&&structure||(type==="Array"||type==="Object"))){result=structure==="array"||type==="Array"?consumeArray(tokens,tokens[0]==="["):structure==="tuple"?consumeTuple(tokens,tokens[0]==="("):consumeFields(tokens,tokens[0]==="{");finalResult=tokens.length?consumeElement(structure==="array"||type==="Array"?(x$=origTokens,x$.unshift("["),x$.push("]"),x$):(y$=origTokens,y$.unshift("("),y$.push(")"),y$)):result}else{finalResult=consumeElement(tokens)}return finalResult}special=/\[\]\(\)}{:,/.source;tokenRegex=RegExp("(\"(?:\\\\\"|[^\"])*\")|('(?:\\\\'|[^'])*')|(/(?:\\\\/|[^/])*/[a-zA-Z]*)|(#.*#)|(["+special+"])|([^\\s"+special+"](?:\\s*[^\\s"+special+"]+)*)|\\s*");parseString.exports=function(types,string,options){var tokens,node;options==null&&(options={});if(!options.explicit&&types.length===1&&types[0].type==="String"){return string}tokens=reject(not$,string.split(tokenRegex));node=consumeTopLevel(tokens,types,options);if(!node){throw new Error("Error parsing '"+string+"'.")}return node};function not$(x){return!x}}).call(this);return parseString.exports}var cast={exports:{}};var lib={exports:{}};var parseType={exports:{}};var hasRequiredParseType;function requireParseType(){if(hasRequiredParseType)return parseType.exports;hasRequiredParseType=1;(function(){var identifierRegex,tokenRegex;identifierRegex=/[\$\w]+/;function peek(tokens){var token;token=tokens[0];if(token==null){throw new Error("Unexpected end of input.")}return token}function consumeIdent(tokens){var token;token=peek(tokens);if(!identifierRegex.test(token)){throw new Error("Expected text, got '"+token+"' instead.")}return tokens.shift()}function consumeOp(tokens,op){var token;token=peek(tokens);if(token!==op){throw new Error("Expected '"+op+"', got '"+token+"' instead.")}return tokens.shift()}function maybeConsumeOp(tokens,op){var token;token=tokens[0];if(token===op){return tokens.shift()}else{return null}}function consumeArray(tokens){var types;consumeOp(tokens,"[");if(peek(tokens)==="]"){throw new Error("Must specify type of Array - eg. [Type], got [] instead.")}types=consumeTypes(tokens);consumeOp(tokens,"]");return{structure:"array",of:types}}function consumeTuple(tokens){var components;components=[];consumeOp(tokens,"(");if(peek(tokens)===")"){throw new Error("Tuple must be of at least length 1 - eg. (Type), got () instead.")}for(;;){components.push(consumeTypes(tokens));maybeConsumeOp(tokens,",");if(")"===peek(tokens)){break}}consumeOp(tokens,")");return{structure:"tuple",of:components}}function consumeFields(tokens){var fields,subset,ref$,key,types;fields={};consumeOp(tokens,"{");subset=false;for(;;){if(maybeConsumeOp(tokens,"...")){subset=true;break}ref$=consumeField(tokens),key=ref$[0],types=ref$[1];fields[key]=types;maybeConsumeOp(tokens,",");if("}"===peek(tokens)){break}}consumeOp(tokens,"}");return{structure:"fields",of:fields,subset:subset}}function consumeField(tokens){var key,types;key=consumeIdent(tokens);consumeOp(tokens,":");types=consumeTypes(tokens);return[key,types]}function maybeConsumeStructure(tokens){switch(tokens[0]){case"[":return consumeArray(tokens);case"(":return consumeTuple(tokens);case"{":return consumeFields(tokens)}}function consumeType(tokens){var token,wildcard,type,structure;token=peek(tokens);wildcard=token==="*";if(wildcard||identifierRegex.test(token)){type=wildcard?consumeOp(tokens,"*"):consumeIdent(tokens);structure=maybeConsumeStructure(tokens);if(structure){return structure.type=type,structure}else{return{type:type}}}else{structure=maybeConsumeStructure(tokens);if(!structure){throw new Error("Unexpected character: "+token)}return structure}}function consumeTypes(tokens){var lookahead,types,typesSoFar,typeObj,type,structure;if("::"===peek(tokens)){throw new Error("No comment before comment separator '::' found.")}lookahead=tokens[1];if(lookahead!=null&&lookahead==="::"){tokens.shift();tokens.shift()}types=[];typesSoFar={};if("Maybe"===peek(tokens)){tokens.shift();types=[{type:"Undefined"},{type:"Null"}];typesSoFar={Undefined:true,Null:true}}for(;;){typeObj=consumeType(tokens),type=typeObj.type,structure=typeObj.structure;if(!typesSoFar[type]){types.push(typeObj)}if(structure==null){typesSoFar[type]=true}if(!maybeConsumeOp(tokens,"|")){break}}return types}tokenRegex=RegExp("\\.\\.\\.|::|->|"+identifierRegex.source+"|\\S","g");parseType.exports=function(input){var tokens,e;if(!input.length){throw new Error("No type specified.")}tokens=input.match(tokenRegex)||[];if(in$("->",tokens)){throw new Error("Function types are not supported. To validate that something is a function, you may use 'Function'.")}try{return consumeTypes(tokens)}catch(e$){e=e$;throw new Error(e.message+" - Remaining tokens: "+JSON.stringify(tokens)+" - Initial input: '"+input+"'")}};function in$(x,xs){var i=-1,l=xs.length>>>0;while(++i<l)if(x===xs[i])return true;return false}}).call(this);return parseType.exports}var check={exports:{}};var hasRequiredCheck;function requireCheck(){if(hasRequiredCheck)return check.exports;hasRequiredCheck=1;(function(){var ref$,any,all,isItNaN,types,defaultType,toString$={}.toString;ref$=requireLib$2(),any=ref$.any,all=ref$.all,isItNaN=ref$.isItNaN;types={Number:{typeOf:"Number",validate:function(it){return!isItNaN(it)}},NaN:{typeOf:"Number",validate:isItNaN},Int:{typeOf:"Number",validate:function(it){return!isItNaN(it)&&it%1===0}},Float:{typeOf:"Number",validate:function(it){return!isItNaN(it)}},Date:{typeOf:"Date",validate:function(it){return!isItNaN(it.getTime())}}};defaultType={array:"Array",tuple:"Array"};function checkArray(input,type,options){return all((function(it){return checkMultiple(it,type.of,options)}),input)}function checkTuple(input,type,options){var i,i$,ref$,len$,types;i=0;for(i$=0,len$=(ref$=type.of).length;i$<len$;++i$){types=ref$[i$];if(!checkMultiple(input[i],types,options)){return false}i++}return input.length<=i}function checkFields(input,type,options){var inputKeys,numInputKeys,k,numOfKeys,key,ref$,types;inputKeys={};numInputKeys=0;for(k in input){inputKeys[k]=true;numInputKeys++}numOfKeys=0;for(key in ref$=type.of){types=ref$[key];if(!checkMultiple(input[key],types,options)){return false}if(inputKeys[key]){numOfKeys++}}return type.subset||numInputKeys===numOfKeys}function checkStructure(input,type,options){if(!(input instanceof Object)){return false}switch(type.structure){case"fields":return checkFields(input,type,options);case"array":return checkArray(input,type,options);case"tuple":return checkTuple(input,type,options)}}function check$1(input,typeObj,options){var type,structure,setting,that;type=typeObj.type,structure=typeObj.structure;if(type){if(type==="*"){return true}setting=options.customTypes[type]||types[type];if(setting){return(setting.typeOf===void 8||setting.typeOf===toString$.call(input).slice(8,-1))&&setting.validate(input)}else{return type===toString$.call(input).slice(8,-1)&&(!structure||checkStructure(input,typeObj,options))}}else if(structure){if(that=defaultType[structure]){if(that!==toString$.call(input).slice(8,-1)){return false}}return checkStructure(input,typeObj,options)}else{throw new Error("No type defined. Input: "+input+".")}}function checkMultiple(input,types,options){if(toString$.call(types).slice(8,-1)!=="Array"){throw new Error("Types must be in an array. Input: "+input+".")}return any((function(it){return check$1(input,it,options)}),types)}check.exports=function(parsedType,input,options){options==null&&(options={});if(options.customTypes==null){options.customTypes={}}return checkMultiple(input,parsedType,options)}}).call(this);return check.exports}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib.exports;hasRequiredLib$1=1;(function(){var VERSION,parseType,parsedTypeCheck,typeCheck;VERSION="0.4.0";parseType=requireParseType();parsedTypeCheck=requireCheck();typeCheck=function(type,input,options){return parsedTypeCheck(parseType(type),input,options)};lib.exports={VERSION:VERSION,typeCheck:typeCheck,parsedTypeCheck:parsedTypeCheck,parseType:parseType}}).call(this);return lib.exports}var hasRequiredCast;function requireCast(){if(hasRequiredCast)return cast.exports;hasRequiredCast=1;(function(){var parsedTypeCheck,types,toString$={}.toString;parsedTypeCheck=requireLib$1().parsedTypeCheck;types={"*":function(value,options){switch(toString$.call(value).slice(8,-1)){case"Array":return typeCast(value,{type:"Array"},options);case"Object":return typeCast(value,{type:"Object"},options);default:return{type:"Just",value:typesCast(value,[{type:"Undefined"},{type:"Null"},{type:"NaN"},{type:"Boolean"},{type:"Number"},{type:"Date"},{type:"RegExp"},{type:"Array"},{type:"Object"},{type:"String"}],(options.explicit=true,options))}}},Undefined:function(it){if(it==="undefined"||it===void 8){return{type:"Just",value:void 8}}else{return{type:"Nothing"}}},Null:function(it){if(it==="null"){return{type:"Just",value:null}}else{return{type:"Nothing"}}},NaN:function(it){if(it==="NaN"){return{type:"Just",value:NaN}}else{return{type:"Nothing"}}},Boolean:function(it){if(it==="true"){return{type:"Just",value:true}}else if(it==="false"){return{type:"Just",value:false}}else{return{type:"Nothing"}}},Number:function(it){return{type:"Just",value:+it}},Int:function(it){return{type:"Just",value:+it}},Float:function(it){return{type:"Just",value:+it}},Date:function(value,options){var that;if(that=/^\#([\s\S]*)\#$/.exec(value)){return{type:"Just",value:new Date(+that[1]||that[1])}}else if(options.explicit){return{type:"Nothing"}}else{return{type:"Just",value:new Date(+value||value)}}},RegExp:function(value,options){var that;if(that=/^\/([\s\S]*)\/([gimy]*)$/.exec(value)){return{type:"Just",value:new RegExp(that[1],that[2])}}else if(options.explicit){return{type:"Nothing"}}else{return{type:"Just",value:new RegExp(value)}}},Array:function(value,options){return castArray(value,{of:[{type:"*"}]},options)},Object:function(value,options){return castFields(value,{of:{}},options)},String:function(it){var replace,that;if(toString$.call(it).slice(8,-1)!=="String"){return{type:"Nothing"}}replace=function(value,quote){return value.replace(/\\([^u]|u[0-9a-fA-F]{4})/g,(function(all,escaped){switch(escaped[0]){case quote:return quote;case"\\":return"\\";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"u":return JSON.parse('"'+all+'"');default:return escaped}}))};if(that=it.match(/^'([\s\S]*)'$/)){return{type:"Just",value:replace(that[1],"'")}}else if(that=it.match(/^"([\s\S]*)"$/)){return{type:"Just",value:replace(that[1],'"')}}else{return{type:"Just",value:it}}}};function castArray(node,type,options){var typeOf,element;if(toString$.call(node).slice(8,-1)!=="Array"){return{type:"Nothing"}}typeOf=type.of;return{type:"Just",value:function(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=node).length;i$<len$;++i$){element=ref$[i$];results$.push(typesCast(element,typeOf,options))}return results$}()}}function castTuple(node,type,options){var result,i,i$,ref$,len$,types,cast;if(toString$.call(node).slice(8,-1)!=="Array"){return{type:"Nothing"}}result=[];i=0;for(i$=0,len$=(ref$=type.of).length;i$<len$;++i$){types=ref$[i$];cast=typesCast(node[i],types,options);if(toString$.call(cast).slice(8,-1)!=="Undefined"){result.push(cast)}i++}if(node.length<=i){return{type:"Just",value:result}}else{return{type:"Nothing"}}}function castFields(node,type,options){var typeOf,key,value;if(toString$.call(node).slice(8,-1)!=="Object"){return{type:"Nothing"}}typeOf=type.of;return{type:"Just",value:function(){var ref$,resultObj$={};for(key in ref$=node){value=ref$[key];resultObj$[typesCast(key,[{type:"String"}],options)]=typesCast(value,typeOf[key]||[{type:"*"}],options)}return resultObj$}()}}function typeCast(node,typeObj,options){var type,structure,castFunc,ref$;type=typeObj.type,structure=typeObj.structure;if(type){castFunc=((ref$=options.customTypes[type])!=null?ref$.cast:void 8)||types[type];if(!castFunc){throw new Error("Type not defined: "+type+".")}return castFunc(node,options,typesCast)}else{switch(structure){case"array":return castArray(node,typeObj,options);case"tuple":return castTuple(node,typeObj,options);case"fields":return castFields(node,typeObj,options)}}}function typesCast(node,types,options){var i$,len$,type,ref$,valueType,value;for(i$=0,len$=types.length;i$<len$;++i$){type=types[i$];ref$=typeCast(node,type,options),valueType=ref$.type,value=ref$.value;if(valueType==="Nothing"){continue}if(parsedTypeCheck([type],value,{customTypes:options.customTypes})){return value}}throw new Error("Value "+JSON.stringify(node)+" does not type check against "+JSON.stringify(types)+".")}cast.exports=function(node,types,options){if(!options.explicit&&types.length===1&&types[0].type==="String"){return node}return typesCast(node,types,options)}}).call(this);return cast.exports}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib$2.exports;hasRequiredLib=1;(function(){var parseString,cast,parseType,VERSION,parsedTypeParse,parse;parseString=requireParseString();cast=requireCast();parseType=requireLib$1().parseType;VERSION="0.4.1";parsedTypeParse=function(parsedType,string,options){options==null&&(options={});options.explicit==null&&(options.explicit=false);options.customTypes==null&&(options.customTypes={});return cast(parseString(parsedType,string,options),parsedType,options)};parse=function(type,string,options){return parsedTypeParse(parseType(type),string,options)};lib$2.exports={VERSION:VERSION,parse:parse,parsedTypeParse:parsedTypeParse}}).call(this);return lib$2.exports}var configCommentParser;var hasRequiredConfigCommentParser;function requireConfigCommentParser(){if(hasRequiredConfigCommentParser)return configCommentParser;hasRequiredConfigCommentParser=1;const levn=requireLib(),{Legacy:{ConfigOps:ConfigOps}}=requireEslintrcUniversal();const debug=requireSrc$1()("eslint:config-comment-parser");configCommentParser=class ConfigCommentParser{parseStringConfig(string,comment){debug("Parsing String config");const items={};const trimmedString=string.replace(/\s*([:,])\s*/gu,"$1");trimmedString.split(/\s|,+/u).forEach((name=>{if(!name){return}const[key,value=null]=name.split(":");items[key]={value:value,comment:comment}}));return items}parseJsonConfig(string,location){debug("Parsing JSON config");let items={};try{items=levn.parse("Object",string)||{};if(ConfigOps.isEverySeverityValid(items)){return{success:true,config:items}}}catch{debug("Levn parsing failed; falling back to manual parsing.")}items={};const normalizedString=string.replace(/([-a-zA-Z0-9/]+):/gu,'"$1":').replace(/(\]|[0-9])\s+(?=")/u,"$1,");try{items=JSON.parse(`{${normalizedString}}`)}catch(ex){debug("Manual parsing failed.");return{success:false,error:{ruleId:null,fatal:true,severity:2,message:`Failed to parse JSON from '${normalizedString}': ${ex.message}`,line:location.start.line,column:location.start.column+1}}}return{success:true,config:items}}parseListConfig(string){debug("Parsing list config");const items={};string.split(",").forEach((name=>{const trimmedName=name.trim();if(trimmedName){items[trimmedName]=true}}));return items}};return configCommentParser}function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw i}}}}function i(e,t){return e(t={exports:{}},t.exports),t.exports}var s=i((function(e,t){!function e(t){var r,n,a,o,i,s;function l(e){var t,r,n={};for(t in e)e.hasOwnProperty(t)&&(r=e[t],n[t]="object"==typeof r&&null!==r?l(r):r);return n}function u(e,t){this.parent=e,this.key=t}function c(e,t,r,n){this.node=e,this.path=t,this.wrap=r,this.ref=n}function f(){}function p(e){return null!=e&&("object"==typeof e&&"string"==typeof e.type)}function h(e,t){return(e===r.ObjectExpression||e===r.ObjectPattern)&&"properties"===t}function y(e,t){for(var r=e.length-1;r>=0;--r)if(e[r].node===t)return!0;return!1}function d(e,t){return(new f).traverse(e,t)}function m(e,t){var r;return r=function(e,t){var r,n,a,o;for(n=e.length,a=0;n;)t(e[o=a+(r=n>>>1)])?n=r:(a=o+1,n-=r+1);return a}(t,(function(t){return t.range[0]>e.range[0]})),e.extendedRange=[e.range[0],e.range[1]],r!==t.length&&(e.extendedRange[1]=t[r].range[0]),(r-=1)>=0&&(e.extendedRange[0]=t[r].range[1]),e}return r={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},a={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},n={Break:o={},Skip:i={},Remove:s={}},u.prototype.replace=function(e){this.parent[this.key]=e},u.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},f.prototype.path=function(){var e,t,r,n,a;function o(e,t){if(Array.isArray(t))for(r=0,n=t.length;r<n;++r)e.push(t[r]);else e.push(t)}if(!this.__current.path)return null;for(a=[],e=2,t=this.__leavelist.length;e<t;++e)o(a,this.__leavelist[e].path);return o(a,this.__current.path),a},f.prototype.type=function(){return this.current().type||this.__current.wrap},f.prototype.parents=function(){var e,t,r;for(r=[],e=1,t=this.__leavelist.length;e<t;++e)r.push(this.__leavelist[e].node);return r},f.prototype.current=function(){return this.__current.node},f.prototype.__execute=function(e,t){var r,n;return n=void 0,r=this.__current,this.__current=t,this.__state=null,e&&(n=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=r,n},f.prototype.notify=function(e){this.__state=e},f.prototype.skip=function(){this.notify(i)},f.prototype.break=function(){this.notify(o)},f.prototype.remove=function(){this.notify(s)},f.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,"iteration"===t.fallback?this.__fallback=Object.keys:"function"==typeof t.fallback&&(this.__fallback=t.fallback),this.__keys=a,t.keys&&(this.__keys=Object.assign(Object.create(this.__keys),t.keys))},f.prototype.traverse=function(e,t){var r,n,a,s,l,u,f,d,m,x,v,g;for(this.__initialize(e,t),g={},r=this.__worklist,n=this.__leavelist,r.push(new c(e,null,null,null)),n.push(new c(null,null,null,null));r.length;)if((a=r.pop())!==g){if(a.node){if(u=this.__execute(t.enter,a),this.__state===o||u===o)return;if(r.push(g),n.push(a),this.__state===i||u===i)continue;if(l=(s=a.node).type||a.wrap,!(x=this.__keys[l])){if(!this.__fallback)throw new Error("Unknown node type "+l+".");x=this.__fallback(s)}for(d=x.length;(d-=1)>=0;)if(v=s[f=x[d]])if(Array.isArray(v)){for(m=v.length;(m-=1)>=0;)if(v[m]&&!y(n,v[m])){if(h(l,x[d]))a=new c(v[m],[f,m],"Property",null);else{if(!p(v[m]))continue;a=new c(v[m],[f,m],null,null)}r.push(a)}}else if(p(v)){if(y(n,v))continue;r.push(new c(v,f,null,null))}}}else if(a=n.pop(),u=this.__execute(t.leave,a),this.__state===o||u===o)return},f.prototype.replace=function(e,t){var r,n,a,l,f,y,d,m,x,v,g,b,A;function E(e){var t,n,a,o;if(e.ref.remove())for(n=e.ref.key,o=e.ref.parent,t=r.length;t--;)if((a=r[t]).ref&&a.ref.parent===o){if(a.ref.key<n)break;--a.ref.key}}for(this.__initialize(e,t),g={},r=this.__worklist,n=this.__leavelist,y=new c(e,null,null,new u(b={root:e},"root")),r.push(y),n.push(y);r.length;)if((y=r.pop())!==g){if(void 0!==(f=this.__execute(t.enter,y))&&f!==o&&f!==i&&f!==s&&(y.ref.replace(f),y.node=f),this.__state!==s&&f!==s||(E(y),y.node=null),this.__state===o||f===o)return b.root;if((a=y.node)&&(r.push(g),n.push(y),this.__state!==i&&f!==i)){if(l=a.type||y.wrap,!(x=this.__keys[l])){if(!this.__fallback)throw new Error("Unknown node type "+l+".");x=this.__fallback(a)}for(d=x.length;(d-=1)>=0;)if(v=a[A=x[d]])if(Array.isArray(v)){for(m=v.length;(m-=1)>=0;)if(v[m]){if(h(l,x[d]))y=new c(v[m],[A,m],"Property",new u(v,m));else{if(!p(v[m]))continue;y=new c(v[m],[A,m],null,new u(v,m))}r.push(y)}}else p(v)&&r.push(new c(v,A,null,new u(a,A)))}}else if(y=n.pop(),void 0!==(f=this.__execute(t.leave,y))&&f!==o&&f!==i&&f!==s&&y.ref.replace(f),this.__state!==s&&f!==s||E(y),this.__state===o||f===o)return b.root;return b.root},t.Syntax=r,t.traverse=d,t.replace=function(e,t){return(new f).replace(e,t)},t.attachComments=function(e,t,r){var a,o,i,s,u=[];if(!e.range)throw new Error("attachComments needs range information");if(!r.length){if(t.length){for(i=0,o=t.length;i<o;i+=1)(a=l(t[i])).extendedRange=[0,e.range[0]],u.push(a);e.leadingComments=u}return e}for(i=0,o=t.length;i<o;i+=1)u.push(m(l(t[i]),r));return s=0,d(e,{enter:function(e){for(var t;s<u.length&&!((t=u[s]).extendedRange[1]>e.range[0]);)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),u.splice(s,1)):s+=1;return s===u.length?n.Break:u[s].extendedRange[0]>e.range[1]?n.Skip:void 0}}),s=0,d(e,{leave:function(e){for(var t;s<u.length&&(t=u[s],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),u.splice(s,1)):s+=1;return s===u.length?n.Break:u[s].extendedRange[0]>e.range[1]?n.Skip:void 0}}),e},t.VisitorKeys=a,t.VisitorOption=n,t.Controller=f,t.cloneEnvironment=function(){return e({})},t}(t)})),l=i((function(e){e.exports&&(e.exports=function(){function e(t,r,n,a){this.message=t,this.expected=r,this.found=n,this.location=a,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),e.buildMessage=function(e,t){var r={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?o(e.parts[t][0])+"-"+o(e.parts[t][1]):o(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}return"Expected "+function(e){var t,n,a,o=new Array(e.length);for(t=0;t<e.length;t++)o[t]=(a=e[t],r[a.type](a));if(o.sort(),o.length>0){for(t=1,n=1;t<o.length;t++)o[t-1]!==o[t]&&(o[n]=o[t],n++);o.length=n}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(e)+" but "+function(e){return e?'"'+a(e)+'"':"end of input"}(t)+" found."},{SyntaxError:e,parse:function(t,r){r=void 0!==r?r:{};var n,a,o,i,s={},l={start:be},u=be,c=de(" ",!1),f=/^[^ [\],():#!=><~+.]/,p=me([" ","[","]",",","(",")",":","#","!","=",">","<","~","+","."],!0,!1),h=de(">",!1),y=de("~",!1),d=de("+",!1),m=de(",",!1),x=de("!",!1),v=de("*",!1),g=de("#",!1),b=de("[",!1),A=de("]",!1),E=/^[><!]/,S=me([">","<","!"],!1,!1),_=de("=",!1),w=function(e){return(e||"")+"="},C=/^[><]/,P=me([">","<"],!1,!1),k=de(".",!1),D=function(e,t,r){return{type:"attribute",name:e,operator:t,value:r}},j=de('"',!1),I=/^[^\\"]/,T=me(["\\",'"'],!0,!1),F=de("\\",!1),L={type:"any"},O=function(e,t){return e+t},R=function(e){return{type:"literal",value:(t=e.join(""),t.replace(/\\(.)/g,(function(e,t){switch(t){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";default:return t}})))};var t},B=de("'",!1),M=/^[^\\']/,U=me(["\\","'"],!0,!1),V=/^[0-9]/,q=me([["0","9"]],!1,!1),N=de("type(",!1),W=/^[^ )]/,K=me([" ",")"],!0,!1),G=de(")",!1),z=/^[imsu]/,H=me(["i","m","s","u"],!1,!1),Y=de("/",!1),$=/^[^\/]/,J=me(["/"],!0,!1),Q=de(":not(",!1),X=de(":matches(",!1),Z=de(":has(",!1),ee=de(":first-child",!1),te=de(":last-child",!1),re=de(":nth-child(",!1),ne=de(":nth-last-child(",!1),ae=de(":",!1),oe=de("statement",!0),ie=de("expression",!0),se=de("declaration",!0),le=de("function",!0),ue=de("pattern",!0),ce=0,fe=[{line:1,column:1}],pe=0,he=[],ye={};if("startRule"in r){if(!(r.startRule in l))throw new Error("Can't start parsing from rule \""+r.startRule+'".');u=l[r.startRule]}function de(e,t){return{type:"literal",text:e,ignoreCase:t}}function me(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function xe(e){var r,n=fe[e];if(n)return n;for(r=e-1;!fe[r];)r--;for(n={line:(n=fe[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return fe[e]=n,n}function ve(e,t){var r=xe(e),n=xe(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function ge(e){ce<pe||(ce>pe&&(pe=ce,he=[]),he.push(e))}function be(){var e,t,r,n,a=30*ce+0,o=ye[a];return o?(ce=o.nextPos,o.result):(e=ce,(t=Ae())!==s&&(r=_e())!==s&&Ae()!==s?e=t=1===(n=r).length?n[0]:{type:"matches",selectors:n}:(ce=e,e=s),e===s&&(e=ce,(t=Ae())!==s&&(t=void 0),e=t),ye[a]={nextPos:ce,result:e},e)}function Ae(){var e,r,n=30*ce+1,a=ye[n];if(a)return ce=a.nextPos,a.result;for(e=[],32===t.charCodeAt(ce)?(r=" ",ce++):(r=s,ge(c));r!==s;)e.push(r),32===t.charCodeAt(ce)?(r=" ",ce++):(r=s,ge(c));return ye[n]={nextPos:ce,result:e},e}function Ee(){var e,r,n,a=30*ce+2,o=ye[a];if(o)return ce=o.nextPos,o.result;if(r=[],f.test(t.charAt(ce))?(n=t.charAt(ce),ce++):(n=s,ge(p)),n!==s)for(;n!==s;)r.push(n),f.test(t.charAt(ce))?(n=t.charAt(ce),ce++):(n=s,ge(p));else r=s;return r!==s&&(r=r.join("")),e=r,ye[a]={nextPos:ce,result:e},e}function Se(){var e,r,n,a=30*ce+3,o=ye[a];return o?(ce=o.nextPos,o.result):(e=ce,(r=Ae())!==s?(62===t.charCodeAt(ce)?(n=">",ce++):(n=s,ge(h)),n!==s&&Ae()!==s?e=r="child":(ce=e,e=s)):(ce=e,e=s),e===s&&(e=ce,(r=Ae())!==s?(126===t.charCodeAt(ce)?(n="~",ce++):(n=s,ge(y)),n!==s&&Ae()!==s?e=r="sibling":(ce=e,e=s)):(ce=e,e=s),e===s&&(e=ce,(r=Ae())!==s?(43===t.charCodeAt(ce)?(n="+",ce++):(n=s,ge(d)),n!==s&&Ae()!==s?e=r="adjacent":(ce=e,e=s)):(ce=e,e=s),e===s&&(e=ce,32===t.charCodeAt(ce)?(r=" ",ce++):(r=s,ge(c)),r!==s&&(n=Ae())!==s?e=r="descendant":(ce=e,e=s)))),ye[a]={nextPos:ce,result:e},e)}function _e(){var e,r,n,a,o,i,l,u,c=30*ce+4,f=ye[c];if(f)return ce=f.nextPos,f.result;if(e=ce,(r=we())!==s){for(n=[],a=ce,(o=Ae())!==s?(44===t.charCodeAt(ce)?(i=",",ce++):(i=s,ge(m)),i!==s&&(l=Ae())!==s&&(u=we())!==s?a=o=[o,i,l,u]:(ce=a,a=s)):(ce=a,a=s);a!==s;)n.push(a),a=ce,(o=Ae())!==s?(44===t.charCodeAt(ce)?(i=",",ce++):(i=s,ge(m)),i!==s&&(l=Ae())!==s&&(u=we())!==s?a=o=[o,i,l,u]:(ce=a,a=s)):(ce=a,a=s);n!==s?e=r=[r].concat(n.map((function(e){return e[3]}))):(ce=e,e=s)}else ce=e,e=s;return ye[c]={nextPos:ce,result:e},e}function we(){var e,t,r,n,a,o,i,l=30*ce+5,u=ye[l];if(u)return ce=u.nextPos,u.result;if(e=ce,(t=Ce())!==s){for(r=[],n=ce,(a=Se())!==s&&(o=Ce())!==s?n=a=[a,o]:(ce=n,n=s);n!==s;)r.push(n),n=ce,(a=Se())!==s&&(o=Ce())!==s?n=a=[a,o]:(ce=n,n=s);r!==s?(i=t,e=t=r.reduce((function(e,t){return{type:t[0],left:e,right:t[1]}}),i)):(ce=e,e=s)}else ce=e,e=s;return ye[l]={nextPos:ce,result:e},e}function Ce(){var e,r,n,a,o,i,l,u=30*ce+6,c=ye[u];if(c)return ce=c.nextPos,c.result;if(e=ce,33===t.charCodeAt(ce)?(r="!",ce++):(r=s,ge(x)),r===s&&(r=null),r!==s){if(n=[],(a=Pe())!==s)for(;a!==s;)n.push(a),a=Pe();else n=s;n!==s?(o=r,l=1===(i=n).length?i[0]:{type:"compound",selectors:i},o&&(l.subject=!0),e=r=l):(ce=e,e=s)}else ce=e,e=s;return ye[u]={nextPos:ce,result:e},e}function Pe(){var e,r=30*ce+7,n=ye[r];return n?(ce=n.nextPos,n.result):((e=function(){var e,r,n=30*ce+8,a=ye[n];return a?(ce=a.nextPos,a.result):(42===t.charCodeAt(ce)?(r="*",ce++):(r=s,ge(v)),r!==s&&(r={type:"wildcard",value:r}),e=r,ye[n]={nextPos:ce,result:e},e)}())===s&&(e=function(){var e,r,n,a=30*ce+9,o=ye[a];return o?(ce=o.nextPos,o.result):(e=ce,35===t.charCodeAt(ce)?(r="#",ce++):(r=s,ge(g)),r===s&&(r=null),r!==s&&(n=Ee())!==s?e=r={type:"identifier",value:n}:(ce=e,e=s),ye[a]={nextPos:ce,result:e},e)}())===s&&(e=function(){var e,r,n,a,o=30*ce+10,i=ye[o];return i?(ce=i.nextPos,i.result):(e=ce,91===t.charCodeAt(ce)?(r="[",ce++):(r=s,ge(b)),r!==s&&Ae()!==s&&(n=function(){var e,r,n,a,o=30*ce+14,i=ye[o];return i?(ce=i.nextPos,i.result):(e=ce,(r=ke())!==s&&Ae()!==s&&(n=function(){var e,r,n,a=30*ce+12,o=ye[a];return o?(ce=o.nextPos,o.result):(e=ce,33===t.charCodeAt(ce)?(r="!",ce++):(r=s,ge(x)),r===s&&(r=null),r!==s?(61===t.charCodeAt(ce)?(n="=",ce++):(n=s,ge(_)),n!==s?(r=w(r),e=r):(ce=e,e=s)):(ce=e,e=s),ye[a]={nextPos:ce,result:e},e)}())!==s&&Ae()!==s?((a=function(){var e,r,n,a,o,i=30*ce+18,l=ye[i];if(l)return ce=l.nextPos,l.result;if(e=ce,"type("===t.substr(ce,5)?(r="type(",ce+=5):(r=s,ge(N)),r!==s)if(Ae()!==s){if(n=[],W.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(K)),a!==s)for(;a!==s;)n.push(a),W.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(K));else n=s;n!==s&&(a=Ae())!==s?(41===t.charCodeAt(ce)?(o=")",ce++):(o=s,ge(G)),o!==s?(r={type:"type",value:n.join("")},e=r):(ce=e,e=s)):(ce=e,e=s)}else ce=e,e=s;else ce=e,e=s;return ye[i]={nextPos:ce,result:e},e}())===s&&(a=function(){var e,r,n,a,o,i,l=30*ce+20,u=ye[l];if(u)return ce=u.nextPos,u.result;if(e=ce,47===t.charCodeAt(ce)?(r="/",ce++):(r=s,ge(Y)),r!==s){if(n=[],$.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(J)),a!==s)for(;a!==s;)n.push(a),$.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(J));else n=s;n!==s?(47===t.charCodeAt(ce)?(a="/",ce++):(a=s,ge(Y)),a!==s?((o=function(){var e,r,n=30*ce+19,a=ye[n];if(a)return ce=a.nextPos,a.result;if(e=[],z.test(t.charAt(ce))?(r=t.charAt(ce),ce++):(r=s,ge(H)),r!==s)for(;r!==s;)e.push(r),z.test(t.charAt(ce))?(r=t.charAt(ce),ce++):(r=s,ge(H));else e=s;return ye[n]={nextPos:ce,result:e},e}())===s&&(o=null),o!==s?(i=o,r={type:"regexp",value:new RegExp(n.join(""),i?i.join(""):"")},e=r):(ce=e,e=s)):(ce=e,e=s)):(ce=e,e=s)}else ce=e,e=s;return ye[l]={nextPos:ce,result:e},e}()),a!==s?(r=D(r,n,a),e=r):(ce=e,e=s)):(ce=e,e=s),e===s&&(e=ce,(r=ke())!==s&&Ae()!==s&&(n=function(){var e,r,n,a=30*ce+11,o=ye[a];return o?(ce=o.nextPos,o.result):(e=ce,E.test(t.charAt(ce))?(r=t.charAt(ce),ce++):(r=s,ge(S)),r===s&&(r=null),r!==s?(61===t.charCodeAt(ce)?(n="=",ce++):(n=s,ge(_)),n!==s?(r=w(r),e=r):(ce=e,e=s)):(ce=e,e=s),e===s&&(C.test(t.charAt(ce))?(e=t.charAt(ce),ce++):(e=s,ge(P))),ye[a]={nextPos:ce,result:e},e)}())!==s&&Ae()!==s?((a=function(){var e,r,n,a,o,i,l=30*ce+15,u=ye[l];if(u)return ce=u.nextPos,u.result;if(e=ce,34===t.charCodeAt(ce)?(r='"',ce++):(r=s,ge(j)),r!==s){for(n=[],I.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(T)),a===s&&(a=ce,92===t.charCodeAt(ce)?(o="\\",ce++):(o=s,ge(F)),o!==s?(t.length>ce?(i=t.charAt(ce),ce++):(i=s,ge(L)),i!==s?(o=O(o,i),a=o):(ce=a,a=s)):(ce=a,a=s));a!==s;)n.push(a),I.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(T)),a===s&&(a=ce,92===t.charCodeAt(ce)?(o="\\",ce++):(o=s,ge(F)),o!==s?(t.length>ce?(i=t.charAt(ce),ce++):(i=s,ge(L)),i!==s?(o=O(o,i),a=o):(ce=a,a=s)):(ce=a,a=s));n!==s?(34===t.charCodeAt(ce)?(a='"',ce++):(a=s,ge(j)),a!==s?(r=R(n),e=r):(ce=e,e=s)):(ce=e,e=s)}else ce=e,e=s;if(e===s)if(e=ce,39===t.charCodeAt(ce)?(r="'",ce++):(r=s,ge(B)),r!==s){for(n=[],M.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(U)),a===s&&(a=ce,92===t.charCodeAt(ce)?(o="\\",ce++):(o=s,ge(F)),o!==s?(t.length>ce?(i=t.charAt(ce),ce++):(i=s,ge(L)),i!==s?(o=O(o,i),a=o):(ce=a,a=s)):(ce=a,a=s));a!==s;)n.push(a),M.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(U)),a===s&&(a=ce,92===t.charCodeAt(ce)?(o="\\",ce++):(o=s,ge(F)),o!==s?(t.length>ce?(i=t.charAt(ce),ce++):(i=s,ge(L)),i!==s?(o=O(o,i),a=o):(ce=a,a=s)):(ce=a,a=s));n!==s?(39===t.charCodeAt(ce)?(a="'",ce++):(a=s,ge(B)),a!==s?(r=R(n),e=r):(ce=e,e=s)):(ce=e,e=s)}else ce=e,e=s;return ye[l]={nextPos:ce,result:e},e}())===s&&(a=function(){var e,r,n,a,o,i,l,u=30*ce+16,c=ye[u];if(c)return ce=c.nextPos,c.result;for(e=ce,r=ce,n=[],V.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(q));a!==s;)n.push(a),V.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(q));if(n!==s?(46===t.charCodeAt(ce)?(a=".",ce++):(a=s,ge(k)),a!==s?r=n=[n,a]:(ce=r,r=s)):(ce=r,r=s),r===s&&(r=null),r!==s){if(n=[],V.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(q)),a!==s)for(;a!==s;)n.push(a),V.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(q));else n=s;n!==s?(i=n,l=(o=r)?[].concat.apply([],o).join(""):"",r={type:"literal",value:parseFloat(l+i.join(""))},e=r):(ce=e,e=s)}else ce=e,e=s;return ye[u]={nextPos:ce,result:e},e}())===s&&(a=function(){var e,t,r=30*ce+17,n=ye[r];return n?(ce=n.nextPos,n.result):((t=Ee())!==s&&(t={type:"literal",value:t}),e=t,ye[r]={nextPos:ce,result:e},e)}()),a!==s?(r=D(r,n,a),e=r):(ce=e,e=s)):(ce=e,e=s),e===s&&(e=ce,(r=ke())!==s&&(r={type:"attribute",name:r}),e=r)),ye[o]={nextPos:ce,result:e},e)}())!==s&&Ae()!==s?(93===t.charCodeAt(ce)?(a="]",ce++):(a=s,ge(A)),a!==s?e=r=n:(ce=e,e=s)):(ce=e,e=s),ye[o]={nextPos:ce,result:e},e)}())===s&&(e=function(){var e,r,n,a,o,i,l,u,c=30*ce+21,f=ye[c];if(f)return ce=f.nextPos,f.result;if(e=ce,46===t.charCodeAt(ce)?(r=".",ce++):(r=s,ge(k)),r!==s)if((n=Ee())!==s){for(a=[],o=ce,46===t.charCodeAt(ce)?(i=".",ce++):(i=s,ge(k)),i!==s&&(l=Ee())!==s?o=i=[i,l]:(ce=o,o=s);o!==s;)a.push(o),o=ce,46===t.charCodeAt(ce)?(i=".",ce++):(i=s,ge(k)),i!==s&&(l=Ee())!==s?o=i=[i,l]:(ce=o,o=s);a!==s?(u=n,r={type:"field",name:a.reduce((function(e,t){return e+t[0]+t[1]}),u)},e=r):(ce=e,e=s)}else ce=e,e=s;else ce=e,e=s;return ye[c]={nextPos:ce,result:e},e}())===s&&(e=function(){var e,r,n,a,o=30*ce+22,i=ye[o];return i?(ce=i.nextPos,i.result):(e=ce,":not("===t.substr(ce,5)?(r=":not(",ce+=5):(r=s,ge(Q)),r!==s&&Ae()!==s&&(n=_e())!==s&&Ae()!==s?(41===t.charCodeAt(ce)?(a=")",ce++):(a=s,ge(G)),a!==s?e=r={type:"not",selectors:n}:(ce=e,e=s)):(ce=e,e=s),ye[o]={nextPos:ce,result:e},e)}())===s&&(e=function(){var e,r,n,a,o=30*ce+23,i=ye[o];return i?(ce=i.nextPos,i.result):(e=ce,":matches("===t.substr(ce,9)?(r=":matches(",ce+=9):(r=s,ge(X)),r!==s&&Ae()!==s&&(n=_e())!==s&&Ae()!==s?(41===t.charCodeAt(ce)?(a=")",ce++):(a=s,ge(G)),a!==s?e=r={type:"matches",selectors:n}:(ce=e,e=s)):(ce=e,e=s),ye[o]={nextPos:ce,result:e},e)}())===s&&(e=function(){var e,r,n,a,o=30*ce+24,i=ye[o];return i?(ce=i.nextPos,i.result):(e=ce,":has("===t.substr(ce,5)?(r=":has(",ce+=5):(r=s,ge(Z)),r!==s&&Ae()!==s&&(n=_e())!==s&&Ae()!==s?(41===t.charCodeAt(ce)?(a=")",ce++):(a=s,ge(G)),a!==s?e=r={type:"has",selectors:n}:(ce=e,e=s)):(ce=e,e=s),ye[o]={nextPos:ce,result:e},e)}())===s&&(e=function(){var e,r,n=30*ce+25,a=ye[n];return a?(ce=a.nextPos,a.result):(":first-child"===t.substr(ce,12)?(r=":first-child",ce+=12):(r=s,ge(ee)),r!==s&&(r=De(1)),e=r,ye[n]={nextPos:ce,result:e},e)}())===s&&(e=function(){var e,r,n=30*ce+26,a=ye[n];return a?(ce=a.nextPos,a.result):(":last-child"===t.substr(ce,11)?(r=":last-child",ce+=11):(r=s,ge(te)),r!==s&&(r=je(1)),e=r,ye[n]={nextPos:ce,result:e},e)}())===s&&(e=function(){var e,r,n,a,o,i=30*ce+27,l=ye[i];if(l)return ce=l.nextPos,l.result;if(e=ce,":nth-child("===t.substr(ce,11)?(r=":nth-child(",ce+=11):(r=s,ge(re)),r!==s)if(Ae()!==s){if(n=[],V.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(q)),a!==s)for(;a!==s;)n.push(a),V.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(q));else n=s;n!==s&&(a=Ae())!==s?(41===t.charCodeAt(ce)?(o=")",ce++):(o=s,ge(G)),o!==s?(r=De(parseInt(n.join(""),10)),e=r):(ce=e,e=s)):(ce=e,e=s)}else ce=e,e=s;else ce=e,e=s;return ye[i]={nextPos:ce,result:e},e}())===s&&(e=function(){var e,r,n,a,o,i=30*ce+28,l=ye[i];if(l)return ce=l.nextPos,l.result;if(e=ce,":nth-last-child("===t.substr(ce,16)?(r=":nth-last-child(",ce+=16):(r=s,ge(ne)),r!==s)if(Ae()!==s){if(n=[],V.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(q)),a!==s)for(;a!==s;)n.push(a),V.test(t.charAt(ce))?(a=t.charAt(ce),ce++):(a=s,ge(q));else n=s;n!==s&&(a=Ae())!==s?(41===t.charCodeAt(ce)?(o=")",ce++):(o=s,ge(G)),o!==s?(r=je(parseInt(n.join(""),10)),e=r):(ce=e,e=s)):(ce=e,e=s)}else ce=e,e=s;else ce=e,e=s;return ye[i]={nextPos:ce,result:e},e}())===s&&(e=function(){var e,r,n,a=30*ce+29,o=ye[a];return o?(ce=o.nextPos,o.result):(e=ce,58===t.charCodeAt(ce)?(r=":",ce++):(r=s,ge(ae)),r!==s?("statement"===t.substr(ce,9).toLowerCase()?(n=t.substr(ce,9),ce+=9):(n=s,ge(oe)),n===s&&("expression"===t.substr(ce,10).toLowerCase()?(n=t.substr(ce,10),ce+=10):(n=s,ge(ie)),n===s&&("declaration"===t.substr(ce,11).toLowerCase()?(n=t.substr(ce,11),ce+=11):(n=s,ge(se)),n===s&&("function"===t.substr(ce,8).toLowerCase()?(n=t.substr(ce,8),ce+=8):(n=s,ge(le)),n===s&&("pattern"===t.substr(ce,7).toLowerCase()?(n=t.substr(ce,7),ce+=7):(n=s,ge(ue)))))),n!==s?e=r={type:"class",name:n}:(ce=e,e=s)):(ce=e,e=s),ye[a]={nextPos:ce,result:e},e)}()),ye[r]={nextPos:ce,result:e},e)}function ke(){var e,r,n,a,o,i,l,u,c=30*ce+13,f=ye[c];if(f)return ce=f.nextPos,f.result;if(e=ce,(r=Ee())!==s){for(n=[],a=ce,46===t.charCodeAt(ce)?(o=".",ce++):(o=s,ge(k)),o!==s&&(i=Ee())!==s?a=o=[o,i]:(ce=a,a=s);a!==s;)n.push(a),a=ce,46===t.charCodeAt(ce)?(o=".",ce++):(o=s,ge(k)),o!==s&&(i=Ee())!==s?a=o=[o,i]:(ce=a,a=s);n!==s?(l=r,u=n,e=r=[].concat.apply([l],u).join("")):(ce=e,e=s)}else ce=e,e=s;return ye[c]={nextPos:ce,result:e},e}function De(e){return{type:"nth-child",index:{type:"literal",value:e}}}function je(e){return{type:"nth-last-child",index:{type:"literal",value:e}}}if((n=u())!==s&&ce===t.length)return n;throw n!==s&&ce<t.length&&ge({type:"end"}),a=he,o=pe<t.length?t.charAt(pe):null,i=pe<t.length?ve(pe,pe+1):ve(pe,pe),new e(e.buildMessage(a,o),a,o,i)}}}())}));function u(t,r,n,a){if(!r)return!0;if(!t)return!1;switch(n||(n=[]),r.type){case"wildcard":return!0;case"identifier":return r.value.toLowerCase()===t.type.toLowerCase();case"field":var i=r.name.split("."),l=n[i.length-1];return function e(t,r,n){if(0===n.length)return t===r;if(null==r)return!1;var a=r[n[0]],i=n.slice(1);if(Array.isArray(a)){var s,l=o(a);try{for(l.s();!(s=l.n()).done;){if(e(t,s.value,i))return!0}}catch(e){l.e(e)}finally{l.f()}return!1}return e(t,a,i)}(t,l,i);case"matches":var c,f=o(r.selectors);try{for(f.s();!(c=f.n()).done;){var d=c.value;if(u(t,d,n,a))return!0}}catch(e){f.e(e)}finally{f.f()}return!1;case"compound":var m,x=o(r.selectors);try{for(x.s();!(m=x.n()).done;){var v=m.value;if(!u(t,v,n,a))return!1}}catch(e){x.e(e)}finally{x.f()}return!0;case"not":var g,b=o(r.selectors);try{for(b.s();!(g=b.n()).done;){var A=g.value;if(u(t,A,n,a))return!1}}catch(e){b.e(e)}finally{b.f()}return!0;case"has":var E=function(){var e,n=[],i=o(r.selectors);try{var l=function(){var r=e.value,o=[];s.traverse(t,{enter:function(e,t){null!=t&&o.unshift(t),u(e,r,o,a)&&n.push(e)},leave:function(){o.shift()},keys:a&&a.visitorKeys,fallback:a&&a.fallback||"iteration"})};for(i.s();!(e=i.n()).done;)l()}catch(e){i.e(e)}finally{i.f()}return{v:0!==n.length}}();if("object"===e(E))return E.v;case"child":return!!u(t,r.right,n,a)&&u(n[0],r.left,n.slice(1),a);case"descendant":if(u(t,r.right,n,a))for(var S=0,_=n.length;S<_;++S)if(u(n[S],r.left,n.slice(S+1),a))return!0;return!1;case"attribute":var w=function(e,t){var r,n=o(t.split("."));try{for(n.s();!(r=n.n()).done;){var a=r.value;if(null==e)return e;e=e[a]}}catch(e){n.e(e)}finally{n.f()}return e}(t,r.name);switch(r.operator){case void 0:return null!=w;case"=":switch(r.value.type){case"regexp":return"string"==typeof w&&r.value.value.test(w);case"literal":return"".concat(r.value.value)==="".concat(w);case"type":return r.value.value===e(w)}throw new Error("Unknown selector value type: ".concat(r.value.type));case"!=":switch(r.value.type){case"regexp":return!r.value.value.test(w);case"literal":return"".concat(r.value.value)!=="".concat(w);case"type":return r.value.value!==e(w)}throw new Error("Unknown selector value type: ".concat(r.value.type));case"<=":return w<=r.value.value;case"<":return w<r.value.value;case">":return w>r.value.value;case">=":return w>=r.value.value}throw new Error("Unknown operator: ".concat(r.operator));case"sibling":return u(t,r.right,n,a)&&p(t,r.left,n,"LEFT_SIDE",a)||r.left.subject&&u(t,r.left,n,a)&&p(t,r.right,n,"RIGHT_SIDE",a);case"adjacent":return u(t,r.right,n,a)&&h(t,r.left,n,"LEFT_SIDE",a)||r.right.subject&&u(t,r.left,n,a)&&h(t,r.right,n,"RIGHT_SIDE",a);case"nth-child":return u(t,r.right,n,a)&&y(t,n,(function(){return r.index.value-1}),a);case"nth-last-child":return u(t,r.right,n,a)&&y(t,n,(function(e){return e-r.index.value}),a);case"class":switch(r.name.toLowerCase()){case"statement":if("Statement"===t.type.slice(-9))return!0;case"declaration":return"Declaration"===t.type.slice(-11);case"pattern":if("Pattern"===t.type.slice(-7))return!0;case"expression":return"Expression"===t.type.slice(-10)||"Literal"===t.type.slice(-7)||"Identifier"===t.type&&(0===n.length||"MetaProperty"!==n[0].type)||"MetaProperty"===t.type;case"function":return"FunctionDeclaration"===t.type||"FunctionExpression"===t.type||"ArrowFunctionExpression"===t.type}throw new Error("Unknown class name: ".concat(r.name))}throw new Error("Unknown selector type: ".concat(r.type))}function c(e,t){var r=e.type;return t&&t.visitorKeys&&t.visitorKeys[r]?t.visitorKeys[r]:s.VisitorKeys[r]?s.VisitorKeys[r]:t&&"function"==typeof t.fallback?t.fallback(e):Object.keys(e).filter((function(e){return"type"!==e}))}function f(t){return null!==t&&"object"===e(t)&&"string"==typeof t.type}function p(e,r,n,a,i){var s=t(n,1)[0];if(!s)return!1;var l,p=o(c(s,i));try{for(p.s();!(l=p.n()).done;){var h=s[l.value];if(Array.isArray(h)){var y=h.indexOf(e);if(y<0)continue;var d=void 0,m=void 0;"LEFT_SIDE"===a?(d=0,m=y):(d=y+1,m=h.length);for(var x=d;x<m;++x)if(f(h[x])&&u(h[x],r,n,i))return!0}}}catch(e){p.e(e)}finally{p.f()}return!1}function h(e,r,n,a,i){var s=t(n,1)[0];if(!s)return!1;var l,p=o(c(s,i));try{for(p.s();!(l=p.n()).done;){var h=s[l.value];if(Array.isArray(h)){var y=h.indexOf(e);if(y<0)continue;if("LEFT_SIDE"===a&&y>0&&f(h[y-1])&&u(h[y-1],r,n,i))return!0;if("RIGHT_SIDE"===a&&y<h.length-1&&f(h[y+1])&&u(h[y+1],r,n,i))return!0}}}catch(e){p.e(e)}finally{p.f()}return!1}function y(e,r,n,a){var i=t(r,1)[0];if(!i)return!1;var s,l=o(c(i,a));try{for(l.s();!(s=l.n()).done;){var u=i[s.value];if(Array.isArray(u)){var f=u.indexOf(e);if(f>=0&&f===n(u.length))return!0}}}catch(e){l.e(e)}finally{l.f()}return!1}function d(n,a){if(null==n||"object"!=e(n))return[];null==a&&(a=n);for(var o=n.subject?[a]:[],i=0,s=function(e){for(var t=[],r=Object.keys(e),n=0;n<r.length;n++)t.push([r[n],e[r[n]]]);return t}(n);i<s.length;i++){var l=t(s[i],2),u=l[0],c=l[1];o.push.apply(o,r(d(c,"left"===u?c:a)))}return o}function m(e,t,r,n){if(t){var a=[],o=d(t);s.traverse(e,{enter:function(e,i){if(null!=i&&a.unshift(i),u(e,t,a,n))if(o.length)for(var s=0,l=o.length;s<l;++s){u(e,o[s],a,n)&&r(e,i,a);for(var c=0,f=a.length;c<f;++c){var p=a.slice(c+1);u(a[c],o[s],p,n)&&r(a[c],i,p)}}else r(e,i,a)},leave:function(){a.shift()},keys:n&&n.visitorKeys,fallback:n&&n.fallback||"iteration"})}}function x(e,t,r){var n=[];return m(e,t,(function(e){n.push(e)}),r),n}function v(e){return l.parse(e)}function g(e,t,r){return x(e,v(t),r)}g.parse=v,g.match=x,g.traverse=m,g.matches=u,g.query=g;var nodeEventGenerator;var hasRequiredNodeEventGenerator;function requireNodeEventGenerator(){if(hasRequiredNodeEventGenerator)return nodeEventGenerator;hasRequiredNodeEventGenerator=1;const esquery=g;function union(...arrays){return[...new Set(arrays.flat())]}function intersection(...arrays){if(arrays.length===0){return[]}let result=[...new Set(arrays[0])];for(const array of arrays.slice(1)){result=result.filter((x=>array.includes(x)))}return result}function getPossibleTypes(parsedSelector){switch(parsedSelector.type){case"identifier":return[parsedSelector.value];case"matches":{const typesForComponents=parsedSelector.selectors.map(getPossibleTypes);if(typesForComponents.every(Boolean)){return union(...typesForComponents)}return null}case"compound":{const typesForComponents=parsedSelector.selectors.map(getPossibleTypes).filter((typesForComponent=>typesForComponent));if(!typesForComponents.length){return null}return intersection(...typesForComponents)}case"child":case"descendant":case"sibling":case"adjacent":return getPossibleTypes(parsedSelector.right);case"class":if(parsedSelector.name==="function"){return["FunctionDeclaration","FunctionExpression","ArrowFunctionExpression"]}return null;default:return null}}function countClassAttributes(parsedSelector){switch(parsedSelector.type){case"child":case"descendant":case"sibling":case"adjacent":return countClassAttributes(parsedSelector.left)+countClassAttributes(parsedSelector.right);case"compound":case"not":case"matches":return parsedSelector.selectors.reduce(((sum,childSelector)=>sum+countClassAttributes(childSelector)),0);case"attribute":case"field":case"nth-child":case"nth-last-child":return 1;default:return 0}}function countIdentifiers(parsedSelector){switch(parsedSelector.type){case"child":case"descendant":case"sibling":case"adjacent":return countIdentifiers(parsedSelector.left)+countIdentifiers(parsedSelector.right);case"compound":case"not":case"matches":return parsedSelector.selectors.reduce(((sum,childSelector)=>sum+countIdentifiers(childSelector)),0);case"identifier":return 1;default:return 0}}function compareSpecificity(selectorA,selectorB){return selectorA.attributeCount-selectorB.attributeCount||selectorA.identifierCount-selectorB.identifierCount||(selectorA.rawSelector<=selectorB.rawSelector?-1:1)}function tryParseSelector(rawSelector){try{return esquery.parse(rawSelector.replace(/:exit$/u,""))}catch(err){if(err.location&&err.location.start&&typeof err.location.start.offset==="number"){throw new SyntaxError(`Syntax error in selector "${rawSelector}" at position ${err.location.start.offset}: ${err.message}`)}throw err}}const selectorCache=new Map;function parseSelector(rawSelector){if(selectorCache.has(rawSelector)){return selectorCache.get(rawSelector)}const parsedSelector=tryParseSelector(rawSelector);const result={rawSelector:rawSelector,isExit:rawSelector.endsWith(":exit"),parsedSelector:parsedSelector,listenerTypes:getPossibleTypes(parsedSelector),attributeCount:countClassAttributes(parsedSelector),identifierCount:countIdentifiers(parsedSelector)};selectorCache.set(rawSelector,result);return result}class NodeEventGenerator{constructor(emitter,esqueryOptions){this.emitter=emitter;this.esqueryOptions=esqueryOptions;this.currentAncestry=[];this.enterSelectorsByNodeType=new Map;this.exitSelectorsByNodeType=new Map;this.anyTypeEnterSelectors=[];this.anyTypeExitSelectors=[];emitter.eventNames().forEach((rawSelector=>{const selector=parseSelector(rawSelector);if(selector.listenerTypes){const typeMap=selector.isExit?this.exitSelectorsByNodeType:this.enterSelectorsByNodeType;selector.listenerTypes.forEach((nodeType=>{if(!typeMap.has(nodeType)){typeMap.set(nodeType,[])}typeMap.get(nodeType).push(selector)}));return}const selectors=selector.isExit?this.anyTypeExitSelectors:this.anyTypeEnterSelectors;selectors.push(selector)}));this.anyTypeEnterSelectors.sort(compareSpecificity);this.anyTypeExitSelectors.sort(compareSpecificity);this.enterSelectorsByNodeType.forEach((selectorList=>selectorList.sort(compareSpecificity)));this.exitSelectorsByNodeType.forEach((selectorList=>selectorList.sort(compareSpecificity)))}applySelector(node,selector){if(esquery.matches(node,selector.parsedSelector,this.currentAncestry,this.esqueryOptions)){this.emitter.emit(selector.rawSelector,node)}}applySelectors(node,isExit){const selectorsByNodeType=(isExit?this.exitSelectorsByNodeType:this.enterSelectorsByNodeType).get(node.type)||[];const anyTypeSelectors=isExit?this.anyTypeExitSelectors:this.anyTypeEnterSelectors;let selectorsByTypeIndex=0;let anyTypeSelectorsIndex=0;while(selectorsByTypeIndex<selectorsByNodeType.length||anyTypeSelectorsIndex<anyTypeSelectors.length){if(selectorsByTypeIndex>=selectorsByNodeType.length||anyTypeSelectorsIndex<anyTypeSelectors.length&&compareSpecificity(anyTypeSelectors[anyTypeSelectorsIndex],selectorsByNodeType[selectorsByTypeIndex])<0){this.applySelector(node,anyTypeSelectors[anyTypeSelectorsIndex++])}else{this.applySelector(node,selectorsByNodeType[selectorsByTypeIndex++])}}}enterNode(node){if(node.parent){this.currentAncestry.unshift(node.parent)}this.applySelectors(node,false)}leaveNode(node){this.applySelectors(node,true);this.currentAncestry.shift()}}nodeEventGenerator=NodeEventGenerator;return nodeEventGenerator}var ruleFixer_1;var hasRequiredRuleFixer;function requireRuleFixer(){if(hasRequiredRuleFixer)return ruleFixer_1;hasRequiredRuleFixer=1;function insertTextAt(index,text){return{range:[index,index],text:text}}const ruleFixer=Object.freeze({insertTextAfter(nodeOrToken,text){return this.insertTextAfterRange(nodeOrToken.range,text)},insertTextAfterRange(range,text){return insertTextAt(range[1],text)},insertTextBefore(nodeOrToken,text){return this.insertTextBeforeRange(nodeOrToken.range,text)},insertTextBeforeRange(range,text){return insertTextAt(range[0],text)},replaceText(nodeOrToken,text){return this.replaceTextRange(nodeOrToken.range,text)},replaceTextRange(range,text){return{range:range,text:text}},remove(nodeOrToken){return this.removeRange(nodeOrToken.range)},removeRange(range){return{range:range,text:""}}});ruleFixer_1=ruleFixer;return ruleFixer_1}var interpolate;var hasRequiredInterpolate;function requireInterpolate(){if(hasRequiredInterpolate)return interpolate;hasRequiredInterpolate=1;interpolate=(text,data)=>{if(!data){return text}return text.replace(/\{\{([^{}]+?)\}\}/gu,((fullMatch,termWithWhitespace)=>{const term=termWithWhitespace.trim();if(term in data){return data[term]}return fullMatch}))};return interpolate}var reportTranslator;var hasRequiredReportTranslator;function requireReportTranslator(){if(hasRequiredReportTranslator)return reportTranslator;hasRequiredReportTranslator=1;const assert$1=assert;const ruleFixer=requireRuleFixer();const interpolate=requireInterpolate();function normalizeMultiArgReportCall(...args){if(args.length===1){return Object.assign({},args[0])}if(typeof args[1]==="string"){return{node:args[0],message:args[1],data:args[2],fix:args[3]}}return{node:args[0],loc:args[1],message:args[2],data:args[3],fix:args[4]}}function assertValidNodeInfo(descriptor){if(descriptor.node){assert$1(typeof descriptor.node==="object","Node must be an object")}else{assert$1(descriptor.loc,"Node must be provided when reporting error if location is not provided")}}function normalizeReportLoc(descriptor){if(descriptor.loc){if(descriptor.loc.start){return descriptor.loc}return{start:descriptor.loc,end:null}}return descriptor.node.loc}function assertValidFix(fix){if(fix){assert$1(fix.range&&typeof fix.range[0]==="number"&&typeof fix.range[1]==="number",`Fix has invalid range: ${JSON.stringify(fix,null,2)}`)}}function compareFixesByRange(a,b){return a.range[0]-b.range[0]||a.range[1]-b.range[1]}function mergeFixes(fixes,sourceCode){for(const fix of fixes){assertValidFix(fix)}if(fixes.length===0){return null}if(fixes.length===1){return fixes[0]}fixes.sort(compareFixesByRange);const originalText=sourceCode.text;const start=fixes[0].range[0];const end=fixes[fixes.length-1].range[1];let text="";let lastPos=Number.MIN_SAFE_INTEGER;for(const fix of fixes){assert$1(fix.range[0]>=lastPos,"Fix objects must not be overlapped in a report.");if(fix.range[0]>=0){text+=originalText.slice(Math.max(0,start,lastPos),fix.range[0])}text+=fix.text;lastPos=fix.range[1]}text+=originalText.slice(Math.max(0,start,lastPos),end);return{range:[start,end],text:text}}function normalizeFixes(descriptor,sourceCode){if(typeof descriptor.fix!=="function"){return null}const fix=descriptor.fix(ruleFixer);if(fix&&Symbol.iterator in fix){return mergeFixes(Array.from(fix),sourceCode)}assertValidFix(fix);return fix}function mapSuggestions(descriptor,sourceCode,messages){if(!descriptor.suggest||!Array.isArray(descriptor.suggest)){return[]}return descriptor.suggest.map((suggestInfo=>{const computedDesc=suggestInfo.desc||messages[suggestInfo.messageId];return{...suggestInfo,desc:interpolate(computedDesc,suggestInfo.data),fix:normalizeFixes(suggestInfo,sourceCode)}})).filter((({fix:fix})=>fix))}function createProblem(options){const problem={ruleId:options.ruleId,severity:options.severity,message:options.message,line:options.loc.start.line,column:options.loc.start.column+1,nodeType:options.node&&options.node.type||null};if(options.messageId){problem.messageId=options.messageId}if(options.loc.end){problem.endLine=options.loc.end.line;problem.endColumn=options.loc.end.column+1}if(options.fix){problem.fix=options.fix}if(options.suggestions&&options.suggestions.length>0){problem.suggestions=options.suggestions}return problem}function validateSuggestions(suggest,messages){if(suggest&&Array.isArray(suggest)){suggest.forEach((suggestion=>{if(suggestion.messageId){const{messageId:messageId}=suggestion;if(!messages){throw new TypeError(`context.report() called with a suggest option with a messageId '${messageId}', but no messages were present in the rule metadata.`)}if(!messages[messageId]){throw new TypeError(`context.report() called with a suggest option with a messageId '${messageId}' which is not present in the 'messages' config: ${JSON.stringify(messages,null,2)}`)}if(suggestion.desc){throw new TypeError("context.report() called with a suggest option that defines both a 'messageId' and an 'desc'. Please only pass one.")}}else if(!suggestion.desc){throw new TypeError("context.report() called with a suggest option that doesn't have either a `desc` or `messageId`")}if(typeof suggestion.fix!=="function"){throw new TypeError(`context.report() called with a suggest option without a fix function. See: ${suggestion}`)}}))}}reportTranslator=function createReportTranslator(metadata){return(...args)=>{const descriptor=normalizeMultiArgReportCall(...args);const messages=metadata.messageIds;assertValidNodeInfo(descriptor);let computedMessage;if(descriptor.messageId){if(!messages){throw new TypeError("context.report() called with a messageId, but no messages were present in the rule metadata.")}const id=descriptor.messageId;if(descriptor.message){throw new TypeError("context.report() called with a message and a messageId. Please only pass one.")}if(!messages||!Object.prototype.hasOwnProperty.call(messages,id)){throw new TypeError(`context.report() called with a messageId of '${id}' which is not present in the 'messages' config: ${JSON.stringify(messages,null,2)}`)}computedMessage=messages[id]}else if(descriptor.message){computedMessage=descriptor.message}else{throw new TypeError("Missing `message` property in report() call; add a message that describes the linting problem.")}validateSuggestions(descriptor.suggest,messages);return createProblem({ruleId:metadata.ruleId,severity:metadata.severity,node:descriptor.node,message:interpolate(computedMessage,descriptor.data),messageId:descriptor.messageId,loc:normalizeReportLoc(descriptor),fix:metadata.disableFixes?null:normalizeFixes(descriptor,metadata.sourceCode),suggestions:metadata.disableFixes?[]:mapSuggestions(descriptor,metadata.sourceCode,messages)})}};return reportTranslator}function commonjsRequire(path){throw new Error('Could not dynamically require "'+path+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lazyLoadingRuleMap;var hasRequiredLazyLoadingRuleMap;function requireLazyLoadingRuleMap(){if(hasRequiredLazyLoadingRuleMap)return lazyLoadingRuleMap;hasRequiredLazyLoadingRuleMap=1;const debug=requireSrc$1()("eslint:rules");class LazyLoadingRuleMap extends Map{constructor(loaders){let remaining=loaders.length;super(debug.enabled?loaders.map((([ruleId,load])=>{let cache=null;return[ruleId,()=>{if(!cache){debug("Loading rule %o (remaining=%d)",ruleId,--remaining);cache=load()}return cache}]})):loaders);Object.defineProperty(LazyLoadingRuleMap.prototype,"set",{configurable:true,value:void 0})}get(ruleId){const load=super.get(ruleId);return load&&load()}*values(){for(const load of super.values()){yield load()}}*entries(){for(const[ruleId,load]of super.entries()){yield[ruleId,load()]}}forEach(callbackFn,thisArg){for(const[ruleId,load]of super.entries()){callbackFn.call(thisArg,load(),ruleId,this)}}}Object.defineProperties(LazyLoadingRuleMap.prototype,{clear:{configurable:true,value:void 0},delete:{configurable:true,value:void 0},[Symbol.iterator]:{configurable:true,writable:true,value:LazyLoadingRuleMap.prototype.entries}});lazyLoadingRuleMap={LazyLoadingRuleMap:LazyLoadingRuleMap};return lazyLoadingRuleMap}var astUtils={exports:{}};var utils={};var ast={exports:{}};var hasRequiredAst;function requireAst(){if(hasRequiredAst)return ast.exports;hasRequiredAst=1;(function(){function isExpression(node){if(node==null){return false}switch(node.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return true}return false}function isIterationStatement(node){if(node==null){return false}switch(node.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return true}return false}function isStatement(node){if(node==null){return false}switch(node.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return true}return false}function isSourceElement(node){return isStatement(node)||node!=null&&node.type==="FunctionDeclaration"}function trailingStatement(node){switch(node.type){case"IfStatement":if(node.alternate!=null){return node.alternate}return node.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return node.body}return null}function isProblematicIfStatement(node){var current;if(node.type!=="IfStatement"){return false}if(node.alternate==null){return false}current=node.consequent;do{if(current.type==="IfStatement"){if(current.alternate==null){return true}}current=trailingStatement(current)}while(current);return false}ast.exports={isExpression:isExpression,isStatement:isStatement,isIterationStatement:isIterationStatement,isSourceElement:isSourceElement,isProblematicIfStatement:isProblematicIfStatement,trailingStatement:trailingStatement}})();return ast.exports}var code={exports:{}};var hasRequiredCode;function requireCode(){if(hasRequiredCode)return code.exports;hasRequiredCode=1;(function(){var ES6Regex,ES5Regex,NON_ASCII_WHITESPACES,IDENTIFIER_START,IDENTIFIER_PART,ch;ES5Regex={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/};ES6Regex={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function isDecimalDigit(ch){return 48<=ch&&ch<=57}function isHexDigit(ch){return 48<=ch&&ch<=57||97<=ch&&ch<=102||65<=ch&&ch<=70}function isOctalDigit(ch){return ch>=48&&ch<=55}NON_ASCII_WHITESPACES=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function isWhiteSpace(ch){return ch===32||ch===9||ch===11||ch===12||ch===160||ch>=5760&&NON_ASCII_WHITESPACES.indexOf(ch)>=0}function isLineTerminator(ch){return ch===10||ch===13||ch===8232||ch===8233}function fromCodePoint(cp){if(cp<=65535){return String.fromCharCode(cp)}var cu1=String.fromCharCode(Math.floor((cp-65536)/1024)+55296);var cu2=String.fromCharCode((cp-65536)%1024+56320);return cu1+cu2}IDENTIFIER_START=new Array(128);for(ch=0;ch<128;++ch){IDENTIFIER_START[ch]=ch>=97&&ch<=122||ch>=65&&ch<=90||ch===36||ch===95}IDENTIFIER_PART=new Array(128);for(ch=0;ch<128;++ch){IDENTIFIER_PART[ch]=ch>=97&&ch<=122||ch>=65&&ch<=90||ch>=48&&ch<=57||ch===36||ch===95}function isIdentifierStartES5(ch){return ch<128?IDENTIFIER_START[ch]:ES5Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch))}function isIdentifierPartES5(ch){return ch<128?IDENTIFIER_PART[ch]:ES5Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch))}function isIdentifierStartES6(ch){return ch<128?IDENTIFIER_START[ch]:ES6Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch))}function isIdentifierPartES6(ch){return ch<128?IDENTIFIER_PART[ch]:ES6Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch))}code.exports={isDecimalDigit:isDecimalDigit,isHexDigit:isHexDigit,isOctalDigit:isOctalDigit,isWhiteSpace:isWhiteSpace,isLineTerminator:isLineTerminator,isIdentifierStartES5:isIdentifierStartES5,isIdentifierPartES5:isIdentifierPartES5,isIdentifierStartES6:isIdentifierStartES6,isIdentifierPartES6:isIdentifierPartES6}})();return code.exports}var keyword={exports:{}};var hasRequiredKeyword;function requireKeyword(){if(hasRequiredKeyword)return keyword.exports;hasRequiredKeyword=1;(function(){var code=requireCode();function isStrictModeReservedWordES6(id){switch(id){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return true;default:return false}}function isKeywordES5(id,strict){if(!strict&&id==="yield"){return false}return isKeywordES6(id,strict)}function isKeywordES6(id,strict){if(strict&&isStrictModeReservedWordES6(id)){return true}switch(id.length){case 2:return id==="if"||id==="in"||id==="do";case 3:return id==="var"||id==="for"||id==="new"||id==="try";case 4:return id==="this"||id==="else"||id==="case"||id==="void"||id==="with"||id==="enum";case 5:return id==="while"||id==="break"||id==="catch"||id==="throw"||id==="const"||id==="yield"||id==="class"||id==="super";case 6:return id==="return"||id==="typeof"||id==="delete"||id==="switch"||id==="export"||id==="import";case 7:return id==="default"||id==="finally"||id==="extends";case 8:return id==="function"||id==="continue"||id==="debugger";case 10:return id==="instanceof";default:return false}}function isReservedWordES5(id,strict){return id==="null"||id==="true"||id==="false"||isKeywordES5(id,strict)}function isReservedWordES6(id,strict){return id==="null"||id==="true"||id==="false"||isKeywordES6(id,strict)}function isRestrictedWord(id){return id==="eval"||id==="arguments"}function isIdentifierNameES5(id){var i,iz,ch;if(id.length===0){return false}ch=id.charCodeAt(0);if(!code.isIdentifierStartES5(ch)){return false}for(i=1,iz=id.length;i<iz;++i){ch=id.charCodeAt(i);if(!code.isIdentifierPartES5(ch)){return false}}return true}function decodeUtf16(lead,trail){return(lead-55296)*1024+(trail-56320)+65536}function isIdentifierNameES6(id){var i,iz,ch,lowCh,check;if(id.length===0){return false}check=code.isIdentifierStartES6;for(i=0,iz=id.length;i<iz;++i){ch=id.charCodeAt(i);if(55296<=ch&&ch<=56319){++i;if(i>=iz){return false}lowCh=id.charCodeAt(i);if(!(56320<=lowCh&&lowCh<=57343)){return false}ch=decodeUtf16(ch,lowCh)}if(!check(ch)){return false}check=code.isIdentifierPartES6}return true}function isIdentifierES5(id,strict){return isIdentifierNameES5(id)&&!isReservedWordES5(id,strict)}function isIdentifierES6(id,strict){return isIdentifierNameES6(id)&&!isReservedWordES6(id,strict)}keyword.exports={isKeywordES5:isKeywordES5,isKeywordES6:isKeywordES6,isReservedWordES5:isReservedWordES5,isReservedWordES6:isReservedWordES6,isRestrictedWord:isRestrictedWord,isIdentifierNameES5:isIdentifierNameES5,isIdentifierNameES6:isIdentifierNameES6,isIdentifierES5:isIdentifierES5,isIdentifierES6:isIdentifierES6}})();return keyword.exports}var hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;(function(){utils.ast=requireAst();utils.code=requireCode();utils.keyword=requireKeyword()})();return utils}var hasRequiredAstUtils;function requireAstUtils(){if(hasRequiredAstUtils)return astUtils.exports;hasRequiredAstUtils=1;(function(module){const esutils=requireUtils();const espree=requireEspree();const escapeRegExp=requireEscapeStringRegexp();const{breakableTypePattern:breakableTypePattern,createGlobalLinebreakMatcher:createGlobalLinebreakMatcher,lineBreakPattern:lineBreakPattern,shebangPattern:shebangPattern}=requireAstUtils$1();const anyFunctionPattern=/^(?:Function(?:Declaration|Expression)|ArrowFunctionExpression)$/u;const anyLoopPattern=/^(?:DoWhile|For|ForIn|ForOf|While)Statement$/u;const arrayOrTypedArrayPattern=/Array$/u;const arrayMethodPattern=/^(?:every|filter|find|findIndex|forEach|map|some)$/u;const bindOrCallOrApplyPattern=/^(?:bind|call|apply)$/u;const thisTagPattern=/^[\s*]*@this/mu;const COMMENTS_IGNORE_PATTERN=/^\s*(?:eslint|jshint\s+|jslint\s+|istanbul\s+|globals?\s+|exported\s+|jscs)/u;const ESLINT_DIRECTIVE_PATTERN=/^(?:eslint[- ]|(?:globals?|exported) )/u;const LINEBREAKS=new Set(["\r\n","\r","\n","\u2028","\u2029"]);const STATEMENT_LIST_PARENTS=new Set(["Program","BlockStatement","StaticBlock","SwitchCase"]);const DECIMAL_INTEGER_PATTERN=/^(?:0|0[0-7]*[89]\d*|[1-9](?:_?\d)*)$/u;const OCTAL_OR_NON_OCTAL_DECIMAL_ESCAPE_PATTERN=/^(?:[^\\]|\\.)*\\(?:[1-9]|0[0-9])/su;const LOGICAL_ASSIGNMENT_OPERATORS=new Set(["&&=","||=","??="]);function isModifyingReference(reference,index,references){const identifier=reference.identifier;const modifyingDifferentIdentifier=index===0||references[index-1].identifier!==identifier;return identifier&&reference.init===false&&reference.isWrite()&&modifyingDifferentIdentifier}function startsWithUpperCase(s){return s[0]!==s[0].toLocaleLowerCase()}function isES5Constructor(node){return node.id&&startsWithUpperCase(node.id.name)}function getUpperFunction(node){for(let currentNode=node;currentNode;currentNode=currentNode.parent){if(anyFunctionPattern.test(currentNode.type)){return currentNode}}return null}function isFunction(node){return Boolean(node&&anyFunctionPattern.test(node.type))}function isLoop(node){return Boolean(node&&anyLoopPattern.test(node.type))}function isInLoop(node){for(let currentNode=node;currentNode&&!isFunction(currentNode);currentNode=currentNode.parent){if(isLoop(currentNode)){return true}}return false}function isNullLiteral(node){return node.type==="Literal"&&node.value===null&&!node.regex&&!node.bigint}function isNullOrUndefined(node){return isNullLiteral(node)||node.type==="Identifier"&&node.name==="undefined"||node.type==="UnaryExpression"&&node.operator==="void"}function isCallee(node){return node.parent.type==="CallExpression"&&node.parent.callee===node}function getStaticStringValue(node){switch(node.type){case"Literal":if(node.value===null){if(isNullLiteral(node)){return String(node.value)}if(node.regex){return`/${node.regex.pattern}/${node.regex.flags}`}if(node.bigint){return node.bigint}}else{return String(node.value)}break;case"TemplateLiteral":if(node.expressions.length===0&&node.quasis.length===1){return node.quasis[0].value.cooked}break}return null}function getStaticPropertyName(node){let prop;switch(node&&node.type){case"ChainExpression":return getStaticPropertyName(node.expression);case"Property":case"PropertyDefinition":case"MethodDefinition":prop=node.key;break;case"MemberExpression":prop=node.property;break}if(prop){if(prop.type==="Identifier"&&!node.computed){return prop.name}return getStaticStringValue(prop)}return null}function skipChainExpression(node){return node&&node.type==="ChainExpression"?node.expression:node}function checkText(actual,expected){return typeof expected==="string"?actual===expected:expected.test(actual)}function isSpecificId(node,name){return node.type==="Identifier"&&checkText(node.name,name)}function isSpecificMemberAccess(node,objectName,propertyName){const checkNode=skipChainExpression(node);if(checkNode.type!=="MemberExpression"){return false}if(objectName&&!isSpecificId(checkNode.object,objectName)){return false}if(propertyName){const actualPropertyName=getStaticPropertyName(checkNode);if(typeof actualPropertyName!=="string"||!checkText(actualPropertyName,propertyName)){return false}}return true}function equalLiteralValue(left,right){if(left.regex||right.regex){return Boolean(left.regex&&right.regex&&left.regex.pattern===right.regex.pattern&&left.regex.flags===right.regex.flags)}if(left.bigint||right.bigint){return left.bigint===right.bigint}return left.value===right.value}function isSameReference(left,right,disableStaticComputedKey=false){if(left.type!==right.type){if(left.type==="ChainExpression"){return isSameReference(left.expression,right,disableStaticComputedKey)}if(right.type==="ChainExpression"){return isSameReference(left,right.expression,disableStaticComputedKey)}return false}switch(left.type){case"Super":case"ThisExpression":return true;case"Identifier":case"PrivateIdentifier":return left.name===right.name;case"Literal":return equalLiteralValue(left,right);case"ChainExpression":return isSameReference(left.expression,right.expression,disableStaticComputedKey);case"MemberExpression":{if(!disableStaticComputedKey){const nameA=getStaticPropertyName(left);if(nameA!==null){return isSameReference(left.object,right.object,disableStaticComputedKey)&&nameA===getStaticPropertyName(right)}}return left.computed===right.computed&&isSameReference(left.object,right.object,disableStaticComputedKey)&&isSameReference(left.property,right.property,disableStaticComputedKey)}default:return false}}function isReflectApply(node){return isSpecificMemberAccess(node,"Reflect","apply")}function isArrayFromMethod(node){return isSpecificMemberAccess(node,arrayOrTypedArrayPattern,"from")}function isMethodWhichHasThisArg(node){return isSpecificMemberAccess(node,null,arrayMethodPattern)}function negate(f){return token=>!f(token)}function hasJSDocThisTag(node,sourceCode){const jsdocComment=sourceCode.getJSDocComment(node);if(jsdocComment&&thisTagPattern.test(jsdocComment.value)){return true}return sourceCode.getCommentsBefore(node).some((comment=>thisTagPattern.test(comment.value)))}function isParenthesised(sourceCode,node){const previousToken=sourceCode.getTokenBefore(node),nextToken=sourceCode.getTokenAfter(node);return Boolean(previousToken&&nextToken)&&previousToken.value==="("&&previousToken.range[1]<=node.range[0]&&nextToken.value===")"&&nextToken.range[0]>=node.range[1]}function isEqToken(token){return token.value==="="&&token.type==="Punctuator"}function isArrowToken(token){return token.value==="=>"&&token.type==="Punctuator"}function isCommaToken(token){return token.value===","&&token.type==="Punctuator"}function isDotToken(token){return token.value==="."&&token.type==="Punctuator"}function isQuestionDotToken(token){return token.value==="?."&&token.type==="Punctuator"}function isSemicolonToken(token){return token.value===";"&&token.type==="Punctuator"}function isColonToken(token){return token.value===":"&&token.type==="Punctuator"}function isOpeningParenToken(token){return token.value==="("&&token.type==="Punctuator"}function isClosingParenToken(token){return token.value===")"&&token.type==="Punctuator"}function isOpeningBracketToken(token){return token.value==="["&&token.type==="Punctuator"}function isClosingBracketToken(token){return token.value==="]"&&token.type==="Punctuator"}function isOpeningBraceToken(token){return token.value==="{"&&token.type==="Punctuator"}function isClosingBraceToken(token){return token.value==="}"&&token.type==="Punctuator"}function isCommentToken(token){return token.type==="Line"||token.type==="Block"||token.type==="Shebang"}function isKeywordToken(token){return token.type==="Keyword"}function getOpeningParenOfParams(node,sourceCode){if(node.type==="ArrowFunctionExpression"&&node.params.length===1){const argToken=sourceCode.getFirstToken(node.params[0]);const maybeParenToken=sourceCode.getTokenBefore(argToken);return isOpeningParenToken(maybeParenToken)?maybeParenToken:argToken}return node.id?sourceCode.getTokenAfter(node.id,isOpeningParenToken):sourceCode.getFirstToken(node,isOpeningParenToken)}function equalTokens(left,right,sourceCode){const tokensL=sourceCode.getTokens(left);const tokensR=sourceCode.getTokens(right);if(tokensL.length!==tokensR.length){return false}for(let i=0;i<tokensL.length;++i){if(tokensL[i].type!==tokensR[i].type||tokensL[i].value!==tokensR[i].value){return false}}return true}function isLogicalExpression(node){return node.type==="LogicalExpression"&&(node.operator==="&&"||node.operator==="||")}function isCoalesceExpression(node){return node.type==="LogicalExpression"&&node.operator==="??"}function isMixedLogicalAndCoalesceExpressions(left,right){return isLogicalExpression(left)&&isCoalesceExpression(right)||isCoalesceExpression(left)&&isLogicalExpression(right)}function isLogicalAssignmentOperator(operator){return LOGICAL_ASSIGNMENT_OPERATORS.has(operator)}function getSwitchCaseColonToken(node,sourceCode){if(node.test){return sourceCode.getTokenAfter(node.test,isColonToken)}return sourceCode.getFirstToken(node,1)}function getModuleExportName(node){if(node.type==="Identifier"){return node.name}return node.value}function getBooleanValue(node){if(node.value===null){if(node.raw==="null"){return false}if(typeof node.regex==="object"){return true}return null}return!!node.value}function isLogicalIdentity(node,operator){switch(node.type){case"Literal":return operator==="||"&&getBooleanValue(node)===true||operator==="&&"&&getBooleanValue(node)===false;case"UnaryExpression":return operator==="&&"&&node.operator==="void";case"LogicalExpression":return operator===node.operator&&(isLogicalIdentity(node.left,operator)||isLogicalIdentity(node.right,operator));case"AssignmentExpression":return["||=","&&="].includes(node.operator)&&operator===node.operator.slice(0,-1)&&isLogicalIdentity(node.right,operator)}return false}function isReferenceToGlobalVariable(scope,node){const reference=scope.references.find((ref=>ref.identifier===node));return Boolean(reference&&reference.resolved&&reference.resolved.scope.type==="global"&&reference.resolved.defs.length===0)}function isConstant(scope,node,inBooleanPosition){if(!node){return true}switch(node.type){case"Literal":case"ArrowFunctionExpression":case"FunctionExpression":return true;case"ClassExpression":case"ObjectExpression":return true;case"TemplateLiteral":return inBooleanPosition&&node.quasis.some((quasi=>quasi.value.cooked.length))||node.expressions.every((exp=>isConstant(scope,exp,false)));case"ArrayExpression":{if(!inBooleanPosition){return node.elements.every((element=>isConstant(scope,element,false)))}return true}case"UnaryExpression":if(node.operator==="void"||node.operator==="typeof"&&inBooleanPosition){return true}if(node.operator==="!"){return isConstant(scope,node.argument,true)}return isConstant(scope,node.argument,false);case"BinaryExpression":return isConstant(scope,node.left,false)&&isConstant(scope,node.right,false)&&node.operator!=="in";case"LogicalExpression":{const isLeftConstant=isConstant(scope,node.left,inBooleanPosition);const isRightConstant=isConstant(scope,node.right,inBooleanPosition);const isLeftShortCircuit=isLeftConstant&&isLogicalIdentity(node.left,node.operator);const isRightShortCircuit=inBooleanPosition&&isRightConstant&&isLogicalIdentity(node.right,node.operator);return isLeftConstant&&isRightConstant||isLeftShortCircuit||isRightShortCircuit}case"NewExpression":return inBooleanPosition;case"AssignmentExpression":if(node.operator==="="){return isConstant(scope,node.right,inBooleanPosition)}if(["||=","&&="].includes(node.operator)&&inBooleanPosition){return isLogicalIdentity(node.right,node.operator.slice(0,-1))}return false;case"SequenceExpression":return isConstant(scope,node.expressions[node.expressions.length-1],inBooleanPosition);case"SpreadElement":return isConstant(scope,node.argument,inBooleanPosition);case"CallExpression":if(node.callee.type==="Identifier"&&node.callee.name==="Boolean"){if(node.arguments.length===0||isConstant(scope,node.arguments[0],true)){return isReferenceToGlobalVariable(scope,node.callee)}}return false;case"Identifier":return node.name==="undefined"&&isReferenceToGlobalVariable(scope,node)}return false}module.exports={COMMENTS_IGNORE_PATTERN:COMMENTS_IGNORE_PATTERN,LINEBREAKS:LINEBREAKS,LINEBREAK_MATCHER:lineBreakPattern,SHEBANG_MATCHER:shebangPattern,STATEMENT_LIST_PARENTS:STATEMENT_LIST_PARENTS,isTokenOnSameLine(left,right){return left.loc.end.line===right.loc.start.line},isNullOrUndefined:isNullOrUndefined,isCallee:isCallee,isES5Constructor:isES5Constructor,getUpperFunction:getUpperFunction,isFunction:isFunction,isLoop:isLoop,isInLoop:isInLoop,isArrayFromMethod:isArrayFromMethod,isParenthesised:isParenthesised,createGlobalLinebreakMatcher:createGlobalLinebreakMatcher,equalTokens:equalTokens,isArrowToken:isArrowToken,isClosingBraceToken:isClosingBraceToken,isClosingBracketToken:isClosingBracketToken,isClosingParenToken:isClosingParenToken,isColonToken:isColonToken,isCommaToken:isCommaToken,isCommentToken:isCommentToken,isDotToken:isDotToken,isQuestionDotToken:isQuestionDotToken,isKeywordToken:isKeywordToken,isNotClosingBraceToken:negate(isClosingBraceToken),isNotClosingBracketToken:negate(isClosingBracketToken),isNotClosingParenToken:negate(isClosingParenToken),isNotColonToken:negate(isColonToken),isNotCommaToken:negate(isCommaToken),isNotDotToken:negate(isDotToken),isNotQuestionDotToken:negate(isQuestionDotToken),isNotOpeningBraceToken:negate(isOpeningBraceToken),isNotOpeningBracketToken:negate(isOpeningBracketToken),isNotOpeningParenToken:negate(isOpeningParenToken),isNotSemicolonToken:negate(isSemicolonToken),isOpeningBraceToken:isOpeningBraceToken,isOpeningBracketToken:isOpeningBracketToken,isOpeningParenToken:isOpeningParenToken,isSemicolonToken:isSemicolonToken,isEqToken:isEqToken,isStringLiteral(node){return node.type==="Literal"&&typeof node.value==="string"||node.type==="TemplateLiteral"},isBreakableStatement(node){return breakableTypePattern.test(node.type)},getModifyingReferences(references){return references.filter(isModifyingReference)},isSurroundedBy(val,character){return val[0]===character&&val[val.length-1]===character},isDirectiveComment(node){const comment=node.value.trim();return node.type==="Line"&&comment.startsWith("eslint-")||node.type==="Block"&&ESLINT_DIRECTIVE_PATTERN.test(comment)},getTrailingStatement:esutils.ast.trailingStatement,getVariableByName(initScope,name){let scope=initScope;while(scope){const variable=scope.set.get(name);if(variable){return variable}scope=scope.upper}return null},isDefaultThisBinding(node,sourceCode,{capIsConstructor:capIsConstructor=true}={}){if(node.parent.type==="PropertyDefinition"&&node.parent.value===node){return false}if(node.type==="StaticBlock"){return false}if(capIsConstructor&&isES5Constructor(node)||hasJSDocThisTag(node,sourceCode)){return false}const isAnonymous=node.id===null;let currentNode=node;while(currentNode){const parent=currentNode.parent;switch(parent.type){case"LogicalExpression":case"ConditionalExpression":case"ChainExpression":currentNode=parent;break;case"ReturnStatement":{const func=getUpperFunction(parent);if(func===null||!isCallee(func)){return true}currentNode=func.parent;break}case"ArrowFunctionExpression":if(currentNode!==parent.body||!isCallee(parent)){return true}currentNode=parent.parent;break;case"Property":case"PropertyDefinition":case"MethodDefinition":return parent.value!==currentNode;case"AssignmentExpression":case"AssignmentPattern":if(parent.left.type==="MemberExpression"){return false}if(capIsConstructor&&isAnonymous&&parent.left.type==="Identifier"&&startsWithUpperCase(parent.left.name)){return false}return true;case"VariableDeclarator":return!(capIsConstructor&&isAnonymous&&parent.init===currentNode&&parent.id.type==="Identifier"&&startsWithUpperCase(parent.id.name));case"MemberExpression":if(parent.object===currentNode&&isSpecificMemberAccess(parent,null,bindOrCallOrApplyPattern)){const maybeCalleeNode=parent.parent.type==="ChainExpression"?parent.parent:parent;return!(isCallee(maybeCalleeNode)&&maybeCalleeNode.parent.arguments.length>=1&&!isNullOrUndefined(maybeCalleeNode.parent.arguments[0]))}return true;case"CallExpression":if(isReflectApply(parent.callee)){return parent.arguments.length!==3||parent.arguments[0]!==currentNode||isNullOrUndefined(parent.arguments[1])}if(isArrayFromMethod(parent.callee)){return parent.arguments.length!==3||parent.arguments[1]!==currentNode||isNullOrUndefined(parent.arguments[2])}if(isMethodWhichHasThisArg(parent.callee)){return parent.arguments.length!==2||parent.arguments[0]!==currentNode||isNullOrUndefined(parent.arguments[1])}return true;default:return true}}return true},getPrecedence(node){switch(node.type){case"SequenceExpression":return 0;case"AssignmentExpression":case"ArrowFunctionExpression":case"YieldExpression":return 1;case"ConditionalExpression":return 3;case"LogicalExpression":switch(node.operator){case"||":case"??":return 4;case"&&":return 5}case"BinaryExpression":switch(node.operator){case"|":return 6;case"^":return 7;case"&":return 8;case"==":case"!=":case"===":case"!==":return 9;case"<":case"<=":case">":case">=":case"in":case"instanceof":return 10;case"<<":case">>":case">>>":return 11;case"+":case"-":return 12;case"*":case"/":case"%":return 13;case"**":return 15}case"UnaryExpression":case"AwaitExpression":return 16;case"UpdateExpression":return 17;case"CallExpression":case"ChainExpression":case"ImportExpression":return 18;case"NewExpression":return 19;default:return 20}},isEmptyBlock(node){return Boolean(node&&node.type==="BlockStatement"&&node.body.length===0)},isEmptyFunction(node){return isFunction(node)&&module.exports.isEmptyBlock(node.body)},getDirectivePrologue(node){const directives=[];if(node.type==="Program"||node.type==="FunctionDeclaration"||node.type==="FunctionExpression"||node.type==="ArrowFunctionExpression"&&node.body.type==="BlockStatement"){const statements=node.type==="Program"?node.body:node.body.body;for(const statement of statements){if(statement.type==="ExpressionStatement"&&statement.expression.type==="Literal"){directives.push(statement)}else{break}}}return directives},isDecimalInteger(node){return node.type==="Literal"&&typeof node.value==="number"&&DECIMAL_INTEGER_PATTERN.test(node.raw)},isDecimalIntegerNumericToken(token){return token.type==="Numeric"&&DECIMAL_INTEGER_PATTERN.test(token.value)},getFunctionNameWithKind(node){const parent=node.parent;const tokens=[];if(parent.type==="MethodDefinition"||parent.type==="PropertyDefinition"){if(parent.static){tokens.push("static")}if(!parent.computed&&parent.key.type==="PrivateIdentifier"){tokens.push("private")}}if(node.async){tokens.push("async")}if(node.generator){tokens.push("generator")}if(parent.type==="Property"||parent.type==="MethodDefinition"){if(parent.kind==="constructor"){return"constructor"}if(parent.kind==="get"){tokens.push("getter")}else if(parent.kind==="set"){tokens.push("setter")}else{tokens.push("method")}}else if(parent.type==="PropertyDefinition"){tokens.push("method")}else{if(node.type==="ArrowFunctionExpression"){tokens.push("arrow")}tokens.push("function")}if(parent.type==="Property"||parent.type==="MethodDefinition"||parent.type==="PropertyDefinition"){if(!parent.computed&&parent.key.type==="PrivateIdentifier"){tokens.push(`#${parent.key.name}`)}else{const name=getStaticPropertyName(parent);if(name!==null){tokens.push(`'${name}'`)}else if(node.id){tokens.push(`'${node.id.name}'`)}}}else if(node.id){tokens.push(`'${node.id.name}'`)}return tokens.join(" ")},getFunctionHeadLoc(node,sourceCode){const parent=node.parent;let start=null;let end=null;if(parent.type==="Property"||parent.type==="MethodDefinition"||parent.type==="PropertyDefinition"){start=parent.loc.start;end=getOpeningParenOfParams(node,sourceCode).loc.start}else if(node.type==="ArrowFunctionExpression"){const arrowToken=sourceCode.getTokenBefore(node.body,isArrowToken);start=arrowToken.loc.start;end=arrowToken.loc.end}else{start=node.loc.start;end=getOpeningParenOfParams(node,sourceCode).loc.start}return{start:Object.assign({},start),end:Object.assign({},end)}},getNextLocation(sourceCode,{line:line,column:column}){if(column<sourceCode.lines[line-1].length){return{line:line,column:column+1}}if(line<sourceCode.lines.length){return{line:line+1,column:0}}return null},getParenthesisedText(sourceCode,node){let leftToken=sourceCode.getFirstToken(node);let rightToken=sourceCode.getLastToken(node);while(sourceCode.getTokenBefore(leftToken)&&sourceCode.getTokenBefore(leftToken).type==="Punctuator"&&sourceCode.getTokenBefore(leftToken).value==="("&&sourceCode.getTokenAfter(rightToken)&&sourceCode.getTokenAfter(rightToken).type==="Punctuator"&&sourceCode.getTokenAfter(rightToken).value===")"){leftToken=sourceCode.getTokenBefore(leftToken);rightToken=sourceCode.getTokenAfter(rightToken)}return sourceCode.getText().slice(leftToken.range[0],rightToken.range[1])},couldBeError(node){switch(node.type){case"Identifier":case"CallExpression":case"NewExpression":case"MemberExpression":case"TaggedTemplateExpression":case"YieldExpression":case"AwaitExpression":case"ChainExpression":return true;case"AssignmentExpression":if(["=","&&="].includes(node.operator)){return module.exports.couldBeError(node.right)}if(["||=","??="].includes(node.operator)){return module.exports.couldBeError(node.left)||module.exports.couldBeError(node.right)}return false;case"SequenceExpression":{const exprs=node.expressions;return exprs.length!==0&&module.exports.couldBeError(exprs[exprs.length-1])}case"LogicalExpression":if(node.operator==="&&"){return module.exports.couldBeError(node.right)}return module.exports.couldBeError(node.left)||module.exports.couldBeError(node.right);case"ConditionalExpression":return module.exports.couldBeError(node.consequent)||module.exports.couldBeError(node.alternate);default:return false}},isNumericLiteral(node){return node.type==="Literal"&&(typeof node.value==="number"||Boolean(node.bigint))},canTokensBeAdjacent(leftValue,rightValue){const espreeOptions={ecmaVersion:espree.latestEcmaVersion,comment:true,range:true};let leftToken;if(typeof leftValue==="string"){let tokens;try{tokens=espree.tokenize(leftValue,espreeOptions)}catch{return false}const comments=tokens.comments;leftToken=tokens[tokens.length-1];if(comments.length){const lastComment=comments[comments.length-1];if(!leftToken||lastComment.range[0]>leftToken.range[0]){leftToken=lastComment}}}else{leftToken=leftValue}if(leftToken.type==="Shebang"||leftToken.type==="Hashbang"){return false}let rightToken;if(typeof rightValue==="string"){let tokens;try{tokens=espree.tokenize(rightValue,espreeOptions)}catch{return false}const comments=tokens.comments;rightToken=tokens[0];if(comments.length){const firstComment=comments[0];if(!rightToken||firstComment.range[0]<rightToken.range[0]){rightToken=firstComment}}}else{rightToken=rightValue}if(leftToken.type==="Punctuator"||rightToken.type==="Punctuator"){if(leftToken.type==="Punctuator"&&rightToken.type==="Punctuator"){const PLUS_TOKENS=new Set(["+","++"]);const MINUS_TOKENS=new Set(["-","--"]);return!(PLUS_TOKENS.has(leftToken.value)&&PLUS_TOKENS.has(rightToken.value)||MINUS_TOKENS.has(leftToken.value)&&MINUS_TOKENS.has(rightToken.value))}if(leftToken.type==="Punctuator"&&leftToken.value==="/"){return!["Block","Line","RegularExpression"].includes(rightToken.type)}return true}if(leftToken.type==="String"||rightToken.type==="String"||leftToken.type==="Template"||rightToken.type==="Template"){return true}if(leftToken.type!=="Numeric"&&rightToken.type==="Numeric"&&rightToken.value.startsWith(".")){return true}if(leftToken.type==="Block"||rightToken.type==="Block"||rightToken.type==="Line"){return true}if(rightToken.type==="PrivateIdentifier"){return true}return false},getNameLocationInGlobalDirectiveComment(sourceCode,comment,name){const namePattern=new RegExp(`[\\s,]${escapeRegExp(name)}(?:$|[\\s,:])`,"gu");namePattern.lastIndex=comment.value.indexOf("global")+6;const match=namePattern.exec(comment.value);const start=sourceCode.getLocFromIndex(comment.range[0]+"/*".length+(match?match.index+1:0));const end={line:start.line,column:start.column+(match?name.length:1)};return{start:start,end:end}},hasOctalOrNonOctalDecimalEscapeSequence(rawString){return OCTAL_OR_NON_OCTAL_DECIMAL_ESCAPE_PATTERN.test(rawString)},isReferenceToGlobalVariable:isReferenceToGlobalVariable,isLogicalExpression:isLogicalExpression,isCoalesceExpression:isCoalesceExpression,isMixedLogicalAndCoalesceExpressions:isMixedLogicalAndCoalesceExpressions,isNullLiteral:isNullLiteral,getStaticStringValue:getStaticStringValue,getStaticPropertyName:getStaticPropertyName,skipChainExpression:skipChainExpression,isSpecificId:isSpecificId,isSpecificMemberAccess:isSpecificMemberAccess,equalLiteralValue:equalLiteralValue,isSameReference:isSameReference,isLogicalAssignmentOperator:isLogicalAssignmentOperator,getSwitchCaseColonToken:getSwitchCaseColonToken,getModuleExportName:getModuleExportName,isConstant:isConstant}})(astUtils);return astUtils.exports}var accessorPairs;var hasRequiredAccessorPairs;function requireAccessorPairs(){if(hasRequiredAccessorPairs)return accessorPairs;hasRequiredAccessorPairs=1;const astUtils=requireAstUtils();function areEqualTokenLists(left,right){if(left.length!==right.length){return false}for(let i=0;i<left.length;i++){const leftToken=left[i],rightToken=right[i];if(leftToken.type!==rightToken.type||leftToken.value!==rightToken.value){return false}}return true}function areEqualKeys(left,right){if(typeof left==="string"&&typeof right==="string"){return left===right}if(Array.isArray(left)&&Array.isArray(right)){return areEqualTokenLists(left,right)}return false}function isAccessorKind(node){return node.kind==="get"||node.kind==="set"}function isArgumentOfMethodCall(node,index,object,property){const parent=node.parent;return parent.type==="CallExpression"&&astUtils.isSpecificMemberAccess(parent.callee,object,property)&&parent.arguments[index]===node}function isPropertyDescriptor(node){if(isArgumentOfMethodCall(node,2,"Object","defineProperty")||isArgumentOfMethodCall(node,2,"Reflect","defineProperty")){return true}const grandparent=node.parent.parent;return grandparent.type==="ObjectExpression"&&(isArgumentOfMethodCall(grandparent,1,"Object","create")||isArgumentOfMethodCall(grandparent,1,"Object","defineProperties"))}accessorPairs={meta:{type:"suggestion",docs:{description:"Enforce getter and setter pairs in objects and classes",recommended:false,url:"https://eslint.org/docs/rules/accessor-pairs"},schema:[{type:"object",properties:{getWithoutSet:{type:"boolean",default:false},setWithoutGet:{type:"boolean",default:true},enforceForClassMembers:{type:"boolean",default:true}},additionalProperties:false}],messages:{missingGetterInPropertyDescriptor:"Getter is not present in property descriptor.",missingSetterInPropertyDescriptor:"Setter is not present in property descriptor.",missingGetterInObjectLiteral:"Getter is not present for {{ name }}.",missingSetterInObjectLiteral:"Setter is not present for {{ name }}.",missingGetterInClass:"Getter is not present for class {{ name }}.",missingSetterInClass:"Setter is not present for class {{ name }}."}},create(context){const config=context.options[0]||{};const checkGetWithoutSet=config.getWithoutSet===true;const checkSetWithoutGet=config.setWithoutGet!==false;const enforceForClassMembers=config.enforceForClassMembers!==false;const sourceCode=context.getSourceCode();function report(node,messageKind){if(node.type==="Property"){context.report({node:node,messageId:`${messageKind}InObjectLiteral`,loc:astUtils.getFunctionHeadLoc(node.value,sourceCode),data:{name:astUtils.getFunctionNameWithKind(node.value)}})}else if(node.type==="MethodDefinition"){context.report({node:node,messageId:`${messageKind}InClass`,loc:astUtils.getFunctionHeadLoc(node.value,sourceCode),data:{name:astUtils.getFunctionNameWithKind(node.value)}})}else{context.report({node:node,messageId:`${messageKind}InPropertyDescriptor`})}}function reportList(nodes,messageKind){for(const node of nodes){report(node,messageKind)}}function createAccessorData(node){const name=astUtils.getStaticPropertyName(node);const key=name!==null?name:sourceCode.getTokens(node.key);return{key:key,getters:node.kind==="get"?[node]:[],setters:node.kind==="set"?[node]:[]}}function mergeAccessorData(accessors,accessorData){const equalKeyElement=accessors.find((a=>areEqualKeys(a.key,accessorData.key)));if(equalKeyElement){equalKeyElement.getters.push(...accessorData.getters);equalKeyElement.setters.push(...accessorData.setters)}else{accessors.push(accessorData)}return accessors}function checkList(nodes){const accessors=nodes.filter(isAccessorKind).map(createAccessorData).reduce(mergeAccessorData,[]);for(const{getters:getters,setters:setters}of accessors){if(checkSetWithoutGet&&setters.length&&!getters.length){reportList(setters,"missingGetter")}if(checkGetWithoutSet&&getters.length&&!setters.length){reportList(getters,"missingSetter")}}}function checkObjectLiteral(node){checkList(node.properties.filter((p=>p.type==="Property")))}function checkPropertyDescriptor(node){const namesToCheck=new Set(node.properties.filter((p=>p.type==="Property"&&p.kind==="init"&&!p.computed)).map((({key:key})=>key.name)));const hasGetter=namesToCheck.has("get");const hasSetter=namesToCheck.has("set");if(checkSetWithoutGet&&hasSetter&&!hasGetter){report(node,"missingGetter")}if(checkGetWithoutSet&&hasGetter&&!hasSetter){report(node,"missingSetter")}}function checkObjectExpression(node){checkObjectLiteral(node);if(isPropertyDescriptor(node)){checkPropertyDescriptor(node)}}function checkClassBody(node){const methodDefinitions=node.body.filter((m=>m.type==="MethodDefinition"));checkList(methodDefinitions.filter((m=>m.static)));checkList(methodDefinitions.filter((m=>!m.static)))}const listeners={};if(checkSetWithoutGet||checkGetWithoutSet){listeners.ObjectExpression=checkObjectExpression;if(enforceForClassMembers){listeners.ClassBody=checkClassBody}}return listeners}};return accessorPairs}var arrayBracketNewline;var hasRequiredArrayBracketNewline;function requireArrayBracketNewline(){if(hasRequiredArrayBracketNewline)return arrayBracketNewline;hasRequiredArrayBracketNewline=1;const astUtils=requireAstUtils();arrayBracketNewline={meta:{type:"layout",docs:{description:"Enforce linebreaks after opening and before closing array brackets",recommended:false,url:"https://eslint.org/docs/rules/array-bracket-newline"},fixable:"whitespace",schema:[{oneOf:[{enum:["always","never","consistent"]},{type:"object",properties:{multiline:{type:"boolean"},minItems:{type:["integer","null"],minimum:0}},additionalProperties:false}]}],messages:{unexpectedOpeningLinebreak:"There should be no linebreak after '['.",unexpectedClosingLinebreak:"There should be no linebreak before ']'.",missingOpeningLinebreak:"A linebreak is required after '['.",missingClosingLinebreak:"A linebreak is required before ']'."}},create(context){const sourceCode=context.getSourceCode();function normalizeOptionValue(option){let consistent=false;let multiline=false;let minItems=0;if(option){if(option==="consistent"){consistent=true;minItems=Number.POSITIVE_INFINITY}else if(option==="always"||option.minItems===0){minItems=0}else if(option==="never"){minItems=Number.POSITIVE_INFINITY}else{multiline=Boolean(option.multiline);minItems=option.minItems||Number.POSITIVE_INFINITY}}else{consistent=false;multiline=true;minItems=Number.POSITIVE_INFINITY}return{consistent:consistent,multiline:multiline,minItems:minItems}}function normalizeOptions(options){const value=normalizeOptionValue(options);return{ArrayExpression:value,ArrayPattern:value}}function reportNoBeginningLinebreak(node,token){context.report({node:node,loc:token.loc,messageId:"unexpectedOpeningLinebreak",fix(fixer){const nextToken=sourceCode.getTokenAfter(token,{includeComments:true});if(astUtils.isCommentToken(nextToken)){return null}return fixer.removeRange([token.range[1],nextToken.range[0]])}})}function reportNoEndingLinebreak(node,token){context.report({node:node,loc:token.loc,messageId:"unexpectedClosingLinebreak",fix(fixer){const previousToken=sourceCode.getTokenBefore(token,{includeComments:true});if(astUtils.isCommentToken(previousToken)){return null}return fixer.removeRange([previousToken.range[1],token.range[0]])}})}function reportRequiredBeginningLinebreak(node,token){context.report({node:node,loc:token.loc,messageId:"missingOpeningLinebreak",fix(fixer){return fixer.insertTextAfter(token,"\n")}})}function reportRequiredEndingLinebreak(node,token){context.report({node:node,loc:token.loc,messageId:"missingClosingLinebreak",fix(fixer){return fixer.insertTextBefore(token,"\n")}})}function check(node){const elements=node.elements;const normalizedOptions=normalizeOptions(context.options[0]);const options=normalizedOptions[node.type];const openBracket=sourceCode.getFirstToken(node);const closeBracket=sourceCode.getLastToken(node);const firstIncComment=sourceCode.getTokenAfter(openBracket,{includeComments:true});const lastIncComment=sourceCode.getTokenBefore(closeBracket,{includeComments:true});const first=sourceCode.getTokenAfter(openBracket);const last=sourceCode.getTokenBefore(closeBracket);const needsLinebreaks=elements.length>=options.minItems||options.multiline&&elements.length>0&&firstIncComment.loc.start.line!==lastIncComment.loc.end.line||elements.length===0&&firstIncComment.type==="Block"&&firstIncComment.loc.start.line!==lastIncComment.loc.end.line&&firstIncComment===lastIncComment||options.consistent&&openBracket.loc.end.line!==first.loc.start.line;if(needsLinebreaks){if(astUtils.isTokenOnSameLine(openBracket,first)){reportRequiredBeginningLinebreak(node,openBracket)}if(astUtils.isTokenOnSameLine(last,closeBracket)){reportRequiredEndingLinebreak(node,closeBracket)}}else{if(!astUtils.isTokenOnSameLine(openBracket,first)){reportNoBeginningLinebreak(node,openBracket)}if(!astUtils.isTokenOnSameLine(last,closeBracket)){reportNoEndingLinebreak(node,closeBracket)}}}return{ArrayPattern:check,ArrayExpression:check}}};return arrayBracketNewline}var arrayBracketSpacing;var hasRequiredArrayBracketSpacing;function requireArrayBracketSpacing(){if(hasRequiredArrayBracketSpacing)return arrayBracketSpacing;hasRequiredArrayBracketSpacing=1;const astUtils=requireAstUtils();arrayBracketSpacing={meta:{type:"layout",docs:{description:"Enforce consistent spacing inside array brackets",recommended:false,url:"https://eslint.org/docs/rules/array-bracket-spacing"},fixable:"whitespace",schema:[{enum:["always","never"]},{type:"object",properties:{singleValue:{type:"boolean"},objectsInArrays:{type:"boolean"},arraysInArrays:{type:"boolean"}},additionalProperties:false}],messages:{unexpectedSpaceAfter:"There should be no space after '{{tokenValue}}'.",unexpectedSpaceBefore:"There should be no space before '{{tokenValue}}'.",missingSpaceAfter:"A space is required after '{{tokenValue}}'.",missingSpaceBefore:"A space is required before '{{tokenValue}}'."}},create(context){const spaced=context.options[0]==="always",sourceCode=context.getSourceCode();function isOptionSet(option){return context.options[1]?context.options[1][option]===!spaced:false}const options={spaced:spaced,singleElementException:isOptionSet("singleValue"),objectsInArraysException:isOptionSet("objectsInArrays"),arraysInArraysException:isOptionSet("arraysInArrays")};function reportNoBeginningSpace(node,token){const nextToken=sourceCode.getTokenAfter(token);context.report({node:node,loc:{start:token.loc.end,end:nextToken.loc.start},messageId:"unexpectedSpaceAfter",data:{tokenValue:token.value},fix(fixer){return fixer.removeRange([token.range[1],nextToken.range[0]])}})}function reportNoEndingSpace(node,token){const previousToken=sourceCode.getTokenBefore(token);context.report({node:node,loc:{start:previousToken.loc.end,end:token.loc.start},messageId:"unexpectedSpaceBefore",data:{tokenValue:token.value},fix(fixer){return fixer.removeRange([previousToken.range[1],token.range[0]])}})}function reportRequiredBeginningSpace(node,token){context.report({node:node,loc:token.loc,messageId:"missingSpaceAfter",data:{tokenValue:token.value},fix(fixer){return fixer.insertTextAfter(token," ")}})}function reportRequiredEndingSpace(node,token){context.report({node:node,loc:token.loc,messageId:"missingSpaceBefore",data:{tokenValue:token.value},fix(fixer){return fixer.insertTextBefore(token," ")}})}function isObjectType(node){return node&&(node.type==="ObjectExpression"||node.type==="ObjectPattern")}function isArrayType(node){return node&&(node.type==="ArrayExpression"||node.type==="ArrayPattern")}function validateArraySpacing(node){if(options.spaced&&node.elements.length===0){return}const first=sourceCode.getFirstToken(node),second=sourceCode.getFirstToken(node,1),last=node.typeAnnotation?sourceCode.getTokenBefore(node.typeAnnotation):sourceCode.getLastToken(node),penultimate=sourceCode.getTokenBefore(last),firstElement=node.elements[0],lastElement=node.elements[node.elements.length-1];const openingBracketMustBeSpaced=options.objectsInArraysException&&isObjectType(firstElement)||options.arraysInArraysException&&isArrayType(firstElement)||options.singleElementException&&node.elements.length===1?!options.spaced:options.spaced;const closingBracketMustBeSpaced=options.objectsInArraysException&&isObjectType(lastElement)||options.arraysInArraysException&&isArrayType(lastElement)||options.singleElementException&&node.elements.length===1?!options.spaced:options.spaced;if(astUtils.isTokenOnSameLine(first,second)){if(openingBracketMustBeSpaced&&!sourceCode.isSpaceBetweenTokens(first,second)){reportRequiredBeginningSpace(node,first)}if(!openingBracketMustBeSpaced&&sourceCode.isSpaceBetweenTokens(first,second)){reportNoBeginningSpace(node,first)}}if(first!==penultimate&&astUtils.isTokenOnSameLine(penultimate,last)){if(closingBracketMustBeSpaced&&!sourceCode.isSpaceBetweenTokens(penultimate,last)){reportRequiredEndingSpace(node,last)}if(!closingBracketMustBeSpaced&&sourceCode.isSpaceBetweenTokens(penultimate,last)){reportNoEndingSpace(node,last)}}}return{ArrayPattern:validateArraySpacing,ArrayExpression:validateArraySpacing}}};return arrayBracketSpacing}var arrayCallbackReturn;var hasRequiredArrayCallbackReturn;function requireArrayCallbackReturn(){if(hasRequiredArrayCallbackReturn)return arrayCallbackReturn;hasRequiredArrayCallbackReturn=1;const astUtils=requireAstUtils();const TARGET_NODE_TYPE=/^(?:Arrow)?FunctionExpression$/u;const TARGET_METHODS=/^(?:every|filter|find(?:Last)?(?:Index)?|flatMap|forEach|map|reduce(?:Right)?|some|sort)$/u;function isReachable(segment){return segment.reachable}function isTargetMethod(node){return astUtils.isSpecificMemberAccess(node,null,TARGET_METHODS)}function fullMethodName(arrayMethodName){if(["from","of","isArray"].includes(arrayMethodName)){return"Array.".concat(arrayMethodName)}return"Array.prototype.".concat(arrayMethodName)}function getArrayMethodName(node){let currentNode=node;while(currentNode){const parent=currentNode.parent;switch(parent.type){case"LogicalExpression":case"ConditionalExpression":case"ChainExpression":currentNode=parent;break;case"ReturnStatement":{const func=astUtils.getUpperFunction(parent);if(func===null||!astUtils.isCallee(func)){return null}currentNode=func.parent;break}case"CallExpression":if(astUtils.isArrayFromMethod(parent.callee)){if(parent.arguments.length>=2&&parent.arguments[1]===currentNode){return"from"}}if(isTargetMethod(parent.callee)){if(parent.arguments.length>=1&&parent.arguments[0]===currentNode){return astUtils.getStaticPropertyName(parent.callee)}}return null;default:return null}}return null}arrayCallbackReturn={meta:{type:"problem",docs:{description:"Enforce `return` statements in callbacks of array methods",recommended:false,url:"https://eslint.org/docs/rules/array-callback-return"},schema:[{type:"object",properties:{allowImplicit:{type:"boolean",default:false},checkForEach:{type:"boolean",default:false}},additionalProperties:false}],messages:{expectedAtEnd:"{{arrayMethodName}}() expects a value to be returned at the end of {{name}}.",expectedInside:"{{arrayMethodName}}() expects a return value from {{name}}.",expectedReturnValue:"{{arrayMethodName}}() expects a return value from {{name}}.",expectedNoReturnValue:"{{arrayMethodName}}() expects no useless return value from {{name}}."}},create(context){const options=context.options[0]||{allowImplicit:false,checkForEach:false};const sourceCode=context.getSourceCode();let funcInfo={arrayMethodName:null,upper:null,codePath:null,hasReturn:false,shouldCheck:false,node:null};function checkLastSegment(node){if(!funcInfo.shouldCheck){return}let messageId=null;if(funcInfo.arrayMethodName==="forEach"){if(options.checkForEach&&node.type==="ArrowFunctionExpression"&&node.expression){messageId="expectedNoReturnValue"}}else{if(node.body.type==="BlockStatement"&&funcInfo.codePath.currentSegments.some(isReachable)){messageId=funcInfo.hasReturn?"expectedAtEnd":"expectedInside"}}if(messageId){const name=astUtils.getFunctionNameWithKind(node);context.report({node:node,loc:astUtils.getFunctionHeadLoc(node,sourceCode),messageId:messageId,data:{name:name,arrayMethodName:fullMethodName(funcInfo.arrayMethodName)}})}}return{onCodePathStart(codePath,node){let methodName=null;if(TARGET_NODE_TYPE.test(node.type)){methodName=getArrayMethodName(node)}funcInfo={arrayMethodName:methodName,upper:funcInfo,codePath:codePath,hasReturn:false,shouldCheck:methodName&&!node.async&&!node.generator,node:node}},onCodePathEnd(){funcInfo=funcInfo.upper},ReturnStatement(node){if(!funcInfo.shouldCheck){return}funcInfo.hasReturn=true;let messageId=null;if(funcInfo.arrayMethodName==="forEach"){if(options.checkForEach&&node.argument){messageId="expectedNoReturnValue"}}else{if(!options.allowImplicit&&!node.argument){messageId="expectedReturnValue"}}if(messageId){context.report({node:node,messageId:messageId,data:{name:astUtils.getFunctionNameWithKind(funcInfo.node),arrayMethodName:fullMethodName(funcInfo.arrayMethodName)}})}},"FunctionExpression:exit":checkLastSegment,"ArrowFunctionExpression:exit":checkLastSegment}}};return arrayCallbackReturn}var arrayElementNewline;var hasRequiredArrayElementNewline;function requireArrayElementNewline(){if(hasRequiredArrayElementNewline)return arrayElementNewline;hasRequiredArrayElementNewline=1;const astUtils=requireAstUtils();arrayElementNewline={meta:{type:"layout",docs:{description:"Enforce line breaks after each array element",recommended:false,url:"https://eslint.org/docs/rules/array-element-newline"},fixable:"whitespace",schema:{definitions:{basicConfig:{oneOf:[{enum:["always","never","consistent"]},{type:"object",properties:{multiline:{type:"boolean"},minItems:{type:["integer","null"],minimum:0}},additionalProperties:false}]}},items:[{oneOf:[{$ref:"#/definitions/basicConfig"},{type:"object",properties:{ArrayExpression:{$ref:"#/definitions/basicConfig"},ArrayPattern:{$ref:"#/definitions/basicConfig"}},additionalProperties:false,minProperties:1}]}]},messages:{unexpectedLineBreak:"There should be no linebreak here.",missingLineBreak:"There should be a linebreak after this element."}},create(context){const sourceCode=context.getSourceCode();function normalizeOptionValue(providedOption){let consistent=false;let multiline=false;let minItems;const option=providedOption||"always";if(!option||option==="always"||option.minItems===0){minItems=0}else if(option==="never"){minItems=Number.POSITIVE_INFINITY}else if(option==="consistent"){consistent=true;minItems=Number.POSITIVE_INFINITY}else{multiline=Boolean(option.multiline);minItems=option.minItems||Number.POSITIVE_INFINITY}return{consistent:consistent,multiline:multiline,minItems:minItems}}function normalizeOptions(options){if(options&&(options.ArrayExpression||options.ArrayPattern)){let expressionOptions,patternOptions;if(options.ArrayExpression){expressionOptions=normalizeOptionValue(options.ArrayExpression)}if(options.ArrayPattern){patternOptions=normalizeOptionValue(options.ArrayPattern)}return{ArrayExpression:expressionOptions,ArrayPattern:patternOptions}}const value=normalizeOptionValue(options);return{ArrayExpression:value,ArrayPattern:value}}function reportNoLineBreak(token){const tokenBefore=sourceCode.getTokenBefore(token,{includeComments:true});context.report({loc:{start:tokenBefore.loc.end,end:token.loc.start},messageId:"unexpectedLineBreak",fix(fixer){if(astUtils.isCommentToken(tokenBefore)){return null}if(!astUtils.isTokenOnSameLine(tokenBefore,token)){return fixer.replaceTextRange([tokenBefore.range[1],token.range[0]]," ")}const twoTokensBefore=sourceCode.getTokenBefore(tokenBefore,{includeComments:true});if(astUtils.isCommentToken(twoTokensBefore)){return null}return fixer.replaceTextRange([twoTokensBefore.range[1],tokenBefore.range[0]],"")}})}function reportRequiredLineBreak(token){const tokenBefore=sourceCode.getTokenBefore(token,{includeComments:true});context.report({loc:{start:tokenBefore.loc.end,end:token.loc.start},messageId:"missingLineBreak",fix(fixer){return fixer.replaceTextRange([tokenBefore.range[1],token.range[0]],"\n")}})}function check(node){const elements=node.elements;const normalizedOptions=normalizeOptions(context.options[0]);const options=normalizedOptions[node.type];if(!options){return}let elementBreak=false;if(options.multiline){elementBreak=elements.filter((element=>element!==null)).some((element=>element.loc.start.line!==element.loc.end.line))}const linebreaksCount=node.elements.map(((element,i)=>{const previousElement=elements[i-1];if(i===0||element===null||previousElement===null){return false}const commaToken=sourceCode.getFirstTokenBetween(previousElement,element,astUtils.isCommaToken);const lastTokenOfPreviousElement=sourceCode.getTokenBefore(commaToken);const firstTokenOfCurrentElement=sourceCode.getTokenAfter(commaToken);return!astUtils.isTokenOnSameLine(lastTokenOfPreviousElement,firstTokenOfCurrentElement)})).filter((isBreak=>isBreak===true)).length;const needsLinebreaks=elements.length>=options.minItems||options.multiline&&elementBreak||options.consistent&&linebreaksCount>0&&linebreaksCount<node.elements.length;elements.forEach(((element,i)=>{const previousElement=elements[i-1];if(i===0||element===null||previousElement===null){return}const commaToken=sourceCode.getFirstTokenBetween(previousElement,element,astUtils.isCommaToken);const lastTokenOfPreviousElement=sourceCode.getTokenBefore(commaToken);const firstTokenOfCurrentElement=sourceCode.getTokenAfter(commaToken);if(needsLinebreaks){if(astUtils.isTokenOnSameLine(lastTokenOfPreviousElement,firstTokenOfCurrentElement)){reportRequiredLineBreak(firstTokenOfCurrentElement)}}else{if(!astUtils.isTokenOnSameLine(lastTokenOfPreviousElement,firstTokenOfCurrentElement)){reportNoLineBreak(firstTokenOfCurrentElement)}}}))}return{ArrayPattern:check,ArrayExpression:check}}};return arrayElementNewline}var arrowBodyStyle;var hasRequiredArrowBodyStyle;function requireArrowBodyStyle(){if(hasRequiredArrowBodyStyle)return arrowBodyStyle;hasRequiredArrowBodyStyle=1;const astUtils=requireAstUtils();arrowBodyStyle={meta:{type:"suggestion",docs:{description:"Require braces around arrow function bodies",recommended:false,url:"https://eslint.org/docs/rules/arrow-body-style"},schema:{anyOf:[{type:"array",items:[{enum:["always","never"]}],minItems:0,maxItems:1},{type:"array",items:[{enum:["as-needed"]},{type:"object",properties:{requireReturnForObjectLiteral:{type:"boolean"}},additionalProperties:false}],minItems:0,maxItems:2}]},fixable:"code",messages:{unexpectedOtherBlock:"Unexpected block statement surrounding arrow body.",unexpectedEmptyBlock:"Unexpected block statement surrounding arrow body; put a value of `undefined` immediately after the `=>`.",unexpectedObjectBlock:"Unexpected block statement surrounding arrow body; parenthesize the returned value and move it immediately after the `=>`.",unexpectedSingleBlock:"Unexpected block statement surrounding arrow body; move the returned value immediately after the `=>`.",expectedBlock:"Expected block statement surrounding arrow body."}},create(context){const options=context.options;const always=options[0]==="always";const asNeeded=!options[0]||options[0]==="as-needed";const never=options[0]==="never";const requireReturnForObjectLiteral=options[1]&&options[1].requireReturnForObjectLiteral;const sourceCode=context.getSourceCode();let funcInfo=null;function hasASIProblem(token){return token&&token.type==="Punctuator"&&/^[([/`+-]/u.test(token.value)}function findClosingParen(node){let nodeToCheck=node;while(!astUtils.isParenthesised(sourceCode,nodeToCheck)){nodeToCheck=nodeToCheck.parent}return sourceCode.getTokenAfter(nodeToCheck)}function isInsideForLoopInitializer(node){if(node&&node.parent){if(node.parent.type==="ForStatement"&&node.parent.init===node){return true}return isInsideForLoopInitializer(node.parent)}return false}function validate(node){const arrowBody=node.body;if(arrowBody.type==="BlockStatement"){const blockBody=arrowBody.body;if(blockBody.length!==1&&!never){return}if(asNeeded&&requireReturnForObjectLiteral&&blockBody[0].type==="ReturnStatement"&&blockBody[0].argument&&blockBody[0].argument.type==="ObjectExpression"){return}if(never||asNeeded&&blockBody[0].type==="ReturnStatement"){let messageId;if(blockBody.length===0){messageId="unexpectedEmptyBlock"}else if(blockBody.length>1){messageId="unexpectedOtherBlock"}else if(blockBody[0].argument===null){messageId="unexpectedSingleBlock"}else if(astUtils.isOpeningBraceToken(sourceCode.getFirstToken(blockBody[0],{skip:1}))){messageId="unexpectedObjectBlock"}else{messageId="unexpectedSingleBlock"}context.report({node:node,loc:arrowBody.loc,messageId:messageId,fix(fixer){const fixes=[];if(blockBody.length!==1||blockBody[0].type!=="ReturnStatement"||!blockBody[0].argument||hasASIProblem(sourceCode.getTokenAfter(arrowBody))){return fixes}const openingBrace=sourceCode.getFirstToken(arrowBody);const closingBrace=sourceCode.getLastToken(arrowBody);const firstValueToken=sourceCode.getFirstToken(blockBody[0],1);const lastValueToken=sourceCode.getLastToken(blockBody[0]);const commentsExist=sourceCode.commentsExistBetween(openingBrace,firstValueToken)||sourceCode.commentsExistBetween(lastValueToken,closingBrace);if(commentsExist){fixes.push(fixer.remove(openingBrace),fixer.remove(closingBrace),fixer.remove(sourceCode.getTokenAfter(openingBrace)))}else{fixes.push(fixer.removeRange([openingBrace.range[0],firstValueToken.range[0]]),fixer.removeRange([lastValueToken.range[1],closingBrace.range[1]]))}if(astUtils.isOpeningBraceToken(firstValueToken)||blockBody[0].argument.type==="SequenceExpression"||funcInfo.hasInOperator&&isInsideForLoopInitializer(node)){if(!astUtils.isParenthesised(sourceCode,blockBody[0].argument)){fixes.push(fixer.insertTextBefore(firstValueToken,"("),fixer.insertTextAfter(lastValueToken,")"))}}if(astUtils.isSemicolonToken(lastValueToken)){fixes.push(fixer.remove(lastValueToken))}return fixes}})}}else{if(always||asNeeded&&requireReturnForObjectLiteral&&arrowBody.type==="ObjectExpression"){context.report({node:node,loc:arrowBody.loc,messageId:"expectedBlock",fix(fixer){const fixes=[];const arrowToken=sourceCode.getTokenBefore(arrowBody,astUtils.isArrowToken);const[firstTokenAfterArrow,secondTokenAfterArrow]=sourceCode.getTokensAfter(arrowToken,{count:2});const lastToken=sourceCode.getLastToken(node);let parenthesisedObjectLiteral=null;if(astUtils.isOpeningParenToken(firstTokenAfterArrow)&&astUtils.isOpeningBraceToken(secondTokenAfterArrow)){const braceNode=sourceCode.getNodeByRangeIndex(secondTokenAfterArrow.range[0]);if(braceNode.type==="ObjectExpression"){parenthesisedObjectLiteral=braceNode}}if(parenthesisedObjectLiteral){const openingParenToken=firstTokenAfterArrow;const openingBraceToken=secondTokenAfterArrow;if(astUtils.isTokenOnSameLine(openingParenToken,openingBraceToken)){fixes.push(fixer.replaceText(openingParenToken,"{return "))}else{fixes.push(fixer.replaceText(openingParenToken,"{"),fixer.insertTextBefore(openingBraceToken,"return "))}fixes.push(fixer.remove(findClosingParen(parenthesisedObjectLiteral)));fixes.push(fixer.insertTextAfter(lastToken,"}"))}else{fixes.push(fixer.insertTextBefore(firstTokenAfterArrow,"{return "));fixes.push(fixer.insertTextAfter(lastToken,"}"))}return fixes}})}}}return{"BinaryExpression[operator='in']"(){let info=funcInfo;while(info){info.hasInOperator=true;info=info.upper}},ArrowFunctionExpression(){funcInfo={upper:funcInfo,hasInOperator:false}},"ArrowFunctionExpression:exit"(node){validate(node);funcInfo=funcInfo.upper}}}};return arrowBodyStyle}var arrowParens;var hasRequiredArrowParens;function requireArrowParens(){if(hasRequiredArrowParens)return arrowParens;hasRequiredArrowParens=1;const astUtils=requireAstUtils();function hasBlockBody(node){return node.body.type==="BlockStatement"}arrowParens={meta:{type:"layout",docs:{description:"Require parentheses around arrow function arguments",recommended:false,url:"https://eslint.org/docs/rules/arrow-parens"},fixable:"code",schema:[{enum:["always","as-needed"]},{type:"object",properties:{requireForBlockBody:{type:"boolean",default:false}},additionalProperties:false}],messages:{unexpectedParens:"Unexpected parentheses around single function argument.",expectedParens:"Expected parentheses around arrow function argument.",unexpectedParensInline:"Unexpected parentheses around single function argument having a body with no curly braces.",expectedParensBlock:"Expected parentheses around arrow function argument having a body with curly braces."}},create(context){const asNeeded=context.options[0]==="as-needed";const requireForBlockBody=asNeeded&&context.options[1]&&context.options[1].requireForBlockBody===true;const sourceCode=context.getSourceCode();function findOpeningParenOfParams(node){const tokenBeforeParams=sourceCode.getTokenBefore(node.params[0]);if(tokenBeforeParams&&astUtils.isOpeningParenToken(tokenBeforeParams)&&node.range[0]<=tokenBeforeParams.range[0]){return tokenBeforeParams}return null}function getClosingParenOfParams(node){return sourceCode.getTokenAfter(node.params[0],astUtils.isClosingParenToken)}function hasCommentsInParensOfParams(node,openingParen){return sourceCode.commentsExistBetween(openingParen,getClosingParenOfParams(node))}function hasUnexpectedTokensBeforeOpeningParen(node,openingParen){const expectedCount=node.async?1:0;return sourceCode.getFirstToken(node,{skip:expectedCount})!==openingParen}return{"ArrowFunctionExpression[params.length=1]"(node){const shouldHaveParens=!asNeeded||requireForBlockBody&&hasBlockBody(node);const openingParen=findOpeningParenOfParams(node);const hasParens=openingParen!==null;const[param]=node.params;if(shouldHaveParens&&!hasParens){context.report({node:node,messageId:requireForBlockBody?"expectedParensBlock":"expectedParens",loc:param.loc,*fix(fixer){yield fixer.insertTextBefore(param,"(");yield fixer.insertTextAfter(param,")")}})}if(!shouldHaveParens&&hasParens&&param.type==="Identifier"&&!param.typeAnnotation&&!node.returnType&&!hasCommentsInParensOfParams(node,openingParen)&&!hasUnexpectedTokensBeforeOpeningParen(node,openingParen)){context.report({node:node,messageId:requireForBlockBody?"unexpectedParensInline":"unexpectedParens",loc:param.loc,*fix(fixer){const tokenBeforeOpeningParen=sourceCode.getTokenBefore(openingParen);const closingParen=getClosingParenOfParams(node);if(tokenBeforeOpeningParen&&tokenBeforeOpeningParen.range[1]===openingParen.range[0]&&!astUtils.canTokensBeAdjacent(tokenBeforeOpeningParen,sourceCode.getFirstToken(param))){yield fixer.insertTextBefore(openingParen," ")}yield fixer.removeRange([openingParen.range[0],param.range[0]]);yield fixer.removeRange([param.range[1],closingParen.range[1]])}})}}}}};return arrowParens}var arrowSpacing;var hasRequiredArrowSpacing;function requireArrowSpacing(){if(hasRequiredArrowSpacing)return arrowSpacing;hasRequiredArrowSpacing=1;const astUtils=requireAstUtils();arrowSpacing={meta:{type:"layout",docs:{description:"Enforce consistent spacing before and after the arrow in arrow functions",recommended:false,url:"https://eslint.org/docs/rules/arrow-spacing"},fixable:"whitespace",schema:[{type:"object",properties:{before:{type:"boolean",default:true},after:{type:"boolean",default:true}},additionalProperties:false}],messages:{expectedBefore:"Missing space before =>.",unexpectedBefore:"Unexpected space before =>.",expectedAfter:"Missing space after =>.",unexpectedAfter:"Unexpected space after =>."}},create(context){const rule=Object.assign({},context.options[0]);rule.before=rule.before!==false;rule.after=rule.after!==false;const sourceCode=context.getSourceCode();function getTokens(node){const arrow=sourceCode.getTokenBefore(node.body,astUtils.isArrowToken);return{before:sourceCode.getTokenBefore(arrow),arrow:arrow,after:sourceCode.getTokenAfter(arrow)}}function countSpaces(tokens){const before=tokens.arrow.range[0]-tokens.before.range[1];const after=tokens.after.range[0]-tokens.arrow.range[1];return{before:before,after:after}}function spaces(node){const tokens=getTokens(node);const countSpace=countSpaces(tokens);if(rule.before){if(countSpace.before===0){context.report({node:tokens.before,messageId:"expectedBefore",fix(fixer){return fixer.insertTextBefore(tokens.arrow," ")}})}}else{if(countSpace.before>0){context.report({node:tokens.before,messageId:"unexpectedBefore",fix(fixer){return fixer.removeRange([tokens.before.range[1],tokens.arrow.range[0]])}})}}if(rule.after){if(countSpace.after===0){context.report({node:tokens.after,messageId:"expectedAfter",fix(fixer){return fixer.insertTextAfter(tokens.arrow," ")}})}}else{if(countSpace.after>0){context.report({node:tokens.after,messageId:"unexpectedAfter",fix(fixer){return fixer.removeRange([tokens.arrow.range[1],tokens.after.range[0]])}})}}}return{ArrowFunctionExpression:spaces}}};return arrowSpacing}var blockScopedVar;var hasRequiredBlockScopedVar;function requireBlockScopedVar(){if(hasRequiredBlockScopedVar)return blockScopedVar;hasRequiredBlockScopedVar=1;blockScopedVar={meta:{type:"suggestion",docs:{description:"Enforce the use of variables within the scope they are defined",recommended:false,url:"https://eslint.org/docs/rules/block-scoped-var"},schema:[],messages:{outOfScope:"'{{name}}' used outside of binding context."}},create(context){let stack=[];function enterScope(node){stack.push(node.range)}function exitScope(){stack.pop()}function report(reference){const identifier=reference.identifier;context.report({node:identifier,messageId:"outOfScope",data:{name:identifier.name}})}function checkForVariables(node){if(node.kind!=="var"){return}const scopeRange=stack[stack.length-1];function isOutsideOfScope(reference){const idRange=reference.identifier.range;return idRange[0]<scopeRange[0]||idRange[1]>scopeRange[1]}const variables=context.getDeclaredVariables(node);for(let i=0;i<variables.length;++i){variables[i].references.filter(isOutsideOfScope).forEach(report)}}return{Program(node){stack=[node.range]},BlockStatement:enterScope,"BlockStatement:exit":exitScope,ForStatement:enterScope,"ForStatement:exit":exitScope,ForInStatement:enterScope,"ForInStatement:exit":exitScope,ForOfStatement:enterScope,"ForOfStatement:exit":exitScope,SwitchStatement:enterScope,"SwitchStatement:exit":exitScope,CatchClause:enterScope,"CatchClause:exit":exitScope,StaticBlock:enterScope,"StaticBlock:exit":exitScope,VariableDeclaration:checkForVariables}}};return blockScopedVar}var blockSpacing;var hasRequiredBlockSpacing;function requireBlockSpacing(){if(hasRequiredBlockSpacing)return blockSpacing;hasRequiredBlockSpacing=1;const util=requireAstUtils();blockSpacing={meta:{type:"layout",docs:{description:"Disallow or enforce spaces inside of blocks after opening block and before closing block",recommended:false,url:"https://eslint.org/docs/rules/block-spacing"},fixable:"whitespace",schema:[{enum:["always","never"]}],messages:{missing:"Requires a space {{location}} '{{token}}'.",extra:"Unexpected space(s) {{location}} '{{token}}'."}},create(context){const always=context.options[0]!=="never",messageId=always?"missing":"extra",sourceCode=context.getSourceCode();function getOpenBrace(node){if(node.type==="SwitchStatement"){if(node.cases.length>0){return sourceCode.getTokenBefore(node.cases[0])}return sourceCode.getLastToken(node,1)}if(node.type==="StaticBlock"){return sourceCode.getFirstToken(node,{skip:1})}return sourceCode.getFirstToken(node)}function isValid(left,right){return!util.isTokenOnSameLine(left,right)||sourceCode.isSpaceBetweenTokens(left,right)===always}function checkSpacingInsideBraces(node){const openBrace=getOpenBrace(node);const closeBrace=sourceCode.getLastToken(node);const firstToken=sourceCode.getTokenAfter(openBrace,{includeComments:true});const lastToken=sourceCode.getTokenBefore(closeBrace,{includeComments:true});if(openBrace.type!=="Punctuator"||openBrace.value!=="{"||closeBrace.type!=="Punctuator"||closeBrace.value!=="}"||firstToken===closeBrace){return}if(!always&&firstToken.type==="Line"){return}if(!isValid(openBrace,firstToken)){let loc=openBrace.loc;if(messageId==="extra"){loc={start:openBrace.loc.end,end:firstToken.loc.start}}context.report({node:node,loc:loc,messageId:messageId,data:{location:"after",token:openBrace.value},fix(fixer){if(always){return fixer.insertTextBefore(firstToken," ")}return fixer.removeRange([openBrace.range[1],firstToken.range[0]])}})}if(!isValid(lastToken,closeBrace)){let loc=closeBrace.loc;if(messageId==="extra"){loc={start:lastToken.loc.end,end:closeBrace.loc.start}}context.report({node:node,loc:loc,messageId:messageId,data:{location:"before",token:closeBrace.value},fix(fixer){if(always){return fixer.insertTextAfter(lastToken," ")}return fixer.removeRange([lastToken.range[1],closeBrace.range[0]])}})}}return{BlockStatement:checkSpacingInsideBraces,StaticBlock:checkSpacingInsideBraces,SwitchStatement:checkSpacingInsideBraces}}};return blockSpacing}var braceStyle;var hasRequiredBraceStyle;function requireBraceStyle(){if(hasRequiredBraceStyle)return braceStyle;hasRequiredBraceStyle=1;const astUtils=requireAstUtils();braceStyle={meta:{type:"layout",docs:{description:"Enforce consistent brace style for blocks",recommended:false,url:"https://eslint.org/docs/rules/brace-style"},schema:[{enum:["1tbs","stroustrup","allman"]},{type:"object",properties:{allowSingleLine:{type:"boolean",default:false}},additionalProperties:false}],fixable:"whitespace",messages:{nextLineOpen:"Opening curly brace does not appear on the same line as controlling statement.",sameLineOpen:"Opening curly brace appears on the same line as controlling statement.",blockSameLine:"Statement inside of curly braces should be on next line.",nextLineClose:"Closing curly brace does not appear on the same line as the subsequent block.",singleLineClose:"Closing curly brace should be on the same line as opening curly brace or on the line after the previous block.",sameLineClose:"Closing curly brace appears on the same line as the subsequent block."}},create(context){const style=context.options[0]||"1tbs",params=context.options[1]||{},sourceCode=context.getSourceCode();function removeNewlineBetween(firstToken,secondToken){const textRange=[firstToken.range[1],secondToken.range[0]];const textBetween=sourceCode.text.slice(textRange[0],textRange[1]);if(textBetween.trim()){return null}return fixer=>fixer.replaceTextRange(textRange," ")}function validateCurlyPair(openingCurly,closingCurly){const tokenBeforeOpeningCurly=sourceCode.getTokenBefore(openingCurly);const tokenAfterOpeningCurly=sourceCode.getTokenAfter(openingCurly);const tokenBeforeClosingCurly=sourceCode.getTokenBefore(closingCurly);const singleLineException=params.allowSingleLine&&astUtils.isTokenOnSameLine(openingCurly,closingCurly);if(style!=="allman"&&!astUtils.isTokenOnSameLine(tokenBeforeOpeningCurly,openingCurly)){context.report({node:openingCurly,messageId:"nextLineOpen",fix:removeNewlineBetween(tokenBeforeOpeningCurly,openingCurly)})}if(style==="allman"&&astUtils.isTokenOnSameLine(tokenBeforeOpeningCurly,openingCurly)&&!singleLineException){context.report({node:openingCurly,messageId:"sameLineOpen",fix:fixer=>fixer.insertTextBefore(openingCurly,"\n")})}if(astUtils.isTokenOnSameLine(openingCurly,tokenAfterOpeningCurly)&&tokenAfterOpeningCurly!==closingCurly&&!singleLineException){context.report({node:openingCurly,messageId:"blockSameLine",fix:fixer=>fixer.insertTextAfter(openingCurly,"\n")})}if(tokenBeforeClosingCurly!==openingCurly&&!singleLineException&&astUtils.isTokenOnSameLine(tokenBeforeClosingCurly,closingCurly)){context.report({node:closingCurly,messageId:"singleLineClose",fix:fixer=>fixer.insertTextBefore(closingCurly,"\n")})}}function validateCurlyBeforeKeyword(curlyToken){const keywordToken=sourceCode.getTokenAfter(curlyToken);if(style==="1tbs"&&!astUtils.isTokenOnSameLine(curlyToken,keywordToken)){context.report({node:curlyToken,messageId:"nextLineClose",fix:removeNewlineBetween(curlyToken,keywordToken)})}if(style!=="1tbs"&&astUtils.isTokenOnSameLine(curlyToken,keywordToken)){context.report({node:curlyToken,messageId:"sameLineClose",fix:fixer=>fixer.insertTextAfter(curlyToken,"\n")})}}return{BlockStatement(node){if(!astUtils.STATEMENT_LIST_PARENTS.has(node.parent.type)){validateCurlyPair(sourceCode.getFirstToken(node),sourceCode.getLastToken(node))}},StaticBlock(node){validateCurlyPair(sourceCode.getFirstToken(node,{skip:1}),sourceCode.getLastToken(node))},ClassBody(node){validateCurlyPair(sourceCode.getFirstToken(node),sourceCode.getLastToken(node))},SwitchStatement(node){const closingCurly=sourceCode.getLastToken(node);const openingCurly=sourceCode.getTokenBefore(node.cases.length?node.cases[0]:closingCurly);validateCurlyPair(openingCurly,closingCurly)},IfStatement(node){if(node.consequent.type==="BlockStatement"&&node.alternate){validateCurlyBeforeKeyword(sourceCode.getLastToken(node.consequent))}},TryStatement(node){validateCurlyBeforeKeyword(sourceCode.getLastToken(node.block));if(node.handler&&node.finalizer){validateCurlyBeforeKeyword(sourceCode.getLastToken(node.handler.body))}}}}};return braceStyle}var callbackReturn;var hasRequiredCallbackReturn;function requireCallbackReturn(){if(hasRequiredCallbackReturn)return callbackReturn;hasRequiredCallbackReturn=1;callbackReturn={meta:{deprecated:true,replacedBy:[],type:"suggestion",docs:{description:"Require `return` statements after callbacks",recommended:false,url:"https://eslint.org/docs/rules/callback-return"},schema:[{type:"array",items:{type:"string"}}],messages:{missingReturn:"Expected return with your callback function."}},create(context){const callbacks=context.options[0]||["callback","cb","next"],sourceCode=context.getSourceCode();function findClosestParentOfType(node,types){if(!node.parent){return null}if(!types.includes(node.parent.type)){return findClosestParentOfType(node.parent,types)}return node.parent}function containsOnlyIdentifiers(node){if(node.type==="Identifier"){return true}if(node.type==="MemberExpression"){if(node.object.type==="Identifier"){return true}if(node.object.type==="MemberExpression"){return containsOnlyIdentifiers(node.object)}}return false}function isCallback(node){return containsOnlyIdentifiers(node.callee)&&callbacks.includes(sourceCode.getText(node.callee))}function isCallbackExpression(node,parentNode){if(!parentNode||parentNode.type!=="ExpressionStatement"){return false}if(parentNode.expression===node){return true}if(parentNode.expression.type==="BinaryExpression"||parentNode.expression.type==="LogicalExpression"){if(parentNode.expression.right===node){return true}}return false}return{CallExpression(node){if(!isCallback(node)){return}const closestBlock=findClosestParentOfType(node,["BlockStatement","ReturnStatement","ArrowFunctionExpression"])||{};if(closestBlock.type==="ReturnStatement"){return}if(closestBlock.type==="ArrowFunctionExpression"){return}if(closestBlock.type==="BlockStatement"){const lastItem=closestBlock.body[closestBlock.body.length-1];if(isCallbackExpression(node,lastItem)){const parentType=closestBlock.parent.type;if(parentType==="FunctionExpression"||parentType==="FunctionDeclaration"||parentType==="ArrowFunctionExpression"){return}}if(lastItem.type==="ReturnStatement"){if(isCallbackExpression(node,closestBlock.body[closestBlock.body.length-2])){return}}}if(findClosestParentOfType(node,["FunctionDeclaration","FunctionExpression","ArrowFunctionExpression"])){context.report({node:node,messageId:"missingReturn"})}}}}};return callbackReturn}var camelcase;var hasRequiredCamelcase;function requireCamelcase(){if(hasRequiredCamelcase)return camelcase;hasRequiredCamelcase=1;const astUtils=requireAstUtils();camelcase={meta:{type:"suggestion",docs:{description:"Enforce camelcase naming convention",recommended:false,url:"https://eslint.org/docs/rules/camelcase"},schema:[{type:"object",properties:{ignoreDestructuring:{type:"boolean",default:false},ignoreImports:{type:"boolean",default:false},ignoreGlobals:{type:"boolean",default:false},properties:{enum:["always","never"]},allow:{type:"array",items:[{type:"string"}],minItems:0,uniqueItems:true}},additionalProperties:false}],messages:{notCamelCase:"Identifier '{{name}}' is not in camel case.",notCamelCasePrivate:"#{{name}} is not in camel case."}},create(context){const options=context.options[0]||{};const properties=options.properties==="never"?"never":"always";const ignoreDestructuring=options.ignoreDestructuring;const ignoreImports=options.ignoreImports;const ignoreGlobals=options.ignoreGlobals;const allow=options.allow||[];const reported=new Set;function isUnderscored(name){const nameBody=name.replace(/^_+|_+$/gu,"");return nameBody.includes("_")&&nameBody!==nameBody.toUpperCase()}function isAllowed(name){return allow.some((entry=>name===entry||name.match(new RegExp(entry,"u"))))}function isGoodName(name){return!isUnderscored(name)||isAllowed(name)}function isAssignmentTarget(node){const parent=node.parent;switch(parent.type){case"AssignmentExpression":case"AssignmentPattern":return parent.left===node;case"Property":return parent.parent.type==="ObjectPattern"&&parent.value===node;case"ArrayPattern":case"RestElement":return true;default:return false}}function equalsToOriginalName(node){const localName=node.name;const valueNode=node.parent.type==="AssignmentPattern"?node.parent:node;const parent=valueNode.parent;switch(parent.type){case"Property":return(parent.parent.type==="ObjectPattern"||parent.parent.type==="ObjectExpression")&&parent.value===valueNode&&!parent.computed&&parent.key.type==="Identifier"&&parent.key.name===localName;case"ImportSpecifier":return parent.local===node&&astUtils.getModuleExportName(parent.imported)===localName;default:return false}}function report(node){if(reported.has(node.range[0])){return}reported.add(node.range[0]);context.report({node:node,messageId:node.type==="PrivateIdentifier"?"notCamelCasePrivate":"notCamelCase",data:{name:node.name}})}function reportReferenceId(node){if(node.parent.type==="CallExpression"||node.parent.type==="NewExpression"){return}if(node.parent.type==="AssignmentPattern"&&node.parent.right===node){return}if(ignoreDestructuring&&equalsToOriginalName(node)){return}report(node)}return{Program(){const scope=context.getScope();if(!ignoreGlobals){for(const variable of scope.variables){if(variable.identifiers.length>0||isGoodName(variable.name)){continue}for(const reference of variable.references){reportReferenceId(reference.identifier)}}}for(const reference of scope.through){const id=reference.identifier;if(isGoodName(id.name)){continue}reportReferenceId(id)}},[["VariableDeclaration","FunctionDeclaration","FunctionExpression","ArrowFunctionExpression","ClassDeclaration","ClassExpression","CatchClause"]](node){for(const variable of context.getDeclaredVariables(node)){if(isGoodName(variable.name)){continue}const id=variable.identifiers[0];if(!(ignoreDestructuring&&equalsToOriginalName(id))){report(id)}for(const reference of variable.references){if(reference.init){continue}reportReferenceId(reference.identifier)}}},[["ObjectExpression > Property[computed!=true] > Identifier.key","MethodDefinition[computed!=true] > Identifier.key","PropertyDefinition[computed!=true] > Identifier.key","MethodDefinition > PrivateIdentifier.key","PropertyDefinition > PrivateIdentifier.key"]](node){if(properties==="never"||isGoodName(node.name)){return}report(node)},"MemberExpression[computed!=true] > Identifier.property"(node){if(properties==="never"||!isAssignmentTarget(node.parent)||isGoodName(node.name)){return}report(node)},ImportDeclaration(node){for(const variable of context.getDeclaredVariables(node)){if(isGoodName(variable.name)){continue}const id=variable.identifiers[0];if(!(ignoreImports&&equalsToOriginalName(id))){report(id)}for(const reference of variable.references){reportReferenceId(reference.identifier)}}},[["ExportAllDeclaration > Identifier.exported","ExportSpecifier > Identifier.exported"]](node){if(isGoodName(node.name)){return}report(node)},[["LabeledStatement > Identifier.label","BreakStatement > Identifier.label","ContinueStatement > Identifier.label"]](node){if(isGoodName(node.name)){return}report(node)}}}};return camelcase}
/**
        * @fileoverview Pattern for detecting any letter (even letters outside of ASCII).
        * NOTE: This file was generated using this script in JSCS based on the Unicode 7.0.0 standard: https://github.com/jscs-dev/node-jscs/blob/f5ed14427deb7e7aac84f3056a5aab2d9f3e563e/publish/helpers/generate-patterns.js
        * Do not edit this file by hand-- please use https://github.com/mathiasbynens/regenerate to regenerate the regular expression exported from this file.
        * @author Kevin Partington
        * @license MIT License (from JSCS). See below.
        */var letters;var hasRequiredLetters;function requireLetters(){if(hasRequiredLetters)return letters;hasRequiredLetters=1;letters=/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/u;return letters}var capitalizedComments;var hasRequiredCapitalizedComments;function requireCapitalizedComments(){if(hasRequiredCapitalizedComments)return capitalizedComments;hasRequiredCapitalizedComments=1;const LETTER_PATTERN=requireLetters();const astUtils=requireAstUtils();const DEFAULT_IGNORE_PATTERN=astUtils.COMMENTS_IGNORE_PATTERN,WHITESPACE=/\s/gu,MAYBE_URL=/^\s*[^:/?#\s]+:\/\/[^?#]/u;const SCHEMA_BODY={type:"object",properties:{ignorePattern:{type:"string"},ignoreInlineComments:{type:"boolean"},ignoreConsecutiveComments:{type:"boolean"}},additionalProperties:false};const DEFAULTS={ignorePattern:"",ignoreInlineComments:false,ignoreConsecutiveComments:false};function getNormalizedOptions(rawOptions,which){return Object.assign({},DEFAULTS,rawOptions[which]||rawOptions)}function getAllNormalizedOptions(rawOptions={}){return{Line:getNormalizedOptions(rawOptions,"line"),Block:getNormalizedOptions(rawOptions,"block")}}function createRegExpForIgnorePatterns(normalizedOptions){Object.keys(normalizedOptions).forEach((key=>{const ignorePatternStr=normalizedOptions[key].ignorePattern;if(ignorePatternStr){const regExp=RegExp(`^\\s*(?:${ignorePatternStr})`,"u");normalizedOptions[key].ignorePatternRegExp=regExp}}))}capitalizedComments={meta:{type:"suggestion",docs:{description:"Enforce or disallow capitalization of the first letter of a comment",recommended:false,url:"https://eslint.org/docs/rules/capitalized-comments"},fixable:"code",schema:[{enum:["always","never"]},{oneOf:[SCHEMA_BODY,{type:"object",properties:{line:SCHEMA_BODY,block:SCHEMA_BODY},additionalProperties:false}]}],messages:{unexpectedLowercaseComment:"Comments should not begin with a lowercase character.",unexpectedUppercaseComment:"Comments should not begin with an uppercase character."}},create(context){const capitalize=context.options[0]||"always",normalizedOptions=getAllNormalizedOptions(context.options[1]),sourceCode=context.getSourceCode();createRegExpForIgnorePatterns(normalizedOptions);function isInlineComment(comment){const previousToken=sourceCode.getTokenBefore(comment,{includeComments:true}),nextToken=sourceCode.getTokenAfter(comment,{includeComments:true});return Boolean(previousToken&&nextToken&&comment.loc.start.line===previousToken.loc.end.line&&comment.loc.end.line===nextToken.loc.start.line)}function isConsecutiveComment(comment){const previousTokenOrComment=sourceCode.getTokenBefore(comment,{includeComments:true});return Boolean(previousTokenOrComment&&["Block","Line"].includes(previousTokenOrComment.type))}function isCommentValid(comment,options){if(DEFAULT_IGNORE_PATTERN.test(comment.value)){return true}const commentWithoutAsterisks=comment.value.replace(/\*/gu,"");if(options.ignorePatternRegExp&&options.ignorePatternRegExp.test(commentWithoutAsterisks)){return true}if(options.ignoreInlineComments&&isInlineComment(comment)){return true}if(options.ignoreConsecutiveComments&&isConsecutiveComment(comment)){return true}if(MAYBE_URL.test(commentWithoutAsterisks)){return true}const commentWordCharsOnly=commentWithoutAsterisks.replace(WHITESPACE,"");if(commentWordCharsOnly.length===0){return true}const firstWordChar=commentWordCharsOnly[0];if(!LETTER_PATTERN.test(firstWordChar)){return true}const isUppercase=firstWordChar!==firstWordChar.toLocaleLowerCase(),isLowercase=firstWordChar!==firstWordChar.toLocaleUpperCase();if(capitalize==="always"&&isLowercase){return false}if(capitalize==="never"&&isUppercase){return false}return true}function processComment(comment){const options=normalizedOptions[comment.type],commentValid=isCommentValid(comment,options);if(!commentValid){const messageId=capitalize==="always"?"unexpectedLowercaseComment":"unexpectedUppercaseComment";context.report({node:null,loc:comment.loc,messageId:messageId,fix(fixer){const match=comment.value.match(LETTER_PATTERN);return fixer.replaceTextRange([comment.range[0]+match.index+2,comment.range[0]+match.index+3],capitalize==="always"?match[0].toLocaleUpperCase():match[0].toLocaleLowerCase())}})}}return{Program(){const comments=sourceCode.getAllComments();comments.filter((token=>token.type!=="Shebang")).forEach(processComment)}}}};return capitalizedComments}var classMethodsUseThis;var hasRequiredClassMethodsUseThis;function requireClassMethodsUseThis(){if(hasRequiredClassMethodsUseThis)return classMethodsUseThis;hasRequiredClassMethodsUseThis=1;const astUtils=requireAstUtils();classMethodsUseThis={meta:{type:"suggestion",docs:{description:"Enforce that class methods utilize `this`",recommended:false,url:"https://eslint.org/docs/rules/class-methods-use-this"},schema:[{type:"object",properties:{exceptMethods:{type:"array",items:{type:"string"}},enforceForClassFields:{type:"boolean",default:true}},additionalProperties:false}],messages:{missingThis:"Expected 'this' to be used by class {{name}}."}},create(context){const config=Object.assign({},context.options[0]);const enforceForClassFields=config.enforceForClassFields!==false;const exceptMethods=new Set(config.exceptMethods||[]);const stack=[];function pushContext(){stack.push(false)}function popContext(){return stack.pop()}function enterFunction(){pushContext()}function isInstanceMethod(node){switch(node.type){case"MethodDefinition":return!node.static&&node.kind!=="constructor";case"PropertyDefinition":return!node.static&&enforceForClassFields;default:return false}}function isIncludedInstanceMethod(node){if(isInstanceMethod(node)){if(node.computed){return true}const hashIfNeeded=node.key.type==="PrivateIdentifier"?"#":"";const name=node.key.type==="Literal"?astUtils.getStaticStringValue(node.key):node.key.name||"";return!exceptMethods.has(hashIfNeeded+name)}return false}function exitFunction(node){const methodUsesThis=popContext();if(isIncludedInstanceMethod(node.parent)&&!methodUsesThis){context.report({node:node,loc:astUtils.getFunctionHeadLoc(node,context.getSourceCode()),messageId:"missingThis",data:{name:astUtils.getFunctionNameWithKind(node)}})}}function markThisUsed(){if(stack.length){stack[stack.length-1]=true}}return{FunctionDeclaration:enterFunction,"FunctionDeclaration:exit":exitFunction,FunctionExpression:enterFunction,"FunctionExpression:exit":exitFunction,"PropertyDefinition > *.key:exit":pushContext,"PropertyDefinition:exit":popContext,StaticBlock:pushContext,"StaticBlock:exit":popContext,ThisExpression:markThisUsed,Super:markThisUsed,...enforceForClassFields&&{"PropertyDefinition > ArrowFunctionExpression.value":enterFunction,"PropertyDefinition > ArrowFunctionExpression.value:exit":exitFunction}}}};return classMethodsUseThis}var commaDangle;var hasRequiredCommaDangle;function requireCommaDangle(){if(hasRequiredCommaDangle)return commaDangle;hasRequiredCommaDangle=1;const astUtils=requireAstUtils();const DEFAULT_OPTIONS=Object.freeze({arrays:"never",objects:"never",imports:"never",exports:"never",functions:"never"});function isTrailingCommaAllowed(lastItem){return!(lastItem.type==="RestElement"||lastItem.type==="RestProperty"||lastItem.type==="ExperimentalRestProperty")}function normalizeOptions(optionValue,ecmaVersion){if(typeof optionValue==="string"){return{arrays:optionValue,objects:optionValue,imports:optionValue,exports:optionValue,functions:ecmaVersion<2017?"ignore":optionValue}}if(typeof optionValue==="object"&&optionValue!==null){return{arrays:optionValue.arrays||DEFAULT_OPTIONS.arrays,objects:optionValue.objects||DEFAULT_OPTIONS.objects,imports:optionValue.imports||DEFAULT_OPTIONS.imports,exports:optionValue.exports||DEFAULT_OPTIONS.exports,functions:optionValue.functions||DEFAULT_OPTIONS.functions}}return DEFAULT_OPTIONS}commaDangle={meta:{type:"layout",docs:{description:"Require or disallow trailing commas",recommended:false,url:"https://eslint.org/docs/rules/comma-dangle"},fixable:"code",schema:{definitions:{value:{enum:["always-multiline","always","never","only-multiline"]},valueWithIgnore:{enum:["always-multiline","always","ignore","never","only-multiline"]}},type:"array",items:[{oneOf:[{$ref:"#/definitions/value"},{type:"object",properties:{arrays:{$ref:"#/definitions/valueWithIgnore"},objects:{$ref:"#/definitions/valueWithIgnore"},imports:{$ref:"#/definitions/valueWithIgnore"},exports:{$ref:"#/definitions/valueWithIgnore"},functions:{$ref:"#/definitions/valueWithIgnore"}},additionalProperties:false}]}],additionalItems:false},messages:{unexpected:"Unexpected trailing comma.",missing:"Missing trailing comma."}},create(context){const options=normalizeOptions(context.options[0],context.languageOptions.ecmaVersion);const sourceCode=context.getSourceCode();function getLastItem(node){function last(array){return array[array.length-1]}switch(node.type){case"ObjectExpression":case"ObjectPattern":return last(node.properties);case"ArrayExpression":case"ArrayPattern":return last(node.elements);case"ImportDeclaration":case"ExportNamedDeclaration":return last(node.specifiers);case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":return last(node.params);case"CallExpression":case"NewExpression":return last(node.arguments);default:return null}}function getTrailingToken(node,lastItem){switch(node.type){case"ObjectExpression":case"ArrayExpression":case"CallExpression":case"NewExpression":return sourceCode.getLastToken(node,1);default:{const nextToken=sourceCode.getTokenAfter(lastItem);if(astUtils.isCommaToken(nextToken)){return nextToken}return sourceCode.getLastToken(lastItem)}}}function isMultiline(node){const lastItem=getLastItem(node);if(!lastItem){return false}const penultimateToken=getTrailingToken(node,lastItem);const lastToken=sourceCode.getTokenAfter(penultimateToken);return lastToken.loc.end.line!==penultimateToken.loc.end.line}function forbidTrailingComma(node){const lastItem=getLastItem(node);if(!lastItem||node.type==="ImportDeclaration"&&lastItem.type!=="ImportSpecifier"){return}const trailingToken=getTrailingToken(node,lastItem);if(astUtils.isCommaToken(trailingToken)){context.report({node:lastItem,loc:trailingToken.loc,messageId:"unexpected",*fix(fixer){yield fixer.remove(trailingToken);yield fixer.insertTextBefore(sourceCode.getTokenBefore(trailingToken),"");yield fixer.insertTextAfter(sourceCode.getTokenAfter(trailingToken),"")}})}}function forceTrailingComma(node){const lastItem=getLastItem(node);if(!lastItem||node.type==="ImportDeclaration"&&lastItem.type!=="ImportSpecifier"){return}if(!isTrailingCommaAllowed(lastItem)){forbidTrailingComma(node);return}const trailingToken=getTrailingToken(node,lastItem);if(trailingToken.value!==","){context.report({node:lastItem,loc:{start:trailingToken.loc.end,end:astUtils.getNextLocation(sourceCode,trailingToken.loc.end)},messageId:"missing",*fix(fixer){yield fixer.insertTextAfter(trailingToken,",");yield fixer.insertTextBefore(trailingToken,"");yield fixer.insertTextAfter(sourceCode.getTokenAfter(trailingToken),"")}})}}function forceTrailingCommaIfMultiline(node){if(isMultiline(node)){forceTrailingComma(node)}else{forbidTrailingComma(node)}}function allowTrailingCommaIfMultiline(node){if(!isMultiline(node)){forbidTrailingComma(node)}}const predicate={always:forceTrailingComma,"always-multiline":forceTrailingCommaIfMultiline,"only-multiline":allowTrailingCommaIfMultiline,never:forbidTrailingComma,ignore:()=>{}};return{ObjectExpression:predicate[options.objects],ObjectPattern:predicate[options.objects],ArrayExpression:predicate[options.arrays],ArrayPattern:predicate[options.arrays],ImportDeclaration:predicate[options.imports],ExportNamedDeclaration:predicate[options.exports],FunctionDeclaration:predicate[options.functions],FunctionExpression:predicate[options.functions],ArrowFunctionExpression:predicate[options.functions],CallExpression:predicate[options.functions],NewExpression:predicate[options.functions]}}};return commaDangle}var commaSpacing;var hasRequiredCommaSpacing;function requireCommaSpacing(){if(hasRequiredCommaSpacing)return commaSpacing;hasRequiredCommaSpacing=1;const astUtils=requireAstUtils();commaSpacing={meta:{type:"layout",docs:{description:"Enforce consistent spacing before and after commas",recommended:false,url:"https://eslint.org/docs/rules/comma-spacing"},fixable:"whitespace",schema:[{type:"object",properties:{before:{type:"boolean",default:false},after:{type:"boolean",default:true}},additionalProperties:false}],messages:{missing:"A space is required {{loc}} ','.",unexpected:"There should be no space {{loc}} ','."}},create(context){const sourceCode=context.getSourceCode();const tokensAndComments=sourceCode.tokensAndComments;const options={before:context.options[0]?context.options[0].before:false,after:context.options[0]?context.options[0].after:true};const commaTokensToIgnore=[];function report(node,loc,otherNode){context.report({node:node,fix(fixer){if(options[loc]){if(loc==="before"){return fixer.insertTextBefore(node," ")}return fixer.insertTextAfter(node," ")}let start,end;const newText="";if(loc==="before"){start=otherNode.range[1];end=node.range[0]}else{start=node.range[1];end=otherNode.range[0]}return fixer.replaceTextRange([start,end],newText)},messageId:options[loc]?"missing":"unexpected",data:{loc:loc}})}function addNullElementsToIgnoreList(node){let previousToken=sourceCode.getFirstToken(node);node.elements.forEach((element=>{let token;if(element===null){token=sourceCode.getTokenAfter(previousToken);if(astUtils.isCommaToken(token)){commaTokensToIgnore.push(token)}}else{token=sourceCode.getTokenAfter(element)}previousToken=token}))}return{"Program:exit"(){tokensAndComments.forEach(((token,i)=>{if(!astUtils.isCommaToken(token)){return}const previousToken=tokensAndComments[i-1];const nextToken=tokensAndComments[i+1];if(previousToken&&!astUtils.isCommaToken(previousToken)&&!commaTokensToIgnore.includes(token)&&astUtils.isTokenOnSameLine(previousToken,token)&&options.before!==sourceCode.isSpaceBetweenTokens(previousToken,token)){report(token,"before",previousToken)}if(nextToken&&!astUtils.isCommaToken(nextToken)&&!astUtils.isClosingParenToken(nextToken)&&!astUtils.isClosingBracketToken(nextToken)&&!astUtils.isClosingBraceToken(nextToken)&&!(!options.after&&nextToken.type==="Line")&&astUtils.isTokenOnSameLine(token,nextToken)&&options.after!==sourceCode.isSpaceBetweenTokens(token,nextToken)){report(token,"after",nextToken)}}))},ArrayExpression:addNullElementsToIgnoreList,ArrayPattern:addNullElementsToIgnoreList}}};return commaSpacing}var commaStyle;var hasRequiredCommaStyle;function requireCommaStyle(){if(hasRequiredCommaStyle)return commaStyle;hasRequiredCommaStyle=1;const astUtils=requireAstUtils();commaStyle={meta:{type:"layout",docs:{description:"Enforce consistent comma style",recommended:false,url:"https://eslint.org/docs/rules/comma-style"},fixable:"code",schema:[{enum:["first","last"]},{type:"object",properties:{exceptions:{type:"object",additionalProperties:{type:"boolean"}}},additionalProperties:false}],messages:{unexpectedLineBeforeAndAfterComma:"Bad line breaking before and after ','.",expectedCommaFirst:"',' should be placed first.",expectedCommaLast:"',' should be placed last."}},create(context){const style=context.options[0]||"last",sourceCode=context.getSourceCode();const exceptions={ArrayPattern:true,ArrowFunctionExpression:true,CallExpression:true,FunctionDeclaration:true,FunctionExpression:true,ImportDeclaration:true,ObjectPattern:true,NewExpression:true};if(context.options.length===2&&Object.prototype.hasOwnProperty.call(context.options[1],"exceptions")){const keys=Object.keys(context.options[1].exceptions);for(let i=0;i<keys.length;i++){exceptions[keys[i]]=context.options[1].exceptions[keys[i]]}}function getReplacedText(styleType,text){switch(styleType){case"between":return`,${text.replace(astUtils.LINEBREAK_MATCHER,"")}`;case"first":return`${text},`;case"last":return`,${text}`;default:return""}}function getFixerFunction(styleType,previousItemToken,commaToken,currentItemToken){const text=sourceCode.text.slice(previousItemToken.range[1],commaToken.range[0])+sourceCode.text.slice(commaToken.range[1],currentItemToken.range[0]);const range=[previousItemToken.range[1],currentItemToken.range[0]];return function(fixer){return fixer.replaceTextRange(range,getReplacedText(styleType,text))}}function validateCommaItemSpacing(previousItemToken,commaToken,currentItemToken,reportItem){if(astUtils.isTokenOnSameLine(commaToken,currentItemToken)&&astUtils.isTokenOnSameLine(previousItemToken,commaToken));else if(!astUtils.isTokenOnSameLine(commaToken,currentItemToken)&&!astUtils.isTokenOnSameLine(previousItemToken,commaToken)){const comment=sourceCode.getCommentsAfter(commaToken)[0];const styleType=comment&&comment.type==="Block"&&astUtils.isTokenOnSameLine(commaToken,comment)?style:"between";context.report({node:reportItem,loc:commaToken.loc,messageId:"unexpectedLineBeforeAndAfterComma",fix:getFixerFunction(styleType,previousItemToken,commaToken,currentItemToken)})}else if(style==="first"&&!astUtils.isTokenOnSameLine(commaToken,currentItemToken)){context.report({node:reportItem,loc:commaToken.loc,messageId:"expectedCommaFirst",fix:getFixerFunction(style,previousItemToken,commaToken,currentItemToken)})}else if(style==="last"&&astUtils.isTokenOnSameLine(commaToken,currentItemToken)){context.report({node:reportItem,loc:commaToken.loc,messageId:"expectedCommaLast",fix:getFixerFunction(style,previousItemToken,commaToken,currentItemToken)})}}function validateComma(node,property){const items=node[property],arrayLiteral=node.type==="ArrayExpression"||node.type==="ArrayPattern";if(items.length>1||arrayLiteral){let previousItemToken=sourceCode.getFirstToken(node);items.forEach((item=>{const commaToken=item?sourceCode.getTokenBefore(item):previousItemToken,currentItemToken=item?sourceCode.getFirstToken(item):sourceCode.getTokenAfter(commaToken),reportItem=item||currentItemToken;if(astUtils.isCommaToken(commaToken)){validateCommaItemSpacing(previousItemToken,commaToken,currentItemToken,reportItem)}if(item){const tokenAfterItem=sourceCode.getTokenAfter(item,astUtils.isNotClosingParenToken);previousItemToken=tokenAfterItem?sourceCode.getTokenBefore(tokenAfterItem):sourceCode.ast.tokens[sourceCode.ast.tokens.length-1]}else{previousItemToken=currentItemToken}}));if(arrayLiteral){const lastToken=sourceCode.getLastToken(node),nextToLastToken=sourceCode.getTokenBefore(lastToken);if(astUtils.isCommaToken(nextToLastToken)){validateCommaItemSpacing(sourceCode.getTokenBefore(nextToLastToken),nextToLastToken,lastToken,lastToken)}}}}const nodes={};if(!exceptions.VariableDeclaration){nodes.VariableDeclaration=function(node){validateComma(node,"declarations")}}if(!exceptions.ObjectExpression){nodes.ObjectExpression=function(node){validateComma(node,"properties")}}if(!exceptions.ObjectPattern){nodes.ObjectPattern=function(node){validateComma(node,"properties")}}if(!exceptions.ArrayExpression){nodes.ArrayExpression=function(node){validateComma(node,"elements")}}if(!exceptions.ArrayPattern){nodes.ArrayPattern=function(node){validateComma(node,"elements")}}if(!exceptions.FunctionDeclaration){nodes.FunctionDeclaration=function(node){validateComma(node,"params")}}if(!exceptions.FunctionExpression){nodes.FunctionExpression=function(node){validateComma(node,"params")}}if(!exceptions.ArrowFunctionExpression){nodes.ArrowFunctionExpression=function(node){validateComma(node,"params")}}if(!exceptions.CallExpression){nodes.CallExpression=function(node){validateComma(node,"arguments")}}if(!exceptions.ImportDeclaration){nodes.ImportDeclaration=function(node){validateComma(node,"specifiers")}}if(!exceptions.NewExpression){nodes.NewExpression=function(node){validateComma(node,"arguments")}}return nodes}};return commaStyle}var stringUtils;var hasRequiredStringUtils;function requireStringUtils(){if(hasRequiredStringUtils)return stringUtils;hasRequiredStringUtils=1;function upperCaseFirst(string){if(string.length<=1){return string.toUpperCase()}return string[0].toUpperCase()+string.slice(1)}stringUtils={upperCaseFirst:upperCaseFirst};return stringUtils}var complexity;var hasRequiredComplexity;function requireComplexity(){if(hasRequiredComplexity)return complexity;hasRequiredComplexity=1;const astUtils=requireAstUtils();const{upperCaseFirst:upperCaseFirst}=requireStringUtils();complexity={meta:{type:"suggestion",docs:{description:"Enforce a maximum cyclomatic complexity allowed in a program",recommended:false,url:"https://eslint.org/docs/rules/complexity"},schema:[{oneOf:[{type:"integer",minimum:0},{type:"object",properties:{maximum:{type:"integer",minimum:0},max:{type:"integer",minimum:0}},additionalProperties:false}]}],messages:{complex:"{{name}} has a complexity of {{complexity}}. Maximum allowed is {{max}}."}},create(context){const option=context.options[0];let THRESHOLD=20;if(typeof option==="object"&&(Object.prototype.hasOwnProperty.call(option,"maximum")||Object.prototype.hasOwnProperty.call(option,"max"))){THRESHOLD=option.maximum||option.max}else if(typeof option==="number"){THRESHOLD=option}const complexities=[];function increaseComplexity(){complexities[complexities.length-1]++}return{onCodePathStart(){complexities.push(1)},CatchClause:increaseComplexity,ConditionalExpression:increaseComplexity,LogicalExpression:increaseComplexity,ForStatement:increaseComplexity,ForInStatement:increaseComplexity,ForOfStatement:increaseComplexity,IfStatement:increaseComplexity,WhileStatement:increaseComplexity,DoWhileStatement:increaseComplexity,"SwitchCase[test]":increaseComplexity,AssignmentExpression(node){if(astUtils.isLogicalAssignmentOperator(node.operator)){increaseComplexity()}},onCodePathEnd(codePath,node){const complexity=complexities.pop();if(codePath.origin!=="function"&&codePath.origin!=="class-field-initializer"&&codePath.origin!=="class-static-block"){return}if(complexity>THRESHOLD){let name;if(codePath.origin==="class-field-initializer"){name="class field initializer"}else if(codePath.origin==="class-static-block"){name="class static block"}else{name=astUtils.getFunctionNameWithKind(node)}context.report({node:node,messageId:"complex",data:{name:upperCaseFirst(name),complexity:complexity,max:THRESHOLD}})}}}}};return complexity}var computedPropertySpacing;var hasRequiredComputedPropertySpacing;function requireComputedPropertySpacing(){if(hasRequiredComputedPropertySpacing)return computedPropertySpacing;hasRequiredComputedPropertySpacing=1;const astUtils=requireAstUtils();computedPropertySpacing={meta:{type:"layout",docs:{description:"Enforce consistent spacing inside computed property brackets",recommended:false,url:"https://eslint.org/docs/rules/computed-property-spacing"},fixable:"whitespace",schema:[{enum:["always","never"]},{type:"object",properties:{enforceForClassMembers:{type:"boolean",default:true}},additionalProperties:false}],messages:{unexpectedSpaceBefore:"There should be no space before '{{tokenValue}}'.",unexpectedSpaceAfter:"There should be no space after '{{tokenValue}}'.",missingSpaceBefore:"A space is required before '{{tokenValue}}'.",missingSpaceAfter:"A space is required after '{{tokenValue}}'."}},create(context){const sourceCode=context.getSourceCode();const propertyNameMustBeSpaced=context.options[0]==="always";const enforceForClassMembers=!context.options[1]||context.options[1].enforceForClassMembers;function reportNoBeginningSpace(node,token,tokenAfter){context.report({node:node,loc:{start:token.loc.end,end:tokenAfter.loc.start},messageId:"unexpectedSpaceAfter",data:{tokenValue:token.value},fix(fixer){return fixer.removeRange([token.range[1],tokenAfter.range[0]])}})}function reportNoEndingSpace(node,token,tokenBefore){context.report({node:node,loc:{start:tokenBefore.loc.end,end:token.loc.start},messageId:"unexpectedSpaceBefore",data:{tokenValue:token.value},fix(fixer){return fixer.removeRange([tokenBefore.range[1],token.range[0]])}})}function reportRequiredBeginningSpace(node,token){context.report({node:node,loc:token.loc,messageId:"missingSpaceAfter",data:{tokenValue:token.value},fix(fixer){return fixer.insertTextAfter(token," ")}})}function reportRequiredEndingSpace(node,token){context.report({node:node,loc:token.loc,messageId:"missingSpaceBefore",data:{tokenValue:token.value},fix(fixer){return fixer.insertTextBefore(token," ")}})}function checkSpacing(propertyName){return function(node){if(!node.computed){return}const property=node[propertyName];const before=sourceCode.getTokenBefore(property,astUtils.isOpeningBracketToken),first=sourceCode.getTokenAfter(before,{includeComments:true}),after=sourceCode.getTokenAfter(property,astUtils.isClosingBracketToken),last=sourceCode.getTokenBefore(after,{includeComments:true});if(astUtils.isTokenOnSameLine(before,first)){if(propertyNameMustBeSpaced){if(!sourceCode.isSpaceBetweenTokens(before,first)&&astUtils.isTokenOnSameLine(before,first)){reportRequiredBeginningSpace(node,before)}}else{if(sourceCode.isSpaceBetweenTokens(before,first)){reportNoBeginningSpace(node,before,first)}}}if(astUtils.isTokenOnSameLine(last,after)){if(propertyNameMustBeSpaced){if(!sourceCode.isSpaceBetweenTokens(last,after)&&astUtils.isTokenOnSameLine(last,after)){reportRequiredEndingSpace(node,after)}}else{if(sourceCode.isSpaceBetweenTokens(last,after)){reportNoEndingSpace(node,after,last)}}}}}const listeners={Property:checkSpacing("key"),MemberExpression:checkSpacing("property")};if(enforceForClassMembers){listeners.MethodDefinition=listeners.PropertyDefinition=listeners.Property}return listeners}};return computedPropertySpacing}var consistentReturn;var hasRequiredConsistentReturn;function requireConsistentReturn(){if(hasRequiredConsistentReturn)return consistentReturn;hasRequiredConsistentReturn=1;const astUtils=requireAstUtils();const{upperCaseFirst:upperCaseFirst}=requireStringUtils();function isUnreachable(segment){return!segment.reachable}function isClassConstructor(node){return node.type==="FunctionExpression"&&node.parent&&node.parent.type==="MethodDefinition"&&node.parent.kind==="constructor"}consistentReturn={meta:{type:"suggestion",docs:{description:"Require `return` statements to either always or never specify values",recommended:false,url:"https://eslint.org/docs/rules/consistent-return"},schema:[{type:"object",properties:{treatUndefinedAsUnspecified:{type:"boolean",default:false}},additionalProperties:false}],messages:{missingReturn:"Expected to return a value at the end of {{name}}.",missingReturnValue:"{{name}} expected a return value.",unexpectedReturnValue:"{{name}} expected no return value."}},create(context){const options=context.options[0]||{};const treatUndefinedAsUnspecified=options.treatUndefinedAsUnspecified===true;let funcInfo=null;function checkLastSegment(node){let loc,name;if(!funcInfo.hasReturnValue||funcInfo.codePath.currentSegments.every(isUnreachable)||astUtils.isES5Constructor(node)||isClassConstructor(node)){return}if(node.type==="Program"){loc={line:1,column:0};name="program"}else if(node.type==="ArrowFunctionExpression"){loc=context.getSourceCode().getTokenBefore(node.body,astUtils.isArrowToken).loc}else if(node.parent.type==="MethodDefinition"||node.parent.type==="Property"&&node.parent.method){loc=node.parent.key.loc}else{loc=(node.id||context.getSourceCode().getFirstToken(node)).loc}if(!name){name=astUtils.getFunctionNameWithKind(node)}context.report({node:node,loc:loc,messageId:"missingReturn",data:{name:name}})}return{onCodePathStart(codePath,node){funcInfo={upper:funcInfo,codePath:codePath,hasReturn:false,hasReturnValue:false,messageId:"",node:node}},onCodePathEnd(){funcInfo=funcInfo.upper},ReturnStatement(node){const argument=node.argument;let hasReturnValue=Boolean(argument);if(treatUndefinedAsUnspecified&&hasReturnValue){hasReturnValue=!astUtils.isSpecificId(argument,"undefined")&&argument.operator!=="void"}if(!funcInfo.hasReturn){funcInfo.hasReturn=true;funcInfo.hasReturnValue=hasReturnValue;funcInfo.messageId=hasReturnValue?"missingReturnValue":"unexpectedReturnValue";funcInfo.data={name:funcInfo.node.type==="Program"?"Program":upperCaseFirst(astUtils.getFunctionNameWithKind(funcInfo.node))}}else if(funcInfo.hasReturnValue!==hasReturnValue){context.report({node:node,messageId:funcInfo.messageId,data:funcInfo.data})}},"Program:exit":checkLastSegment,"FunctionDeclaration:exit":checkLastSegment,"FunctionExpression:exit":checkLastSegment,"ArrowFunctionExpression:exit":checkLastSegment}}};return consistentReturn}var consistentThis;var hasRequiredConsistentThis;function requireConsistentThis(){if(hasRequiredConsistentThis)return consistentThis;hasRequiredConsistentThis=1;consistentThis={meta:{type:"suggestion",docs:{description:"Enforce consistent naming when capturing the current execution context",recommended:false,url:"https://eslint.org/docs/rules/consistent-this"},schema:{type:"array",items:{type:"string",minLength:1},uniqueItems:true},messages:{aliasNotAssignedToThis:"Designated alias '{{name}}' is not assigned to 'this'.",unexpectedAlias:"Unexpected alias '{{name}}' for 'this'."}},create(context){let aliases=[];if(context.options.length===0){aliases.push("that")}else{aliases=context.options}function reportBadAssignment(node,name){context.report({node:node,messageId:"aliasNotAssignedToThis",data:{name:name}})}function checkAssignment(node,name,value){const isThis=value.type==="ThisExpression";if(aliases.includes(name)){if(!isThis||node.operator&&node.operator!=="="){reportBadAssignment(node,name)}}else if(isThis){context.report({node:node,messageId:"unexpectedAlias",data:{name:name}})}}function checkWasAssigned(alias,scope){const variable=scope.set.get(alias);if(!variable){return}if(variable.defs.some((def=>def.node.type==="VariableDeclarator"&&def.node.init!==null))){return}if(!variable.references.some((reference=>{const write=reference.writeExpr;return reference.from===scope&&write&&write.type==="ThisExpression"&&write.parent.operator==="="}))){variable.defs.map((def=>def.node)).forEach((node=>{reportBadAssignment(node,alias)}))}}function ensureWasAssigned(){const scope=context.getScope();aliases.forEach((alias=>{checkWasAssigned(alias,scope)}))}return{"Program:exit":ensureWasAssigned,"FunctionExpression:exit":ensureWasAssigned,"FunctionDeclaration:exit":ensureWasAssigned,VariableDeclarator(node){const id=node.id;const isDestructuring=id.type==="ArrayPattern"||id.type==="ObjectPattern";if(node.init!==null&&!isDestructuring){checkAssignment(node,id.name,node.init)}},AssignmentExpression(node){if(node.left.type==="Identifier"){checkAssignment(node,node.left.name,node.right)}}}}};return consistentThis}var constructorSuper;var hasRequiredConstructorSuper;function requireConstructorSuper(){if(hasRequiredConstructorSuper)return constructorSuper;hasRequiredConstructorSuper=1;function isReachable(segment){return segment.reachable}function isConstructorFunction(node){return node.type==="FunctionExpression"&&node.parent.type==="MethodDefinition"&&node.parent.kind==="constructor"}function isPossibleConstructor(node){if(!node){return false}switch(node.type){case"ClassExpression":case"FunctionExpression":case"ThisExpression":case"MemberExpression":case"CallExpression":case"NewExpression":case"ChainExpression":case"YieldExpression":case"TaggedTemplateExpression":case"MetaProperty":return true;case"Identifier":return node.name!=="undefined";case"AssignmentExpression":if(["=","&&="].includes(node.operator)){return isPossibleConstructor(node.right)}if(["||=","??="].includes(node.operator)){return isPossibleConstructor(node.left)||isPossibleConstructor(node.right)}return false;case"LogicalExpression":if(node.operator==="&&"){return isPossibleConstructor(node.right)}return isPossibleConstructor(node.left)||isPossibleConstructor(node.right);case"ConditionalExpression":return isPossibleConstructor(node.alternate)||isPossibleConstructor(node.consequent);case"SequenceExpression":{const lastExpression=node.expressions[node.expressions.length-1];return isPossibleConstructor(lastExpression)}default:return false}}constructorSuper={meta:{type:"problem",docs:{description:"Require `super()` calls in constructors",recommended:true,url:"https://eslint.org/docs/rules/constructor-super"},schema:[],messages:{missingSome:"Lacked a call of 'super()' in some code paths.",missingAll:"Expected to call 'super()'.",duplicate:"Unexpected duplicate 'super()'.",badSuper:"Unexpected 'super()' because 'super' is not a constructor.",unexpected:"Unexpected 'super()'."}},create(context){let funcInfo=null;let segInfoMap=Object.create(null);function isCalledInSomePath(segment){return segment.reachable&&segInfoMap[segment.id].calledInSomePaths}function isCalledInEveryPath(segment){if(segment.nextSegments.length===1&&segment.nextSegments[0].isLoopedPrevSegment(segment)){return true}return segment.reachable&&segInfoMap[segment.id].calledInEveryPaths}return{onCodePathStart(codePath,node){if(isConstructorFunction(node)){const classNode=node.parent.parent.parent;const superClass=classNode.superClass;funcInfo={upper:funcInfo,isConstructor:true,hasExtends:Boolean(superClass),superIsConstructor:isPossibleConstructor(superClass),codePath:codePath}}else{funcInfo={upper:funcInfo,isConstructor:false,hasExtends:false,superIsConstructor:false,codePath:codePath}}},onCodePathEnd(codePath,node){const hasExtends=funcInfo.hasExtends;funcInfo=funcInfo.upper;if(!hasExtends){return}const segments=codePath.returnedSegments;const calledInEveryPaths=segments.every(isCalledInEveryPath);const calledInSomePaths=segments.some(isCalledInSomePath);if(!calledInEveryPaths){context.report({messageId:calledInSomePaths?"missingSome":"missingAll",node:node.parent})}},onCodePathSegmentStart(segment){if(!(funcInfo&&funcInfo.isConstructor&&funcInfo.hasExtends)){return}const info=segInfoMap[segment.id]={calledInSomePaths:false,calledInEveryPaths:false,validNodes:[]};const prevSegments=segment.prevSegments;if(prevSegments.length>0){info.calledInSomePaths=prevSegments.some(isCalledInSomePath);info.calledInEveryPaths=prevSegments.every(isCalledInEveryPath)}},onCodePathSegmentLoop(fromSegment,toSegment){if(!(funcInfo&&funcInfo.isConstructor&&funcInfo.hasExtends)){return}const isRealLoop=toSegment.prevSegments.length>=2;funcInfo.codePath.traverseSegments({first:toSegment,last:fromSegment},(segment=>{const info=segInfoMap[segment.id];const prevSegments=segment.prevSegments;info.calledInSomePaths=prevSegments.some(isCalledInSomePath);info.calledInEveryPaths=prevSegments.every(isCalledInEveryPath);if(info.calledInSomePaths||isRealLoop){const nodes=info.validNodes;info.validNodes=[];for(let i=0;i<nodes.length;++i){const node=nodes[i];context.report({messageId:"duplicate",node:node})}}}))},"CallExpression:exit"(node){if(!(funcInfo&&funcInfo.isConstructor)){return}if(node.callee.type!=="Super"){return}if(funcInfo.hasExtends){const segments=funcInfo.codePath.currentSegments;let duplicate=false;let info=null;for(let i=0;i<segments.length;++i){const segment=segments[i];if(segment.reachable){info=segInfoMap[segment.id];duplicate=duplicate||info.calledInSomePaths;info.calledInSomePaths=info.calledInEveryPaths=true}}if(info){if(duplicate){context.report({messageId:"duplicate",node:node})}else if(!funcInfo.superIsConstructor){context.report({messageId:"badSuper",node:node})}else{info.validNodes.push(node)}}}else if(funcInfo.codePath.currentSegments.some(isReachable)){context.report({messageId:"unexpected",node:node})}},ReturnStatement(node){if(!(funcInfo&&funcInfo.isConstructor&&funcInfo.hasExtends)){return}if(!node.argument){return}const segments=funcInfo.codePath.currentSegments;for(let i=0;i<segments.length;++i){const segment=segments[i];if(segment.reachable){const info=segInfoMap[segment.id];info.calledInSomePaths=info.calledInEveryPaths=true}}},"Program:exit"(){segInfoMap=Object.create(null)}}}};return constructorSuper}var curly;var hasRequiredCurly;function requireCurly(){if(hasRequiredCurly)return curly;hasRequiredCurly=1;const astUtils=requireAstUtils();curly={meta:{type:"suggestion",docs:{description:"Enforce consistent brace style for all control statements",recommended:false,url:"https://eslint.org/docs/rules/curly"},schema:{anyOf:[{type:"array",items:[{enum:["all"]}],minItems:0,maxItems:1},{type:"array",items:[{enum:["multi","multi-line","multi-or-nest"]},{enum:["consistent"]}],minItems:0,maxItems:2}]},fixable:"code",messages:{missingCurlyAfter:"Expected { after '{{name}}'.",missingCurlyAfterCondition:"Expected { after '{{name}}' condition.",unexpectedCurlyAfter:"Unnecessary { after '{{name}}'.",unexpectedCurlyAfterCondition:"Unnecessary { after '{{name}}' condition."}},create(context){const multiOnly=context.options[0]==="multi";const multiLine=context.options[0]==="multi-line";const multiOrNest=context.options[0]==="multi-or-nest";const consistent=context.options[1]==="consistent";const sourceCode=context.getSourceCode();function isCollapsedOneLiner(node){const before=sourceCode.getTokenBefore(node);const last=sourceCode.getLastToken(node);const lastExcludingSemicolon=astUtils.isSemicolonToken(last)?sourceCode.getTokenBefore(last):last;return before.loc.start.line===lastExcludingSemicolon.loc.end.line}function isOneLiner(node){if(node.type==="EmptyStatement"){return true}const first=sourceCode.getFirstToken(node);const last=sourceCode.getLastToken(node);const lastExcludingSemicolon=astUtils.isSemicolonToken(last)?sourceCode.getTokenBefore(last):last;return first.loc.start.line===lastExcludingSemicolon.loc.end.line}function isLexicalDeclaration(node){if(node.type==="VariableDeclaration"){return node.kind==="const"||node.kind==="let"}return node.type==="FunctionDeclaration"||node.type==="ClassDeclaration"}function isElseKeywordToken(token){return token.value==="else"&&token.type==="Keyword"}function isFollowedByElseKeyword(node){const nextToken=sourceCode.getTokenAfter(node);return Boolean(nextToken)&&isElseKeywordToken(nextToken)}function needsSemicolon(closingBracket){const tokenBefore=sourceCode.getTokenBefore(closingBracket);const tokenAfter=sourceCode.getTokenAfter(closingBracket);const lastBlockNode=sourceCode.getNodeByRangeIndex(tokenBefore.range[0]);if(astUtils.isSemicolonToken(tokenBefore)){return false}if(!tokenAfter){return false}if(lastBlockNode.type==="BlockStatement"&&lastBlockNode.parent.type!=="FunctionExpression"&&lastBlockNode.parent.type!=="ArrowFunctionExpression"){return false}if(tokenBefore.loc.end.line===tokenAfter.loc.start.line){return true}if(/^[([/`+-]/u.test(tokenAfter.value)){return true}if(tokenBefore.type==="Punctuator"&&(tokenBefore.value==="++"||tokenBefore.value==="--")){return true}return false}function hasUnsafeIf(node){switch(node.type){case"IfStatement":if(!node.alternate){return true}return hasUnsafeIf(node.alternate);case"ForStatement":case"ForInStatement":case"ForOfStatement":case"LabeledStatement":case"WithStatement":case"WhileStatement":return hasUnsafeIf(node.body);default:return false}}function areBracesNecessary(node){const statement=node.body[0];return isLexicalDeclaration(statement)||hasUnsafeIf(statement)&&isFollowedByElseKeyword(node)}function prepareCheck(node,body,name,opts){const hasBlock=body.type==="BlockStatement";let expected=null;if(hasBlock&&(body.body.length!==1||areBracesNecessary(body))){expected=true}else if(multiOnly){expected=false}else if(multiLine){if(!isCollapsedOneLiner(body)){expected=true}}else if(multiOrNest){if(hasBlock){const statement=body.body[0];const leadingCommentsInBlock=sourceCode.getCommentsBefore(statement);expected=!isOneLiner(statement)||leadingCommentsInBlock.length>0}else{expected=!isOneLiner(body)}}else{expected=true}return{actual:hasBlock,expected:expected,check(){if(this.expected!==null&&this.expected!==this.actual){if(this.expected){context.report({node:node,loc:body.loc,messageId:opts&&opts.condition?"missingCurlyAfterCondition":"missingCurlyAfter",data:{name:name},fix:fixer=>fixer.replaceText(body,`{${sourceCode.getText(body)}}`)})}else{context.report({node:node,loc:body.loc,messageId:opts&&opts.condition?"unexpectedCurlyAfterCondition":"unexpectedCurlyAfter",data:{name:name},fix(fixer){const needsPrecedingSpace=node.type==="DoWhileStatement"&&sourceCode.getTokenBefore(body).range[1]===body.range[0]&&!astUtils.canTokensBeAdjacent("do",sourceCode.getFirstToken(body,{skip:1}));const openingBracket=sourceCode.getFirstToken(body);const closingBracket=sourceCode.getLastToken(body);const lastTokenInBlock=sourceCode.getTokenBefore(closingBracket);if(needsSemicolon(closingBracket)){return null}const resultingBodyText=sourceCode.getText().slice(openingBracket.range[1],lastTokenInBlock.range[0])+sourceCode.getText(lastTokenInBlock)+sourceCode.getText().slice(lastTokenInBlock.range[1],closingBracket.range[0]);return fixer.replaceText(body,(needsPrecedingSpace?" ":"")+resultingBodyText)}})}}}}}function prepareIfChecks(node){const preparedChecks=[];for(let currentNode=node;currentNode;currentNode=currentNode.alternate){preparedChecks.push(prepareCheck(currentNode,currentNode.consequent,"if",{condition:true}));if(currentNode.alternate&&currentNode.alternate.type!=="IfStatement"){preparedChecks.push(prepareCheck(currentNode,currentNode.alternate,"else"));break}}if(consistent){const expected=preparedChecks.some((preparedCheck=>{if(preparedCheck.expected!==null){return preparedCheck.expected}return preparedCheck.actual}));preparedChecks.forEach((preparedCheck=>{preparedCheck.expected=expected}))}return preparedChecks}return{IfStatement(node){const parent=node.parent;const isElseIf=parent.type==="IfStatement"&&parent.alternate===node;if(!isElseIf){prepareIfChecks(node).forEach((preparedCheck=>{preparedCheck.check()}))}},WhileStatement(node){prepareCheck(node,node.body,"while",{condition:true}).check()},DoWhileStatement(node){prepareCheck(node,node.body,"do").check()},ForStatement(node){prepareCheck(node,node.body,"for",{condition:true}).check()},ForInStatement(node){prepareCheck(node,node.body,"for-in").check()},ForOfStatement(node){prepareCheck(node,node.body,"for-of").check()}}}};return curly}var defaultCase;var hasRequiredDefaultCase;function requireDefaultCase(){if(hasRequiredDefaultCase)return defaultCase;hasRequiredDefaultCase=1;const DEFAULT_COMMENT_PATTERN=/^no default$/iu;defaultCase={meta:{type:"suggestion",docs:{description:"Require `default` cases in `switch` statements",recommended:false,url:"https://eslint.org/docs/rules/default-case"},schema:[{type:"object",properties:{commentPattern:{type:"string"}},additionalProperties:false}],messages:{missingDefaultCase:"Expected a default case."}},create(context){const options=context.options[0]||{};const commentPattern=options.commentPattern?new RegExp(options.commentPattern,"u"):DEFAULT_COMMENT_PATTERN;const sourceCode=context.getSourceCode();function last(collection){return collection[collection.length-1]}return{SwitchStatement(node){if(!node.cases.length){return}const hasDefault=node.cases.some((v=>v.test===null));if(!hasDefault){let comment;const lastCase=last(node.cases);const comments=sourceCode.getCommentsAfter(lastCase);if(comments.length){comment=last(comments)}if(!comment||!commentPattern.test(comment.value.trim())){context.report({node:node,messageId:"missingDefaultCase"})}}}}}};return defaultCase}var defaultCaseLast;var hasRequiredDefaultCaseLast;function requireDefaultCaseLast(){if(hasRequiredDefaultCaseLast)return defaultCaseLast;hasRequiredDefaultCaseLast=1;defaultCaseLast={meta:{type:"suggestion",docs:{description:"Enforce default clauses in switch statements to be last",recommended:false,url:"https://eslint.org/docs/rules/default-case-last"},schema:[],messages:{notLast:"Default clause should be the last clause."}},create(context){return{SwitchStatement(node){const cases=node.cases,indexOfDefault=cases.findIndex((c=>c.test===null));if(indexOfDefault!==-1&&indexOfDefault!==cases.length-1){const defaultClause=cases[indexOfDefault];context.report({node:defaultClause,messageId:"notLast"})}}}}};return defaultCaseLast}var defaultParamLast;var hasRequiredDefaultParamLast;function requireDefaultParamLast(){if(hasRequiredDefaultParamLast)return defaultParamLast;hasRequiredDefaultParamLast=1;defaultParamLast={meta:{type:"suggestion",docs:{description:"Enforce default parameters to be last",recommended:false,url:"https://eslint.org/docs/rules/default-param-last"},schema:[],messages:{shouldBeLast:"Default parameters should be last."}},create(context){function handleFunction(node){let hasSeenPlainParam=false;for(let i=node.params.length-1;i>=0;i-=1){const param=node.params[i];if(param.type!=="AssignmentPattern"&&param.type!=="RestElement"){hasSeenPlainParam=true;continue}if(hasSeenPlainParam&&param.type==="AssignmentPattern"){context.report({node:param,messageId:"shouldBeLast"})}}}return{FunctionDeclaration:handleFunction,FunctionExpression:handleFunction,ArrowFunctionExpression:handleFunction}}};return defaultParamLast}var dotLocation;var hasRequiredDotLocation;function requireDotLocation(){if(hasRequiredDotLocation)return dotLocation;hasRequiredDotLocation=1;const astUtils=requireAstUtils();dotLocation={meta:{type:"layout",docs:{description:"Enforce consistent newlines before and after dots",recommended:false,url:"https://eslint.org/docs/rules/dot-location"},schema:[{enum:["object","property"]}],fixable:"code",messages:{expectedDotAfterObject:"Expected dot to be on same line as object.",expectedDotBeforeProperty:"Expected dot to be on same line as property."}},create(context){const config=context.options[0];const onObject=config==="object"||!config;const sourceCode=context.getSourceCode();function checkDotLocation(node){const property=node.property;const dotToken=sourceCode.getTokenBefore(property);if(onObject){const tokenBeforeDot=sourceCode.getTokenBefore(dotToken);if(!astUtils.isTokenOnSameLine(tokenBeforeDot,dotToken)){context.report({node:node,loc:dotToken.loc,messageId:"expectedDotAfterObject",*fix(fixer){if(dotToken.value.startsWith(".")&&astUtils.isDecimalIntegerNumericToken(tokenBeforeDot)){yield fixer.insertTextAfter(tokenBeforeDot,` ${dotToken.value}`)}else{yield fixer.insertTextAfter(tokenBeforeDot,dotToken.value)}yield fixer.remove(dotToken)}})}}else if(!astUtils.isTokenOnSameLine(dotToken,property)){context.report({node:node,loc:dotToken.loc,messageId:"expectedDotBeforeProperty",*fix(fixer){yield fixer.remove(dotToken);yield fixer.insertTextBefore(property,dotToken.value)}})}}function checkNode(node){if(!node.computed){checkDotLocation(node)}}return{MemberExpression:checkNode}}};return dotLocation}var keywords;var hasRequiredKeywords;function requireKeywords(){if(hasRequiredKeywords)return keywords;hasRequiredKeywords=1;keywords=["abstract","boolean","break","byte","case","catch","char","class","const","continue","debugger","default","delete","do","double","else","enum","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","this","throw","throws","transient","true","try","typeof","var","void","volatile","while","with"];return keywords}var dotNotation;var hasRequiredDotNotation;function requireDotNotation(){if(hasRequiredDotNotation)return dotNotation;hasRequiredDotNotation=1;const astUtils=requireAstUtils();const keywords=requireKeywords();const validIdentifier=/^[a-zA-Z_$][a-zA-Z0-9_$]*$/u;const literalTypesToCheck=new Set(["string","boolean"]);dotNotation={meta:{type:"suggestion",docs:{description:"Enforce dot notation whenever possible",recommended:false,url:"https://eslint.org/docs/rules/dot-notation"},schema:[{type:"object",properties:{allowKeywords:{type:"boolean",default:true},allowPattern:{type:"string",default:""}},additionalProperties:false}],fixable:"code",messages:{useDot:"[{{key}}] is better written in dot notation.",useBrackets:".{{key}} is a syntax error."}},create(context){const options=context.options[0]||{};const allowKeywords=options.allowKeywords===void 0||options.allowKeywords;const sourceCode=context.getSourceCode();let allowPattern;if(options.allowPattern){allowPattern=new RegExp(options.allowPattern,"u")}function checkComputedProperty(node,value){if(validIdentifier.test(value)&&(allowKeywords||!keywords.includes(String(value)))&&!(allowPattern&&allowPattern.test(value))){const formattedValue=node.property.type==="Literal"?JSON.stringify(value):`\`${value}\``;context.report({node:node.property,messageId:"useDot",data:{key:formattedValue},*fix(fixer){const leftBracket=sourceCode.getTokenAfter(node.object,astUtils.isOpeningBracketToken);const rightBracket=sourceCode.getLastToken(node);const nextToken=sourceCode.getTokenAfter(node);if(sourceCode.commentsExistBetween(leftBracket,rightBracket)){return}if(!node.optional){yield fixer.insertTextBefore(leftBracket,astUtils.isDecimalInteger(node.object)?" .":".")}yield fixer.replaceTextRange([leftBracket.range[0],rightBracket.range[1]],value);if(nextToken&&rightBracket.range[1]===nextToken.range[0]&&!astUtils.canTokensBeAdjacent(String(value),nextToken)){yield fixer.insertTextAfter(node," ")}}})}}return{MemberExpression(node){if(node.computed&&node.property.type==="Literal"&&(literalTypesToCheck.has(typeof node.property.value)||astUtils.isNullLiteral(node.property))){checkComputedProperty(node,node.property.value)}if(node.computed&&node.property.type==="TemplateLiteral"&&node.property.expressions.length===0){checkComputedProperty(node,node.property.quasis[0].value.cooked)}if(!allowKeywords&&!node.computed&&node.property.type==="Identifier"&&keywords.includes(String(node.property.name))){context.report({node:node.property,messageId:"useBrackets",data:{key:node.property.name},*fix(fixer){const dotToken=sourceCode.getTokenBefore(node.property);if(node.object.type==="Identifier"&&node.object.name==="let"&&!node.optional){return}if(sourceCode.commentsExistBetween(dotToken,node.property)){return}if(!node.optional){yield fixer.remove(dotToken)}yield fixer.replaceText(node.property,`["${node.property.name}"]`)}})}}}}};return dotNotation}var eolLast;var hasRequiredEolLast;function requireEolLast(){if(hasRequiredEolLast)return eolLast;hasRequiredEolLast=1;eolLast={meta:{type:"layout",docs:{description:"Require or disallow newline at the end of files",recommended:false,url:"https://eslint.org/docs/rules/eol-last"},fixable:"whitespace",schema:[{enum:["always","never","unix","windows"]}],messages:{missing:"Newline required at end of file but not found.",unexpected:"Newline not allowed at end of file."}},create(context){return{Program:function checkBadEOF(node){const sourceCode=context.getSourceCode(),src=sourceCode.getText(),lastLine=sourceCode.lines[sourceCode.lines.length-1],location={column:lastLine.length,line:sourceCode.lines.length},LF="\n",CRLF=`\r${LF}`,endsWithNewline=src.endsWith(LF);if(!src.length){return}let mode=context.options[0]||"always",appendCRLF=false;if(mode==="unix"){mode="always"}if(mode==="windows"){mode="always";appendCRLF=true}if(mode==="always"&&!endsWithNewline){context.report({node:node,loc:location,messageId:"missing",fix(fixer){return fixer.insertTextAfterRange([0,src.length],appendCRLF?CRLF:LF)}})}else if(mode==="never"&&endsWithNewline){const secondLastLine=sourceCode.lines[sourceCode.lines.length-2];context.report({node:node,loc:{start:{line:sourceCode.lines.length-1,column:secondLastLine.length},end:{line:sourceCode.lines.length,column:0}},messageId:"unexpected",fix(fixer){const finalEOLs=/(?:\r?\n)+$/u,match=finalEOLs.exec(sourceCode.text),start=match.index,end=sourceCode.text.length;return fixer.replaceTextRange([start,end],"")}})}}}}};return eolLast}var eqeqeq;var hasRequiredEqeqeq;function requireEqeqeq(){if(hasRequiredEqeqeq)return eqeqeq;hasRequiredEqeqeq=1;const astUtils=requireAstUtils();eqeqeq={meta:{type:"suggestion",docs:{description:"Require the use of `===` and `!==`",recommended:false,url:"https://eslint.org/docs/rules/eqeqeq"},schema:{anyOf:[{type:"array",items:[{enum:["always"]},{type:"object",properties:{null:{enum:["always","never","ignore"]}},additionalProperties:false}],additionalItems:false},{type:"array",items:[{enum:["smart","allow-null"]}],additionalItems:false}]},fixable:"code",messages:{unexpected:"Expected '{{expectedOperator}}' and instead saw '{{actualOperator}}'."}},create(context){const config=context.options[0]||"always";const options=context.options[1]||{};const sourceCode=context.getSourceCode();const nullOption=config==="always"?options.null||"always":"ignore";const enforceRuleForNull=nullOption==="always";const enforceInverseRuleForNull=nullOption==="never";function isTypeOf(node){return node.type==="UnaryExpression"&&node.operator==="typeof"}function isTypeOfBinary(node){return isTypeOf(node.left)||isTypeOf(node.right)}function areLiteralsAndSameType(node){return node.left.type==="Literal"&&node.right.type==="Literal"&&typeof node.left.value===typeof node.right.value}function isNullCheck(node){return astUtils.isNullLiteral(node.right)||astUtils.isNullLiteral(node.left)}function report(node,expectedOperator){const operatorToken=sourceCode.getFirstTokenBetween(node.left,node.right,(token=>token.value===node.operator));context.report({node:node,loc:operatorToken.loc,messageId:"unexpected",data:{expectedOperator:expectedOperator,actualOperator:node.operator},fix(fixer){if(isTypeOfBinary(node)||areLiteralsAndSameType(node)){return fixer.replaceText(operatorToken,expectedOperator)}return null}})}return{BinaryExpression(node){const isNull=isNullCheck(node);if(node.operator!=="=="&&node.operator!=="!="){if(enforceInverseRuleForNull&&isNull){report(node,node.operator.slice(0,-1))}return}if(config==="smart"&&(isTypeOfBinary(node)||areLiteralsAndSameType(node)||isNull)){return}if(!enforceRuleForNull&&isNull){return}report(node,`${node.operator}=`)}}}};return eqeqeq}var forDirection;var hasRequiredForDirection;function requireForDirection(){if(hasRequiredForDirection)return forDirection;hasRequiredForDirection=1;forDirection={meta:{type:"problem",docs:{description:'Enforce "for" loop update clause moving the counter in the right direction',recommended:true,url:"https://eslint.org/docs/rules/for-direction"},fixable:null,schema:[],messages:{incorrectDirection:"The update clause in this loop moves the variable in the wrong direction."}},create(context){function report(node){context.report({node:node,messageId:"incorrectDirection"})}function getRightDirection(update,dir){if(update.right.type==="UnaryExpression"){if(update.right.operator==="-"){return-dir}}else if(update.right.type==="Identifier"){return 0}return dir}function getUpdateDirection(update,counter){if(update.argument.type==="Identifier"&&update.argument.name===counter){if(update.operator==="++"){return 1}if(update.operator==="--"){return-1}}return 0}function getAssignmentDirection(update,counter){if(update.left.name===counter){if(update.operator==="+="){return getRightDirection(update,1)}if(update.operator==="-="){return getRightDirection(update,-1)}}return 0}return{ForStatement(node){if(node.test&&node.test.type==="BinaryExpression"&&node.test.left.type==="Identifier"&&node.update){const counter=node.test.left.name;const operator=node.test.operator;const update=node.update;let wrongDirection;if(operator==="<"||operator==="<="){wrongDirection=-1}else if(operator===">"||operator===">="){wrongDirection=1}else{return}if(update.type==="UpdateExpression"){if(getUpdateDirection(update,counter)===wrongDirection){report(node)}}else if(update.type==="AssignmentExpression"&&getAssignmentDirection(update,counter)===wrongDirection){report(node)}}}}}};return forDirection}var funcCallSpacing;var hasRequiredFuncCallSpacing;function requireFuncCallSpacing(){if(hasRequiredFuncCallSpacing)return funcCallSpacing;hasRequiredFuncCallSpacing=1;const astUtils=requireAstUtils();funcCallSpacing={meta:{type:"layout",docs:{description:"Require or disallow spacing between function identifiers and their invocations",recommended:false,url:"https://eslint.org/docs/rules/func-call-spacing"},fixable:"whitespace",schema:{anyOf:[{type:"array",items:[{enum:["never"]}],minItems:0,maxItems:1},{type:"array",items:[{enum:["always"]},{type:"object",properties:{allowNewlines:{type:"boolean"}},additionalProperties:false}],minItems:0,maxItems:2}]},messages:{unexpectedWhitespace:"Unexpected whitespace between function name and paren.",unexpectedNewline:"Unexpected newline between function name and paren.",missing:"Missing space between function name and paren."}},create(context){const never=context.options[0]!=="always";const allowNewlines=!never&&context.options[1]&&context.options[1].allowNewlines;const sourceCode=context.getSourceCode();const text=sourceCode.getText();function checkSpacing(node,leftToken,rightToken){const textBetweenTokens=text.slice(leftToken.range[1],rightToken.range[0]).replace(/\/\*.*?\*\//gu,"");const hasWhitespace=/\s/u.test(textBetweenTokens);const hasNewline=hasWhitespace&&astUtils.LINEBREAK_MATCHER.test(textBetweenTokens);if(never&&hasWhitespace){context.report({node:node,loc:{start:leftToken.loc.end,end:{line:rightToken.loc.start.line,column:rightToken.loc.start.column-1}},messageId:"unexpectedWhitespace",fix(fixer){if(sourceCode.commentsExistBetween(leftToken,rightToken)){return null}if(node.optional){return fixer.replaceTextRange([leftToken.range[1],rightToken.range[0]],"?.")}if(hasNewline){return null}return fixer.removeRange([leftToken.range[1],rightToken.range[0]])}})}else if(!never&&!hasWhitespace){context.report({node:node,loc:{start:{line:leftToken.loc.end.line,column:leftToken.loc.end.column-1},end:rightToken.loc.start},messageId:"missing",fix(fixer){if(node.optional){return null}return fixer.insertTextBefore(rightToken," ")}})}else if(!never&&!allowNewlines&&hasNewline){context.report({node:node,loc:{start:leftToken.loc.end,end:rightToken.loc.start},messageId:"unexpectedNewline",fix(fixer){if(!node.optional){return null}if(sourceCode.commentsExistBetween(leftToken,rightToken)){return null}const range=[leftToken.range[1],rightToken.range[0]];const qdToken=sourceCode.getTokenAfter(leftToken);if(qdToken.range[0]===leftToken.range[1]){return fixer.replaceTextRange(range,"?. ")}if(qdToken.range[1]===rightToken.range[0]){return fixer.replaceTextRange(range," ?.")}return fixer.replaceTextRange(range," ?. ")}})}}return{"CallExpression, NewExpression"(node){const lastToken=sourceCode.getLastToken(node);const lastCalleeToken=sourceCode.getLastToken(node.callee);const parenToken=sourceCode.getFirstTokenBetween(lastCalleeToken,lastToken,astUtils.isOpeningParenToken);const prevToken=parenToken&&sourceCode.getTokenBefore(parenToken,astUtils.isNotQuestionDotToken);if(!(parenToken&&parenToken.range[1]<node.range[1])){return}checkSpacing(node,prevToken,parenToken)},ImportExpression(node){const leftToken=sourceCode.getFirstToken(node);const rightToken=sourceCode.getTokenAfter(leftToken);checkSpacing(node,leftToken,rightToken)}}}};return funcCallSpacing}var funcNameMatching;var hasRequiredFuncNameMatching;function requireFuncNameMatching(){if(hasRequiredFuncNameMatching)return funcNameMatching;hasRequiredFuncNameMatching=1;const astUtils=requireAstUtils();const esutils=requireUtils();function isModuleExports(pattern){if(pattern.type==="MemberExpression"&&pattern.object.type==="Identifier"&&pattern.object.name==="module"){if(pattern.property.type==="Identifier"&&pattern.property.name==="exports"){return true}if(pattern.property.type==="Literal"&&pattern.property.value==="exports"){return true}}return false}function isIdentifier(name,ecmaVersion){if(ecmaVersion>=2015){return esutils.keyword.isIdentifierES6(name)}return esutils.keyword.isIdentifierES5(name)}const alwaysOrNever={enum:["always","never"]};const optionsObject={type:"object",properties:{considerPropertyDescriptor:{type:"boolean"},includeCommonJSModuleExports:{type:"boolean"}},additionalProperties:false};funcNameMatching={meta:{type:"suggestion",docs:{description:"Require function names to match the name of the variable or property to which they are assigned",recommended:false,url:"https://eslint.org/docs/rules/func-name-matching"},schema:{anyOf:[{type:"array",additionalItems:false,items:[alwaysOrNever,optionsObject]},{type:"array",additionalItems:false,items:[optionsObject]}]},messages:{matchProperty:"Function name `{{funcName}}` should match property name `{{name}}`.",matchVariable:"Function name `{{funcName}}` should match variable name `{{name}}`.",notMatchProperty:"Function name `{{funcName}}` should not match property name `{{name}}`.",notMatchVariable:"Function name `{{funcName}}` should not match variable name `{{name}}`."}},create(context){const options=(typeof context.options[0]==="object"?context.options[0]:context.options[1])||{};const nameMatches=typeof context.options[0]==="string"?context.options[0]:"always";const considerPropertyDescriptor=options.considerPropertyDescriptor;const includeModuleExports=options.includeCommonJSModuleExports;const ecmaVersion=context.languageOptions.ecmaVersion;function isPropertyCall(objName,funcName,node){if(!node){return false}return node.type==="CallExpression"&&astUtils.isSpecificMemberAccess(node.callee,objName,funcName)}function shouldWarn(x,y){return nameMatches==="always"&&x!==y||nameMatches==="never"&&x===y}function report(node,name,funcName,isProp){let messageId;if(nameMatches==="always"&&isProp){messageId="matchProperty"}else if(nameMatches==="always"){messageId="matchVariable"}else if(isProp){messageId="notMatchProperty"}else{messageId="notMatchVariable"}context.report({node:node,messageId:messageId,data:{name:name,funcName:funcName}})}function isStringLiteral(node){return node.type==="Literal"&&typeof node.value==="string"}return{VariableDeclarator(node){if(!node.init||node.init.type!=="FunctionExpression"||node.id.type!=="Identifier"){return}if(node.init.id&&shouldWarn(node.id.name,node.init.id.name)){report(node,node.id.name,node.init.id.name,false)}},AssignmentExpression(node){if(node.right.type!=="FunctionExpression"||node.left.computed&&node.left.property.type!=="Literal"||!includeModuleExports&&isModuleExports(node.left)||node.left.type!=="Identifier"&&node.left.type!=="MemberExpression"){return}const isProp=node.left.type==="MemberExpression";const name=isProp?astUtils.getStaticPropertyName(node.left):node.left.name;if(node.right.id&&name&&isIdentifier(name)&&shouldWarn(name,node.right.id.name)){report(node,name,node.right.id.name,isProp)}},"Property, PropertyDefinition[value]"(node){if(!(node.value.type==="FunctionExpression"&&node.value.id)){return}if(node.key.type==="Identifier"&&!node.computed){const functionName=node.value.id.name;let propertyName=node.key.name;if(considerPropertyDescriptor&&propertyName==="value"&&node.parent.type==="ObjectExpression"){if(isPropertyCall("Object","defineProperty",node.parent.parent)||isPropertyCall("Reflect","defineProperty",node.parent.parent)){const property=node.parent.parent.arguments[1];if(isStringLiteral(property)&&shouldWarn(property.value,functionName)){report(node,property.value,functionName,true)}}else if(isPropertyCall("Object","defineProperties",node.parent.parent.parent.parent)){propertyName=node.parent.parent.key.name;if(!node.parent.parent.computed&&shouldWarn(propertyName,functionName)){report(node,propertyName,functionName,true)}}else if(isPropertyCall("Object","create",node.parent.parent.parent.parent)){propertyName=node.parent.parent.key.name;if(!node.parent.parent.computed&&shouldWarn(propertyName,functionName)){report(node,propertyName,functionName,true)}}else if(shouldWarn(propertyName,functionName)){report(node,propertyName,functionName,true)}}else if(shouldWarn(propertyName,functionName)){report(node,propertyName,functionName,true)}return}if(isStringLiteral(node.key)&&isIdentifier(node.key.value,ecmaVersion)&&shouldWarn(node.key.value,node.value.id.name)){report(node,node.key.value,node.value.id.name,true)}}}}};return funcNameMatching}var funcNames;var hasRequiredFuncNames;function requireFuncNames(){if(hasRequiredFuncNames)return funcNames;hasRequiredFuncNames=1;const astUtils=requireAstUtils();function isFunctionName(variable){return variable&&variable.defs[0].type==="FunctionName"}funcNames={meta:{type:"suggestion",docs:{description:"Require or disallow named `function` expressions",recommended:false,url:"https://eslint.org/docs/rules/func-names"},schema:{definitions:{value:{enum:["always","as-needed","never"]}},items:[{$ref:"#/definitions/value"},{type:"object",properties:{generators:{$ref:"#/definitions/value"}},additionalProperties:false}]},messages:{unnamed:"Unexpected unnamed {{name}}.",named:"Unexpected named {{name}}."}},create(context){const sourceCode=context.getSourceCode();function getConfigForNode(node){if(node.generator&&context.options.length>1&&context.options[1].generators){return context.options[1].generators}return context.options[0]||"always"}function isObjectOrClassMethod(node){const parent=node.parent;return parent.type==="MethodDefinition"||parent.type==="Property"&&(parent.method||parent.kind==="get"||parent.kind==="set")}function hasInferredName(node){const parent=node.parent;return isObjectOrClassMethod(node)||parent.type==="VariableDeclarator"&&parent.id.type==="Identifier"&&parent.init===node||parent.type==="Property"&&parent.value===node||parent.type==="PropertyDefinition"&&parent.value===node||parent.type==="AssignmentExpression"&&parent.left.type==="Identifier"&&parent.right===node||parent.type==="AssignmentPattern"&&parent.left.type==="Identifier"&&parent.right===node}function reportUnexpectedUnnamedFunction(node){context.report({node:node,messageId:"unnamed",loc:astUtils.getFunctionHeadLoc(node,sourceCode),data:{name:astUtils.getFunctionNameWithKind(node)}})}function reportUnexpectedNamedFunction(node){context.report({node:node,messageId:"named",loc:astUtils.getFunctionHeadLoc(node,sourceCode),data:{name:astUtils.getFunctionNameWithKind(node)}})}function handleFunction(node){const nameVar=context.getDeclaredVariables(node)[0];if(isFunctionName(nameVar)&&nameVar.references.length>0){return}const hasName=Boolean(node.id&&node.id.name);const config=getConfigForNode(node);if(config==="never"){if(hasName&&node.type!=="FunctionDeclaration"){reportUnexpectedNamedFunction(node)}}else if(config==="as-needed"){if(!hasName&&!hasInferredName(node)){reportUnexpectedUnnamedFunction(node)}}else{if(!hasName&&!isObjectOrClassMethod(node)){reportUnexpectedUnnamedFunction(node)}}}return{"FunctionExpression:exit":handleFunction,"ExportDefaultDeclaration > FunctionDeclaration":handleFunction}}};return funcNames}var funcStyle;var hasRequiredFuncStyle;function requireFuncStyle(){if(hasRequiredFuncStyle)return funcStyle;hasRequiredFuncStyle=1;funcStyle={meta:{type:"suggestion",docs:{description:"Enforce the consistent use of either `function` declarations or expressions",recommended:false,url:"https://eslint.org/docs/rules/func-style"},schema:[{enum:["declaration","expression"]},{type:"object",properties:{allowArrowFunctions:{type:"boolean",default:false}},additionalProperties:false}],messages:{expression:"Expected a function expression.",declaration:"Expected a function declaration."}},create(context){const style=context.options[0],allowArrowFunctions=context.options[1]&&context.options[1].allowArrowFunctions,enforceDeclarations=style==="declaration",stack=[];const nodesToCheck={FunctionDeclaration(node){stack.push(false);if(!enforceDeclarations&&node.parent.type!=="ExportDefaultDeclaration"){context.report({node:node,messageId:"expression"})}},"FunctionDeclaration:exit"(){stack.pop()},FunctionExpression(node){stack.push(false);if(enforceDeclarations&&node.parent.type==="VariableDeclarator"){context.report({node:node.parent,messageId:"declaration"})}},"FunctionExpression:exit"(){stack.pop()},ThisExpression(){if(stack.length>0){stack[stack.length-1]=true}}};if(!allowArrowFunctions){nodesToCheck.ArrowFunctionExpression=function(){stack.push(false)};nodesToCheck["ArrowFunctionExpression:exit"]=function(node){const hasThisExpr=stack.pop();if(enforceDeclarations&&!hasThisExpr&&node.parent.type==="VariableDeclarator"){context.report({node:node.parent,messageId:"declaration"})}}}return nodesToCheck}};return funcStyle}var functionCallArgumentNewline;var hasRequiredFunctionCallArgumentNewline;function requireFunctionCallArgumentNewline(){if(hasRequiredFunctionCallArgumentNewline)return functionCallArgumentNewline;hasRequiredFunctionCallArgumentNewline=1;functionCallArgumentNewline={meta:{type:"layout",docs:{description:"Enforce line breaks between arguments of a function call",recommended:false,url:"https://eslint.org/docs/rules/function-call-argument-newline"},fixable:"whitespace",schema:[{enum:["always","never","consistent"]}],messages:{unexpectedLineBreak:"There should be no line break here.",missingLineBreak:"There should be a line break after this argument."}},create(context){const sourceCode=context.getSourceCode();const checkers={unexpected:{messageId:"unexpectedLineBreak",check:(prevToken,currentToken)=>prevToken.loc.end.line!==currentToken.loc.start.line,createFix:(token,tokenBefore)=>fixer=>fixer.replaceTextRange([tokenBefore.range[1],token.range[0]]," ")},missing:{messageId:"missingLineBreak",check:(prevToken,currentToken)=>prevToken.loc.end.line===currentToken.loc.start.line,createFix:(token,tokenBefore)=>fixer=>fixer.replaceTextRange([tokenBefore.range[1],token.range[0]],"\n")}};function checkArguments(node,checker){for(let i=1;i<node.arguments.length;i++){const prevArgToken=sourceCode.getLastToken(node.arguments[i-1]);const currentArgToken=sourceCode.getFirstToken(node.arguments[i]);if(checker.check(prevArgToken,currentArgToken)){const tokenBefore=sourceCode.getTokenBefore(currentArgToken,{includeComments:true});const hasLineCommentBefore=tokenBefore.type==="Line";context.report({node:node,loc:{start:tokenBefore.loc.end,end:currentArgToken.loc.start},messageId:checker.messageId,fix:hasLineCommentBefore?null:checker.createFix(currentArgToken,tokenBefore)})}}}function check(node){if(node.arguments.length<2){return}const option=context.options[0]||"always";if(option==="never"){checkArguments(node,checkers.unexpected)}else if(option==="always"){checkArguments(node,checkers.missing)}else if(option==="consistent"){const firstArgToken=sourceCode.getLastToken(node.arguments[0]);const secondArgToken=sourceCode.getFirstToken(node.arguments[1]);if(firstArgToken.loc.end.line===secondArgToken.loc.start.line){checkArguments(node,checkers.unexpected)}else{checkArguments(node,checkers.missing)}}}return{CallExpression:check,NewExpression:check}}};return functionCallArgumentNewline}var functionParenNewline;var hasRequiredFunctionParenNewline;function requireFunctionParenNewline(){if(hasRequiredFunctionParenNewline)return functionParenNewline;hasRequiredFunctionParenNewline=1;const astUtils=requireAstUtils();functionParenNewline={meta:{type:"layout",docs:{description:"Enforce consistent line breaks inside function parentheses",recommended:false,url:"https://eslint.org/docs/rules/function-paren-newline"},fixable:"whitespace",schema:[{oneOf:[{enum:["always","never","consistent","multiline","multiline-arguments"]},{type:"object",properties:{minItems:{type:"integer",minimum:0}},additionalProperties:false}]}],messages:{expectedBefore:"Expected newline before ')'.",expectedAfter:"Expected newline after '('.",expectedBetween:"Expected newline between arguments/params.",unexpectedBefore:"Unexpected newline before ')'.",unexpectedAfter:"Unexpected newline after '('."}},create(context){const sourceCode=context.getSourceCode();const rawOption=context.options[0]||"multiline";const multilineOption=rawOption==="multiline";const multilineArgumentsOption=rawOption==="multiline-arguments";const consistentOption=rawOption==="consistent";let minItems;if(typeof rawOption==="object"){minItems=rawOption.minItems}else if(rawOption==="always"){minItems=0}else if(rawOption==="never"){minItems=Infinity}else{minItems=null}function shouldHaveNewlines(elements,hasLeftNewline){if(multilineArgumentsOption&&elements.length===1){return hasLeftNewline}if(multilineOption||multilineArgumentsOption){return elements.some(((element,index)=>index!==elements.length-1&&element.loc.end.line!==elements[index+1].loc.start.line))}if(consistentOption){return hasLeftNewline}return elements.length>=minItems}function validateParens(parens,elements){const leftParen=parens.leftParen;const rightParen=parens.rightParen;const tokenAfterLeftParen=sourceCode.getTokenAfter(leftParen);const tokenBeforeRightParen=sourceCode.getTokenBefore(rightParen);const hasLeftNewline=!astUtils.isTokenOnSameLine(leftParen,tokenAfterLeftParen);const hasRightNewline=!astUtils.isTokenOnSameLine(tokenBeforeRightParen,rightParen);const needsNewlines=shouldHaveNewlines(elements,hasLeftNewline);if(hasLeftNewline&&!needsNewlines){context.report({node:leftParen,messageId:"unexpectedAfter",fix(fixer){return sourceCode.getText().slice(leftParen.range[1],tokenAfterLeftParen.range[0]).trim()?null:fixer.removeRange([leftParen.range[1],tokenAfterLeftParen.range[0]])}})}else if(!hasLeftNewline&&needsNewlines){context.report({node:leftParen,messageId:"expectedAfter",fix:fixer=>fixer.insertTextAfter(leftParen,"\n")})}if(hasRightNewline&&!needsNewlines){context.report({node:rightParen,messageId:"unexpectedBefore",fix(fixer){return sourceCode.getText().slice(tokenBeforeRightParen.range[1],rightParen.range[0]).trim()?null:fixer.removeRange([tokenBeforeRightParen.range[1],rightParen.range[0]])}})}else if(!hasRightNewline&&needsNewlines){context.report({node:rightParen,messageId:"expectedBefore",fix:fixer=>fixer.insertTextBefore(rightParen,"\n")})}}function validateArguments(parens,elements){const leftParen=parens.leftParen;const tokenAfterLeftParen=sourceCode.getTokenAfter(leftParen);const hasLeftNewline=!astUtils.isTokenOnSameLine(leftParen,tokenAfterLeftParen);const needsNewlines=shouldHaveNewlines(elements,hasLeftNewline);for(let i=0;i<=elements.length-2;i++){const currentElement=elements[i];const nextElement=elements[i+1];const hasNewLine=currentElement.loc.end.line!==nextElement.loc.start.line;if(!hasNewLine&&needsNewlines){context.report({node:currentElement,messageId:"expectedBetween",fix:fixer=>fixer.insertTextBefore(nextElement,"\n")})}}}function getParenTokens(node){switch(node.type){case"NewExpression":if(!node.arguments.length&&!(astUtils.isOpeningParenToken(sourceCode.getLastToken(node,{skip:1}))&&astUtils.isClosingParenToken(sourceCode.getLastToken(node))&&node.callee.range[1]<node.range[1])){return null}case"CallExpression":return{leftParen:sourceCode.getTokenAfter(node.callee,astUtils.isOpeningParenToken),rightParen:sourceCode.getLastToken(node)};case"FunctionDeclaration":case"FunctionExpression":{const leftParen=sourceCode.getFirstToken(node,astUtils.isOpeningParenToken);const rightParen=node.params.length?sourceCode.getTokenAfter(node.params[node.params.length-1],astUtils.isClosingParenToken):sourceCode.getTokenAfter(leftParen);return{leftParen:leftParen,rightParen:rightParen}}case"ArrowFunctionExpression":{const firstToken=sourceCode.getFirstToken(node,{skip:node.async?1:0});if(!astUtils.isOpeningParenToken(firstToken)){return null}const rightParen=node.params.length?sourceCode.getTokenAfter(node.params[node.params.length-1],astUtils.isClosingParenToken):sourceCode.getTokenAfter(firstToken);return{leftParen:firstToken,rightParen:rightParen}}case"ImportExpression":{const leftParen=sourceCode.getFirstToken(node,1);const rightParen=sourceCode.getLastToken(node);return{leftParen:leftParen,rightParen:rightParen}}default:throw new TypeError(`unexpected node with type ${node.type}`)}}return{[["ArrowFunctionExpression","CallExpression","FunctionDeclaration","FunctionExpression","ImportExpression","NewExpression"]](node){const parens=getParenTokens(node);let params;if(node.type==="ImportExpression"){params=[node.source]}else if(astUtils.isFunction(node)){params=node.params}else{params=node.arguments}if(parens){validateParens(parens,params);if(multilineArgumentsOption){validateArguments(parens,params)}}}}}};return functionParenNewline}var generatorStarSpacing;var hasRequiredGeneratorStarSpacing;function requireGeneratorStarSpacing(){if(hasRequiredGeneratorStarSpacing)return generatorStarSpacing;hasRequiredGeneratorStarSpacing=1;const OVERRIDE_SCHEMA={oneOf:[{enum:["before","after","both","neither"]},{type:"object",properties:{before:{type:"boolean"},after:{type:"boolean"}},additionalProperties:false}]};generatorStarSpacing={meta:{type:"layout",docs:{description:"Enforce consistent spacing around `*` operators in generator functions",recommended:false,url:"https://eslint.org/docs/rules/generator-star-spacing"},fixable:"whitespace",schema:[{oneOf:[{enum:["before","after","both","neither"]},{type:"object",properties:{before:{type:"boolean"},after:{type:"boolean"},named:OVERRIDE_SCHEMA,anonymous:OVERRIDE_SCHEMA,method:OVERRIDE_SCHEMA},additionalProperties:false}]}],messages:{missingBefore:"Missing space before *.",missingAfter:"Missing space after *.",unexpectedBefore:"Unexpected space before *.",unexpectedAfter:"Unexpected space after *."}},create(context){const optionDefinitions={before:{before:true,after:false},after:{before:false,after:true},both:{before:true,after:true},neither:{before:false,after:false}};function optionToDefinition(option,defaults){if(!option){return defaults}return typeof option==="string"?optionDefinitions[option]:Object.assign({},defaults,option)}const modes=function(option){const defaults=optionToDefinition(option,optionDefinitions.before);return{named:optionToDefinition(option.named,defaults),anonymous:optionToDefinition(option.anonymous,defaults),method:optionToDefinition(option.method,defaults)}}(context.options[0]||{});const sourceCode=context.getSourceCode();function isStarToken(token){return token.value==="*"&&token.type==="Punctuator"}function getStarToken(node){return sourceCode.getFirstToken(node.parent.method||node.parent.type==="MethodDefinition"?node.parent:node,isStarToken)}function capitalize(str){return str[0].toUpperCase()+str.slice(1)}function checkSpacing(kind,side,leftToken,rightToken){if(!!(rightToken.range[0]-leftToken.range[1])!==modes[kind][side]){const after=leftToken.value==="*";const spaceRequired=modes[kind][side];const node=after?leftToken:rightToken;const messageId=`${spaceRequired?"missing":"unexpected"}${capitalize(side)}`;context.report({node:node,messageId:messageId,fix(fixer){if(spaceRequired){if(after){return fixer.insertTextAfter(node," ")}return fixer.insertTextBefore(node," ")}return fixer.removeRange([leftToken.range[1],rightToken.range[0]])}})}}function checkFunction(node){if(!node.generator){return}const starToken=getStarToken(node);const prevToken=sourceCode.getTokenBefore(starToken);const nextToken=sourceCode.getTokenAfter(starToken);let kind="named";if(node.parent.type==="MethodDefinition"||node.parent.type==="Property"&&node.parent.method){kind="method"}else if(!node.id){kind="anonymous"}if(!(kind==="method"&&starToken===sourceCode.getFirstToken(node.parent))){checkSpacing(kind,"before",prevToken,starToken)}checkSpacing(kind,"after",starToken,nextToken)}return{FunctionDeclaration:checkFunction,FunctionExpression:checkFunction}}};return generatorStarSpacing}var getterReturn;var hasRequiredGetterReturn;function requireGetterReturn(){if(hasRequiredGetterReturn)return getterReturn;hasRequiredGetterReturn=1;const astUtils=requireAstUtils();const TARGET_NODE_TYPE=/^(?:Arrow)?FunctionExpression$/u;function isReachable(segment){return segment.reachable}getterReturn={meta:{type:"problem",docs:{description:"Enforce `return` statements in getters",recommended:true,url:"https://eslint.org/docs/rules/getter-return"},fixable:null,schema:[{type:"object",properties:{allowImplicit:{type:"boolean",default:false}},additionalProperties:false}],messages:{expected:"Expected to return a value in {{name}}.",expectedAlways:"Expected {{name}} to always return a value."}},create(context){const options=context.options[0]||{allowImplicit:false};const sourceCode=context.getSourceCode();let funcInfo={upper:null,codePath:null,hasReturn:false,shouldCheck:false,node:null};function checkLastSegment(node){if(funcInfo.shouldCheck&&funcInfo.codePath.currentSegments.some(isReachable)){context.report({node:node,loc:astUtils.getFunctionHeadLoc(node,sourceCode),messageId:funcInfo.hasReturn?"expectedAlways":"expected",data:{name:astUtils.getFunctionNameWithKind(funcInfo.node)}})}}function isGetter(node){const parent=node.parent;if(TARGET_NODE_TYPE.test(node.type)&&node.body.type==="BlockStatement"){if(parent.kind==="get"){return true}if(parent.type==="Property"&&astUtils.getStaticPropertyName(parent)==="get"&&parent.parent.type==="ObjectExpression"){if(parent.parent.parent.type==="CallExpression"){const callNode=parent.parent.parent.callee;if(astUtils.isSpecificMemberAccess(callNode,"Object","defineProperty")||astUtils.isSpecificMemberAccess(callNode,"Reflect","defineProperty")){return true}}if(parent.parent.parent.type==="Property"&&parent.parent.parent.parent.type==="ObjectExpression"&&parent.parent.parent.parent.parent.type==="CallExpression"){const callNode=parent.parent.parent.parent.parent.callee;return astUtils.isSpecificMemberAccess(callNode,"Object","defineProperties")||astUtils.isSpecificMemberAccess(callNode,"Object","create")}}}return false}return{onCodePathStart(codePath,node){funcInfo={upper:funcInfo,codePath:codePath,hasReturn:false,shouldCheck:isGetter(node),node:node}},onCodePathEnd(){funcInfo=funcInfo.upper},ReturnStatement(node){if(funcInfo.shouldCheck){funcInfo.hasReturn=true;if(!options.allowImplicit&&!node.argument){context.report({node:node,messageId:"expected",data:{name:astUtils.getFunctionNameWithKind(funcInfo.node)}})}}},"FunctionExpression:exit":checkLastSegment,"ArrowFunctionExpression:exit":checkLastSegment}}};return getterReturn}var globalRequire;var hasRequiredGlobalRequire;function requireGlobalRequire(){if(hasRequiredGlobalRequire)return globalRequire;hasRequiredGlobalRequire=1;const ACCEPTABLE_PARENTS=new Set(["AssignmentExpression","VariableDeclarator","MemberExpression","ExpressionStatement","CallExpression","ConditionalExpression","Program","VariableDeclaration","ChainExpression"]);function findReference(scope,node){const references=scope.references.filter((reference=>reference.identifier.range[0]===node.range[0]&&reference.identifier.range[1]===node.range[1]));if(references.length===1){return references[0]}return null}function isShadowed(scope,node){const reference=findReference(scope,node);return reference&&reference.resolved&&reference.resolved.defs.length>0}globalRequire={meta:{deprecated:true,replacedBy:[],type:"suggestion",docs:{description:"Require `require()` calls to be placed at top-level module scope",recommended:false,url:"https://eslint.org/docs/rules/global-require"},schema:[],messages:{unexpected:"Unexpected require()."}},create(context){return{CallExpression(node){const currentScope=context.getScope();if(node.callee.name==="require"&&!isShadowed(currentScope,node.callee)){const isGoodRequire=context.getAncestors().every((parent=>ACCEPTABLE_PARENTS.has(parent.type)));if(!isGoodRequire){context.report({node:node,messageId:"unexpected"})}}}}}};return globalRequire}var groupedAccessorPairs;var hasRequiredGroupedAccessorPairs;function requireGroupedAccessorPairs(){if(hasRequiredGroupedAccessorPairs)return groupedAccessorPairs;hasRequiredGroupedAccessorPairs=1;const astUtils=requireAstUtils();function areEqualTokenLists(left,right){if(left.length!==right.length){return false}for(let i=0;i<left.length;i++){const leftToken=left[i],rightToken=right[i];if(leftToken.type!==rightToken.type||leftToken.value!==rightToken.value){return false}}return true}function areEqualKeys(left,right){if(typeof left==="string"&&typeof right==="string"){return left===right}if(Array.isArray(left)&&Array.isArray(right)){return areEqualTokenLists(left,right)}return false}function isAccessorKind(node){return node.kind==="get"||node.kind==="set"}groupedAccessorPairs={meta:{type:"suggestion",docs:{description:"Require grouped accessor pairs in object literals and classes",recommended:false,url:"https://eslint.org/docs/rules/grouped-accessor-pairs"},schema:[{enum:["anyOrder","getBeforeSet","setBeforeGet"]}],messages:{notGrouped:"Accessor pair {{ formerName }} and {{ latterName }} should be grouped.",invalidOrder:"Expected {{ latterName }} to be before {{ formerName }}."}},create(context){const order=context.options[0]||"anyOrder";const sourceCode=context.getSourceCode();function report(messageId,formerNode,latterNode){context.report({node:latterNode,messageId:messageId,loc:astUtils.getFunctionHeadLoc(latterNode.value,sourceCode),data:{formerName:astUtils.getFunctionNameWithKind(formerNode.value),latterName:astUtils.getFunctionNameWithKind(latterNode.value)}})}function createAccessorData(node){const name=astUtils.getStaticPropertyName(node);const key=name!==null?name:sourceCode.getTokens(node.key);return{key:key,getters:node.kind==="get"?[node]:[],setters:node.kind==="set"?[node]:[]}}function mergeAccessorData(accessors,accessorData){const equalKeyElement=accessors.find((a=>areEqualKeys(a.key,accessorData.key)));if(equalKeyElement){equalKeyElement.getters.push(...accessorData.getters);equalKeyElement.setters.push(...accessorData.setters)}else{accessors.push(accessorData)}return accessors}function checkList(nodes,shouldCheck){const accessors=nodes.filter(shouldCheck).filter(isAccessorKind).map(createAccessorData).reduce(mergeAccessorData,[]);for(const{getters:getters,setters:setters}of accessors){if(getters.length===1&&setters.length===1){const[getter]=getters,[setter]=setters,getterIndex=nodes.indexOf(getter),setterIndex=nodes.indexOf(setter),formerNode=getterIndex<setterIndex?getter:setter,latterNode=getterIndex<setterIndex?setter:getter;if(Math.abs(getterIndex-setterIndex)>1){report("notGrouped",formerNode,latterNode)}else if(order==="getBeforeSet"&&getterIndex>setterIndex||order==="setBeforeGet"&&getterIndex<setterIndex){report("invalidOrder",formerNode,latterNode)}}}}return{ObjectExpression(node){checkList(node.properties,(n=>n.type==="Property"))},ClassBody(node){checkList(node.body,(n=>n.type==="MethodDefinition"&&!n.static));checkList(node.body,(n=>n.type==="MethodDefinition"&&n.static))}}}};return groupedAccessorPairs}var guardForIn;var hasRequiredGuardForIn;function requireGuardForIn(){if(hasRequiredGuardForIn)return guardForIn;hasRequiredGuardForIn=1;guardForIn={meta:{type:"suggestion",docs:{description:"Require `for-in` loops to include an `if` statement",recommended:false,url:"https://eslint.org/docs/rules/guard-for-in"},schema:[],messages:{wrap:"The body of a for-in should be wrapped in an if statement to filter unwanted properties from the prototype."}},create(context){return{ForInStatement(node){const body=node.body;if(body.type==="EmptyStatement"){return}if(body.type==="IfStatement"){return}if(body.type==="BlockStatement"&&body.body.length===0){return}if(body.type==="BlockStatement"&&body.body.length===1&&body.body[0].type==="IfStatement"){return}if(body.type==="BlockStatement"&&body.body.length>=1&&body.body[0].type==="IfStatement"){const i=body.body[0];if(i.consequent.type==="ContinueStatement"){return}if(i.consequent.type==="BlockStatement"&&i.consequent.body.length===1&&i.consequent.body[0].type==="ContinueStatement"){return}}context.report({node:node,messageId:"wrap"})}}}};return guardForIn}var handleCallbackErr;var hasRequiredHandleCallbackErr;function requireHandleCallbackErr(){if(hasRequiredHandleCallbackErr)return handleCallbackErr;hasRequiredHandleCallbackErr=1;handleCallbackErr={meta:{deprecated:true,replacedBy:[],type:"suggestion",docs:{description:"Require error handling in callbacks",recommended:false,url:"https://eslint.org/docs/rules/handle-callback-err"},schema:[{type:"string"}],messages:{expected:"Expected error to be handled."}},create(context){const errorArgument=context.options[0]||"err";function isPattern(stringToCheck){const firstChar=stringToCheck[0];return firstChar==="^"}function matchesConfiguredErrorName(name){if(isPattern(errorArgument)){const regexp=new RegExp(errorArgument,"u");return regexp.test(name)}return name===errorArgument}function getParameters(scope){return scope.variables.filter((variable=>variable.defs[0]&&variable.defs[0].type==="Parameter"))}function checkForError(node){const scope=context.getScope(),parameters=getParameters(scope),firstParameter=parameters[0];if(firstParameter&&matchesConfiguredErrorName(firstParameter.name)){if(firstParameter.references.length===0){context.report({node:node,messageId:"expected"})}}}return{FunctionDeclaration:checkForError,FunctionExpression:checkForError,ArrowFunctionExpression:checkForError}}};return handleCallbackErr}var idBlacklist;var hasRequiredIdBlacklist;function requireIdBlacklist(){if(hasRequiredIdBlacklist)return idBlacklist;hasRequiredIdBlacklist=1;function isAssignmentTarget(node){const parent=node.parent;return parent.type==="AssignmentExpression"&&parent.left===node||parent.type==="ArrayPattern"||parent.type==="RestElement"||parent.type==="Property"&&parent.value===node&&parent.parent.type==="ObjectPattern"||parent.type==="AssignmentPattern"&&parent.left===node}function isRenamedImport(node){const parent=node.parent;return parent.type==="ImportSpecifier"&&parent.imported!==parent.local&&parent.imported===node||parent.type==="ExportSpecifier"&&parent.parent.source&&parent.local!==parent.exported&&parent.local===node}function isRenamedInDestructuring(node){const parent=node.parent;return!parent.computed&&parent.type==="Property"&&parent.parent.type==="ObjectPattern"&&parent.value!==node&&parent.key===node}function isShorthandPropertyDefinition(node){const parent=node.parent;return parent.type==="Property"&&parent.parent.type==="ObjectExpression"&&parent.shorthand}idBlacklist={meta:{deprecated:true,replacedBy:["id-denylist"],type:"suggestion",docs:{description:"Disallow specified identifiers",recommended:false,url:"https://eslint.org/docs/rules/id-blacklist"},schema:{type:"array",items:{type:"string"},uniqueItems:true},messages:{restricted:"Identifier '{{name}}' is restricted."}},create(context){const denyList=new Set(context.options);const reportedNodes=new Set;let globalScope;function isRestricted(name){return denyList.has(name)}function isReferenceToGlobalVariable(node){const variable=globalScope.set.get(node.name);return variable&&variable.defs.length===0&&variable.references.some((ref=>ref.identifier===node))}function shouldCheck(node){const parent=node.parent;if(parent.type==="MemberExpression"&&parent.property===node&&!parent.computed){return isAssignmentTarget(parent)}return parent.type!=="CallExpression"&&parent.type!=="NewExpression"&&!isRenamedImport(node)&&!isRenamedInDestructuring(node)&&!(isReferenceToGlobalVariable(node)&&!isShorthandPropertyDefinition(node))}function report(node){if(!reportedNodes.has(node.range.toString())){context.report({node:node,messageId:"restricted",data:{name:node.name}});reportedNodes.add(node.range.toString())}}return{Program(){globalScope=context.getScope()},Identifier(node){if(isRestricted(node.name)&&shouldCheck(node)){report(node)}}}}};return idBlacklist}var idDenylist;var hasRequiredIdDenylist;function requireIdDenylist(){if(hasRequiredIdDenylist)return idDenylist;hasRequiredIdDenylist=1;function isAssignmentTarget(node){const parent=node.parent;return parent.type==="AssignmentExpression"&&parent.left===node||parent.type==="ArrayPattern"||parent.type==="RestElement"||parent.type==="Property"&&parent.value===node&&parent.parent.type==="ObjectPattern"||parent.type==="AssignmentPattern"&&parent.left===node}function isRenamedImport(node){const parent=node.parent;return parent.type==="ImportSpecifier"&&parent.imported!==parent.local&&parent.imported===node||parent.type==="ExportSpecifier"&&parent.parent.source&&parent.local!==parent.exported&&parent.local===node}function isPropertyNameInDestructuring(node){const parent=node.parent;return!parent.computed&&parent.type==="Property"&&parent.parent.type==="ObjectPattern"&&parent.key===node}idDenylist={meta:{type:"suggestion",docs:{description:"Disallow specified identifiers",recommended:false,url:"https://eslint.org/docs/rules/id-denylist"},schema:{type:"array",items:{type:"string"},uniqueItems:true},messages:{restricted:"Identifier '{{name}}' is restricted.",restrictedPrivate:"Identifier '#{{name}}' is restricted."}},create(context){const denyList=new Set(context.options);const reportedNodes=new Set;let globalScope;function isRestricted(name){return denyList.has(name)}function isReferenceToGlobalVariable(node){const variable=globalScope.set.get(node.name);return variable&&variable.defs.length===0&&variable.references.some((ref=>ref.identifier===node))}function shouldCheck(node){const parent=node.parent;if(parent.type==="MemberExpression"&&parent.property===node&&!parent.computed){return isAssignmentTarget(parent)}return parent.type!=="CallExpression"&&parent.type!=="NewExpression"&&!isRenamedImport(node)&&!isPropertyNameInDestructuring(node)&&!isReferenceToGlobalVariable(node)}function report(node){if(!reportedNodes.has(node.range.toString())){const isPrivate=node.type==="PrivateIdentifier";context.report({node:node,messageId:isPrivate?"restrictedPrivate":"restricted",data:{name:node.name}});reportedNodes.add(node.range.toString())}}return{Program(){globalScope=context.getScope()},[["Identifier","PrivateIdentifier"]](node){if(isRestricted(node.name)&&shouldCheck(node)){report(node)}}}}};return idDenylist}var graphemeSplitter={exports:{}};var hasRequiredGraphemeSplitter;function requireGraphemeSplitter(){if(hasRequiredGraphemeSplitter)return graphemeSplitter.exports;hasRequiredGraphemeSplitter=1;(function(module){function GraphemeSplitter(){var CR=0,LF=1,Control=2,Extend=3,Regional_Indicator=4,SpacingMark=5,L=6,V=7,T=8,LV=9,LVT=10,Other=11,Prepend=12,E_Base=13,E_Modifier=14,ZWJ=15,Glue_After_Zwj=16,E_Base_GAZ=17;var NotBreak=0,BreakStart=1,Break=2,BreakLastRegional=3,BreakPenultimateRegional=4;function isSurrogate(str,pos){return 55296<=str.charCodeAt(pos)&&str.charCodeAt(pos)<=56319&&56320<=str.charCodeAt(pos+1)&&str.charCodeAt(pos+1)<=57343}function codePointAt(str,idx){if(idx===undefined){idx=0}var code=str.charCodeAt(idx);if(55296<=code&&code<=56319&&idx<str.length-1){var hi=code;var low=str.charCodeAt(idx+1);if(56320<=low&&low<=57343){return(hi-55296)*1024+(low-56320)+65536}return hi}if(56320<=code&&code<=57343&&idx>=1){var hi=str.charCodeAt(idx-1);var low=code;if(55296<=hi&&hi<=56319){return(hi-55296)*1024+(low-56320)+65536}return low}return code}function shouldBreak(start,mid,end){var all=[start].concat(mid).concat([end]);var previous=all[all.length-2];var next=end;var eModifierIndex=all.lastIndexOf(E_Modifier);if(eModifierIndex>1&&all.slice(1,eModifierIndex).every((function(c){return c==Extend}))&&[Extend,E_Base,E_Base_GAZ].indexOf(start)==-1){return Break}var rIIndex=all.lastIndexOf(Regional_Indicator);if(rIIndex>0&&all.slice(1,rIIndex).every((function(c){return c==Regional_Indicator}))&&[Prepend,Regional_Indicator].indexOf(previous)==-1){if(all.filter((function(c){return c==Regional_Indicator})).length%2==1){return BreakLastRegional}else{return BreakPenultimateRegional}}if(previous==CR&&next==LF){return NotBreak}else if(previous==Control||previous==CR||previous==LF){if(next==E_Modifier&&mid.every((function(c){return c==Extend}))){return Break}else{return BreakStart}}else if(next==Control||next==CR||next==LF){return BreakStart}else if(previous==L&&(next==L||next==V||next==LV||next==LVT)){return NotBreak}else if((previous==LV||previous==V)&&(next==V||next==T)){return NotBreak}else if((previous==LVT||previous==T)&&next==T){return NotBreak}else if(next==Extend||next==ZWJ){return NotBreak}else if(next==SpacingMark){return NotBreak}else if(previous==Prepend){return NotBreak}var previousNonExtendIndex=all.indexOf(Extend)!=-1?all.lastIndexOf(Extend)-1:all.length-2;if([E_Base,E_Base_GAZ].indexOf(all[previousNonExtendIndex])!=-1&&all.slice(previousNonExtendIndex+1,-1).every((function(c){return c==Extend}))&&next==E_Modifier){return NotBreak}if(previous==ZWJ&&[Glue_After_Zwj,E_Base_GAZ].indexOf(next)!=-1){return NotBreak}if(mid.indexOf(Regional_Indicator)!=-1){return Break}if(previous==Regional_Indicator&&next==Regional_Indicator){return NotBreak}return BreakStart}this.nextBreak=function(string,index){if(index===undefined){index=0}if(index<0){return 0}if(index>=string.length-1){return string.length}var prev=getGraphemeBreakProperty(codePointAt(string,index));var mid=[];for(var i=index+1;i<string.length;i++){if(isSurrogate(string,i-1)){continue}var next=getGraphemeBreakProperty(codePointAt(string,i));if(shouldBreak(prev,mid,next)){return i}mid.push(next)}return string.length};this.splitGraphemes=function(str){var res=[];var index=0;var brk;while((brk=this.nextBreak(str,index))<str.length){res.push(str.slice(index,brk));index=brk}if(index<str.length){res.push(str.slice(index))}return res};this.iterateGraphemes=function(str){var index=0;var res={next:function(){var value;var brk;if((brk=this.nextBreak(str,index))<str.length){value=str.slice(index,brk);index=brk;return{value:value,done:false}}if(index<str.length){value=str.slice(index);index=str.length;return{value:value,done:false}}return{value:undefined,done:true}}.bind(this)};if(typeof Symbol!=="undefined"&&Symbol.iterator){res[Symbol.iterator]=function(){return res}}return res};this.countGraphemes=function(str){var count=0;var index=0;var brk;while((brk=this.nextBreak(str,index))<str.length){index=brk;count++}if(index<str.length){count++}return count};function getGraphemeBreakProperty(code){if(1536<=code&&code<=1541||1757==code||1807==code||2274==code||3406==code||69821==code||70082<=code&&code<=70083||72250==code||72326<=code&&code<=72329||73030==code){return Prepend}if(13==code){return CR}if(10==code){return LF}if(0<=code&&code<=9||11<=code&&code<=12||14<=code&&code<=31||127<=code&&code<=159||173==code||1564==code||6158==code||8203==code||8206<=code&&code<=8207||8232==code||8233==code||8234<=code&&code<=8238||8288<=code&&code<=8292||8293==code||8294<=code&&code<=8303||55296<=code&&code<=57343||65279==code||65520<=code&&code<=65528||65529<=code&&code<=65531||113824<=code&&code<=113827||119155<=code&&code<=119162||917504==code||917505==code||917506<=code&&code<=917535||917632<=code&&code<=917759||918e3<=code&&code<=921599){return Control}if(768<=code&&code<=879||1155<=code&&code<=1159||1160<=code&&code<=1161||1425<=code&&code<=1469||1471==code||1473<=code&&code<=1474||1476<=code&&code<=1477||1479==code||1552<=code&&code<=1562||1611<=code&&code<=1631||1648==code||1750<=code&&code<=1756||1759<=code&&code<=1764||1767<=code&&code<=1768||1770<=code&&code<=1773||1809==code||1840<=code&&code<=1866||1958<=code&&code<=1968||2027<=code&&code<=2035||2070<=code&&code<=2073||2075<=code&&code<=2083||2085<=code&&code<=2087||2089<=code&&code<=2093||2137<=code&&code<=2139||2260<=code&&code<=2273||2275<=code&&code<=2306||2362==code||2364==code||2369<=code&&code<=2376||2381==code||2385<=code&&code<=2391||2402<=code&&code<=2403||2433==code||2492==code||2494==code||2497<=code&&code<=2500||2509==code||2519==code||2530<=code&&code<=2531||2561<=code&&code<=2562||2620==code||2625<=code&&code<=2626||2631<=code&&code<=2632||2635<=code&&code<=2637||2641==code||2672<=code&&code<=2673||2677==code||2689<=code&&code<=2690||2748==code||2753<=code&&code<=2757||2759<=code&&code<=2760||2765==code||2786<=code&&code<=2787||2810<=code&&code<=2815||2817==code||2876==code||2878==code||2879==code||2881<=code&&code<=2884||2893==code||2902==code||2903==code||2914<=code&&code<=2915||2946==code||3006==code||3008==code||3021==code||3031==code||3072==code||3134<=code&&code<=3136||3142<=code&&code<=3144||3146<=code&&code<=3149||3157<=code&&code<=3158||3170<=code&&code<=3171||3201==code||3260==code||3263==code||3266==code||3270==code||3276<=code&&code<=3277||3285<=code&&code<=3286||3298<=code&&code<=3299||3328<=code&&code<=3329||3387<=code&&code<=3388||3390==code||3393<=code&&code<=3396||3405==code||3415==code||3426<=code&&code<=3427||3530==code||3535==code||3538<=code&&code<=3540||3542==code||3551==code||3633==code||3636<=code&&code<=3642||3655<=code&&code<=3662||3761==code||3764<=code&&code<=3769||3771<=code&&code<=3772||3784<=code&&code<=3789||3864<=code&&code<=3865||3893==code||3895==code||3897==code||3953<=code&&code<=3966||3968<=code&&code<=3972||3974<=code&&code<=3975||3981<=code&&code<=3991||3993<=code&&code<=4028||4038==code||4141<=code&&code<=4144||4146<=code&&code<=4151||4153<=code&&code<=4154||4157<=code&&code<=4158||4184<=code&&code<=4185||4190<=code&&code<=4192||4209<=code&&code<=4212||4226==code||4229<=code&&code<=4230||4237==code||4253==code||4957<=code&&code<=4959||5906<=code&&code<=5908||5938<=code&&code<=5940||5970<=code&&code<=5971||6002<=code&&code<=6003||6068<=code&&code<=6069||6071<=code&&code<=6077||6086==code||6089<=code&&code<=6099||6109==code||6155<=code&&code<=6157||6277<=code&&code<=6278||6313==code||6432<=code&&code<=6434||6439<=code&&code<=6440||6450==code||6457<=code&&code<=6459||6679<=code&&code<=6680||6683==code||6742==code||6744<=code&&code<=6750||6752==code||6754==code||6757<=code&&code<=6764||6771<=code&&code<=6780||6783==code||6832<=code&&code<=6845||6846==code||6912<=code&&code<=6915||6964==code||6966<=code&&code<=6970||6972==code||6978==code||7019<=code&&code<=7027||7040<=code&&code<=7041||7074<=code&&code<=7077||7080<=code&&code<=7081||7083<=code&&code<=7085||7142==code||7144<=code&&code<=7145||7149==code||7151<=code&&code<=7153||7212<=code&&code<=7219||7222<=code&&code<=7223||7376<=code&&code<=7378||7380<=code&&code<=7392||7394<=code&&code<=7400||7405==code||7412==code||7416<=code&&code<=7417||7616<=code&&code<=7673||7675<=code&&code<=7679||8204==code||8400<=code&&code<=8412||8413<=code&&code<=8416||8417==code||8418<=code&&code<=8420||8421<=code&&code<=8432||11503<=code&&code<=11505||11647==code||11744<=code&&code<=11775||12330<=code&&code<=12333||12334<=code&&code<=12335||12441<=code&&code<=12442||42607==code||42608<=code&&code<=42610||42612<=code&&code<=42621||42654<=code&&code<=42655||42736<=code&&code<=42737||43010==code||43014==code||43019==code||43045<=code&&code<=43046||43204<=code&&code<=43205||43232<=code&&code<=43249||43302<=code&&code<=43309||43335<=code&&code<=43345||43392<=code&&code<=43394||43443==code||43446<=code&&code<=43449||43452==code||43493==code||43561<=code&&code<=43566||43569<=code&&code<=43570||43573<=code&&code<=43574||43587==code||43596==code||43644==code||43696==code||43698<=code&&code<=43700||43703<=code&&code<=43704||43710<=code&&code<=43711||43713==code||43756<=code&&code<=43757||43766==code||44005==code||44008==code||44013==code||64286==code||65024<=code&&code<=65039||65056<=code&&code<=65071||65438<=code&&code<=65439||66045==code||66272==code||66422<=code&&code<=66426||68097<=code&&code<=68099||68101<=code&&code<=68102||68108<=code&&code<=68111||68152<=code&&code<=68154||68159==code||68325<=code&&code<=68326||69633==code||69688<=code&&code<=69702||69759<=code&&code<=69761||69811<=code&&code<=69814||69817<=code&&code<=69818||69888<=code&&code<=69890||69927<=code&&code<=69931||69933<=code&&code<=69940||70003==code||70016<=code&&code<=70017||70070<=code&&code<=70078||70090<=code&&code<=70092||70191<=code&&code<=70193||70196==code||70198<=code&&code<=70199||70206==code||70367==code||70371<=code&&code<=70378||70400<=code&&code<=70401||70460==code||70462==code||70464==code||70487==code||70502<=code&&code<=70508||70512<=code&&code<=70516||70712<=code&&code<=70719||70722<=code&&code<=70724||70726==code||70832==code||70835<=code&&code<=70840||70842==code||70845==code||70847<=code&&code<=70848||70850<=code&&code<=70851||71087==code||71090<=code&&code<=71093||71100<=code&&code<=71101||71103<=code&&code<=71104||71132<=code&&code<=71133||71219<=code&&code<=71226||71229==code||71231<=code&&code<=71232||71339==code||71341==code||71344<=code&&code<=71349||71351==code||71453<=code&&code<=71455||71458<=code&&code<=71461||71463<=code&&code<=71467||72193<=code&&code<=72198||72201<=code&&code<=72202||72243<=code&&code<=72248||72251<=code&&code<=72254||72263==code||72273<=code&&code<=72278||72281<=code&&code<=72283||72330<=code&&code<=72342||72344<=code&&code<=72345||72752<=code&&code<=72758||72760<=code&&code<=72765||72767==code||72850<=code&&code<=72871||72874<=code&&code<=72880||72882<=code&&code<=72883||72885<=code&&code<=72886||73009<=code&&code<=73014||73018==code||73020<=code&&code<=73021||73023<=code&&code<=73029||73031==code||92912<=code&&code<=92916||92976<=code&&code<=92982||94095<=code&&code<=94098||113821<=code&&code<=113822||119141==code||119143<=code&&code<=119145||119150<=code&&code<=119154||119163<=code&&code<=119170||119173<=code&&code<=119179||119210<=code&&code<=119213||119362<=code&&code<=119364||121344<=code&&code<=121398||121403<=code&&code<=121452||121461==code||121476==code||121499<=code&&code<=121503||121505<=code&&code<=121519||122880<=code&&code<=122886||122888<=code&&code<=122904||122907<=code&&code<=122913||122915<=code&&code<=122916||122918<=code&&code<=122922||125136<=code&&code<=125142||125252<=code&&code<=125258||917536<=code&&code<=917631||917760<=code&&code<=917999){return Extend}if(127462<=code&&code<=127487){return Regional_Indicator}if(2307==code||2363==code||2366<=code&&code<=2368||2377<=code&&code<=2380||2382<=code&&code<=2383||2434<=code&&code<=2435||2495<=code&&code<=2496||2503<=code&&code<=2504||2507<=code&&code<=2508||2563==code||2622<=code&&code<=2624||2691==code||2750<=code&&code<=2752||2761==code||2763<=code&&code<=2764||2818<=code&&code<=2819||2880==code||2887<=code&&code<=2888||2891<=code&&code<=2892||3007==code||3009<=code&&code<=3010||3014<=code&&code<=3016||3018<=code&&code<=3020||3073<=code&&code<=3075||3137<=code&&code<=3140||3202<=code&&code<=3203||3262==code||3264<=code&&code<=3265||3267<=code&&code<=3268||3271<=code&&code<=3272||3274<=code&&code<=3275||3330<=code&&code<=3331||3391<=code&&code<=3392||3398<=code&&code<=3400||3402<=code&&code<=3404||3458<=code&&code<=3459||3536<=code&&code<=3537||3544<=code&&code<=3550||3570<=code&&code<=3571||3635==code||3763==code||3902<=code&&code<=3903||3967==code||4145==code||4155<=code&&code<=4156||4182<=code&&code<=4183||4228==code||6070==code||6078<=code&&code<=6085||6087<=code&&code<=6088||6435<=code&&code<=6438||6441<=code&&code<=6443||6448<=code&&code<=6449||6451<=code&&code<=6456||6681<=code&&code<=6682||6741==code||6743==code||6765<=code&&code<=6770||6916==code||6965==code||6971==code||6973<=code&&code<=6977||6979<=code&&code<=6980||7042==code||7073==code||7078<=code&&code<=7079||7082==code||7143==code||7146<=code&&code<=7148||7150==code||7154<=code&&code<=7155||7204<=code&&code<=7211||7220<=code&&code<=7221||7393==code||7410<=code&&code<=7411||7415==code||43043<=code&&code<=43044||43047==code||43136<=code&&code<=43137||43188<=code&&code<=43203||43346<=code&&code<=43347||43395==code||43444<=code&&code<=43445||43450<=code&&code<=43451||43453<=code&&code<=43456||43567<=code&&code<=43568||43571<=code&&code<=43572||43597==code||43755==code||43758<=code&&code<=43759||43765==code||44003<=code&&code<=44004||44006<=code&&code<=44007||44009<=code&&code<=44010||44012==code||69632==code||69634==code||69762==code||69808<=code&&code<=69810||69815<=code&&code<=69816||69932==code||70018==code||70067<=code&&code<=70069||70079<=code&&code<=70080||70188<=code&&code<=70190||70194<=code&&code<=70195||70197==code||70368<=code&&code<=70370||70402<=code&&code<=70403||70463==code||70465<=code&&code<=70468||70471<=code&&code<=70472||70475<=code&&code<=70477||70498<=code&&code<=70499||70709<=code&&code<=70711||70720<=code&&code<=70721||70725==code||70833<=code&&code<=70834||70841==code||70843<=code&&code<=70844||70846==code||70849==code||71088<=code&&code<=71089||71096<=code&&code<=71099||71102==code||71216<=code&&code<=71218||71227<=code&&code<=71228||71230==code||71340==code||71342<=code&&code<=71343||71350==code||71456<=code&&code<=71457||71462==code||72199<=code&&code<=72200||72249==code||72279<=code&&code<=72280||72343==code||72751==code||72766==code||72873==code||72881==code||72884==code||94033<=code&&code<=94078||119142==code||119149==code){return SpacingMark}if(4352<=code&&code<=4447||43360<=code&&code<=43388){return L}if(4448<=code&&code<=4519||55216<=code&&code<=55238){return V}if(4520<=code&&code<=4607||55243<=code&&code<=55291){return T}if(44032==code||44060==code||44088==code||44116==code||44144==code||44172==code||44200==code||44228==code||44256==code||44284==code||44312==code||44340==code||44368==code||44396==code||44424==code||44452==code||44480==code||44508==code||44536==code||44564==code||44592==code||44620==code||44648==code||44676==code||44704==code||44732==code||44760==code||44788==code||44816==code||44844==code||44872==code||44900==code||44928==code||44956==code||44984==code||45012==code||45040==code||45068==code||45096==code||45124==code||45152==code||45180==code||45208==code||45236==code||45264==code||45292==code||45320==code||45348==code||45376==code||45404==code||45432==code||45460==code||45488==code||45516==code||45544==code||45572==code||45600==code||45628==code||45656==code||45684==code||45712==code||45740==code||45768==code||45796==code||45824==code||45852==code||45880==code||45908==code||45936==code||45964==code||45992==code||46020==code||46048==code||46076==code||46104==code||46132==code||46160==code||46188==code||46216==code||46244==code||46272==code||46300==code||46328==code||46356==code||46384==code||46412==code||46440==code||46468==code||46496==code||46524==code||46552==code||46580==code||46608==code||46636==code||46664==code||46692==code||46720==code||46748==code||46776==code||46804==code||46832==code||46860==code||46888==code||46916==code||46944==code||46972==code||47e3==code||47028==code||47056==code||47084==code||47112==code||47140==code||47168==code||47196==code||47224==code||47252==code||47280==code||47308==code||47336==code||47364==code||47392==code||47420==code||47448==code||47476==code||47504==code||47532==code||47560==code||47588==code||47616==code||47644==code||47672==code||47700==code||47728==code||47756==code||47784==code||47812==code||47840==code||47868==code||47896==code||47924==code||47952==code||47980==code||48008==code||48036==code||48064==code||48092==code||48120==code||48148==code||48176==code||48204==code||48232==code||48260==code||48288==code||48316==code||48344==code||48372==code||48400==code||48428==code||48456==code||48484==code||48512==code||48540==code||48568==code||48596==code||48624==code||48652==code||48680==code||48708==code||48736==code||48764==code||48792==code||48820==code||48848==code||48876==code||48904==code||48932==code||48960==code||48988==code||49016==code||49044==code||49072==code||49100==code||49128==code||49156==code||49184==code||49212==code||49240==code||49268==code||49296==code||49324==code||49352==code||49380==code||49408==code||49436==code||49464==code||49492==code||49520==code||49548==code||49576==code||49604==code||49632==code||49660==code||49688==code||49716==code||49744==code||49772==code||49800==code||49828==code||49856==code||49884==code||49912==code||49940==code||49968==code||49996==code||50024==code||50052==code||50080==code||50108==code||50136==code||50164==code||50192==code||50220==code||50248==code||50276==code||50304==code||50332==code||50360==code||50388==code||50416==code||50444==code||50472==code||50500==code||50528==code||50556==code||50584==code||50612==code||50640==code||50668==code||50696==code||50724==code||50752==code||50780==code||50808==code||50836==code||50864==code||50892==code||50920==code||50948==code||50976==code||51004==code||51032==code||51060==code||51088==code||51116==code||51144==code||51172==code||51200==code||51228==code||51256==code||51284==code||51312==code||51340==code||51368==code||51396==code||51424==code||51452==code||51480==code||51508==code||51536==code||51564==code||51592==code||51620==code||51648==code||51676==code||51704==code||51732==code||51760==code||51788==code||51816==code||51844==code||51872==code||51900==code||51928==code||51956==code||51984==code||52012==code||52040==code||52068==code||52096==code||52124==code||52152==code||52180==code||52208==code||52236==code||52264==code||52292==code||52320==code||52348==code||52376==code||52404==code||52432==code||52460==code||52488==code||52516==code||52544==code||52572==code||52600==code||52628==code||52656==code||52684==code||52712==code||52740==code||52768==code||52796==code||52824==code||52852==code||52880==code||52908==code||52936==code||52964==code||52992==code||53020==code||53048==code||53076==code||53104==code||53132==code||53160==code||53188==code||53216==code||53244==code||53272==code||53300==code||53328==code||53356==code||53384==code||53412==code||53440==code||53468==code||53496==code||53524==code||53552==code||53580==code||53608==code||53636==code||53664==code||53692==code||53720==code||53748==code||53776==code||53804==code||53832==code||53860==code||53888==code||53916==code||53944==code||53972==code||54e3==code||54028==code||54056==code||54084==code||54112==code||54140==code||54168==code||54196==code||54224==code||54252==code||54280==code||54308==code||54336==code||54364==code||54392==code||54420==code||54448==code||54476==code||54504==code||54532==code||54560==code||54588==code||54616==code||54644==code||54672==code||54700==code||54728==code||54756==code||54784==code||54812==code||54840==code||54868==code||54896==code||54924==code||54952==code||54980==code||55008==code||55036==code||55064==code||55092==code||55120==code||55148==code||55176==code){return LV}if(44033<=code&&code<=44059||44061<=code&&code<=44087||44089<=code&&code<=44115||44117<=code&&code<=44143||44145<=code&&code<=44171||44173<=code&&code<=44199||44201<=code&&code<=44227||44229<=code&&code<=44255||44257<=code&&code<=44283||44285<=code&&code<=44311||44313<=code&&code<=44339||44341<=code&&code<=44367||44369<=code&&code<=44395||44397<=code&&code<=44423||44425<=code&&code<=44451||44453<=code&&code<=44479||44481<=code&&code<=44507||44509<=code&&code<=44535||44537<=code&&code<=44563||44565<=code&&code<=44591||44593<=code&&code<=44619||44621<=code&&code<=44647||44649<=code&&code<=44675||44677<=code&&code<=44703||44705<=code&&code<=44731||44733<=code&&code<=44759||44761<=code&&code<=44787||44789<=code&&code<=44815||44817<=code&&code<=44843||44845<=code&&code<=44871||44873<=code&&code<=44899||44901<=code&&code<=44927||44929<=code&&code<=44955||44957<=code&&code<=44983||44985<=code&&code<=45011||45013<=code&&code<=45039||45041<=code&&code<=45067||45069<=code&&code<=45095||45097<=code&&code<=45123||45125<=code&&code<=45151||45153<=code&&code<=45179||45181<=code&&code<=45207||45209<=code&&code<=45235||45237<=code&&code<=45263||45265<=code&&code<=45291||45293<=code&&code<=45319||45321<=code&&code<=45347||45349<=code&&code<=45375||45377<=code&&code<=45403||45405<=code&&code<=45431||45433<=code&&code<=45459||45461<=code&&code<=45487||45489<=code&&code<=45515||45517<=code&&code<=45543||45545<=code&&code<=45571||45573<=code&&code<=45599||45601<=code&&code<=45627||45629<=code&&code<=45655||45657<=code&&code<=45683||45685<=code&&code<=45711||45713<=code&&code<=45739||45741<=code&&code<=45767||45769<=code&&code<=45795||45797<=code&&code<=45823||45825<=code&&code<=45851||45853<=code&&code<=45879||45881<=code&&code<=45907||45909<=code&&code<=45935||45937<=code&&code<=45963||45965<=code&&code<=45991||45993<=code&&code<=46019||46021<=code&&code<=46047||46049<=code&&code<=46075||46077<=code&&code<=46103||46105<=code&&code<=46131||46133<=code&&code<=46159||46161<=code&&code<=46187||46189<=code&&code<=46215||46217<=code&&code<=46243||46245<=code&&code<=46271||46273<=code&&code<=46299||46301<=code&&code<=46327||46329<=code&&code<=46355||46357<=code&&code<=46383||46385<=code&&code<=46411||46413<=code&&code<=46439||46441<=code&&code<=46467||46469<=code&&code<=46495||46497<=code&&code<=46523||46525<=code&&code<=46551||46553<=code&&code<=46579||46581<=code&&code<=46607||46609<=code&&code<=46635||46637<=code&&code<=46663||46665<=code&&code<=46691||46693<=code&&code<=46719||46721<=code&&code<=46747||46749<=code&&code<=46775||46777<=code&&code<=46803||46805<=code&&code<=46831||46833<=code&&code<=46859||46861<=code&&code<=46887||46889<=code&&code<=46915||46917<=code&&code<=46943||46945<=code&&code<=46971||46973<=code&&code<=46999||47001<=code&&code<=47027||47029<=code&&code<=47055||47057<=code&&code<=47083||47085<=code&&code<=47111||47113<=code&&code<=47139||47141<=code&&code<=47167||47169<=code&&code<=47195||47197<=code&&code<=47223||47225<=code&&code<=47251||47253<=code&&code<=47279||47281<=code&&code<=47307||47309<=code&&code<=47335||47337<=code&&code<=47363||47365<=code&&code<=47391||47393<=code&&code<=47419||47421<=code&&code<=47447||47449<=code&&code<=47475||47477<=code&&code<=47503||47505<=code&&code<=47531||47533<=code&&code<=47559||47561<=code&&code<=47587||47589<=code&&code<=47615||47617<=code&&code<=47643||47645<=code&&code<=47671||47673<=code&&code<=47699||47701<=code&&code<=47727||47729<=code&&code<=47755||47757<=code&&code<=47783||47785<=code&&code<=47811||47813<=code&&code<=47839||47841<=code&&code<=47867||47869<=code&&code<=47895||47897<=code&&code<=47923||47925<=code&&code<=47951||47953<=code&&code<=47979||47981<=code&&code<=48007||48009<=code&&code<=48035||48037<=code&&code<=48063||48065<=code&&code<=48091||48093<=code&&code<=48119||48121<=code&&code<=48147||48149<=code&&code<=48175||48177<=code&&code<=48203||48205<=code&&code<=48231||48233<=code&&code<=48259||48261<=code&&code<=48287||48289<=code&&code<=48315||48317<=code&&code<=48343||48345<=code&&code<=48371||48373<=code&&code<=48399||48401<=code&&code<=48427||48429<=code&&code<=48455||48457<=code&&code<=48483||48485<=code&&code<=48511||48513<=code&&code<=48539||48541<=code&&code<=48567||48569<=code&&code<=48595||48597<=code&&code<=48623||48625<=code&&code<=48651||48653<=code&&code<=48679||48681<=code&&code<=48707||48709<=code&&code<=48735||48737<=code&&code<=48763||48765<=code&&code<=48791||48793<=code&&code<=48819||48821<=code&&code<=48847||48849<=code&&code<=48875||48877<=code&&code<=48903||48905<=code&&code<=48931||48933<=code&&code<=48959||48961<=code&&code<=48987||48989<=code&&code<=49015||49017<=code&&code<=49043||49045<=code&&code<=49071||49073<=code&&code<=49099||49101<=code&&code<=49127||49129<=code&&code<=49155||49157<=code&&code<=49183||49185<=code&&code<=49211||49213<=code&&code<=49239||49241<=code&&code<=49267||49269<=code&&code<=49295||49297<=code&&code<=49323||49325<=code&&code<=49351||49353<=code&&code<=49379||49381<=code&&code<=49407||49409<=code&&code<=49435||49437<=code&&code<=49463||49465<=code&&code<=49491||49493<=code&&code<=49519||49521<=code&&code<=49547||49549<=code&&code<=49575||49577<=code&&code<=49603||49605<=code&&code<=49631||49633<=code&&code<=49659||49661<=code&&code<=49687||49689<=code&&code<=49715||49717<=code&&code<=49743||49745<=code&&code<=49771||49773<=code&&code<=49799||49801<=code&&code<=49827||49829<=code&&code<=49855||49857<=code&&code<=49883||49885<=code&&code<=49911||49913<=code&&code<=49939||49941<=code&&code<=49967||49969<=code&&code<=49995||49997<=code&&code<=50023||50025<=code&&code<=50051||50053<=code&&code<=50079||50081<=code&&code<=50107||50109<=code&&code<=50135||50137<=code&&code<=50163||50165<=code&&code<=50191||50193<=code&&code<=50219||50221<=code&&code<=50247||50249<=code&&code<=50275||50277<=code&&code<=50303||50305<=code&&code<=50331||50333<=code&&code<=50359||50361<=code&&code<=50387||50389<=code&&code<=50415||50417<=code&&code<=50443||50445<=code&&code<=50471||50473<=code&&code<=50499||50501<=code&&code<=50527||50529<=code&&code<=50555||50557<=code&&code<=50583||50585<=code&&code<=50611||50613<=code&&code<=50639||50641<=code&&code<=50667||50669<=code&&code<=50695||50697<=code&&code<=50723||50725<=code&&code<=50751||50753<=code&&code<=50779||50781<=code&&code<=50807||50809<=code&&code<=50835||50837<=code&&code<=50863||50865<=code&&code<=50891||50893<=code&&code<=50919||50921<=code&&code<=50947||50949<=code&&code<=50975||50977<=code&&code<=51003||51005<=code&&code<=51031||51033<=code&&code<=51059||51061<=code&&code<=51087||51089<=code&&code<=51115||51117<=code&&code<=51143||51145<=code&&code<=51171||51173<=code&&code<=51199||51201<=code&&code<=51227||51229<=code&&code<=51255||51257<=code&&code<=51283||51285<=code&&code<=51311||51313<=code&&code<=51339||51341<=code&&code<=51367||51369<=code&&code<=51395||51397<=code&&code<=51423||51425<=code&&code<=51451||51453<=code&&code<=51479||51481<=code&&code<=51507||51509<=code&&code<=51535||51537<=code&&code<=51563||51565<=code&&code<=51591||51593<=code&&code<=51619||51621<=code&&code<=51647||51649<=code&&code<=51675||51677<=code&&code<=51703||51705<=code&&code<=51731||51733<=code&&code<=51759||51761<=code&&code<=51787||51789<=code&&code<=51815||51817<=code&&code<=51843||51845<=code&&code<=51871||51873<=code&&code<=51899||51901<=code&&code<=51927||51929<=code&&code<=51955||51957<=code&&code<=51983||51985<=code&&code<=52011||52013<=code&&code<=52039||52041<=code&&code<=52067||52069<=code&&code<=52095||52097<=code&&code<=52123||52125<=code&&code<=52151||52153<=code&&code<=52179||52181<=code&&code<=52207||52209<=code&&code<=52235||52237<=code&&code<=52263||52265<=code&&code<=52291||52293<=code&&code<=52319||52321<=code&&code<=52347||52349<=code&&code<=52375||52377<=code&&code<=52403||52405<=code&&code<=52431||52433<=code&&code<=52459||52461<=code&&code<=52487||52489<=code&&code<=52515||52517<=code&&code<=52543||52545<=code&&code<=52571||52573<=code&&code<=52599||52601<=code&&code<=52627||52629<=code&&code<=52655||52657<=code&&code<=52683||52685<=code&&code<=52711||52713<=code&&code<=52739||52741<=code&&code<=52767||52769<=code&&code<=52795||52797<=code&&code<=52823||52825<=code&&code<=52851||52853<=code&&code<=52879||52881<=code&&code<=52907||52909<=code&&code<=52935||52937<=code&&code<=52963||52965<=code&&code<=52991||52993<=code&&code<=53019||53021<=code&&code<=53047||53049<=code&&code<=53075||53077<=code&&code<=53103||53105<=code&&code<=53131||53133<=code&&code<=53159||53161<=code&&code<=53187||53189<=code&&code<=53215||53217<=code&&code<=53243||53245<=code&&code<=53271||53273<=code&&code<=53299||53301<=code&&code<=53327||53329<=code&&code<=53355||53357<=code&&code<=53383||53385<=code&&code<=53411||53413<=code&&code<=53439||53441<=code&&code<=53467||53469<=code&&code<=53495||53497<=code&&code<=53523||53525<=code&&code<=53551||53553<=code&&code<=53579||53581<=code&&code<=53607||53609<=code&&code<=53635||53637<=code&&code<=53663||53665<=code&&code<=53691||53693<=code&&code<=53719||53721<=code&&code<=53747||53749<=code&&code<=53775||53777<=code&&code<=53803||53805<=code&&code<=53831||53833<=code&&code<=53859||53861<=code&&code<=53887||53889<=code&&code<=53915||53917<=code&&code<=53943||53945<=code&&code<=53971||53973<=code&&code<=53999||54001<=code&&code<=54027||54029<=code&&code<=54055||54057<=code&&code<=54083||54085<=code&&code<=54111||54113<=code&&code<=54139||54141<=code&&code<=54167||54169<=code&&code<=54195||54197<=code&&code<=54223||54225<=code&&code<=54251||54253<=code&&code<=54279||54281<=code&&code<=54307||54309<=code&&code<=54335||54337<=code&&code<=54363||54365<=code&&code<=54391||54393<=code&&code<=54419||54421<=code&&code<=54447||54449<=code&&code<=54475||54477<=code&&code<=54503||54505<=code&&code<=54531||54533<=code&&code<=54559||54561<=code&&code<=54587||54589<=code&&code<=54615||54617<=code&&code<=54643||54645<=code&&code<=54671||54673<=code&&code<=54699||54701<=code&&code<=54727||54729<=code&&code<=54755||54757<=code&&code<=54783||54785<=code&&code<=54811||54813<=code&&code<=54839||54841<=code&&code<=54867||54869<=code&&code<=54895||54897<=code&&code<=54923||54925<=code&&code<=54951||54953<=code&&code<=54979||54981<=code&&code<=55007||55009<=code&&code<=55035||55037<=code&&code<=55063||55065<=code&&code<=55091||55093<=code&&code<=55119||55121<=code&&code<=55147||55149<=code&&code<=55175||55177<=code&&code<=55203){return LVT}if(9757==code||9977==code||9994<=code&&code<=9997||127877==code||127938<=code&&code<=127940||127943==code||127946<=code&&code<=127948||128066<=code&&code<=128067||128070<=code&&code<=128080||128110==code||128112<=code&&code<=128120||128124==code||128129<=code&&code<=128131||128133<=code&&code<=128135||128170==code||128372<=code&&code<=128373||128378==code||128400==code||128405<=code&&code<=128406||128581<=code&&code<=128583||128587<=code&&code<=128591||128675==code||128692<=code&&code<=128694||128704==code||128716==code||129304<=code&&code<=129308||129310<=code&&code<=129311||129318==code||129328<=code&&code<=129337||129341<=code&&code<=129342||129489<=code&&code<=129501){return E_Base}if(127995<=code&&code<=127999){return E_Modifier}if(8205==code){return ZWJ}if(9792==code||9794==code||9877<=code&&code<=9878||9992==code||10084==code||127752==code||127806==code||127859==code||127891==code||127908==code||127912==code||127979==code||127981==code||128139==code||128187<=code&&code<=128188||128295==code||128300==code||128488==code||128640==code||128658==code){return Glue_After_Zwj}if(128102<=code&&code<=128105){return E_Base_GAZ}return Other}return this}if(module.exports){module.exports=GraphemeSplitter}})(graphemeSplitter);return graphemeSplitter.exports}var idLength;var hasRequiredIdLength;function requireIdLength(){if(hasRequiredIdLength)return idLength;hasRequiredIdLength=1;const GraphemeSplitter=requireGraphemeSplitter();function isASCII(value){if(typeof value!=="string"){return false}return/^[\u0020-\u007f]*$/u.test(value)}let splitter;function getStringLength(value){if(isASCII(value)){return value.length}if(!splitter){splitter=new GraphemeSplitter}return splitter.countGraphemes(value)}idLength={meta:{type:"suggestion",docs:{description:"Enforce minimum and maximum identifier lengths",recommended:false,url:"https://eslint.org/docs/rules/id-length"},schema:[{type:"object",properties:{min:{type:"integer",default:2},max:{type:"integer"},exceptions:{type:"array",uniqueItems:true,items:{type:"string"}},exceptionPatterns:{type:"array",uniqueItems:true,items:{type:"string"}},properties:{enum:["always","never"]}},additionalProperties:false}],messages:{tooShort:"Identifier name '{{name}}' is too short (< {{min}}).",tooShortPrivate:"Identifier name '#{{name}}' is too short (< {{min}}).",tooLong:"Identifier name '{{name}}' is too long (> {{max}}).",tooLongPrivate:"Identifier name #'{{name}}' is too long (> {{max}})."}},create(context){const options=context.options[0]||{};const minLength=typeof options.min!=="undefined"?options.min:2;const maxLength=typeof options.max!=="undefined"?options.max:Infinity;const properties=options.properties!=="never";const exceptions=new Set(options.exceptions);const exceptionPatterns=(options.exceptionPatterns||[]).map((pattern=>new RegExp(pattern,"u")));const reportedNodes=new Set;function matchesExceptionPattern(name){return exceptionPatterns.some((pattern=>pattern.test(name)))}const SUPPORTED_EXPRESSIONS={MemberExpression:properties&&function(parent){return!parent.computed&&(parent.parent.left===parent&&parent.parent.type==="AssignmentExpression"||parent.parent.type==="Property"&&parent.parent.value===parent&&parent.parent.parent.type==="ObjectPattern"&&parent.parent.parent.parent.left===parent.parent.parent)},AssignmentPattern(parent,node){return parent.left===node},VariableDeclarator(parent,node){return parent.id===node},Property(parent,node){if(parent.parent.type==="ObjectPattern"){const isKeyAndValueSame=parent.value.name===parent.key.name;return!isKeyAndValueSame&&parent.value===node||isKeyAndValueSame&&parent.key===node&&properties}return properties&&!parent.computed&&parent.key.name===node.name},ImportDefaultSpecifier:true,RestElement:true,FunctionExpression:true,ArrowFunctionExpression:true,ClassDeclaration:true,FunctionDeclaration:true,MethodDefinition:true,PropertyDefinition:true,CatchClause:true,ArrayPattern:true};return{[["Identifier","PrivateIdentifier"]](node){const name=node.name;const parent=node.parent;const nameLength=getStringLength(name);const isShort=nameLength<minLength;const isLong=nameLength>maxLength;if(!(isShort||isLong)||exceptions.has(name)||matchesExceptionPattern(name)){return}const isValidExpression=SUPPORTED_EXPRESSIONS[parent.type];if(isValidExpression&&!reportedNodes.has(node.range.toString())&&(isValidExpression===true||isValidExpression(parent,node))){reportedNodes.add(node.range.toString());let messageId=isShort?"tooShort":"tooLong";if(node.type==="PrivateIdentifier"){messageId+="Private"}context.report({node:node,messageId:messageId,data:{name:name,min:minLength,max:maxLength}})}}}}};return idLength}var idMatch;var hasRequiredIdMatch;function requireIdMatch(){if(hasRequiredIdMatch)return idMatch;hasRequiredIdMatch=1;idMatch={meta:{type:"suggestion",docs:{description:"Require identifiers to match a specified regular expression",recommended:false,url:"https://eslint.org/docs/rules/id-match"},schema:[{type:"string"},{type:"object",properties:{properties:{type:"boolean",default:false},classFields:{type:"boolean",default:false},onlyDeclarations:{type:"boolean",default:false},ignoreDestructuring:{type:"boolean",default:false}},additionalProperties:false}],messages:{notMatch:"Identifier '{{name}}' does not match the pattern '{{pattern}}'.",notMatchPrivate:"Identifier '#{{name}}' does not match the pattern '{{pattern}}'."}},create(context){const pattern=context.options[0]||"^.+$",regexp=new RegExp(pattern,"u");const options=context.options[1]||{},checkProperties=!!options.properties,checkClassFields=!!options.classFields,onlyDeclarations=!!options.onlyDeclarations,ignoreDestructuring=!!options.ignoreDestructuring;let globalScope;const reportedNodes=new Set;const ALLOWED_PARENT_TYPES=new Set(["CallExpression","NewExpression"]);const DECLARATION_TYPES=new Set(["FunctionDeclaration","VariableDeclarator"]);const IMPORT_TYPES=new Set(["ImportSpecifier","ImportNamespaceSpecifier","ImportDefaultSpecifier"]);function isReferenceToGlobalVariable(node){const variable=globalScope.set.get(node.name);return variable&&variable.defs.length===0&&variable.references.some((ref=>ref.identifier===node))}function isInvalid(name){return!regexp.test(name)}function isInsideObjectPattern(node){let{parent:parent}=node;while(parent){if(parent.type==="ObjectPattern"){return true}parent=parent.parent}return false}function shouldReport(effectiveParent,name){return(!onlyDeclarations||DECLARATION_TYPES.has(effectiveParent.type))&&!ALLOWED_PARENT_TYPES.has(effectiveParent.type)&&isInvalid(name)}function report(node){if(!reportedNodes.has(node.range.toString())){const messageId=node.type==="PrivateIdentifier"?"notMatchPrivate":"notMatch";context.report({node:node,messageId:messageId,data:{name:node.name,pattern:pattern}});reportedNodes.add(node.range.toString())}}return{Program(){globalScope=context.getScope()},Identifier(node){const name=node.name,parent=node.parent,effectiveParent=parent.type==="MemberExpression"?parent.parent:parent;if(isReferenceToGlobalVariable(node)){return}if(parent.type==="MemberExpression"){if(!checkProperties){return}if(parent.object.type==="Identifier"&&parent.object.name===name){if(isInvalid(name)){report(node)}}else if(effectiveParent.type==="AssignmentExpression"&&effectiveParent.left.type==="MemberExpression"&&effectiveParent.left.property.name===node.name){if(isInvalid(name)){report(node)}}else if(effectiveParent.type==="AssignmentExpression"&&effectiveParent.right.type!=="MemberExpression"){if(isInvalid(name)){report(node)}}}else if(parent.type==="Property"&&parent.parent.type==="ObjectExpression"&&parent.key===node&&!parent.computed){if(checkProperties&&isInvalid(name)){report(node)}}else if(parent.type==="Property"||parent.type==="AssignmentPattern"){if(parent.parent&&parent.parent.type==="ObjectPattern"){if(!ignoreDestructuring&&parent.shorthand&&parent.value.left&&isInvalid(name)){report(node)}const assignmentKeyEqualsValue=parent.key.name===parent.value.name;if(!assignmentKeyEqualsValue&&parent.key===node){return}const valueIsInvalid=parent.value.name&&isInvalid(name);if(valueIsInvalid&&!(assignmentKeyEqualsValue&&ignoreDestructuring)){report(node)}}if(!checkProperties&&!parent.computed||ignoreDestructuring&&isInsideObjectPattern(node)){return}if(parent.right!==node&&shouldReport(effectiveParent,name)){report(node)}}else if(IMPORT_TYPES.has(parent.type)){if(parent.local&&parent.local.name===node.name&&isInvalid(name)){report(node)}}else if(parent.type==="PropertyDefinition"){if(checkClassFields&&isInvalid(name)){report(node)}}else if(shouldReport(effectiveParent,name)){report(node)}},PrivateIdentifier(node){const isClassField=node.parent.type==="PropertyDefinition";if(isClassField&&!checkClassFields){return}if(isInvalid(node.name)){report(node)}}}}};return idMatch}var implicitArrowLinebreak;var hasRequiredImplicitArrowLinebreak;function requireImplicitArrowLinebreak(){if(hasRequiredImplicitArrowLinebreak)return implicitArrowLinebreak;hasRequiredImplicitArrowLinebreak=1;const{isCommentToken:isCommentToken,isNotOpeningParenToken:isNotOpeningParenToken}=requireAstUtils();implicitArrowLinebreak={meta:{type:"layout",docs:{description:"Enforce the location of arrow function bodies",recommended:false,url:"https://eslint.org/docs/rules/implicit-arrow-linebreak"},fixable:"whitespace",schema:[{enum:["beside","below"]}],messages:{expected:"Expected a linebreak before this expression.",unexpected:"Expected no linebreak before this expression."}},create(context){const sourceCode=context.getSourceCode();const option=context.options[0]||"beside";function validateExpression(node){if(node.body.type==="BlockStatement"){return}const arrowToken=sourceCode.getTokenBefore(node.body,isNotOpeningParenToken);const firstTokenOfBody=sourceCode.getTokenAfter(arrowToken);if(arrowToken.loc.end.line===firstTokenOfBody.loc.start.line&&option==="below"){context.report({node:firstTokenOfBody,messageId:"expected",fix:fixer=>fixer.insertTextBefore(firstTokenOfBody,"\n")})}else if(arrowToken.loc.end.line!==firstTokenOfBody.loc.start.line&&option==="beside"){context.report({node:firstTokenOfBody,messageId:"unexpected",fix(fixer){if(sourceCode.getFirstTokenBetween(arrowToken,firstTokenOfBody,{includeComments:true,filter:isCommentToken})){return null}return fixer.replaceTextRange([arrowToken.range[1],firstTokenOfBody.range[0]]," ")}})}}return{ArrowFunctionExpression:node=>validateExpression(node)}}};return implicitArrowLinebreak}var __extends$f=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var ContainerIterator=function(){function ContainerIterator(iteratorType){if(iteratorType===void 0){iteratorType=ContainerIterator.NORMAL}this.iteratorType=iteratorType}ContainerIterator.NORMAL=false;ContainerIterator.REVERSE=true;return ContainerIterator}();var Base=function(){function Base(){this.length=0}Base.prototype.size=function(){return this.length};Base.prototype.empty=function(){return this.length===0};return Base}();var Container=function(_super){__extends$f(Container,_super);function Container(){return _super!==null&&_super.apply(this,arguments)||this}return Container}(Base);var __extends$e=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var Stack=function(_super){__extends$e(Stack,_super);function Stack(container){if(container===void 0){container=[]}var _this=_super.call(this)||this;_this.stack=[];container.forEach((function(element){return _this.push(element)}));return _this}Stack.prototype.clear=function(){this.length=0;this.stack.length=0};Stack.prototype.push=function(element){this.stack.push(element);this.length+=1};Stack.prototype.pop=function(){this.stack.pop();if(this.length>0)this.length-=1};Stack.prototype.top=function(){return this.stack[this.length-1]};return Stack}(Base);var Stack$1=Stack;var __extends$d=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var SequentialContainer=function(_super){__extends$d(SequentialContainer,_super);function SequentialContainer(){return _super!==null&&_super.apply(this,arguments)||this}return SequentialContainer}(Container);var SequentialContainer$1=SequentialContainer;function checkWithinAccessParams(pos,lower,upper){if(pos<lower||pos>upper){throw new RangeError}}var __extends$c=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var RandomIterator=function(_super){__extends$c(RandomIterator,_super);function RandomIterator(index,size,getElementByPos,setElementByPos,iteratorType){var _this=_super.call(this,iteratorType)||this;_this.node=index;_this.size=size;_this.getElementByPos=getElementByPos;_this.setElementByPos=setElementByPos;if(_this.iteratorType===ContainerIterator.NORMAL){_this.pre=function(){if(this.node===0){throw new RangeError("Deque iterator access denied!")}this.node-=1;return this};_this.next=function(){if(this.node===this.size()){throw new RangeError("Deque Iterator access denied!")}this.node+=1;return this}}else{_this.pre=function(){if(this.node===this.size()-1){throw new RangeError("Deque iterator access denied!")}this.node+=1;return this};_this.next=function(){if(this.node===-1){throw new RangeError("Deque iterator access denied!")}this.node-=1;return this}}return _this}Object.defineProperty(RandomIterator.prototype,"pointer",{get:function(){checkWithinAccessParams(this.node,0,this.size()-1);return this.getElementByPos(this.node)},set:function(newValue){checkWithinAccessParams(this.node,0,this.size()-1);this.setElementByPos(this.node,newValue)},enumerable:false,configurable:true});RandomIterator.prototype.equals=function(obj){return this.node===obj.node};return RandomIterator}(ContainerIterator);var __extends$b=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __generator$6=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};var __read$4=function(o,n){var m=typeof Symbol==="function"&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{while((n===void 0||n-- >0)&&!(r=i.next()).done)ar.push(r.value)}catch(error){e={error:error}}finally{try{if(r&&!r.done&&(m=i["return"]))m.call(i)}finally{if(e)throw e.error}}return ar};var __spreadArray$2=function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};var DequeIterator=function(_super){__extends$b(DequeIterator,_super);function DequeIterator(){return _super!==null&&_super.apply(this,arguments)||this}DequeIterator.prototype.copy=function(){return new DequeIterator(this.node,this.size,this.getElementByPos,this.setElementByPos,this.iteratorType)};return DequeIterator}(RandomIterator);var Deque=function(_super){__extends$b(Deque,_super);function Deque(container,bucketSize){if(container===void 0){container=[]}if(bucketSize===void 0){bucketSize=1<<12}var _this=_super.call(this)||this;_this.first=0;_this.curFirst=0;_this.last=0;_this.curLast=0;_this.bucketNum=0;_this.map=[];var _length;if("size"in container){if(typeof container.size==="number"){_length=container.size}else{_length=container.size()}}else if("length"in container){_length=container.length}else{throw new RangeError("Can't get container's size!")}_this.bucketSize=bucketSize;_this.bucketNum=Math.max(Math.ceil(_length/_this.bucketSize),1);for(var i=0;i<_this.bucketNum;++i){_this.map.push(new Array(_this.bucketSize))}var needBucketNum=Math.ceil(_length/_this.bucketSize);_this.first=_this.last=(_this.bucketNum>>1)-(needBucketNum>>1);_this.curFirst=_this.curLast=_this.bucketSize-_length%_this.bucketSize>>1;container.forEach((function(element){return _this.pushBack(element)}));_this.size=_this.size.bind(_this);_this.getElementByPos=_this.getElementByPos.bind(_this);_this.setElementByPos=_this.setElementByPos.bind(_this);return _this}Deque.prototype.reAllocate=function(){var newMap=[];var addBucketNum=Math.max(this.bucketNum>>1,1);for(var i=0;i<addBucketNum;++i){newMap[i]=new Array(this.bucketSize)}for(var i=this.first;i<this.bucketNum;++i){newMap[newMap.length]=this.map[i]}for(var i=0;i<this.last;++i){newMap[newMap.length]=this.map[i]}newMap[newMap.length]=__spreadArray$2([],__read$4(this.map[this.last]),false);this.first=addBucketNum;this.last=newMap.length-1;for(var i=0;i<addBucketNum;++i){newMap[newMap.length]=new Array(this.bucketSize)}this.map=newMap;this.bucketNum=newMap.length};Deque.prototype.getElementIndex=function(pos){var offset=this.curFirst+pos+1;var offsetRemainder=offset%this.bucketSize;var curNodePointerIndex=offsetRemainder-1;var curNodeBucketIndex=this.first+(offset-offsetRemainder)/this.bucketSize;if(offsetRemainder===0)curNodeBucketIndex-=1;curNodeBucketIndex%=this.bucketNum;if(curNodePointerIndex<0)curNodePointerIndex+=this.bucketSize;return{curNodeBucketIndex:curNodeBucketIndex,curNodePointerIndex:curNodePointerIndex}};Deque.prototype.clear=function(){this.map=[[]];this.bucketNum=1;this.first=this.last=this.length=0;this.curFirst=this.curLast=this.bucketSize>>1};Deque.prototype.front=function(){return this.map[this.first][this.curFirst]};Deque.prototype.back=function(){return this.map[this.last][this.curLast]};Deque.prototype.begin=function(){return new DequeIterator(0,this.size,this.getElementByPos,this.setElementByPos)};Deque.prototype.end=function(){return new DequeIterator(this.length,this.size,this.getElementByPos,this.setElementByPos)};Deque.prototype.rBegin=function(){return new DequeIterator(this.length-1,this.size,this.getElementByPos,this.setElementByPos,ContainerIterator.REVERSE)};Deque.prototype.rEnd=function(){return new DequeIterator(-1,this.size,this.getElementByPos,this.setElementByPos,ContainerIterator.REVERSE)};Deque.prototype.pushBack=function(element){if(this.length){if(this.curLast<this.bucketSize-1){this.curLast+=1}else if(this.last<this.bucketNum-1){this.last+=1;this.curLast=0}else{this.last=0;this.curLast=0}if(this.last===this.first&&this.curLast===this.curFirst)this.reAllocate()}this.length+=1;this.map[this.last][this.curLast]=element};Deque.prototype.popBack=function(){if(!this.length)return;this.map[this.last][this.curLast]=undefined;if(this.length!==1){if(this.curLast>0){this.curLast-=1}else if(this.last>0){this.last-=1;this.curLast=this.bucketSize-1}else{this.last=this.bucketNum-1;this.curLast=this.bucketSize-1}}this.length-=1};Deque.prototype.pushFront=function(element){if(this.length){if(this.curFirst>0){this.curFirst-=1}else if(this.first>0){this.first-=1;this.curFirst=this.bucketSize-1}else{this.first=this.bucketNum-1;this.curFirst=this.bucketSize-1}if(this.first===this.last&&this.curFirst===this.curLast)this.reAllocate()}this.length+=1;this.map[this.first][this.curFirst]=element};Deque.prototype.popFront=function(){if(!this.length)return;this.map[this.first][this.curFirst]=undefined;if(this.length!==1){if(this.curFirst<this.bucketSize-1){this.curFirst+=1}else if(this.first<this.bucketNum-1){this.first+=1;this.curFirst=0}else{this.first=0;this.curFirst=0}}this.length-=1};Deque.prototype.forEach=function(callback){for(var i=0;i<this.length;++i){callback(this.getElementByPos(i),i)}};Deque.prototype.getElementByPos=function(pos){checkWithinAccessParams(pos,0,this.length-1);var _a=this.getElementIndex(pos),curNodeBucketIndex=_a.curNodeBucketIndex,curNodePointerIndex=_a.curNodePointerIndex;return this.map[curNodeBucketIndex][curNodePointerIndex]};Deque.prototype.setElementByPos=function(pos,element){checkWithinAccessParams(pos,0,this.length-1);var _a=this.getElementIndex(pos),curNodeBucketIndex=_a.curNodeBucketIndex,curNodePointerIndex=_a.curNodePointerIndex;this.map[curNodeBucketIndex][curNodePointerIndex]=element};Deque.prototype.insert=function(pos,element,num){if(num===void 0){num=1}checkWithinAccessParams(pos,0,this.length);if(pos===0){while(num--)this.pushFront(element)}else if(pos===this.length){while(num--)this.pushBack(element)}else{var arr=[];for(var i=pos;i<this.length;++i){arr.push(this.getElementByPos(i))}this.cut(pos-1);for(var i=0;i<num;++i)this.pushBack(element);for(var i=0;i<arr.length;++i)this.pushBack(arr[i])}};Deque.prototype.cut=function(pos){if(pos<0){this.clear();return}var _a=this.getElementIndex(pos),curNodeBucketIndex=_a.curNodeBucketIndex,curNodePointerIndex=_a.curNodePointerIndex;this.last=curNodeBucketIndex;this.curLast=curNodePointerIndex;this.length=pos+1};Deque.prototype.eraseElementByPos=function(pos){var _this=this;checkWithinAccessParams(pos,0,this.length-1);if(pos===0)this.popFront();else if(pos===this.length-1)this.popBack();else{var arr=[];for(var i=pos+1;i<this.length;++i){arr.push(this.getElementByPos(i))}this.cut(pos);this.popBack();arr.forEach((function(element){return _this.pushBack(element)}))}};Deque.prototype.eraseElementByValue=function(value){if(!this.length)return;var arr=[];for(var i=0;i<this.length;++i){var element=this.getElementByPos(i);if(element!==value)arr.push(element)}var _length=arr.length;for(var i=0;i<_length;++i)this.setElementByPos(i,arr[i]);this.cut(_length-1)};Deque.prototype.eraseElementByIterator=function(iter){var node=iter.node;this.eraseElementByPos(node);iter=iter.next();return iter};Deque.prototype.find=function(element){for(var i=0;i<this.length;++i){if(this.getElementByPos(i)===element){return new DequeIterator(i,this.size,this.getElementByPos,this.setElementByPos)}}return this.end()};Deque.prototype.reverse=function(){var l=0;var r=this.length-1;while(l<r){var tmp=this.getElementByPos(l);this.setElementByPos(l,this.getElementByPos(r));this.setElementByPos(r,tmp);l+=1;r-=1}};Deque.prototype.unique=function(){if(this.length<=1)return;var index=1;var pre=this.getElementByPos(0);for(var i=1;i<this.length;++i){var cur=this.getElementByPos(i);if(cur!==pre){pre=cur;this.setElementByPos(index++,cur)}}while(this.length>index)this.popBack()};Deque.prototype.sort=function(cmp){var arr=[];for(var i=0;i<this.length;++i){arr.push(this.getElementByPos(i))}arr.sort(cmp);for(var i=0;i<this.length;++i)this.setElementByPos(i,arr[i])};Deque.prototype.shrinkToFit=function(){if(!this.length)return;var arr=[];this.forEach((function(element){return arr.push(element)}));this.bucketNum=Math.max(Math.ceil(this.length/this.bucketSize),1);this.length=this.first=this.last=this.curFirst=this.curLast=0;this.map=[];for(var i=0;i<this.bucketNum;++i){this.map.push(new Array(this.bucketSize))}for(var i=0;i<arr.length;++i)this.pushBack(arr[i])};Deque.prototype[Symbol.iterator]=function(){return function(){var i;return __generator$6(this,(function(_a){switch(_a.label){case 0:i=0;_a.label=1;case 1:if(!(i<this.length))return[3,4];return[4,this.getElementByPos(i)];case 2:_a.sent();_a.label=3;case 3:++i;return[3,1];case 4:return[2]}}))}.bind(this)()};return Deque}(SequentialContainer$1);var Deque$1=Deque;var __extends$a=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var Queue=function(_super){__extends$a(Queue,_super);function Queue(container){if(container===void 0){container=[]}var _this=_super.call(this)||this;_this.queue=new Deque$1(container);_this.length=_this.queue.size();return _this}Queue.prototype.clear=function(){this.queue.clear();this.length=0};Queue.prototype.push=function(element){this.queue.pushBack(element);this.length+=1};Queue.prototype.pop=function(){this.queue.popFront();if(this.length)this.length-=1};Queue.prototype.front=function(){return this.queue.front()};return Queue}(Base);var Queue$1=Queue;var __extends$9=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __read$3=function(o,n){var m=typeof Symbol==="function"&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{while((n===void 0||n-- >0)&&!(r=i.next()).done)ar.push(r.value)}catch(error){e={error:error}}finally{try{if(r&&!r.done&&(m=i["return"]))m.call(i)}finally{if(e)throw e.error}}return ar};var __spreadArray$1=function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};var PriorityQueue=function(_super){__extends$9(PriorityQueue,_super);function PriorityQueue(container,cmp,copy){var _a;if(container===void 0){container=[]}if(cmp===void 0){cmp=function(x,y){if(x>y)return-1;if(x<y)return 1;return 0}}if(copy===void 0){copy=true}var _this=_super.call(this)||this;_this.cmp=cmp;if(Array.isArray(container)){_this.priorityQueue=copy?__spreadArray$1([],__read$3(container),false):container}else{_this.priorityQueue=[];container.forEach((function(element){return _this.priorityQueue.push(element)}))}_this.length=_this.priorityQueue.length;for(var parent_1=_this.length-1>>1;parent_1>=0;--parent_1){var curParent=parent_1;var curChild=curParent<<1|1;while(curChild<_this.length){var left=curChild;var right=left+1;var minChild=left;if(right<_this.length&&_this.cmp(_this.priorityQueue[left],_this.priorityQueue[right])>0){minChild=right}if(_this.cmp(_this.priorityQueue[curParent],_this.priorityQueue[minChild])<=0)break;_a=__read$3([_this.priorityQueue[minChild],_this.priorityQueue[curParent]],2),_this.priorityQueue[curParent]=_a[0],_this.priorityQueue[minChild]=_a[1];curParent=minChild;curChild=curParent<<1|1}}return _this}PriorityQueue.prototype.adjust=function(parent){var _a,_b;var left=parent<<1|1;var right=(parent<<1)+2;if(left<this.length&&this.cmp(this.priorityQueue[parent],this.priorityQueue[left])>0){_a=__read$3([this.priorityQueue[left],this.priorityQueue[parent]],2),this.priorityQueue[parent]=_a[0],this.priorityQueue[left]=_a[1]}if(right<this.length&&this.cmp(this.priorityQueue[parent],this.priorityQueue[right])>0){_b=__read$3([this.priorityQueue[right],this.priorityQueue[parent]],2),this.priorityQueue[parent]=_b[0],this.priorityQueue[right]=_b[1]}};PriorityQueue.prototype.clear=function(){this.length=0;this.priorityQueue.length=0};PriorityQueue.prototype.push=function(element){this.priorityQueue.push(element);this.length+=1;if(this.length===1)return;var curNode=this.length-1;while(curNode>0){var parent_2=curNode-1>>1;if(this.cmp(this.priorityQueue[parent_2],element)<=0)break;this.adjust(parent_2);curNode=parent_2}};PriorityQueue.prototype.pop=function(){if(!this.length)return;var last=this.priorityQueue[this.length-1];this.length-=1;var parent=0;while(parent<this.length){var left=parent<<1|1;var right=(parent<<1)+2;if(left>=this.length)break;var minChild=left;if(right<this.length&&this.cmp(this.priorityQueue[left],this.priorityQueue[right])>0){minChild=right}if(this.cmp(this.priorityQueue[minChild],last)>=0)break;this.priorityQueue[parent]=this.priorityQueue[minChild];parent=minChild}this.priorityQueue[parent]=last;this.priorityQueue.pop()};PriorityQueue.prototype.top=function(){return this.priorityQueue[0]};return PriorityQueue}(Base);var PriorityQueue$1=PriorityQueue;var __extends$8=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __generator$5=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};var __read$2=function(o,n){var m=typeof Symbol==="function"&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{while((n===void 0||n-- >0)&&!(r=i.next()).done)ar.push(r.value)}catch(error){e={error:error}}finally{try{if(r&&!r.done&&(m=i["return"]))m.call(i)}finally{if(e)throw e.error}}return ar};var __spreadArray=function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};var __values$4=function(o){var s=typeof Symbol==="function"&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&typeof o.length==="number")return{next:function(){if(o&&i>=o.length)o=void 0;return{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};var VectorIterator=function(_super){__extends$8(VectorIterator,_super);function VectorIterator(){return _super!==null&&_super.apply(this,arguments)||this}VectorIterator.prototype.copy=function(){return new VectorIterator(this.node,this.size,this.getElementByPos,this.setElementByPos,this.iteratorType)};return VectorIterator}(RandomIterator);var Vector=function(_super){__extends$8(Vector,_super);function Vector(container,copy){if(container===void 0){container=[]}if(copy===void 0){copy=true}var _this=_super.call(this)||this;if(Array.isArray(container)){_this.vector=copy?__spreadArray([],__read$2(container),false):container;_this.length=container.length}else{_this.vector=[];container.forEach((function(element){return _this.pushBack(element)}))}_this.size=_this.size.bind(_this);_this.getElementByPos=_this.getElementByPos.bind(_this);_this.setElementByPos=_this.setElementByPos.bind(_this);return _this}Vector.prototype.clear=function(){this.length=0;this.vector.length=0};Vector.prototype.begin=function(){return new VectorIterator(0,this.size,this.getElementByPos,this.setElementByPos)};Vector.prototype.end=function(){return new VectorIterator(this.length,this.size,this.getElementByPos,this.setElementByPos)};Vector.prototype.rBegin=function(){return new VectorIterator(this.length-1,this.size,this.getElementByPos,this.setElementByPos,ContainerIterator.REVERSE)};Vector.prototype.rEnd=function(){return new VectorIterator(-1,this.size,this.getElementByPos,this.setElementByPos,ContainerIterator.REVERSE)};Vector.prototype.front=function(){return this.vector[0]};Vector.prototype.back=function(){return this.vector[this.length-1]};Vector.prototype.forEach=function(callback){for(var i=0;i<this.length;++i){callback(this.vector[i],i)}};Vector.prototype.getElementByPos=function(pos){checkWithinAccessParams(pos,0,this.length-1);return this.vector[pos]};Vector.prototype.eraseElementByPos=function(pos){checkWithinAccessParams(pos,0,this.length-1);this.vector.splice(pos,1);this.length-=1};Vector.prototype.eraseElementByValue=function(value){var index=0;for(var i=0;i<this.length;++i){if(this.vector[i]!==value){this.vector[index++]=this.vector[i]}}this.length=this.vector.length=index};Vector.prototype.eraseElementByIterator=function(iter){var node=iter.node;iter=iter.next();this.eraseElementByPos(node);return iter};Vector.prototype.pushBack=function(element){this.vector.push(element);this.length+=1};Vector.prototype.popBack=function(){if(!this.length)return;this.vector.pop();this.length-=1};Vector.prototype.setElementByPos=function(pos,element){checkWithinAccessParams(pos,0,this.length-1);this.vector[pos]=element};Vector.prototype.insert=function(pos,element,num){var _a;if(num===void 0){num=1}checkWithinAccessParams(pos,0,this.length);(_a=this.vector).splice.apply(_a,__spreadArray([pos,0],__read$2(new Array(num).fill(element)),false));this.length+=num};Vector.prototype.find=function(element){for(var i=0;i<this.length;++i){if(this.vector[i]===element){return new VectorIterator(i,this.size,this.getElementByPos,this.getElementByPos)}}return this.end()};Vector.prototype.reverse=function(){this.vector.reverse()};Vector.prototype.unique=function(){var index=1;for(var i=1;i<this.length;++i){if(this.vector[i]!==this.vector[i-1]){this.vector[index++]=this.vector[i]}}this.length=this.vector.length=index};Vector.prototype.sort=function(cmp){this.vector.sort(cmp)};Vector.prototype[Symbol.iterator]=function(){return function(){return __generator$5(this,(function(_a){switch(_a.label){case 0:return[5,__values$4(this.vector)];case 1:return[2,_a.sent()]}}))}.bind(this)()};return Vector}(SequentialContainer$1);var Vector$1=Vector;var __extends$7=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __generator$4=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};var LinkNode=function(){function LinkNode(element){this.value=undefined;this.pre=undefined;this.next=undefined;this.value=element}return LinkNode}();var LinkListIterator=function(_super){__extends$7(LinkListIterator,_super);function LinkListIterator(node,header,iteratorType){var _this=_super.call(this,iteratorType)||this;_this.node=node;_this.header=header;if(_this.iteratorType===ContainerIterator.NORMAL){_this.pre=function(){if(this.node.pre===this.header){throw new RangeError("LinkList iterator access denied!")}this.node=this.node.pre;return this};_this.next=function(){if(this.node===this.header){throw new RangeError("LinkList iterator access denied!")}this.node=this.node.next;return this}}else{_this.pre=function(){if(this.node.next===this.header){throw new RangeError("LinkList iterator access denied!")}this.node=this.node.next;return this};_this.next=function(){if(this.node===this.header){throw new RangeError("LinkList iterator access denied!")}this.node=this.node.pre;return this}}return _this}Object.defineProperty(LinkListIterator.prototype,"pointer",{get:function(){if(this.node===this.header){throw new RangeError("LinkList iterator access denied!")}return this.node.value},set:function(newValue){if(this.node===this.header){throw new RangeError("LinkList iterator access denied!")}this.node.value=newValue},enumerable:false,configurable:true});LinkListIterator.prototype.equals=function(obj){return this.node===obj.node};LinkListIterator.prototype.copy=function(){return new LinkListIterator(this.node,this.header,this.iteratorType)};return LinkListIterator}(ContainerIterator);var LinkList=function(_super){__extends$7(LinkList,_super);function LinkList(container){if(container===void 0){container=[]}var _this=_super.call(this)||this;_this.header=new LinkNode;_this.head=undefined;_this.tail=undefined;container.forEach((function(element){return _this.pushBack(element)}));return _this}LinkList.prototype.clear=function(){this.length=0;this.head=this.tail=undefined;this.header.pre=this.header.next=undefined};LinkList.prototype.begin=function(){return new LinkListIterator(this.head||this.header,this.header)};LinkList.prototype.end=function(){return new LinkListIterator(this.header,this.header)};LinkList.prototype.rBegin=function(){return new LinkListIterator(this.tail||this.header,this.header,ContainerIterator.REVERSE)};LinkList.prototype.rEnd=function(){return new LinkListIterator(this.header,this.header,ContainerIterator.REVERSE)};LinkList.prototype.front=function(){return this.head?this.head.value:undefined};LinkList.prototype.back=function(){return this.tail?this.tail.value:undefined};LinkList.prototype.forEach=function(callback){if(!this.length)return;var curNode=this.head;var index=0;while(curNode!==this.header){callback(curNode.value,index++);curNode=curNode.next}};LinkList.prototype.getElementByPos=function(pos){checkWithinAccessParams(pos,0,this.length-1);var curNode=this.head;while(pos--){curNode=curNode.next}return curNode.value};LinkList.prototype.eraseElementByPos=function(pos){checkWithinAccessParams(pos,0,this.length-1);if(pos===0)this.popFront();else if(pos===this.length-1)this.popBack();else{var curNode=this.head;while(pos--){curNode=curNode.next}curNode=curNode;var pre=curNode.pre;var next=curNode.next;next.pre=pre;pre.next=next;this.length-=1}};LinkList.prototype.eraseElementByValue=function(value){while(this.head&&this.head.value===value)this.popFront();while(this.tail&&this.tail.value===value)this.popBack();if(!this.head)return;var curNode=this.head;while(curNode!==this.header){if(curNode.value===value){var pre=curNode.pre;var next=curNode.next;if(next)next.pre=pre;if(pre)pre.next=next;this.length-=1}curNode=curNode.next}};LinkList.prototype.eraseElementByIterator=function(iter){var node=iter.node;if(node===this.header){throw new RangeError("Invalid iterator")}iter=iter.next();if(this.head===node)this.popFront();else if(this.tail===node)this.popBack();else{var pre=node.pre;var next=node.next;if(next)next.pre=pre;if(pre)pre.next=next;this.length-=1}return iter};LinkList.prototype.pushBack=function(element){this.length+=1;var newTail=new LinkNode(element);if(!this.tail){this.head=this.tail=newTail;this.header.next=this.head;this.head.pre=this.header}else{this.tail.next=newTail;newTail.pre=this.tail;this.tail=newTail}this.tail.next=this.header;this.header.pre=this.tail};LinkList.prototype.popBack=function(){if(!this.tail)return;this.length-=1;if(this.head===this.tail){this.head=this.tail=undefined;this.header.next=undefined}else{this.tail=this.tail.pre;if(this.tail)this.tail.next=undefined}this.header.pre=this.tail;if(this.tail)this.tail.next=this.header};LinkList.prototype.setElementByPos=function(pos,element){checkWithinAccessParams(pos,0,this.length-1);var curNode=this.head;while(pos--){curNode=curNode.next}curNode.value=element};LinkList.prototype.insert=function(pos,element,num){if(num===void 0){num=1}checkWithinAccessParams(pos,0,this.length);if(num<=0)return;if(pos===0){while(num--)this.pushFront(element)}else if(pos===this.length){while(num--)this.pushBack(element)}else{var curNode=this.head;for(var i=1;i<pos;++i){curNode=curNode.next}var next=curNode.next;this.length+=num;while(num--){curNode.next=new LinkNode(element);curNode.next.pre=curNode;curNode=curNode.next}curNode.next=next;if(next)next.pre=curNode}};LinkList.prototype.find=function(element){if(!this.head)return this.end();var curNode=this.head;while(curNode!==this.header){if(curNode.value===element){return new LinkListIterator(curNode,this.header)}curNode=curNode.next}return this.end()};LinkList.prototype.reverse=function(){if(this.length<=1)return;var pHead=this.head;var pTail=this.tail;var cnt=0;while(cnt<<1<this.length){var tmp=pHead.value;pHead.value=pTail.value;pTail.value=tmp;pHead=pHead.next;pTail=pTail.pre;cnt+=1}};LinkList.prototype.unique=function(){if(this.length<=1)return;var curNode=this.head;while(curNode!==this.header){var tmpNode=curNode;while(tmpNode.next&&tmpNode.value===tmpNode.next.value){tmpNode=tmpNode.next;this.length-=1}curNode.next=tmpNode.next;if(curNode.next)curNode.next.pre=curNode;curNode=curNode.next}};LinkList.prototype.sort=function(cmp){if(this.length<=1)return;var arr=[];this.forEach((function(element){return arr.push(element)}));arr.sort(cmp);var curNode=this.head;arr.forEach((function(element){curNode.value=element;curNode=curNode.next}))};LinkList.prototype.pushFront=function(element){this.length+=1;var newHead=new LinkNode(element);if(!this.head){this.head=this.tail=newHead;this.tail.next=this.header;this.header.pre=this.tail}else{newHead.next=this.head;this.head.pre=newHead;this.head=newHead}this.header.next=this.head;this.head.pre=this.header};LinkList.prototype.popFront=function(){if(!this.head)return;this.length-=1;if(this.head===this.tail){this.head=this.tail=undefined;this.header.pre=this.tail}else{this.head=this.head.next;if(this.head)this.head.pre=this.header}this.header.next=this.head};LinkList.prototype.merge=function(list){var _this=this;if(!this.head){list.forEach((function(element){return _this.pushBack(element)}));return}var curNode=this.head;list.forEach((function(element){while(curNode&&curNode!==_this.header&&curNode.value<=element){curNode=curNode.next}if(curNode===_this.header){_this.pushBack(element);curNode=_this.tail}else if(curNode===_this.head){_this.pushFront(element);curNode=_this.head}else{_this.length+=1;var pre=curNode.pre;pre.next=new LinkNode(element);pre.next.pre=pre;pre.next.next=curNode;curNode.pre=pre.next}}))};LinkList.prototype[Symbol.iterator]=function(){return function(){var curNode;return __generator$4(this,(function(_a){switch(_a.label){case 0:if(!this.head)return[2];curNode=this.head;_a.label=1;case 1:if(!(curNode!==this.header))return[3,3];return[4,curNode.value];case 2:_a.sent();curNode=curNode.next;return[3,1];case 3:return[2]}}))}.bind(this)()};return LinkList}(SequentialContainer$1);var LinkList$1=LinkList;var TreeNode=function(){function TreeNode(key,value){this.color=true;this.key=undefined;this.value=undefined;this.left=undefined;this.right=undefined;this.parent=undefined;this.key=key;this.value=value}TreeNode.prototype.pre=function(){var preNode=this;if(preNode.color===TreeNode.RED&&preNode.parent.parent===preNode){preNode=preNode.right}else if(preNode.left){preNode=preNode.left;while(preNode.right){preNode=preNode.right}}else{var pre=preNode.parent;while(pre.left===preNode){preNode=pre;pre=preNode.parent}preNode=pre}return preNode};TreeNode.prototype.next=function(){var nextNode=this;if(nextNode.right){nextNode=nextNode.right;while(nextNode.left){nextNode=nextNode.left}}else{var pre=nextNode.parent;while(pre.right===nextNode){nextNode=pre;pre=nextNode.parent}if(nextNode.right!==pre){nextNode=pre}}return nextNode};TreeNode.prototype.rotateLeft=function(){var PP=this.parent;var V=this.right;var R=V.left;if(PP.parent===this)PP.parent=V;else if(PP.left===this)PP.left=V;else PP.right=V;V.parent=PP;V.left=this;this.parent=V;this.right=R;if(R)R.parent=this;return V};TreeNode.prototype.rotateRight=function(){var PP=this.parent;var F=this.left;var K=F.right;if(PP.parent===this)PP.parent=F;else if(PP.left===this)PP.left=F;else PP.right=F;F.parent=PP;F.right=this;this.parent=F;this.left=K;if(K)K.parent=this;return F};TreeNode.prototype.remove=function(){var parent=this.parent;if(this===parent.left){parent.left=undefined}else parent.right=undefined};TreeNode.RED=true;TreeNode.BLACK=false;return TreeNode}();var TreeNode$1=TreeNode;var __extends$6=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __read$1=function(o,n){var m=typeof Symbol==="function"&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{while((n===void 0||n-- >0)&&!(r=i.next()).done)ar.push(r.value)}catch(error){e={error:error}}finally{try{if(r&&!r.done&&(m=i["return"]))m.call(i)}finally{if(e)throw e.error}}return ar};var TreeContainer=function(_super){__extends$6(TreeContainer,_super);function TreeContainer(cmp){if(cmp===void 0){cmp=function(x,y){if(x<y)return-1;if(x>y)return 1;return 0}}var _this=_super.call(this)||this;_this.root=undefined;_this.header=new TreeNode$1;_this.inOrderTraversal=function(curNode,callback){if(curNode===undefined)return false;var ifReturn=_this.inOrderTraversal(curNode.left,callback);if(ifReturn)return true;if(callback(curNode))return true;return _this.inOrderTraversal(curNode.right,callback)};_this.cmp=cmp;return _this}TreeContainer.prototype._lowerBound=function(curNode,key){var resNode;while(curNode){var cmpResult=this.cmp(curNode.key,key);if(cmpResult<0){curNode=curNode.right}else if(cmpResult>0){resNode=curNode;curNode=curNode.left}else return curNode}return resNode===undefined?this.header:resNode};TreeContainer.prototype._upperBound=function(curNode,key){var resNode;while(curNode){var cmpResult=this.cmp(curNode.key,key);if(cmpResult<=0){curNode=curNode.right}else if(cmpResult>0){resNode=curNode;curNode=curNode.left}}return resNode===undefined?this.header:resNode};TreeContainer.prototype._reverseLowerBound=function(curNode,key){var resNode;while(curNode){var cmpResult=this.cmp(curNode.key,key);if(cmpResult<0){resNode=curNode;curNode=curNode.right}else if(cmpResult>0){curNode=curNode.left}else return curNode}return resNode===undefined?this.header:resNode};TreeContainer.prototype._reverseUpperBound=function(curNode,key){var resNode;while(curNode){var cmpResult=this.cmp(curNode.key,key);if(cmpResult<0){resNode=curNode;curNode=curNode.right}else if(cmpResult>=0){curNode=curNode.left}}return resNode===undefined?this.header:resNode};TreeContainer.prototype.eraseNodeSelfBalance=function(curNode){while(true){var parentNode=curNode.parent;if(parentNode===this.header)return;if(curNode.color===TreeNode$1.RED){curNode.color=TreeNode$1.BLACK;return}if(curNode===parentNode.left){var brother=parentNode.right;if(brother.color===TreeNode$1.RED){brother.color=TreeNode$1.BLACK;parentNode.color=TreeNode$1.RED;if(parentNode===this.root){this.root=parentNode.rotateLeft()}else parentNode.rotateLeft()}else if(brother.color===TreeNode$1.BLACK){if(brother.right&&brother.right.color===TreeNode$1.RED){brother.color=parentNode.color;parentNode.color=TreeNode$1.BLACK;brother.right.color=TreeNode$1.BLACK;if(parentNode===this.root){this.root=parentNode.rotateLeft()}else parentNode.rotateLeft();return}else if(brother.left&&brother.left.color===TreeNode$1.RED){brother.color=TreeNode$1.RED;brother.left.color=TreeNode$1.BLACK;brother.rotateRight()}else{brother.color=TreeNode$1.RED;curNode=parentNode}}}else{var brother=parentNode.left;if(brother.color===TreeNode$1.RED){brother.color=TreeNode$1.BLACK;parentNode.color=TreeNode$1.RED;if(parentNode===this.root){this.root=parentNode.rotateRight()}else parentNode.rotateRight()}else{if(brother.left&&brother.left.color===TreeNode$1.RED){brother.color=parentNode.color;parentNode.color=TreeNode$1.BLACK;brother.left.color=TreeNode$1.BLACK;if(parentNode===this.root){this.root=parentNode.rotateRight()}else parentNode.rotateRight();return}else if(brother.right&&brother.right.color===TreeNode$1.RED){brother.color=TreeNode$1.RED;brother.right.color=TreeNode$1.BLACK;brother.rotateLeft()}else{brother.color=TreeNode$1.RED;curNode=parentNode}}}}};TreeContainer.prototype.eraseNode=function(curNode){var _a,_b;if(this.length===1){this.clear();return}var swapNode=curNode;while(swapNode.left||swapNode.right){if(swapNode.right){swapNode=swapNode.right;while(swapNode.left)swapNode=swapNode.left}else if(swapNode.left){swapNode=swapNode.left}_a=__read$1([swapNode.key,curNode.key],2),curNode.key=_a[0],swapNode.key=_a[1];_b=__read$1([swapNode.value,curNode.value],2),curNode.value=_b[0],swapNode.value=_b[1];curNode=swapNode}if(this.header.left===swapNode){this.header.left=swapNode.parent}else if(this.header.right===swapNode){this.header.right=swapNode.parent}this.eraseNodeSelfBalance(swapNode);swapNode.remove();this.length-=1;this.root.color=TreeNode$1.BLACK};TreeContainer.prototype.insertNodeSelfBalance=function(curNode){while(true){var parentNode=curNode.parent;if(parentNode.color===TreeNode$1.BLACK)return;var grandParent=parentNode.parent;if(parentNode===grandParent.left){var uncle=grandParent.right;if(uncle&&uncle.color===TreeNode$1.RED){uncle.color=parentNode.color=TreeNode$1.BLACK;if(grandParent===this.root)return;grandParent.color=TreeNode$1.RED;curNode=grandParent;continue}else if(curNode===parentNode.right){curNode.color=TreeNode$1.BLACK;if(curNode.left)curNode.left.parent=parentNode;if(curNode.right)curNode.right.parent=grandParent;parentNode.right=curNode.left;grandParent.left=curNode.right;curNode.left=parentNode;curNode.right=grandParent;if(grandParent===this.root){this.root=curNode;this.header.parent=curNode}else{var GP=grandParent.parent;if(GP.left===grandParent){GP.left=curNode}else GP.right=curNode}curNode.parent=grandParent.parent;parentNode.parent=curNode;grandParent.parent=curNode}else{parentNode.color=TreeNode$1.BLACK;if(grandParent===this.root){this.root=grandParent.rotateRight()}else grandParent.rotateRight()}grandParent.color=TreeNode$1.RED}else{var uncle=grandParent.left;if(uncle&&uncle.color===TreeNode$1.RED){uncle.color=parentNode.color=TreeNode$1.BLACK;if(grandParent===this.root)return;grandParent.color=TreeNode$1.RED;curNode=grandParent;continue}else if(curNode===parentNode.left){curNode.color=TreeNode$1.BLACK;if(curNode.left)curNode.left.parent=grandParent;if(curNode.right)curNode.right.parent=parentNode;grandParent.right=curNode.left;parentNode.left=curNode.right;curNode.left=grandParent;curNode.right=parentNode;if(grandParent===this.root){this.root=curNode;this.header.parent=curNode}else{var GP=grandParent.parent;if(GP.left===grandParent){GP.left=curNode}else GP.right=curNode}curNode.parent=grandParent.parent;parentNode.parent=curNode;grandParent.parent=curNode}else{parentNode.color=TreeNode$1.BLACK;if(grandParent===this.root){this.root=grandParent.rotateLeft()}else grandParent.rotateLeft()}grandParent.color=TreeNode$1.RED}return}};TreeContainer.prototype.findElementNode=function(curNode,key){while(curNode){var cmpResult=this.cmp(curNode.key,key);if(cmpResult<0){curNode=curNode.right}else if(cmpResult>0){curNode=curNode.left}else return curNode}return curNode};TreeContainer.prototype.set=function(key,value,hint){if(this.root===undefined){this.length+=1;this.root=new TreeNode$1(key,value);this.root.color=TreeNode$1.BLACK;this.root.parent=this.header;this.header.parent=this.root;this.header.left=this.root;this.header.right=this.root;return}var curNode;var minNode=this.header.left;var compareToMin=this.cmp(minNode.key,key);if(compareToMin===0){minNode.value=value;return}else if(compareToMin>0){minNode.left=new TreeNode$1(key,value);minNode.left.parent=minNode;curNode=minNode.left;this.header.left=curNode}else{var maxNode=this.header.right;var compareToMax=this.cmp(maxNode.key,key);if(compareToMax===0){maxNode.value=value;return}else if(compareToMax<0){maxNode.right=new TreeNode$1(key,value);maxNode.right.parent=maxNode;curNode=maxNode.right;this.header.right=curNode}else{if(hint!==undefined){var iterNode=hint.node;if(iterNode!==this.header){var iterCmpRes=this.cmp(iterNode.key,key);if(iterCmpRes===0){iterNode.value=value;return}else if(iterCmpRes>0){var preNode=iterNode.pre();var preCmpRes=this.cmp(preNode.key,key);if(preCmpRes===0){preNode.value=value;return}else if(preCmpRes<0){curNode=new TreeNode$1(key,value);if(preNode.right===undefined){preNode.right=curNode;curNode.parent=preNode}else{iterNode.left=curNode;curNode.parent=iterNode}}}}}if(curNode===undefined){curNode=this.root;while(true){var cmpResult=this.cmp(curNode.key,key);if(cmpResult>0){if(curNode.left===undefined){curNode.left=new TreeNode$1(key,value);curNode.left.parent=curNode;curNode=curNode.left;break}curNode=curNode.left}else if(cmpResult<0){if(curNode.right===undefined){curNode.right=new TreeNode$1(key,value);curNode.right.parent=curNode;curNode=curNode.right;break}curNode=curNode.right}else{curNode.value=value;return}}}}}this.length+=1;this.insertNodeSelfBalance(curNode)};TreeContainer.prototype.clear=function(){this.length=0;this.root=undefined;this.header.parent=undefined;this.header.left=this.header.right=undefined};TreeContainer.prototype.updateKeyByIterator=function(iter,key){var node=iter.node;if(node===this.header){throw new TypeError("Invalid iterator!")}if(this.length===1){node.key=key;return true}if(node===this.header.left){if(this.cmp(node.next().key,key)>0){node.key=key;return true}return false}if(node===this.header.right){if(this.cmp(node.pre().key,key)<0){node.key=key;return true}return false}var preKey=node.pre().key;if(this.cmp(preKey,key)>=0)return false;var nextKey=node.next().key;if(this.cmp(nextKey,key)<=0)return false;node.key=key;return true};TreeContainer.prototype.eraseElementByPos=function(pos){var _this=this;checkWithinAccessParams(pos,0,this.length-1);var index=0;this.inOrderTraversal(this.root,(function(curNode){if(pos===index){_this.eraseNode(curNode);return true}index+=1;return false}))};TreeContainer.prototype.eraseElementByKey=function(key){if(!this.length)return;var curNode=this.findElementNode(this.root,key);if(curNode===undefined)return;this.eraseNode(curNode)};TreeContainer.prototype.eraseElementByIterator=function(iter){var node=iter.node;if(node===this.header){throw new RangeError("Invalid iterator")}if(node.right===undefined){iter=iter.next()}this.eraseNode(node);return iter};TreeContainer.prototype.getHeight=function(){if(!this.length)return 0;var traversal=function(curNode){if(!curNode)return 0;return Math.max(traversal(curNode.left),traversal(curNode.right))+1};return traversal(this.root)};return TreeContainer}(Container);var TreeContainer$1=TreeContainer;var __extends$5=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var TreeIterator=function(_super){__extends$5(TreeIterator,_super);function TreeIterator(node,header,iteratorType){var _this=_super.call(this,iteratorType)||this;_this.node=node;_this.header=header;if(_this.iteratorType===ContainerIterator.NORMAL){_this.pre=function(){if(this.node===this.header.left){throw new RangeError("LinkList iterator access denied!")}this.node=this.node.pre();return this};_this.next=function(){if(this.node===this.header){throw new RangeError("LinkList iterator access denied!")}this.node=this.node.next();return this}}else{_this.pre=function(){if(this.node===this.header.right){throw new RangeError("LinkList iterator access denied!")}this.node=this.node.next();return this};_this.next=function(){if(this.node===this.header){throw new RangeError("LinkList iterator access denied!")}this.node=this.node.pre();return this}}return _this}TreeIterator.prototype.equals=function(obj){return this.node===obj.node};return TreeIterator}(ContainerIterator);var TreeIterator$1=TreeIterator;var __extends$4=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __generator$3=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};var __values$3=function(o){var s=typeof Symbol==="function"&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&typeof o.length==="number")return{next:function(){if(o&&i>=o.length)o=void 0;return{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};var OrderedSetIterator=function(_super){__extends$4(OrderedSetIterator,_super);function OrderedSetIterator(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(OrderedSetIterator.prototype,"pointer",{get:function(){if(this.node===this.header){throw new RangeError("OrderedSet iterator access denied!")}return this.node.key},enumerable:false,configurable:true});OrderedSetIterator.prototype.copy=function(){return new OrderedSetIterator(this.node,this.header,this.iteratorType)};return OrderedSetIterator}(TreeIterator$1);var OrderedSet=function(_super){__extends$4(OrderedSet,_super);function OrderedSet(container,cmp){if(container===void 0){container=[]}var _this=_super.call(this,cmp)||this;_this.iterationFunc=function(curNode){return __generator$3(this,(function(_a){switch(_a.label){case 0:if(curNode===undefined)return[2];return[5,__values$3(this.iterationFunc(curNode.left))];case 1:_a.sent();return[4,curNode.key];case 2:_a.sent();return[5,__values$3(this.iterationFunc(curNode.right))];case 3:_a.sent();return[2]}}))};container.forEach((function(element){return _this.insert(element)}));_this.iterationFunc=_this.iterationFunc.bind(_this);return _this}OrderedSet.prototype.begin=function(){return new OrderedSetIterator(this.header.left||this.header,this.header)};OrderedSet.prototype.end=function(){return new OrderedSetIterator(this.header,this.header)};OrderedSet.prototype.rBegin=function(){return new OrderedSetIterator(this.header.right||this.header,this.header,ContainerIterator.REVERSE)};OrderedSet.prototype.rEnd=function(){return new OrderedSetIterator(this.header,this.header,ContainerIterator.REVERSE)};OrderedSet.prototype.front=function(){return this.header.left?this.header.left.key:undefined};OrderedSet.prototype.back=function(){return this.header.right?this.header.right.key:undefined};OrderedSet.prototype.forEach=function(callback){var e_1,_a;var index=0;try{for(var _b=__values$3(this),_c=_b.next();!_c.done;_c=_b.next()){var element=_c.value;callback(element,index++)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{if(_c&&!_c.done&&(_a=_b.return))_a.call(_b)}finally{if(e_1)throw e_1.error}}};OrderedSet.prototype.getElementByPos=function(pos){var e_2,_a;checkWithinAccessParams(pos,0,this.length-1);var res;var index=0;try{for(var _b=__values$3(this),_c=_b.next();!_c.done;_c=_b.next()){var element=_c.value;if(index===pos){res=element}index+=1}}catch(e_2_1){e_2={error:e_2_1}}finally{try{if(_c&&!_c.done&&(_a=_b.return))_a.call(_b)}finally{if(e_2)throw e_2.error}}return res};OrderedSet.prototype.insert=function(key,hint){this.set(key,undefined,hint)};OrderedSet.prototype.find=function(element){var curNode=this.findElementNode(this.root,element);if(curNode!==undefined){return new OrderedSetIterator(curNode,this.header)}return this.end()};OrderedSet.prototype.lowerBound=function(key){var resNode=this._lowerBound(this.root,key);return new OrderedSetIterator(resNode,this.header)};OrderedSet.prototype.upperBound=function(key){var resNode=this._upperBound(this.root,key);return new OrderedSetIterator(resNode,this.header)};OrderedSet.prototype.reverseLowerBound=function(key){var resNode=this._reverseLowerBound(this.root,key);return new OrderedSetIterator(resNode,this.header)};OrderedSet.prototype.reverseUpperBound=function(key){var resNode=this._reverseUpperBound(this.root,key);return new OrderedSetIterator(resNode,this.header)};OrderedSet.prototype.union=function(other){var _this=this;other.forEach((function(element){return _this.insert(element)}))};OrderedSet.prototype[Symbol.iterator]=function(){return this.iterationFunc(this.root)};return OrderedSet}(TreeContainer$1);var OrderedSet$1=OrderedSet;var __extends$3=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __generator$2=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};var __read=function(o,n){var m=typeof Symbol==="function"&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{while((n===void 0||n-- >0)&&!(r=i.next()).done)ar.push(r.value)}catch(error){e={error:error}}finally{try{if(r&&!r.done&&(m=i["return"]))m.call(i)}finally{if(e)throw e.error}}return ar};var __values$2=function(o){var s=typeof Symbol==="function"&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&typeof o.length==="number")return{next:function(){if(o&&i>=o.length)o=void 0;return{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};var OrderedMapIterator=function(_super){__extends$3(OrderedMapIterator,_super);function OrderedMapIterator(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(OrderedMapIterator.prototype,"pointer",{get:function(){var _this=this;if(this.node===this.header){throw new RangeError("OrderedMap iterator access denied")}return new Proxy([],{get:function(_,props){if(props==="0")return _this.node.key;else if(props==="1")return _this.node.value},set:function(_,props,newValue){if(props!=="1"){throw new TypeError("props must be 1")}_this.node.value=newValue;return true}})},enumerable:false,configurable:true});OrderedMapIterator.prototype.copy=function(){return new OrderedMapIterator(this.node,this.header,this.iteratorType)};return OrderedMapIterator}(TreeIterator$1);var OrderedMap=function(_super){__extends$3(OrderedMap,_super);function OrderedMap(container,cmp){if(container===void 0){container=[]}var _this=_super.call(this,cmp)||this;_this.iterationFunc=function(curNode){return __generator$2(this,(function(_a){switch(_a.label){case 0:if(curNode===undefined)return[2];return[5,__values$2(this.iterationFunc(curNode.left))];case 1:_a.sent();return[4,[curNode.key,curNode.value]];case 2:_a.sent();return[5,__values$2(this.iterationFunc(curNode.right))];case 3:_a.sent();return[2]}}))};_this.iterationFunc=_this.iterationFunc.bind(_this);container.forEach((function(_a){var _b=__read(_a,2),key=_b[0],value=_b[1];return _this.setElement(key,value)}));return _this}OrderedMap.prototype.begin=function(){return new OrderedMapIterator(this.header.left||this.header,this.header)};OrderedMap.prototype.end=function(){return new OrderedMapIterator(this.header,this.header)};OrderedMap.prototype.rBegin=function(){return new OrderedMapIterator(this.header.right||this.header,this.header,ContainerIterator.REVERSE)};OrderedMap.prototype.rEnd=function(){return new OrderedMapIterator(this.header,this.header,ContainerIterator.REVERSE)};OrderedMap.prototype.front=function(){if(!this.length)return undefined;var minNode=this.header.left;return[minNode.key,minNode.value]};OrderedMap.prototype.back=function(){if(!this.length)return undefined;var maxNode=this.header.right;return[maxNode.key,maxNode.value]};OrderedMap.prototype.forEach=function(callback){var e_1,_a;var index=0;try{for(var _b=__values$2(this),_c=_b.next();!_c.done;_c=_b.next()){var pair=_c.value;callback(pair,index++)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{if(_c&&!_c.done&&(_a=_b.return))_a.call(_b)}finally{if(e_1)throw e_1.error}}};OrderedMap.prototype.lowerBound=function(key){var resNode=this._lowerBound(this.root,key);return new OrderedMapIterator(resNode,this.header)};OrderedMap.prototype.upperBound=function(key){var resNode=this._upperBound(this.root,key);return new OrderedMapIterator(resNode,this.header)};OrderedMap.prototype.reverseLowerBound=function(key){var resNode=this._reverseLowerBound(this.root,key);return new OrderedMapIterator(resNode,this.header)};OrderedMap.prototype.reverseUpperBound=function(key){var resNode=this._reverseUpperBound(this.root,key);return new OrderedMapIterator(resNode,this.header)};OrderedMap.prototype.setElement=function(key,value,hint){this.set(key,value,hint)};OrderedMap.prototype.find=function(key){var curNode=this.findElementNode(this.root,key);if(curNode!==undefined){return new OrderedMapIterator(curNode,this.header)}return this.end()};OrderedMap.prototype.getElementByKey=function(key){var curNode=this.findElementNode(this.root,key);return curNode?curNode.value:undefined};OrderedMap.prototype.getElementByPos=function(pos){var e_2,_a;checkWithinAccessParams(pos,0,this.length-1);var res;var index=0;try{for(var _b=__values$2(this),_c=_b.next();!_c.done;_c=_b.next()){var pair=_c.value;if(index===pos){res=pair;break}index+=1}}catch(e_2_1){e_2={error:e_2_1}}finally{try{if(_c&&!_c.done&&(_a=_b.return))_a.call(_b)}finally{if(e_2)throw e_2.error}}return res};OrderedMap.prototype.union=function(other){var _this=this;other.forEach((function(_a){var _b=__read(_a,2),key=_b[0],value=_b[1];return _this.setElement(key,value)}))};OrderedMap.prototype[Symbol.iterator]=function(){return this.iterationFunc(this.root)};return OrderedMap}(TreeContainer$1);var OrderedMap$1=OrderedMap;var __extends$2=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var HashContainer=function(_super){__extends$2(HashContainer,_super);function HashContainer(initBucketNum,hashFunc){if(initBucketNum===void 0){initBucketNum=16}if(hashFunc===void 0){hashFunc=function(x){var str;if(typeof x!=="string"){str=JSON.stringify(x)}else str=x;var hashCode=0;var strLength=str.length;for(var i=0;i<strLength;i++){var ch=str.charCodeAt(i);hashCode=(hashCode<<5)-hashCode+ch;hashCode|=0}return hashCode>>>0}}var _this=_super.call(this)||this;if(initBucketNum<16||(initBucketNum&initBucketNum-1)!==0){throw new RangeError("InitBucketNum range error")}_this.bucketNum=_this.initBucketNum=initBucketNum;_this.hashFunc=hashFunc;return _this}HashContainer.prototype.clear=function(){this.length=0;this.bucketNum=this.initBucketNum;this.hashTable=[]};HashContainer.sigma=.75;HashContainer.treeifyThreshold=8;HashContainer.untreeifyThreshold=6;HashContainer.minTreeifySize=64;HashContainer.maxBucketNum=1<<30;return HashContainer}(Base);var HashContainer$1=HashContainer;var __extends$1=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __generator$1=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};var __values$1=function(o){var s=typeof Symbol==="function"&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&typeof o.length==="number")return{next:function(){if(o&&i>=o.length)o=void 0;return{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};var HashSet=function(_super){__extends$1(HashSet,_super);function HashSet(container,initBucketNum,hashFunc){if(container===void 0){container=[]}var _this=_super.call(this,initBucketNum,hashFunc)||this;_this.hashTable=[];container.forEach((function(element){return _this.insert(element)}));return _this}HashSet.prototype.reAllocate=function(){var _this=this;if(this.bucketNum>=HashContainer$1.maxBucketNum)return;var newHashTable=[];var originalBucketNum=this.bucketNum;this.bucketNum<<=1;var keys=Object.keys(this.hashTable);var keyNums=keys.length;var _loop_1=function(i){var index=parseInt(keys[i]);var container=this_1.hashTable[index];var size=container.size();if(size===0)return"continue";if(size===1){var element=container.front();newHashTable[this_1.hashFunc(element)&this_1.bucketNum-1]=new Vector$1([element],false);return"continue"}var lowList=[];var highList=[];container.forEach((function(element){var hashCode=_this.hashFunc(element);if((hashCode&originalBucketNum)===0){lowList.push(element)}else highList.push(element)}));if(container instanceof OrderedSet$1){if(lowList.length>HashContainer$1.untreeifyThreshold){newHashTable[index]=new OrderedSet$1(lowList)}else if(lowList.length){newHashTable[index]=new Vector$1(lowList,false)}if(highList.length>HashContainer$1.untreeifyThreshold){newHashTable[index+originalBucketNum]=new OrderedSet$1(highList)}else if(highList.length){newHashTable[index+originalBucketNum]=new Vector$1(highList,false)}}else{if(lowList.length>=HashContainer$1.treeifyThreshold){newHashTable[index]=new OrderedSet$1(lowList)}else if(lowList.length){newHashTable[index]=new Vector$1(lowList,false)}if(highList.length>=HashContainer$1.treeifyThreshold){newHashTable[index+originalBucketNum]=new OrderedSet$1(highList)}else if(highList.length){newHashTable[index+originalBucketNum]=new Vector$1(highList,false)}}};var this_1=this;for(var i=0;i<keyNums;++i){_loop_1(i)}this.hashTable=newHashTable};HashSet.prototype.forEach=function(callback){var containers=Object.values(this.hashTable);var containersNum=containers.length;var index=0;for(var i=0;i<containersNum;++i){containers[i].forEach((function(element){return callback(element,index++)}))}};HashSet.prototype.insert=function(element){var index=this.hashFunc(element)&this.bucketNum-1;var container=this.hashTable[index];if(!container){this.hashTable[index]=new Vector$1([element],false);this.length+=1}else{var preSize=container.size();if(container instanceof Vector$1){if(!container.find(element).equals(container.end()))return;container.pushBack(element);if(preSize+1>=HashContainer$1.treeifyThreshold){if(this.bucketNum<=HashContainer$1.minTreeifySize){this.length+=1;this.reAllocate();return}this.hashTable[index]=new OrderedSet$1(container)}this.length+=1}else{container.insert(element);var curSize=container.size();this.length+=curSize-preSize}}if(this.length>this.bucketNum*HashContainer$1.sigma){this.reAllocate()}};HashSet.prototype.eraseElementByKey=function(key){var index=this.hashFunc(key)&this.bucketNum-1;var container=this.hashTable[index];if(!container)return;var preSize=container.size();if(preSize===0)return;if(container instanceof Vector$1){container.eraseElementByValue(key);var curSize=container.size();this.length+=curSize-preSize}else{container.eraseElementByKey(key);var curSize=container.size();this.length+=curSize-preSize;if(curSize<=HashContainer$1.untreeifyThreshold){this.hashTable[index]=new Vector$1(container)}}};HashSet.prototype.find=function(element){var index=this.hashFunc(element)&this.bucketNum-1;var container=this.hashTable[index];if(!container)return false;return!container.find(element).equals(container.end())};HashSet.prototype[Symbol.iterator]=function(){return function(){var containers,containersNum,i,container,container_1,container_1_1,element,e_1_1;var e_1,_a;return __generator$1(this,(function(_b){switch(_b.label){case 0:containers=Object.values(this.hashTable);containersNum=containers.length;i=0;_b.label=1;case 1:if(!(i<containersNum))return[3,10];container=containers[i];_b.label=2;case 2:_b.trys.push([2,7,8,9]);container_1=(e_1=void 0,__values$1(container)),container_1_1=container_1.next();_b.label=3;case 3:if(!!container_1_1.done)return[3,6];element=container_1_1.value;return[4,element];case 4:_b.sent();_b.label=5;case 5:container_1_1=container_1.next();return[3,3];case 6:return[3,9];case 7:e_1_1=_b.sent();e_1={error:e_1_1};return[3,9];case 8:try{if(container_1_1&&!container_1_1.done&&(_a=container_1.return))_a.call(container_1)}finally{if(e_1)throw e_1.error}return[7];case 9:++i;return[3,1];case 10:return[2]}}))}.bind(this)()};return HashSet}(HashContainer$1);var HashSet$1=HashSet;var __extends=function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};var __values=function(o){var s=typeof Symbol==="function"&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&typeof o.length==="number")return{next:function(){if(o&&i>=o.length)o=void 0;return{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};var HashMap=function(_super){__extends(HashMap,_super);function HashMap(container,initBucketNum,hashFunc){if(container===void 0){container=[]}var _this=_super.call(this,initBucketNum,hashFunc)||this;_this.hashTable=[];container.forEach((function(element){return _this.setElement(element[0],element[1])}));return _this}HashMap.prototype.reAllocate=function(){var _this=this;if(this.bucketNum>=HashContainer$1.maxBucketNum)return;var newHashTable=[];var originalBucketNum=this.bucketNum;this.bucketNum<<=1;var keys=Object.keys(this.hashTable);var keyNums=keys.length;var _loop_1=function(i){var index=parseInt(keys[i]);var container=this_1.hashTable[index];var size=container.size();if(size===0)return"continue";if(size===1){var element=container.front();newHashTable[this_1.hashFunc(element[0])&this_1.bucketNum-1]=new Vector$1([element],false);return"continue"}var lowList=[];var highList=[];container.forEach((function(element){var hashCode=_this.hashFunc(element[0]);if((hashCode&originalBucketNum)===0){lowList.push(element)}else highList.push(element)}));if(container instanceof OrderedMap$1){if(lowList.length>HashContainer$1.untreeifyThreshold){newHashTable[index]=new OrderedMap$1(lowList)}else if(lowList.length){newHashTable[index]=new Vector$1(lowList,false)}if(highList.length>HashContainer$1.untreeifyThreshold){newHashTable[index+originalBucketNum]=new OrderedMap$1(highList)}else if(highList.length){newHashTable[index+originalBucketNum]=new Vector$1(highList,false)}}else{if(lowList.length>=HashContainer$1.treeifyThreshold){newHashTable[index]=new OrderedMap$1(lowList)}else if(lowList.length){newHashTable[index]=new Vector$1(lowList,false)}if(highList.length>=HashContainer$1.treeifyThreshold){newHashTable[index+originalBucketNum]=new OrderedMap$1(highList)}else if(highList.length){newHashTable[index+originalBucketNum]=new Vector$1(highList,false)}}};var this_1=this;for(var i=0;i<keyNums;++i){_loop_1(i)}this.hashTable=newHashTable};HashMap.prototype.forEach=function(callback){var containers=Object.values(this.hashTable);var containersNum=containers.length;var index=0;for(var i=0;i<containersNum;++i){containers[i].forEach((function(element){return callback(element,index++)}))}};HashMap.prototype.setElement=function(key,value){var e_1,_a;var index=this.hashFunc(key)&this.bucketNum-1;var container=this.hashTable[index];if(!container){this.length+=1;this.hashTable[index]=new Vector$1([[key,value]],false)}else{var preSize=container.size();if(container instanceof Vector$1){try{for(var container_1=__values(container),container_1_1=container_1.next();!container_1_1.done;container_1_1=container_1.next()){var pair=container_1_1.value;if(pair[0]===key){pair[1]=value;return}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{if(container_1_1&&!container_1_1.done&&(_a=container_1.return))_a.call(container_1)}finally{if(e_1)throw e_1.error}}container.pushBack([key,value]);if(preSize+1>=HashMap.treeifyThreshold){if(this.bucketNum<=HashMap.minTreeifySize){this.length+=1;this.reAllocate();return}this.hashTable[index]=new OrderedMap$1(this.hashTable[index])}this.length+=1}else{container.setElement(key,value);var curSize=container.size();this.length+=curSize-preSize}}if(this.length>this.bucketNum*HashMap.sigma){this.reAllocate()}};HashMap.prototype.getElementByKey=function(key){var e_2,_a;var index=this.hashFunc(key)&this.bucketNum-1;var container=this.hashTable[index];if(!container)return undefined;if(container instanceof OrderedMap$1){return container.getElementByKey(key)}else{try{for(var container_2=__values(container),container_2_1=container_2.next();!container_2_1.done;container_2_1=container_2.next()){var pair=container_2_1.value;if(pair[0]===key)return pair[1]}}catch(e_2_1){e_2={error:e_2_1}}finally{try{if(container_2_1&&!container_2_1.done&&(_a=container_2.return))_a.call(container_2)}finally{if(e_2)throw e_2.error}}return undefined}};HashMap.prototype.eraseElementByKey=function(key){var e_3,_a;var index=this.hashFunc(key)&this.bucketNum-1;var container=this.hashTable[index];if(!container)return;if(container instanceof Vector$1){var pos=0;try{for(var container_3=__values(container),container_3_1=container_3.next();!container_3_1.done;container_3_1=container_3.next()){var pair=container_3_1.value;if(pair[0]===key){container.eraseElementByPos(pos);this.length-=1;return}pos+=1}}catch(e_3_1){e_3={error:e_3_1}}finally{try{if(container_3_1&&!container_3_1.done&&(_a=container_3.return))_a.call(container_3)}finally{if(e_3)throw e_3.error}}}else{var preSize=container.size();container.eraseElementByKey(key);var curSize=container.size();this.length+=curSize-preSize;if(curSize<=HashContainer$1.untreeifyThreshold){this.hashTable[index]=new Vector$1(container)}}};HashMap.prototype.find=function(key){var e_4,_a;var index=this.hashFunc(key)&this.bucketNum-1;var container=this.hashTable[index];if(!container)return false;if(container instanceof OrderedMap$1){return!container.find(key).equals(container.end())}try{for(var container_4=__values(container),container_4_1=container_4.next();!container_4_1.done;container_4_1=container_4.next()){var pair=container_4_1.value;if(pair[0]===key)return true}}catch(e_4_1){e_4={error:e_4_1}}finally{try{if(container_4_1&&!container_4_1.done&&(_a=container_4.return))_a.call(container_4)}finally{if(e_4)throw e_4.error}}return false};HashMap.prototype[Symbol.iterator]=function(){return function(){var containers,containersNum,i,container,container_5,container_5_1,element,e_5_1;var e_5,_a;return __generator(this,(function(_b){switch(_b.label){case 0:containers=Object.values(this.hashTable);containersNum=containers.length;i=0;_b.label=1;case 1:if(!(i<containersNum))return[3,10];container=containers[i];_b.label=2;case 2:_b.trys.push([2,7,8,9]);container_5=(e_5=void 0,__values(container)),container_5_1=container_5.next();_b.label=3;case 3:if(!!container_5_1.done)return[3,6];element=container_5_1.value;return[4,element];case 4:_b.sent();_b.label=5;case 5:container_5_1=container_5.next();return[3,3];case 6:return[3,9];case 7:e_5_1=_b.sent();e_5={error:e_5_1};return[3,9];case 8:try{if(container_5_1&&!container_5_1.done&&(_a=container_5.return))_a.call(container_5)}finally{if(e_5)throw e_5.error}return[7];case 9:++i;return[3,1];case 10:return[2]}}))}.bind(this)()};return HashMap}(HashContainer$1);var HashMap$1=HashMap;var esm=Object.freeze({__proto__:null,Stack:Stack$1,Queue:Queue$1,PriorityQueue:PriorityQueue$1,Vector:Vector$1,VectorIterator:VectorIterator,LinkList:LinkList$1,LinkListIterator:LinkListIterator,Deque:Deque$1,DequeIterator:DequeIterator,OrderedSet:OrderedSet$1,OrderedSetIterator:OrderedSetIterator,OrderedMap:OrderedMap$1,OrderedMapIterator:OrderedMapIterator,HashSet:HashSet$1,HashMap:HashMap$1,Container:Container,ContainerIterator:ContainerIterator,SequentialContainer:SequentialContainer$1,TreeContainer:TreeContainer$1,HashContainer:HashContainer$1});var indent;var hasRequiredIndent;function requireIndent(){if(hasRequiredIndent)return indent;hasRequiredIndent=1;const{OrderedMap:OrderedMap}=esm;const astUtils=requireAstUtils();const KNOWN_NODES=new Set(["AssignmentExpression","AssignmentPattern","ArrayExpression","ArrayPattern","ArrowFunctionExpression","AwaitExpression","BlockStatement","BinaryExpression","BreakStatement","CallExpression","CatchClause","ChainExpression","ClassBody","ClassDeclaration","ClassExpression","ConditionalExpression","ContinueStatement","DoWhileStatement","DebuggerStatement","EmptyStatement","ExperimentalRestProperty","ExperimentalSpreadProperty","ExpressionStatement","ForStatement","ForInStatement","ForOfStatement","FunctionDeclaration","FunctionExpression","Identifier","IfStatement","Literal","LabeledStatement","LogicalExpression","MemberExpression","MetaProperty","MethodDefinition","NewExpression","ObjectExpression","ObjectPattern","PrivateIdentifier","Program","Property","PropertyDefinition","RestElement","ReturnStatement","SequenceExpression","SpreadElement","StaticBlock","Super","SwitchCase","SwitchStatement","TaggedTemplateExpression","TemplateElement","TemplateLiteral","ThisExpression","ThrowStatement","TryStatement","UnaryExpression","UpdateExpression","VariableDeclaration","VariableDeclarator","WhileStatement","WithStatement","YieldExpression","JSXFragment","JSXOpeningFragment","JSXClosingFragment","JSXIdentifier","JSXNamespacedName","JSXMemberExpression","JSXEmptyExpression","JSXExpressionContainer","JSXElement","JSXClosingElement","JSXOpeningElement","JSXAttribute","JSXSpreadAttribute","JSXText","ExportDefaultDeclaration","ExportNamedDeclaration","ExportAllDeclaration","ExportSpecifier","ImportDeclaration","ImportSpecifier","ImportDefaultSpecifier","ImportNamespaceSpecifier","ImportExpression"]);class BinarySearchTree{constructor(){this._orderedMap=new OrderedMap;this._orderedMapEnd=this._orderedMap.end()}insert(key,value){this._orderedMap.setElement(key,value)}findLe(key){const iterator=this._orderedMap.reverseLowerBound(key);if(iterator.equals(this._orderedMapEnd)){return{}}return{key:iterator.pointer[0],value:iterator.pointer[1]}}deleteRange(start,end){if(start===end){return}const iterator=this._orderedMap.lowerBound(start);if(iterator.equals(this._orderedMapEnd)){return}if(end>this._orderedMap.back()[0]){while(!iterator.equals(this._orderedMapEnd)){this._orderedMap.eraseElementByIterator(iterator)}}else{while(iterator.pointer[0]<end){this._orderedMap.eraseElementByIterator(iterator)}}}}class TokenInfo{constructor(sourceCode){this.sourceCode=sourceCode;this.firstTokensByLineNumber=sourceCode.tokensAndComments.reduce(((map,token)=>{if(!map.has(token.loc.start.line)){map.set(token.loc.start.line,token)}if(!map.has(token.loc.end.line)&&sourceCode.text.slice(token.range[1]-token.loc.end.column,token.range[1]).trim()){map.set(token.loc.end.line,token)}return map}),new Map)}getFirstTokenOfLine(token){return this.firstTokensByLineNumber.get(token.loc.start.line)}isFirstTokenOfLine(token){return this.getFirstTokenOfLine(token)===token}getTokenIndent(token){return this.sourceCode.text.slice(token.range[0]-token.loc.start.column,token.range[0])}}class OffsetStorage{constructor(tokenInfo,indentSize,indentType){this._tokenInfo=tokenInfo;this._indentSize=indentSize;this._indentType=indentType;this._tree=new BinarySearchTree;this._tree.insert(0,{offset:0,from:null,force:false});this._lockedFirstTokens=new WeakMap;this._desiredIndentCache=new WeakMap;this._ignoredTokens=new WeakSet}_getOffsetDescriptor(token){return this._tree.findLe(token.range[0]).value}matchOffsetOf(baseToken,offsetToken){this._lockedFirstTokens.set(offsetToken,baseToken)}setDesiredOffset(token,fromToken,offset){return this.setDesiredOffsets(token.range,fromToken,offset)}setDesiredOffsets(range,fromToken,offset,force){const descriptorToInsert={offset:offset,from:fromToken,force:force};const descriptorAfterRange=this._tree.findLe(range[1]).value;const fromTokenIsInRange=fromToken&&fromToken.range[0]>=range[0]&&fromToken.range[1]<=range[1];const fromTokenDescriptor=fromTokenIsInRange&&this._getOffsetDescriptor(fromToken);this._tree.deleteRange(range[0]+1,range[1]);this._tree.insert(range[0],descriptorToInsert);if(fromTokenIsInRange){this._tree.insert(fromToken.range[0],fromTokenDescriptor);this._tree.insert(fromToken.range[1],descriptorToInsert)}this._tree.insert(range[1],descriptorAfterRange)}getDesiredIndent(token){if(!this._desiredIndentCache.has(token)){if(this._ignoredTokens.has(token)){this._desiredIndentCache.set(token,this._tokenInfo.getTokenIndent(token))}else if(this._lockedFirstTokens.has(token)){const firstToken=this._lockedFirstTokens.get(token);this._desiredIndentCache.set(token,this.getDesiredIndent(this._tokenInfo.getFirstTokenOfLine(firstToken))+this._indentType.repeat(firstToken.loc.start.column-this._tokenInfo.getFirstTokenOfLine(firstToken).loc.start.column))}else{const offsetInfo=this._getOffsetDescriptor(token);const offset=offsetInfo.from&&offsetInfo.from.loc.start.line===token.loc.start.line&&!/^\s*?\n/u.test(token.value)&&!offsetInfo.force?0:offsetInfo.offset*this._indentSize;this._desiredIndentCache.set(token,(offsetInfo.from?this.getDesiredIndent(offsetInfo.from):"")+this._indentType.repeat(offset))}}return this._desiredIndentCache.get(token)}ignoreToken(token){if(this._tokenInfo.isFirstTokenOfLine(token)){this._ignoredTokens.add(token)}}getFirstDependency(token){return this._getOffsetDescriptor(token).from}}const ELEMENT_LIST_SCHEMA={oneOf:[{type:"integer",minimum:0},{enum:["first","off"]}]};indent={meta:{type:"layout",docs:{description:"Enforce consistent indentation",recommended:false,url:"https://eslint.org/docs/rules/indent"},fixable:"whitespace",schema:[{oneOf:[{enum:["tab"]},{type:"integer",minimum:0}]},{type:"object",properties:{SwitchCase:{type:"integer",minimum:0,default:0},VariableDeclarator:{oneOf:[ELEMENT_LIST_SCHEMA,{type:"object",properties:{var:ELEMENT_LIST_SCHEMA,let:ELEMENT_LIST_SCHEMA,const:ELEMENT_LIST_SCHEMA},additionalProperties:false}]},outerIIFEBody:{oneOf:[{type:"integer",minimum:0},{enum:["off"]}]},MemberExpression:{oneOf:[{type:"integer",minimum:0},{enum:["off"]}]},FunctionDeclaration:{type:"object",properties:{parameters:ELEMENT_LIST_SCHEMA,body:{type:"integer",minimum:0}},additionalProperties:false},FunctionExpression:{type:"object",properties:{parameters:ELEMENT_LIST_SCHEMA,body:{type:"integer",minimum:0}},additionalProperties:false},StaticBlock:{type:"object",properties:{body:{type:"integer",minimum:0}},additionalProperties:false},CallExpression:{type:"object",properties:{arguments:ELEMENT_LIST_SCHEMA},additionalProperties:false},ArrayExpression:ELEMENT_LIST_SCHEMA,ObjectExpression:ELEMENT_LIST_SCHEMA,ImportDeclaration:ELEMENT_LIST_SCHEMA,flatTernaryExpressions:{type:"boolean",default:false},offsetTernaryExpressions:{type:"boolean",default:false},ignoredNodes:{type:"array",items:{type:"string",not:{pattern:":exit$"}}},ignoreComments:{type:"boolean",default:false}},additionalProperties:false}],messages:{wrongIndentation:"Expected indentation of {{expected}} but found {{actual}}."}},create(context){const DEFAULT_VARIABLE_INDENT=1;const DEFAULT_PARAMETER_INDENT=1;const DEFAULT_FUNCTION_BODY_INDENT=1;let indentType="space";let indentSize=4;const options={SwitchCase:0,VariableDeclarator:{var:DEFAULT_VARIABLE_INDENT,let:DEFAULT_VARIABLE_INDENT,const:DEFAULT_VARIABLE_INDENT},outerIIFEBody:1,FunctionDeclaration:{parameters:DEFAULT_PARAMETER_INDENT,body:DEFAULT_FUNCTION_BODY_INDENT},FunctionExpression:{parameters:DEFAULT_PARAMETER_INDENT,body:DEFAULT_FUNCTION_BODY_INDENT},StaticBlock:{body:DEFAULT_FUNCTION_BODY_INDENT},CallExpression:{arguments:DEFAULT_PARAMETER_INDENT},MemberExpression:1,ArrayExpression:1,ObjectExpression:1,ImportDeclaration:1,flatTernaryExpressions:false,ignoredNodes:[],ignoreComments:false};if(context.options.length){if(context.options[0]==="tab"){indentSize=1;indentType="tab"}else{indentSize=context.options[0];indentType="space"}if(context.options[1]){Object.assign(options,context.options[1]);if(typeof options.VariableDeclarator==="number"||options.VariableDeclarator==="first"){options.VariableDeclarator={var:options.VariableDeclarator,let:options.VariableDeclarator,const:options.VariableDeclarator}}}}const sourceCode=context.getSourceCode();const tokenInfo=new TokenInfo(sourceCode);const offsets=new OffsetStorage(tokenInfo,indentSize,indentType==="space"?" ":"\t");const parameterParens=new WeakSet;function createErrorMessageData(expectedAmount,actualSpaces,actualTabs){const expectedStatement=`${expectedAmount} ${indentType}${expectedAmount===1?"":"s"}`;const foundSpacesWord=`space${actualSpaces===1?"":"s"}`;const foundTabsWord=`tab${actualTabs===1?"":"s"}`;let foundStatement;if(actualSpaces>0){foundStatement=indentType==="space"?actualSpaces:`${actualSpaces} ${foundSpacesWord}`}else if(actualTabs>0){foundStatement=indentType==="tab"?actualTabs:`${actualTabs} ${foundTabsWord}`}else{foundStatement="0"}return{expected:expectedStatement,actual:foundStatement}}function report(token,neededIndent){const actualIndent=Array.from(tokenInfo.getTokenIndent(token));const numSpaces=actualIndent.filter((char=>char===" ")).length;const numTabs=actualIndent.filter((char=>char==="\t")).length;context.report({node:token,messageId:"wrongIndentation",data:createErrorMessageData(neededIndent.length,numSpaces,numTabs),loc:{start:{line:token.loc.start.line,column:0},end:{line:token.loc.start.line,column:token.loc.start.column}},fix(fixer){const range=[token.range[0]-token.loc.start.column,token.range[0]];const newText=neededIndent;return fixer.replaceTextRange(range,newText)}})}function validateTokenIndent(token,desiredIndent){const indentation=tokenInfo.getTokenIndent(token);return indentation===desiredIndent||indentation.includes(" ")&&indentation.includes("\t")}function isOuterIIFE(node){if(!node.parent||node.parent.type!=="CallExpression"||node.parent.callee!==node){return false}let statement=node.parent&&node.parent.parent;while(statement.type==="UnaryExpression"&&["!","~","+","-"].includes(statement.operator)||statement.type==="AssignmentExpression"||statement.type==="LogicalExpression"||statement.type==="SequenceExpression"||statement.type==="VariableDeclarator"){statement=statement.parent}return(statement.type==="ExpressionStatement"||statement.type==="VariableDeclaration")&&statement.parent.type==="Program"}function countTrailingLinebreaks(string){const trailingWhitespace=string.match(/\s*$/u)[0];const linebreakMatches=trailingWhitespace.match(astUtils.createGlobalLinebreakMatcher());return linebreakMatches===null?0:linebreakMatches.length}function addElementListIndent(elements,startToken,endToken,offset){function getFirstToken(element){let token=sourceCode.getTokenBefore(element);while(astUtils.isOpeningParenToken(token)&&token!==startToken){token=sourceCode.getTokenBefore(token)}return sourceCode.getTokenAfter(token)}offsets.setDesiredOffsets([startToken.range[1],endToken.range[0]],startToken,typeof offset==="number"?offset:1);offsets.setDesiredOffset(endToken,startToken,0);if(offset==="first"&&elements.length&&!elements[0]){return}elements.forEach(((element,index)=>{if(!element){return}if(offset==="off"){offsets.ignoreToken(getFirstToken(element))}if(index===0){return}if(offset==="first"&&tokenInfo.isFirstTokenOfLine(getFirstToken(element))){offsets.matchOffsetOf(getFirstToken(elements[0]),getFirstToken(element))}else{const previousElement=elements[index-1];const firstTokenOfPreviousElement=previousElement&&getFirstToken(previousElement);const previousElementLastToken=previousElement&&sourceCode.getLastToken(previousElement);if(previousElement&&previousElementLastToken.loc.end.line-countTrailingLinebreaks(previousElementLastToken.value)>startToken.loc.end.line){offsets.setDesiredOffsets([previousElement.range[1],element.range[1]],firstTokenOfPreviousElement,0)}}}))}function addBlocklessNodeIndent(node){if(node.type!=="BlockStatement"){const lastParentToken=sourceCode.getTokenBefore(node,astUtils.isNotOpeningParenToken);let firstBodyToken=sourceCode.getFirstToken(node);let lastBodyToken=sourceCode.getLastToken(node);while(astUtils.isOpeningParenToken(sourceCode.getTokenBefore(firstBodyToken))&&astUtils.isClosingParenToken(sourceCode.getTokenAfter(lastBodyToken))){firstBodyToken=sourceCode.getTokenBefore(firstBodyToken);lastBodyToken=sourceCode.getTokenAfter(lastBodyToken)}offsets.setDesiredOffsets([firstBodyToken.range[0],lastBodyToken.range[1]],lastParentToken,1)}}function addFunctionCallIndent(node){let openingParen;if(node.arguments.length){openingParen=sourceCode.getFirstTokenBetween(node.callee,node.arguments[0],astUtils.isOpeningParenToken)}else{openingParen=sourceCode.getLastToken(node,1)}const closingParen=sourceCode.getLastToken(node);parameterParens.add(openingParen);parameterParens.add(closingParen);if(node.optional){const dotToken=sourceCode.getTokenAfter(node.callee,astUtils.isQuestionDotToken);const calleeParenCount=sourceCode.getTokensBetween(node.callee,dotToken,{filter:astUtils.isClosingParenToken}).length;const firstTokenOfCallee=calleeParenCount?sourceCode.getTokenBefore(node.callee,{skip:calleeParenCount-1}):sourceCode.getFirstToken(node.callee);const lastTokenOfCallee=sourceCode.getTokenBefore(dotToken);const offsetBase=lastTokenOfCallee.loc.end.line===openingParen.loc.start.line?lastTokenOfCallee:firstTokenOfCallee;offsets.setDesiredOffset(dotToken,offsetBase,1)}const offsetAfterToken=node.callee.type==="TaggedTemplateExpression"?sourceCode.getFirstToken(node.callee.quasi):openingParen;const offsetToken=sourceCode.getTokenBefore(offsetAfterToken);offsets.setDesiredOffset(openingParen,offsetToken,0);addElementListIndent(node.arguments,openingParen,closingParen,options.CallExpression.arguments)}function addParensIndent(tokens){const parenStack=[];const parenPairs=[];tokens.forEach((nextToken=>{if(astUtils.isOpeningParenToken(nextToken)){parenStack.push(nextToken)}else if(astUtils.isClosingParenToken(nextToken)){parenPairs.unshift({left:parenStack.pop(),right:nextToken})}}));parenPairs.forEach((pair=>{const leftParen=pair.left;const rightParen=pair.right;if(!parameterParens.has(leftParen)&&!parameterParens.has(rightParen)){const parenthesizedTokens=new Set(sourceCode.getTokensBetween(leftParen,rightParen));parenthesizedTokens.forEach((token=>{if(!parenthesizedTokens.has(offsets.getFirstDependency(token))){offsets.setDesiredOffset(token,leftParen,1)}}))}offsets.setDesiredOffset(rightParen,leftParen,0)}))}function ignoreNode(node){const unknownNodeTokens=new Set(sourceCode.getTokens(node,{includeComments:true}));unknownNodeTokens.forEach((token=>{if(!unknownNodeTokens.has(offsets.getFirstDependency(token))){const firstTokenOfLine=tokenInfo.getFirstTokenOfLine(token);if(token===firstTokenOfLine){offsets.ignoreToken(token)}else{offsets.setDesiredOffset(token,firstTokenOfLine,0)}}}))}function isOnFirstLineOfStatement(token,leafNode){let node=leafNode;while(node.parent&&!node.parent.type.endsWith("Statement")&&!node.parent.type.endsWith("Declaration")){node=node.parent}node=node.parent;return!node||node.loc.start.line===token.loc.start.line}function hasBlankLinesBetween(firstToken,secondToken){const firstTokenLine=firstToken.loc.end.line;const secondTokenLine=secondToken.loc.start.line;if(firstTokenLine===secondTokenLine||firstTokenLine===secondTokenLine-1){return false}for(let line=firstTokenLine+1;line<secondTokenLine;++line){if(!tokenInfo.firstTokensByLineNumber.has(line)){return true}}return false}const ignoredNodeFirstTokens=new Set;const baseOffsetListeners={"ArrayExpression, ArrayPattern"(node){const openingBracket=sourceCode.getFirstToken(node);const closingBracket=sourceCode.getTokenAfter([...node.elements].reverse().find((_=>_))||openingBracket,astUtils.isClosingBracketToken);addElementListIndent(node.elements,openingBracket,closingBracket,options.ArrayExpression)},"ObjectExpression, ObjectPattern"(node){const openingCurly=sourceCode.getFirstToken(node);const closingCurly=sourceCode.getTokenAfter(node.properties.length?node.properties[node.properties.length-1]:openingCurly,astUtils.isClosingBraceToken);addElementListIndent(node.properties,openingCurly,closingCurly,options.ObjectExpression)},ArrowFunctionExpression(node){const maybeOpeningParen=sourceCode.getFirstToken(node,{skip:node.async?1:0});if(astUtils.isOpeningParenToken(maybeOpeningParen)){const openingParen=maybeOpeningParen;const closingParen=sourceCode.getTokenBefore(node.body,astUtils.isClosingParenToken);parameterParens.add(openingParen);parameterParens.add(closingParen);addElementListIndent(node.params,openingParen,closingParen,options.FunctionExpression.parameters)}addBlocklessNodeIndent(node.body)},AssignmentExpression(node){const operator=sourceCode.getFirstTokenBetween(node.left,node.right,(token=>token.value===node.operator));offsets.setDesiredOffsets([operator.range[0],node.range[1]],sourceCode.getLastToken(node.left),1);offsets.ignoreToken(operator);offsets.ignoreToken(sourceCode.getTokenAfter(operator))},"BinaryExpression, LogicalExpression"(node){const operator=sourceCode.getFirstTokenBetween(node.left,node.right,(token=>token.value===node.operator));const tokenAfterOperator=sourceCode.getTokenAfter(operator);offsets.ignoreToken(operator);offsets.ignoreToken(tokenAfterOperator);offsets.setDesiredOffset(tokenAfterOperator,operator,0)},"BlockStatement, ClassBody"(node){let blockIndentLevel;if(node.parent&&isOuterIIFE(node.parent)){blockIndentLevel=options.outerIIFEBody}else if(node.parent&&(node.parent.type==="FunctionExpression"||node.parent.type==="ArrowFunctionExpression")){blockIndentLevel=options.FunctionExpression.body}else if(node.parent&&node.parent.type==="FunctionDeclaration"){blockIndentLevel=options.FunctionDeclaration.body}else{blockIndentLevel=1}if(!astUtils.STATEMENT_LIST_PARENTS.has(node.parent.type)){offsets.setDesiredOffset(sourceCode.getFirstToken(node),sourceCode.getFirstToken(node.parent),0)}addElementListIndent(node.body,sourceCode.getFirstToken(node),sourceCode.getLastToken(node),blockIndentLevel)},CallExpression:addFunctionCallIndent,"ClassDeclaration[superClass], ClassExpression[superClass]"(node){const classToken=sourceCode.getFirstToken(node);const extendsToken=sourceCode.getTokenBefore(node.superClass,astUtils.isNotOpeningParenToken);offsets.setDesiredOffsets([extendsToken.range[0],node.body.range[0]],classToken,1)},ConditionalExpression(node){const firstToken=sourceCode.getFirstToken(node);if(!options.flatTernaryExpressions||!astUtils.isTokenOnSameLine(node.test,node.consequent)||isOnFirstLineOfStatement(firstToken,node)){const questionMarkToken=sourceCode.getFirstTokenBetween(node.test,node.consequent,(token=>token.type==="Punctuator"&&token.value==="?"));const colonToken=sourceCode.getFirstTokenBetween(node.consequent,node.alternate,(token=>token.type==="Punctuator"&&token.value===":"));const firstConsequentToken=sourceCode.getTokenAfter(questionMarkToken);const lastConsequentToken=sourceCode.getTokenBefore(colonToken);const firstAlternateToken=sourceCode.getTokenAfter(colonToken);offsets.setDesiredOffset(questionMarkToken,firstToken,1);offsets.setDesiredOffset(colonToken,firstToken,1);offsets.setDesiredOffset(firstConsequentToken,firstToken,firstConsequentToken.type==="Punctuator"&&options.offsetTernaryExpressions?2:1);if(lastConsequentToken.loc.end.line===firstAlternateToken.loc.start.line){offsets.setDesiredOffset(firstAlternateToken,firstConsequentToken,0)}else{offsets.setDesiredOffset(firstAlternateToken,firstToken,firstAlternateToken.type==="Punctuator"&&options.offsetTernaryExpressions?2:1)}}},"DoWhileStatement, WhileStatement, ForInStatement, ForOfStatement, WithStatement":node=>addBlocklessNodeIndent(node.body),ExportNamedDeclaration(node){if(node.declaration===null){const closingCurly=sourceCode.getLastToken(node,astUtils.isClosingBraceToken);addElementListIndent(node.specifiers,sourceCode.getFirstToken(node,{skip:1}),closingCurly,1);if(node.source){offsets.setDesiredOffsets([closingCurly.range[1],node.range[1]],sourceCode.getFirstToken(node),1)}}},ForStatement(node){const forOpeningParen=sourceCode.getFirstToken(node,1);if(node.init){offsets.setDesiredOffsets(node.init.range,forOpeningParen,1)}if(node.test){offsets.setDesiredOffsets(node.test.range,forOpeningParen,1)}if(node.update){offsets.setDesiredOffsets(node.update.range,forOpeningParen,1)}addBlocklessNodeIndent(node.body)},"FunctionDeclaration, FunctionExpression"(node){const closingParen=sourceCode.getTokenBefore(node.body);const openingParen=sourceCode.getTokenBefore(node.params.length?node.params[0]:closingParen);parameterParens.add(openingParen);parameterParens.add(closingParen);addElementListIndent(node.params,openingParen,closingParen,options[node.type].parameters)},IfStatement(node){addBlocklessNodeIndent(node.consequent);if(node.alternate&&node.alternate.type!=="IfStatement"){addBlocklessNodeIndent(node.alternate)}},":matches(DoWhileStatement, ForStatement, ForInStatement, ForOfStatement, IfStatement, WhileStatement, WithStatement):exit"(node){let nodesToCheck;if(node.type==="IfStatement"){nodesToCheck=[node.consequent];if(node.alternate){nodesToCheck.push(node.alternate)}}else{nodesToCheck=[node.body]}for(const nodeToCheck of nodesToCheck){const lastToken=sourceCode.getLastToken(nodeToCheck);if(astUtils.isSemicolonToken(lastToken)){const tokenBeforeLast=sourceCode.getTokenBefore(lastToken);const tokenAfterLast=sourceCode.getTokenAfter(lastToken);if(!astUtils.isTokenOnSameLine(tokenBeforeLast,lastToken)&&tokenAfterLast&&astUtils.isTokenOnSameLine(lastToken,tokenAfterLast)){offsets.setDesiredOffset(lastToken,sourceCode.getFirstToken(node),0)}}}},ImportDeclaration(node){if(node.specifiers.some((specifier=>specifier.type==="ImportSpecifier"))){const openingCurly=sourceCode.getFirstToken(node,astUtils.isOpeningBraceToken);const closingCurly=sourceCode.getLastToken(node,astUtils.isClosingBraceToken);addElementListIndent(node.specifiers.filter((specifier=>specifier.type==="ImportSpecifier")),openingCurly,closingCurly,options.ImportDeclaration)}const fromToken=sourceCode.getLastToken(node,(token=>token.type==="Identifier"&&token.value==="from"));const sourceToken=sourceCode.getLastToken(node,(token=>token.type==="String"));const semiToken=sourceCode.getLastToken(node,(token=>token.type==="Punctuator"&&token.value===";"));if(fromToken){const end=semiToken&&semiToken.range[1]===sourceToken.range[1]?node.range[1]:sourceToken.range[1];offsets.setDesiredOffsets([fromToken.range[0],end],sourceCode.getFirstToken(node),1)}},ImportExpression(node){const openingParen=sourceCode.getFirstToken(node,1);const closingParen=sourceCode.getLastToken(node);parameterParens.add(openingParen);parameterParens.add(closingParen);offsets.setDesiredOffset(openingParen,sourceCode.getTokenBefore(openingParen),0);addElementListIndent([node.source],openingParen,closingParen,options.CallExpression.arguments)},"MemberExpression, JSXMemberExpression, MetaProperty"(node){const object=node.type==="MetaProperty"?node.meta:node.object;const firstNonObjectToken=sourceCode.getFirstTokenBetween(object,node.property,astUtils.isNotClosingParenToken);const secondNonObjectToken=sourceCode.getTokenAfter(firstNonObjectToken);const objectParenCount=sourceCode.getTokensBetween(object,node.property,{filter:astUtils.isClosingParenToken}).length;const firstObjectToken=objectParenCount?sourceCode.getTokenBefore(object,{skip:objectParenCount-1}):sourceCode.getFirstToken(object);const lastObjectToken=sourceCode.getTokenBefore(firstNonObjectToken);const firstPropertyToken=node.computed?firstNonObjectToken:secondNonObjectToken;if(node.computed){offsets.setDesiredOffset(sourceCode.getLastToken(node),firstNonObjectToken,0);offsets.setDesiredOffsets(node.property.range,firstNonObjectToken,1)}const offsetBase=lastObjectToken.loc.end.line===firstPropertyToken.loc.start.line?lastObjectToken:firstObjectToken;if(typeof options.MemberExpression==="number"){offsets.setDesiredOffset(firstNonObjectToken,offsetBase,options.MemberExpression);offsets.setDesiredOffset(secondNonObjectToken,node.computed?firstNonObjectToken:offsetBase,options.MemberExpression)}else{offsets.ignoreToken(firstNonObjectToken);offsets.ignoreToken(secondNonObjectToken);offsets.setDesiredOffset(firstNonObjectToken,offsetBase,0);offsets.setDesiredOffset(secondNonObjectToken,firstNonObjectToken,0)}},NewExpression(node){if(node.arguments.length>0||astUtils.isClosingParenToken(sourceCode.getLastToken(node))&&astUtils.isOpeningParenToken(sourceCode.getLastToken(node,1))){addFunctionCallIndent(node)}},Property(node){if(!node.shorthand&&!node.method&&node.kind==="init"){const colon=sourceCode.getFirstTokenBetween(node.key,node.value,astUtils.isColonToken);offsets.ignoreToken(sourceCode.getTokenAfter(colon))}},PropertyDefinition(node){const firstToken=sourceCode.getFirstToken(node);const maybeSemicolonToken=sourceCode.getLastToken(node);let keyLastToken=null;if(node.computed){const bracketTokenL=sourceCode.getTokenBefore(node.key,astUtils.isOpeningBracketToken);const bracketTokenR=keyLastToken=sourceCode.getTokenAfter(node.key,astUtils.isClosingBracketToken);const keyRange=[bracketTokenL.range[1],bracketTokenR.range[0]];if(bracketTokenL!==firstToken){offsets.setDesiredOffset(bracketTokenL,firstToken,0)}offsets.setDesiredOffsets(keyRange,bracketTokenL,1);offsets.setDesiredOffset(bracketTokenR,bracketTokenL,0)}else{const idToken=keyLastToken=sourceCode.getFirstToken(node.key);if(idToken!==firstToken){offsets.setDesiredOffset(idToken,firstToken,1)}}if(node.value){const eqToken=sourceCode.getTokenBefore(node.value,astUtils.isEqToken);const valueToken=sourceCode.getTokenAfter(eqToken);offsets.setDesiredOffset(eqToken,keyLastToken,1);offsets.setDesiredOffset(valueToken,eqToken,1);if(astUtils.isSemicolonToken(maybeSemicolonToken)){offsets.setDesiredOffset(maybeSemicolonToken,eqToken,1)}}else if(astUtils.isSemicolonToken(maybeSemicolonToken)){offsets.setDesiredOffset(maybeSemicolonToken,keyLastToken,1)}},StaticBlock(node){const openingCurly=sourceCode.getFirstToken(node,{skip:1});const closingCurly=sourceCode.getLastToken(node);addElementListIndent(node.body,openingCurly,closingCurly,options.StaticBlock.body)},SwitchStatement(node){const openingCurly=sourceCode.getTokenAfter(node.discriminant,astUtils.isOpeningBraceToken);const closingCurly=sourceCode.getLastToken(node);offsets.setDesiredOffsets([openingCurly.range[1],closingCurly.range[0]],openingCurly,options.SwitchCase);if(node.cases.length){sourceCode.getTokensBetween(node.cases[node.cases.length-1],closingCurly,{includeComments:true,filter:astUtils.isCommentToken}).forEach((token=>offsets.ignoreToken(token)))}},SwitchCase(node){if(!(node.consequent.length===1&&node.consequent[0].type==="BlockStatement")){const caseKeyword=sourceCode.getFirstToken(node);const tokenAfterCurrentCase=sourceCode.getTokenAfter(node);offsets.setDesiredOffsets([caseKeyword.range[1],tokenAfterCurrentCase.range[0]],caseKeyword,1)}},TemplateLiteral(node){node.expressions.forEach(((expression,index)=>{const previousQuasi=node.quasis[index];const nextQuasi=node.quasis[index+1];const tokenToAlignFrom=previousQuasi.loc.start.line===previousQuasi.loc.end.line?sourceCode.getFirstToken(previousQuasi):null;offsets.setDesiredOffsets([previousQuasi.range[1],nextQuasi.range[0]],tokenToAlignFrom,1);offsets.setDesiredOffset(sourceCode.getFirstToken(nextQuasi),tokenToAlignFrom,0)}))},VariableDeclaration(node){let variableIndent=Object.prototype.hasOwnProperty.call(options.VariableDeclarator,node.kind)?options.VariableDeclarator[node.kind]:DEFAULT_VARIABLE_INDENT;const firstToken=sourceCode.getFirstToken(node),lastToken=sourceCode.getLastToken(node);if(options.VariableDeclarator[node.kind]==="first"){if(node.declarations.length>1){addElementListIndent(node.declarations,firstToken,lastToken,"first");return}variableIndent=DEFAULT_VARIABLE_INDENT}if(node.declarations[node.declarations.length-1].loc.start.line>node.loc.start.line){offsets.setDesiredOffsets(node.range,firstToken,variableIndent,true)}else{offsets.setDesiredOffsets(node.range,firstToken,variableIndent)}if(astUtils.isSemicolonToken(lastToken)){offsets.ignoreToken(lastToken)}},VariableDeclarator(node){if(node.init){const equalOperator=sourceCode.getTokenBefore(node.init,astUtils.isNotOpeningParenToken);const tokenAfterOperator=sourceCode.getTokenAfter(equalOperator);offsets.ignoreToken(equalOperator);offsets.ignoreToken(tokenAfterOperator);offsets.setDesiredOffsets([tokenAfterOperator.range[0],node.range[1]],equalOperator,1);offsets.setDesiredOffset(equalOperator,sourceCode.getLastToken(node.id),0)}},"JSXAttribute[value]"(node){const equalsToken=sourceCode.getFirstTokenBetween(node.name,node.value,(token=>token.type==="Punctuator"&&token.value==="="));offsets.setDesiredOffsets([equalsToken.range[0],node.value.range[1]],sourceCode.getFirstToken(node.name),1)},JSXElement(node){if(node.closingElement){addElementListIndent(node.children,sourceCode.getFirstToken(node.openingElement),sourceCode.getFirstToken(node.closingElement),1)}},JSXOpeningElement(node){const firstToken=sourceCode.getFirstToken(node);let closingToken;if(node.selfClosing){closingToken=sourceCode.getLastToken(node,{skip:1});offsets.setDesiredOffset(sourceCode.getLastToken(node),closingToken,0)}else{closingToken=sourceCode.getLastToken(node)}offsets.setDesiredOffsets(node.name.range,sourceCode.getFirstToken(node));addElementListIndent(node.attributes,firstToken,closingToken,1)},JSXClosingElement(node){const firstToken=sourceCode.getFirstToken(node);offsets.setDesiredOffsets(node.name.range,firstToken,1)},JSXFragment(node){const firstOpeningToken=sourceCode.getFirstToken(node.openingFragment);const firstClosingToken=sourceCode.getFirstToken(node.closingFragment);addElementListIndent(node.children,firstOpeningToken,firstClosingToken,1)},JSXOpeningFragment(node){const firstToken=sourceCode.getFirstToken(node);const closingToken=sourceCode.getLastToken(node);offsets.setDesiredOffsets(node.range,firstToken,1);offsets.matchOffsetOf(firstToken,closingToken)},JSXClosingFragment(node){const firstToken=sourceCode.getFirstToken(node);const slashToken=sourceCode.getLastToken(node,{skip:1});const closingToken=sourceCode.getLastToken(node);const tokenToMatch=astUtils.isTokenOnSameLine(slashToken,closingToken)?slashToken:closingToken;offsets.setDesiredOffsets(node.range,firstToken,1);offsets.matchOffsetOf(firstToken,tokenToMatch)},JSXExpressionContainer(node){const openingCurly=sourceCode.getFirstToken(node);const closingCurly=sourceCode.getLastToken(node);offsets.setDesiredOffsets([openingCurly.range[1],closingCurly.range[0]],openingCurly,1)},JSXSpreadAttribute(node){const openingCurly=sourceCode.getFirstToken(node);const closingCurly=sourceCode.getLastToken(node);offsets.setDesiredOffsets([openingCurly.range[1],closingCurly.range[0]],openingCurly,1)},"*"(node){const firstToken=sourceCode.getFirstToken(node);if(firstToken&&!ignoredNodeFirstTokens.has(firstToken)){offsets.setDesiredOffsets(node.range,firstToken,0)}}};const listenerCallQueue=[];const offsetListeners={};for(const[selector,listener]of Object.entries(baseOffsetListeners)){offsetListeners[selector]=node=>listenerCallQueue.push({listener:listener,node:node})}const ignoredNodes=new Set;function addToIgnoredNodes(node){ignoredNodes.add(node);ignoredNodeFirstTokens.add(sourceCode.getFirstToken(node))}const ignoredNodeListeners=options.ignoredNodes.reduce(((listeners,ignoredSelector)=>Object.assign(listeners,{[ignoredSelector]:addToIgnoredNodes})),{});return Object.assign(offsetListeners,ignoredNodeListeners,{"*:exit"(node){if(!KNOWN_NODES.has(node.type)){addToIgnoredNodes(node)}},"Program:exit"(){if(options.ignoreComments){sourceCode.getAllComments().forEach((comment=>offsets.ignoreToken(comment)))}listenerCallQueue.filter((nodeInfo=>!ignoredNodes.has(nodeInfo.node))).forEach((nodeInfo=>nodeInfo.listener(nodeInfo.node)));ignoredNodes.forEach(ignoreNode);addParensIndent(sourceCode.ast.tokens);const precedingTokens=sourceCode.ast.comments.reduce(((commentMap,comment)=>{const tokenOrCommentBefore=sourceCode.getTokenBefore(comment,{includeComments:true});return commentMap.set(comment,commentMap.has(tokenOrCommentBefore)?commentMap.get(tokenOrCommentBefore):tokenOrCommentBefore)}),new WeakMap);sourceCode.lines.forEach(((line,lineIndex)=>{const lineNumber=lineIndex+1;if(!tokenInfo.firstTokensByLineNumber.has(lineNumber)){return}const firstTokenOfLine=tokenInfo.firstTokensByLineNumber.get(lineNumber);if(firstTokenOfLine.loc.start.line!==lineNumber){return}if(astUtils.isCommentToken(firstTokenOfLine)){const tokenBefore=precedingTokens.get(firstTokenOfLine);const tokenAfter=tokenBefore?sourceCode.getTokenAfter(tokenBefore):sourceCode.ast.tokens[0];const mayAlignWithBefore=tokenBefore&&!hasBlankLinesBetween(tokenBefore,firstTokenOfLine);const mayAlignWithAfter=tokenAfter&&!hasBlankLinesBetween(firstTokenOfLine,tokenAfter);if(tokenAfter&&astUtils.isSemicolonToken(tokenAfter)&&!astUtils.isTokenOnSameLine(firstTokenOfLine,tokenAfter)){offsets.setDesiredOffset(firstTokenOfLine,tokenAfter,0)}if(mayAlignWithBefore&&validateTokenIndent(firstTokenOfLine,offsets.getDesiredIndent(tokenBefore))||mayAlignWithAfter&&validateTokenIndent(firstTokenOfLine,offsets.getDesiredIndent(tokenAfter))){return}}if(validateTokenIndent(firstTokenOfLine,offsets.getDesiredIndent(firstTokenOfLine))){return}report(firstTokenOfLine,offsets.getDesiredIndent(firstTokenOfLine))}))}})}};return indent}var indentLegacy;var hasRequiredIndentLegacy;function requireIndentLegacy(){if(hasRequiredIndentLegacy)return indentLegacy;hasRequiredIndentLegacy=1;const astUtils=requireAstUtils();indentLegacy={meta:{type:"layout",docs:{description:"Enforce consistent indentation",recommended:false,url:"https://eslint.org/docs/rules/indent-legacy"},deprecated:true,replacedBy:["indent"],fixable:"whitespace",schema:[{oneOf:[{enum:["tab"]},{type:"integer",minimum:0}]},{type:"object",properties:{SwitchCase:{type:"integer",minimum:0},VariableDeclarator:{oneOf:[{type:"integer",minimum:0},{type:"object",properties:{var:{type:"integer",minimum:0},let:{type:"integer",minimum:0},const:{type:"integer",minimum:0}}}]},outerIIFEBody:{type:"integer",minimum:0},MemberExpression:{type:"integer",minimum:0},FunctionDeclaration:{type:"object",properties:{parameters:{oneOf:[{type:"integer",minimum:0},{enum:["first"]}]},body:{type:"integer",minimum:0}}},FunctionExpression:{type:"object",properties:{parameters:{oneOf:[{type:"integer",minimum:0},{enum:["first"]}]},body:{type:"integer",minimum:0}}},CallExpression:{type:"object",properties:{parameters:{oneOf:[{type:"integer",minimum:0},{enum:["first"]}]}}},ArrayExpression:{oneOf:[{type:"integer",minimum:0},{enum:["first"]}]},ObjectExpression:{oneOf:[{type:"integer",minimum:0},{enum:["first"]}]}},additionalProperties:false}],messages:{expected:"Expected indentation of {{expected}} but found {{actual}}."}},create(context){const DEFAULT_VARIABLE_INDENT=1;const DEFAULT_PARAMETER_INDENT=null;const DEFAULT_FUNCTION_BODY_INDENT=1;let indentType="space";let indentSize=4;const options={SwitchCase:0,VariableDeclarator:{var:DEFAULT_VARIABLE_INDENT,let:DEFAULT_VARIABLE_INDENT,const:DEFAULT_VARIABLE_INDENT},outerIIFEBody:null,FunctionDeclaration:{parameters:DEFAULT_PARAMETER_INDENT,body:DEFAULT_FUNCTION_BODY_INDENT},FunctionExpression:{parameters:DEFAULT_PARAMETER_INDENT,body:DEFAULT_FUNCTION_BODY_INDENT},CallExpression:{arguments:DEFAULT_PARAMETER_INDENT},ArrayExpression:1,ObjectExpression:1};const sourceCode=context.getSourceCode();if(context.options.length){if(context.options[0]==="tab"){indentSize=1;indentType="tab"}else if(typeof context.options[0]==="number"){indentSize=context.options[0];indentType="space"}if(context.options[1]){const opts=context.options[1];options.SwitchCase=opts.SwitchCase||0;const variableDeclaratorRules=opts.VariableDeclarator;if(typeof variableDeclaratorRules==="number"){options.VariableDeclarator={var:variableDeclaratorRules,let:variableDeclaratorRules,const:variableDeclaratorRules}}else if(typeof variableDeclaratorRules==="object"){Object.assign(options.VariableDeclarator,variableDeclaratorRules)}if(typeof opts.outerIIFEBody==="number"){options.outerIIFEBody=opts.outerIIFEBody}if(typeof opts.MemberExpression==="number"){options.MemberExpression=opts.MemberExpression}if(typeof opts.FunctionDeclaration==="object"){Object.assign(options.FunctionDeclaration,opts.FunctionDeclaration)}if(typeof opts.FunctionExpression==="object"){Object.assign(options.FunctionExpression,opts.FunctionExpression)}if(typeof opts.CallExpression==="object"){Object.assign(options.CallExpression,opts.CallExpression)}if(typeof opts.ArrayExpression==="number"||typeof opts.ArrayExpression==="string"){options.ArrayExpression=opts.ArrayExpression}if(typeof opts.ObjectExpression==="number"||typeof opts.ObjectExpression==="string"){options.ObjectExpression=opts.ObjectExpression}}}const caseIndentStore={};function createErrorMessageData(expectedAmount,actualSpaces,actualTabs){const expectedStatement=`${expectedAmount} ${indentType}${expectedAmount===1?"":"s"}`;const foundSpacesWord=`space${actualSpaces===1?"":"s"}`;const foundTabsWord=`tab${actualTabs===1?"":"s"}`;let foundStatement;if(actualSpaces>0&&actualTabs>0){foundStatement=`${actualSpaces} ${foundSpacesWord} and ${actualTabs} ${foundTabsWord}`}else if(actualSpaces>0){foundStatement=indentType==="space"?actualSpaces:`${actualSpaces} ${foundSpacesWord}`}else if(actualTabs>0){foundStatement=indentType==="tab"?actualTabs:`${actualTabs} ${foundTabsWord}`}else{foundStatement="0"}return{expected:expectedStatement,actual:foundStatement}}function report(node,needed,gottenSpaces,gottenTabs,loc,isLastNodeCheck){if(gottenSpaces&&gottenTabs){return}const desiredIndent=(indentType==="space"?" ":"\t").repeat(needed);const textRange=isLastNodeCheck?[node.range[1]-node.loc.end.column,node.range[1]-node.loc.end.column+gottenSpaces+gottenTabs]:[node.range[0]-node.loc.start.column,node.range[0]-node.loc.start.column+gottenSpaces+gottenTabs];context.report({node:node,loc:loc,messageId:"expected",data:createErrorMessageData(needed,gottenSpaces,gottenTabs),fix:fixer=>fixer.replaceTextRange(textRange,desiredIndent)})}function getNodeIndent(node,byLastLine){const token=byLastLine?sourceCode.getLastToken(node):sourceCode.getFirstToken(node);const srcCharsBeforeNode=sourceCode.getText(token,token.loc.start.column).split("");const indentChars=srcCharsBeforeNode.slice(0,srcCharsBeforeNode.findIndex((char=>char!==" "&&char!=="\t")));const spaces=indentChars.filter((char=>char===" ")).length;const tabs=indentChars.filter((char=>char==="\t")).length;return{space:spaces,tab:tabs,goodChar:indentType==="space"?spaces:tabs,badChar:indentType==="space"?tabs:spaces}}function isNodeFirstInLine(node,byEndLocation){const firstToken=byEndLocation===true?sourceCode.getLastToken(node,1):sourceCode.getTokenBefore(node),startLine=byEndLocation===true?node.loc.end.line:node.loc.start.line,endLine=firstToken?firstToken.loc.end.line:-1;return startLine!==endLine}function checkNodeIndent(node,neededIndent){const actualIndent=getNodeIndent(node,false);if(node.type!=="ArrayExpression"&&node.type!=="ObjectExpression"&&(actualIndent.goodChar!==neededIndent||actualIndent.badChar!==0)&&isNodeFirstInLine(node)){report(node,neededIndent,actualIndent.space,actualIndent.tab)}if(node.type==="IfStatement"&&node.alternate){const elseToken=sourceCode.getTokenBefore(node.alternate);checkNodeIndent(elseToken,neededIndent);if(!isNodeFirstInLine(node.alternate)){checkNodeIndent(node.alternate,neededIndent)}}if(node.type==="TryStatement"&&node.handler){const catchToken=sourceCode.getFirstToken(node.handler);checkNodeIndent(catchToken,neededIndent)}if(node.type==="TryStatement"&&node.finalizer){const finallyToken=sourceCode.getTokenBefore(node.finalizer);checkNodeIndent(finallyToken,neededIndent)}if(node.type==="DoWhileStatement"){const whileToken=sourceCode.getTokenAfter(node.body);checkNodeIndent(whileToken,neededIndent)}}function checkNodesIndent(nodes,indent){nodes.forEach((node=>checkNodeIndent(node,indent)))}function checkLastNodeLineIndent(node,lastLineIndent){const lastToken=sourceCode.getLastToken(node);const endIndent=getNodeIndent(lastToken,true);if((endIndent.goodChar!==lastLineIndent||endIndent.badChar!==0)&&isNodeFirstInLine(node,true)){report(node,lastLineIndent,endIndent.space,endIndent.tab,{line:lastToken.loc.start.line,column:lastToken.loc.start.column},true)}}function checkLastReturnStatementLineIndent(node,firstLineIndent){const lastToken=sourceCode.getLastToken(node,astUtils.isClosingParenToken);const textBeforeClosingParenthesis=sourceCode.getText(lastToken,lastToken.loc.start.column).slice(0,-1);if(textBeforeClosingParenthesis.trim()){return}const endIndent=getNodeIndent(lastToken,true);if(endIndent.goodChar!==firstLineIndent){report(node,firstLineIndent,endIndent.space,endIndent.tab,{line:lastToken.loc.start.line,column:lastToken.loc.start.column},true)}}function checkFirstNodeLineIndent(node,firstLineIndent){const startIndent=getNodeIndent(node,false);if((startIndent.goodChar!==firstLineIndent||startIndent.badChar!==0)&&isNodeFirstInLine(node)){report(node,firstLineIndent,startIndent.space,startIndent.tab,{line:node.loc.start.line,column:node.loc.start.column})}}function getParentNodeByType(node,type,stopAtList){let parent=node.parent;const stopAtSet=new Set(stopAtList||["Program"]);while(parent.type!==type&&!stopAtSet.has(parent.type)&&parent.type!=="Program"){parent=parent.parent}return parent.type===type?parent:null}function getVariableDeclaratorNode(node){return getParentNodeByType(node,"VariableDeclarator")}function isNodeInVarOnTop(node,varNode){return varNode&&varNode.parent.loc.start.line===node.loc.start.line&&varNode.parent.declarations.length>1}function isArgBeforeCalleeNodeMultiline(node){const parent=node.parent;if(parent.arguments.length>=2&&parent.arguments[1]===node){return parent.arguments[0].loc.end.line>parent.arguments[0].loc.start.line}return false}function isOuterIIFE(node){const parent=node.parent;let stmt=parent.parent;if(parent.type!=="CallExpression"||parent.callee!==node){return false}while(stmt.type==="UnaryExpression"&&(stmt.operator==="!"||stmt.operator==="~"||stmt.operator==="+"||stmt.operator==="-")||stmt.type==="AssignmentExpression"||stmt.type==="LogicalExpression"||stmt.type==="SequenceExpression"||stmt.type==="VariableDeclarator"){stmt=stmt.parent}return(stmt.type==="ExpressionStatement"||stmt.type==="VariableDeclaration")&&stmt.parent&&stmt.parent.type==="Program"}function checkIndentInFunctionBlock(node){const calleeNode=node.parent;let indent;if(calleeNode.parent&&(calleeNode.parent.type==="Property"||calleeNode.parent.type==="ArrayExpression")){indent=getNodeIndent(calleeNode,false).goodChar}else{indent=getNodeIndent(calleeNode).goodChar}if(calleeNode.parent.type==="CallExpression"){const calleeParent=calleeNode.parent;if(calleeNode.type!=="FunctionExpression"&&calleeNode.type!=="ArrowFunctionExpression"){if(calleeParent&&calleeParent.loc.start.line<node.loc.start.line){indent=getNodeIndent(calleeParent).goodChar}}else{if(isArgBeforeCalleeNodeMultiline(calleeNode)&&calleeParent.callee.loc.start.line===calleeParent.callee.loc.end.line&&!isNodeFirstInLine(calleeNode)){indent=getNodeIndent(calleeParent).goodChar}}}let functionOffset=indentSize;if(options.outerIIFEBody!==null&&isOuterIIFE(calleeNode)){functionOffset=options.outerIIFEBody*indentSize}else if(calleeNode.type==="FunctionExpression"){functionOffset=options.FunctionExpression.body*indentSize}else if(calleeNode.type==="FunctionDeclaration"){functionOffset=options.FunctionDeclaration.body*indentSize}indent+=functionOffset;const parentVarNode=getVariableDeclaratorNode(node);if(parentVarNode&&isNodeInVarOnTop(node,parentVarNode)){indent+=indentSize*options.VariableDeclarator[parentVarNode.parent.kind]}if(node.body.length>0){checkNodesIndent(node.body,indent)}checkLastNodeLineIndent(node,indent-functionOffset)}function isSingleLineNode(node){const lastToken=sourceCode.getLastToken(node),startLine=node.loc.start.line,endLine=lastToken.loc.end.line;return startLine===endLine}function checkIndentInArrayOrObjectBlock(node){if(isSingleLineNode(node)){return}let elements=node.type==="ArrayExpression"?node.elements:node.properties;elements=elements.filter((elem=>elem!==null));let nodeIndent;let elementsIndent;const parentVarNode=getVariableDeclaratorNode(node);if(isNodeFirstInLine(node)){const parent=node.parent;nodeIndent=getNodeIndent(parent).goodChar;if(!parentVarNode||parentVarNode.loc.start.line!==node.loc.start.line){if(parent.type!=="VariableDeclarator"||parentVarNode===parentVarNode.parent.declarations[0]){if(parent.type==="VariableDeclarator"&&parentVarNode.loc.start.line===parent.loc.start.line){nodeIndent+=indentSize*options.VariableDeclarator[parentVarNode.parent.kind]}else if(parent.type==="ObjectExpression"||parent.type==="ArrayExpression"){const parentElements=node.parent.type==="ObjectExpression"?node.parent.properties:node.parent.elements;if(parentElements[0]&&parentElements[0].loc.start.line===parent.loc.start.line&&parentElements[0].loc.end.line!==parent.loc.start.line);else if(typeof options[parent.type]==="number"){nodeIndent+=options[parent.type]*indentSize}else{nodeIndent=parentElements[0].loc.start.column}}else if(parent.type==="CallExpression"||parent.type==="NewExpression"){if(typeof options.CallExpression.arguments==="number"){nodeIndent+=options.CallExpression.arguments*indentSize}else if(options.CallExpression.arguments==="first"){if(parent.arguments.includes(node)){nodeIndent=parent.arguments[0].loc.start.column}}else{nodeIndent+=indentSize}}else if(parent.type==="LogicalExpression"||parent.type==="ArrowFunctionExpression"){nodeIndent+=indentSize}}}checkFirstNodeLineIndent(node,nodeIndent)}else{nodeIndent=getNodeIndent(node).goodChar}if(options[node.type]==="first"){elementsIndent=elements.length?elements[0].loc.start.column:0}else{elementsIndent=nodeIndent+indentSize*options[node.type]}if(isNodeInVarOnTop(node,parentVarNode)){elementsIndent+=indentSize*options.VariableDeclarator[parentVarNode.parent.kind]}checkNodesIndent(elements,elementsIndent);if(elements.length>0){if(elements[elements.length-1].loc.end.line===node.loc.end.line){return}}checkLastNodeLineIndent(node,nodeIndent+(isNodeInVarOnTop(node,parentVarNode)?options.VariableDeclarator[parentVarNode.parent.kind]*indentSize:0))}function isNodeBodyBlock(node){return node.type==="BlockStatement"||node.type==="ClassBody"||node.body&&node.body.type==="BlockStatement"||node.consequent&&node.consequent.type==="BlockStatement"}function blockIndentationCheck(node){if(isSingleLineNode(node)){return}if(node.parent&&(node.parent.type==="FunctionExpression"||node.parent.type==="FunctionDeclaration"||node.parent.type==="ArrowFunctionExpression")){checkIndentInFunctionBlock(node);return}let indent;let nodesToCheck=[];const statementsWithProperties=["IfStatement","WhileStatement","ForStatement","ForInStatement","ForOfStatement","DoWhileStatement","ClassDeclaration","TryStatement"];if(node.parent&&statementsWithProperties.includes(node.parent.type)&&isNodeBodyBlock(node)){indent=getNodeIndent(node.parent).goodChar}else if(node.parent&&node.parent.type==="CatchClause"){indent=getNodeIndent(node.parent.parent).goodChar}else{indent=getNodeIndent(node).goodChar}if(node.type==="IfStatement"&&node.consequent.type!=="BlockStatement"){nodesToCheck=[node.consequent]}else if(Array.isArray(node.body)){nodesToCheck=node.body}else{nodesToCheck=[node.body]}if(nodesToCheck.length>0){checkNodesIndent(nodesToCheck,indent+indentSize)}if(node.type==="BlockStatement"){checkLastNodeLineIndent(node,indent)}}function filterOutSameLineVars(node){return node.declarations.reduce(((finalCollection,elem)=>{const lastElem=finalCollection[finalCollection.length-1];if(elem.loc.start.line!==node.loc.start.line&&!lastElem||lastElem&&lastElem.loc.start.line!==elem.loc.start.line){finalCollection.push(elem)}return finalCollection}),[])}function checkIndentInVariableDeclarations(node){const elements=filterOutSameLineVars(node);const nodeIndent=getNodeIndent(node).goodChar;const lastElement=elements[elements.length-1];const elementsIndent=nodeIndent+indentSize*options.VariableDeclarator[node.kind];checkNodesIndent(elements,elementsIndent);if(sourceCode.getLastToken(node).loc.end.line<=lastElement.loc.end.line){return}const tokenBeforeLastElement=sourceCode.getTokenBefore(lastElement);if(tokenBeforeLastElement.value===","){checkLastNodeLineIndent(node,getNodeIndent(tokenBeforeLastElement).goodChar)}else{checkLastNodeLineIndent(node,elementsIndent-indentSize)}}function blockLessNodes(node){if(node.body.type!=="BlockStatement"){blockIndentationCheck(node)}}function expectedCaseIndent(node,providedSwitchIndent){const switchNode=node.type==="SwitchStatement"?node:node.parent;const switchIndent=typeof providedSwitchIndent==="undefined"?getNodeIndent(switchNode).goodChar:providedSwitchIndent;let caseIndent;if(caseIndentStore[switchNode.loc.start.line]){return caseIndentStore[switchNode.loc.start.line]}if(switchNode.cases.length>0&&options.SwitchCase===0){caseIndent=switchIndent}else{caseIndent=switchIndent+indentSize*options.SwitchCase}caseIndentStore[switchNode.loc.start.line]=caseIndent;return caseIndent}function isWrappedInParenthesis(node){const regex=/^return\s*?\(\s*?\);*?/u;const statementWithoutArgument=sourceCode.getText(node).replace(sourceCode.getText(node.argument),"");return regex.test(statementWithoutArgument)}return{Program(node){if(node.body.length>0){checkNodesIndent(node.body,getNodeIndent(node).goodChar)}},ClassBody:blockIndentationCheck,BlockStatement:blockIndentationCheck,WhileStatement:blockLessNodes,ForStatement:blockLessNodes,ForInStatement:blockLessNodes,ForOfStatement:blockLessNodes,DoWhileStatement:blockLessNodes,IfStatement(node){if(node.consequent.type!=="BlockStatement"&&node.consequent.loc.start.line>node.loc.start.line){blockIndentationCheck(node)}},VariableDeclaration(node){if(node.declarations[node.declarations.length-1].loc.start.line>node.declarations[0].loc.start.line){checkIndentInVariableDeclarations(node)}},ObjectExpression(node){checkIndentInArrayOrObjectBlock(node)},ArrayExpression(node){checkIndentInArrayOrObjectBlock(node)},MemberExpression(node){if(typeof options.MemberExpression==="undefined"){return}if(isSingleLineNode(node)){return}if(getParentNodeByType(node,"VariableDeclarator",["FunctionExpression","ArrowFunctionExpression"])){return}if(getParentNodeByType(node,"AssignmentExpression",["FunctionExpression"])){return}const propertyIndent=getNodeIndent(node).goodChar+indentSize*options.MemberExpression;const checkNodes=[node.property];const dot=sourceCode.getTokenBefore(node.property);if(dot.type==="Punctuator"&&dot.value==="."){checkNodes.push(dot)}checkNodesIndent(checkNodes,propertyIndent)},SwitchStatement(node){const switchIndent=getNodeIndent(node).goodChar;const caseIndent=expectedCaseIndent(node,switchIndent);checkNodesIndent(node.cases,caseIndent);checkLastNodeLineIndent(node,switchIndent)},SwitchCase(node){if(isSingleLineNode(node)){return}const caseIndent=expectedCaseIndent(node);checkNodesIndent(node.consequent,caseIndent+indentSize)},FunctionDeclaration(node){if(isSingleLineNode(node)){return}if(options.FunctionDeclaration.parameters==="first"&&node.params.length){checkNodesIndent(node.params.slice(1),node.params[0].loc.start.column)}else if(options.FunctionDeclaration.parameters!==null){checkNodesIndent(node.params,getNodeIndent(node).goodChar+indentSize*options.FunctionDeclaration.parameters)}},FunctionExpression(node){if(isSingleLineNode(node)){return}if(options.FunctionExpression.parameters==="first"&&node.params.length){checkNodesIndent(node.params.slice(1),node.params[0].loc.start.column)}else if(options.FunctionExpression.parameters!==null){checkNodesIndent(node.params,getNodeIndent(node).goodChar+indentSize*options.FunctionExpression.parameters)}},ReturnStatement(node){if(isSingleLineNode(node)){return}const firstLineIndent=getNodeIndent(node).goodChar;if(isWrappedInParenthesis(node)){checkLastReturnStatementLineIndent(node,firstLineIndent)}else{checkNodeIndent(node,firstLineIndent)}},CallExpression(node){if(isSingleLineNode(node)){return}if(options.CallExpression.arguments==="first"&&node.arguments.length){checkNodesIndent(node.arguments.slice(1),node.arguments[0].loc.start.column)}else if(options.CallExpression.arguments!==null){checkNodesIndent(node.arguments,getNodeIndent(node).goodChar+indentSize*options.CallExpression.arguments)}}}}};return indentLegacy}var initDeclarations;var hasRequiredInitDeclarations;function requireInitDeclarations(){if(hasRequiredInitDeclarations)return initDeclarations;hasRequiredInitDeclarations=1;function isForLoop(block){return block.type==="ForInStatement"||block.type==="ForOfStatement"||block.type==="ForStatement"}function isInitialized(node){const declaration=node.parent;const block=declaration.parent;if(isForLoop(block)){if(block.type==="ForStatement"){return block.init===declaration}return block.left===declaration}return Boolean(node.init)}initDeclarations={meta:{type:"suggestion",docs:{description:"Require or disallow initialization in variable declarations",recommended:false,url:"https://eslint.org/docs/rules/init-declarations"},schema:{anyOf:[{type:"array",items:[{enum:["always"]}],minItems:0,maxItems:1},{type:"array",items:[{enum:["never"]},{type:"object",properties:{ignoreForLoopInit:{type:"boolean"}},additionalProperties:false}],minItems:0,maxItems:2}]},messages:{initialized:"Variable '{{idName}}' should be initialized on declaration.",notInitialized:"Variable '{{idName}}' should not be initialized on declaration."}},create(context){const MODE_ALWAYS="always",MODE_NEVER="never";const mode=context.options[0]||MODE_ALWAYS;const params=context.options[1]||{};return{"VariableDeclaration:exit"(node){const kind=node.kind,declarations=node.declarations;for(let i=0;i<declarations.length;++i){const declaration=declarations[i],id=declaration.id,initialized=isInitialized(declaration),isIgnoredForLoop=params.ignoreForLoopInit&&isForLoop(node.parent);let messageId="";if(mode===MODE_ALWAYS&&!initialized){messageId="initialized"}else if(mode===MODE_NEVER&&kind!=="const"&&initialized&&!isIgnoredForLoop){messageId="notInitialized"}if(id.type==="Identifier"&&messageId){context.report({node:declaration,messageId:messageId,data:{idName:id.name}})}}}}}};return initDeclarations}var jsxQuotes;var hasRequiredJsxQuotes;function requireJsxQuotes(){if(hasRequiredJsxQuotes)return jsxQuotes;hasRequiredJsxQuotes=1;const astUtils=requireAstUtils();const QUOTE_SETTINGS={"prefer-double":{quote:'"',description:"singlequote",convert(str){return str.replace(/'/gu,'"')}},"prefer-single":{quote:"'",description:"doublequote",convert(str){return str.replace(/"/gu,"'")}}};jsxQuotes={meta:{type:"layout",docs:{description:"Enforce the consistent use of either double or single quotes in JSX attributes",recommended:false,url:"https://eslint.org/docs/rules/jsx-quotes"},fixable:"whitespace",schema:[{enum:["prefer-single","prefer-double"]}],messages:{unexpected:"Unexpected usage of {{description}}."}},create(context){const quoteOption=context.options[0]||"prefer-double",setting=QUOTE_SETTINGS[quoteOption];function usesExpectedQuotes(node){return node.value.includes(setting.quote)||astUtils.isSurroundedBy(node.raw,setting.quote)}return{JSXAttribute(node){const attributeValue=node.value;if(attributeValue&&astUtils.isStringLiteral(attributeValue)&&!usesExpectedQuotes(attributeValue)){context.report({node:attributeValue,messageId:"unexpected",data:{description:setting.description},fix(fixer){return fixer.replaceText(attributeValue,setting.convert(attributeValue.raw))}})}}}}};return jsxQuotes}var keySpacing;var hasRequiredKeySpacing;function requireKeySpacing(){if(hasRequiredKeySpacing)return keySpacing;hasRequiredKeySpacing=1;const astUtils=requireAstUtils();const GraphemeSplitter=requireGraphemeSplitter();const splitter=new GraphemeSplitter;function containsLineTerminator(str){return astUtils.LINEBREAK_MATCHER.test(str)}function last(arr){return arr[arr.length-1]}function isSingleLine(node){return node.loc.end.line===node.loc.start.line}function isSingleLineProperties(properties){const[firstProp]=properties,lastProp=last(properties);return firstProp.loc.start.line===lastProp.loc.end.line}function initOptionProperty(toOptions,fromOptions){toOptions.mode=fromOptions.mode||"strict";if(typeof fromOptions.beforeColon!=="undefined"){toOptions.beforeColon=+fromOptions.beforeColon}else{toOptions.beforeColon=0}if(typeof fromOptions.afterColon!=="undefined"){toOptions.afterColon=+fromOptions.afterColon}else{toOptions.afterColon=1}if(typeof fromOptions.align!=="undefined"){if(typeof fromOptions.align==="object"){toOptions.align=fromOptions.align}else{toOptions.align={on:fromOptions.align,mode:toOptions.mode,beforeColon:toOptions.beforeColon,afterColon:toOptions.afterColon}}}return toOptions}function initOptions(toOptions,fromOptions){if(typeof fromOptions.align==="object"){toOptions.align=initOptionProperty({},fromOptions.align);toOptions.align.on=fromOptions.align.on||"colon";toOptions.align.mode=fromOptions.align.mode||"strict";toOptions.multiLine=initOptionProperty({},fromOptions.multiLine||fromOptions);toOptions.singleLine=initOptionProperty({},fromOptions.singleLine||fromOptions)}else{toOptions.multiLine=initOptionProperty({},fromOptions.multiLine||fromOptions);toOptions.singleLine=initOptionProperty({},fromOptions.singleLine||fromOptions);if(toOptions.multiLine.align){toOptions.align={on:toOptions.multiLine.align.on,mode:toOptions.multiLine.align.mode||toOptions.multiLine.mode,beforeColon:toOptions.multiLine.align.beforeColon,afterColon:toOptions.multiLine.align.afterColon}}}return toOptions}keySpacing={meta:{type:"layout",docs:{description:"Enforce consistent spacing between keys and values in object literal properties",recommended:false,url:"https://eslint.org/docs/rules/key-spacing"},fixable:"whitespace",schema:[{anyOf:[{type:"object",properties:{align:{anyOf:[{enum:["colon","value"]},{type:"object",properties:{mode:{enum:["strict","minimum"]},on:{enum:["colon","value"]},beforeColon:{type:"boolean"},afterColon:{type:"boolean"}},additionalProperties:false}]},mode:{enum:["strict","minimum"]},beforeColon:{type:"boolean"},afterColon:{type:"boolean"}},additionalProperties:false},{type:"object",properties:{singleLine:{type:"object",properties:{mode:{enum:["strict","minimum"]},beforeColon:{type:"boolean"},afterColon:{type:"boolean"}},additionalProperties:false},multiLine:{type:"object",properties:{align:{anyOf:[{enum:["colon","value"]},{type:"object",properties:{mode:{enum:["strict","minimum"]},on:{enum:["colon","value"]},beforeColon:{type:"boolean"},afterColon:{type:"boolean"}},additionalProperties:false}]},mode:{enum:["strict","minimum"]},beforeColon:{type:"boolean"},afterColon:{type:"boolean"}},additionalProperties:false}},additionalProperties:false},{type:"object",properties:{singleLine:{type:"object",properties:{mode:{enum:["strict","minimum"]},beforeColon:{type:"boolean"},afterColon:{type:"boolean"}},additionalProperties:false},multiLine:{type:"object",properties:{mode:{enum:["strict","minimum"]},beforeColon:{type:"boolean"},afterColon:{type:"boolean"}},additionalProperties:false},align:{type:"object",properties:{mode:{enum:["strict","minimum"]},on:{enum:["colon","value"]},beforeColon:{type:"boolean"},afterColon:{type:"boolean"}},additionalProperties:false}},additionalProperties:false}]}],messages:{extraKey:"Extra space after {{computed}}key '{{key}}'.",extraValue:"Extra space before value for {{computed}}key '{{key}}'.",missingKey:"Missing space after {{computed}}key '{{key}}'.",missingValue:"Missing space before value for {{computed}}key '{{key}}'."}},create(context){const options=context.options[0]||{},ruleOptions=initOptions({},options),multiLineOptions=ruleOptions.multiLine,singleLineOptions=ruleOptions.singleLine,alignmentOptions=ruleOptions.align||null;const sourceCode=context.getSourceCode();function isKeyValueProperty(property){return!(property.method||property.shorthand||property.kind!=="init"||property.type!=="Property")}function continuesPropertyGroup(lastMember,candidate){const groupEndLine=lastMember.loc.start.line,candidateValueStartLine=(isKeyValueProperty(candidate)?candidate.value:candidate).loc.start.line;if(candidateValueStartLine-groupEndLine<=1){return true}const leadingComments=sourceCode.getCommentsBefore(candidate);if(leadingComments.length&&leadingComments[0].loc.start.line-groupEndLine<=1&&candidateValueStartLine-last(leadingComments).loc.end.line<=1){for(let i=1;i<leadingComments.length;i++){if(leadingComments[i].loc.start.line-leadingComments[i-1].loc.end.line>1){return false}}return true}return false}function getLastTokenBeforeColon(node){const colonToken=sourceCode.getTokenAfter(node,astUtils.isColonToken);return sourceCode.getTokenBefore(colonToken)}function getNextColon(node){return sourceCode.getTokenAfter(node,astUtils.isColonToken)}function getKey(property){const key=property.key;if(property.computed){return sourceCode.getText().slice(key.range[0],key.range[1])}return astUtils.getStaticPropertyName(property)}function report(property,side,whitespace,expected,mode){const diff=whitespace.length-expected;if((diff&&mode==="strict"||diff<0&&mode==="minimum"||diff>0&&!expected&&mode==="minimum")&&!(expected&&containsLineTerminator(whitespace))){const nextColon=getNextColon(property.key),tokenBeforeColon=sourceCode.getTokenBefore(nextColon,{includeComments:true}),tokenAfterColon=sourceCode.getTokenAfter(nextColon,{includeComments:true}),isKeySide=side==="key",isExtra=diff>0,diffAbs=Math.abs(diff),spaces=Array(diffAbs+1).join(" ");const locStart=isKeySide?tokenBeforeColon.loc.end:nextColon.loc.start;const locEnd=isKeySide?nextColon.loc.start:tokenAfterColon.loc.start;const missingLoc=isKeySide?tokenBeforeColon.loc:tokenAfterColon.loc;const loc=isExtra?{start:locStart,end:locEnd}:missingLoc;let fix;if(isExtra){let range;if(isKeySide){range=[tokenBeforeColon.range[1],tokenBeforeColon.range[1]+diffAbs]}else{range=[tokenAfterColon.range[0]-diffAbs,tokenAfterColon.range[0]]}fix=function(fixer){return fixer.removeRange(range)}}else{if(isKeySide){fix=function(fixer){return fixer.insertTextAfter(tokenBeforeColon,spaces)}}else{fix=function(fixer){return fixer.insertTextBefore(tokenAfterColon,spaces)}}}let messageId="";if(isExtra){messageId=side==="key"?"extraKey":"extraValue"}else{messageId=side==="key"?"missingKey":"missingValue"}context.report({node:property[side],loc:loc,messageId:messageId,data:{computed:property.computed?"computed ":"",key:getKey(property)},fix:fix})}}function getKeyWidth(property){const startToken=sourceCode.getFirstToken(property);const endToken=getLastTokenBeforeColon(property.key);return splitter.countGraphemes(sourceCode.getText().slice(startToken.range[0],endToken.range[1]))}function getPropertyWhitespace(property){const whitespace=/(\s*):(\s*)/u.exec(sourceCode.getText().slice(property.key.range[1],property.value.range[0]));if(whitespace){return{beforeColon:whitespace[1],afterColon:whitespace[2]}}return null}function createGroups(node){if(node.properties.length===1){return[node.properties]}return node.properties.reduce(((groups,property)=>{const currentGroup=last(groups),prev=last(currentGroup);if(!prev||continuesPropertyGroup(prev,property)){currentGroup.push(property)}else{groups.push([property])}return groups}),[[]])}function verifyGroupAlignment(properties){const length=properties.length,widths=properties.map(getKeyWidth),align=alignmentOptions.on;let targetWidth=Math.max(...widths),beforeColon,afterColon,mode;if(alignmentOptions&&length>1){beforeColon=alignmentOptions.beforeColon;afterColon=alignmentOptions.afterColon;mode=alignmentOptions.mode}else{beforeColon=multiLineOptions.beforeColon;afterColon=multiLineOptions.afterColon;mode=alignmentOptions.mode}targetWidth+=align==="colon"?beforeColon:afterColon;for(let i=0;i<length;i++){const property=properties[i];const whitespace=getPropertyWhitespace(property);if(whitespace){const width=widths[i];if(align==="value"){report(property,"key",whitespace.beforeColon,beforeColon,mode);report(property,"value",whitespace.afterColon,targetWidth-width,mode)}else{report(property,"key",whitespace.beforeColon,targetWidth-width,mode);report(property,"value",whitespace.afterColon,afterColon,mode)}}}}function verifySpacing(node,lineOptions){const actual=getPropertyWhitespace(node);if(actual){report(node,"key",actual.beforeColon,lineOptions.beforeColon,lineOptions.mode);report(node,"value",actual.afterColon,lineOptions.afterColon,lineOptions.mode)}}function verifyListSpacing(properties,lineOptions){const length=properties.length;for(let i=0;i<length;i++){verifySpacing(properties[i],lineOptions)}}function verifyAlignment(node){createGroups(node).forEach((group=>{const properties=group.filter(isKeyValueProperty);if(properties.length>0&&isSingleLineProperties(properties)){verifyListSpacing(properties,multiLineOptions)}else{verifyGroupAlignment(properties)}}))}if(alignmentOptions){return{ObjectExpression(node){if(isSingleLine(node)){verifyListSpacing(node.properties.filter(isKeyValueProperty),singleLineOptions)}else{verifyAlignment(node)}}}}return{Property(node){verifySpacing(node,isSingleLine(node.parent)?singleLineOptions:multiLineOptions)}}}};return keySpacing}var keywordSpacing;var hasRequiredKeywordSpacing;function requireKeywordSpacing(){if(hasRequiredKeywordSpacing)return keywordSpacing;hasRequiredKeywordSpacing=1;const astUtils=requireAstUtils(),keywords=requireKeywords();const PREV_TOKEN=/^[)\]}>]$/u;const NEXT_TOKEN=/^(?:[([{<~!]|\+\+?|--?)$/u;const PREV_TOKEN_M=/^[)\]}>*]$/u;const NEXT_TOKEN_M=/^[{*]$/u;const TEMPLATE_OPEN_PAREN=/\$\{$/u;const TEMPLATE_CLOSE_PAREN=/^\}/u;const CHECK_TYPE=/^(?:JSXElement|RegularExpression|String|Template|PrivateIdentifier)$/u;const KEYS=keywords.concat(["as","async","await","from","get","let","of","set","yield"]);(function(){KEYS.sort();for(let i=1;i<KEYS.length;++i){if(KEYS[i]===KEYS[i-1]){throw new Error(`Duplication was found in the keyword list: ${KEYS[i]}`)}}})();function isOpenParenOfTemplate(token){return token.type==="Template"&&TEMPLATE_OPEN_PAREN.test(token.value)}function isCloseParenOfTemplate(token){return token.type==="Template"&&TEMPLATE_CLOSE_PAREN.test(token.value)}keywordSpacing={meta:{type:"layout",docs:{description:"Enforce consistent spacing before and after keywords",recommended:false,url:"https://eslint.org/docs/rules/keyword-spacing"},fixable:"whitespace",schema:[{type:"object",properties:{before:{type:"boolean",default:true},after:{type:"boolean",default:true},overrides:{type:"object",properties:KEYS.reduce(((retv,key)=>{retv[key]={type:"object",properties:{before:{type:"boolean"},after:{type:"boolean"}},additionalProperties:false};return retv}),{}),additionalProperties:false}},additionalProperties:false}],messages:{expectedBefore:'Expected space(s) before "{{value}}".',expectedAfter:'Expected space(s) after "{{value}}".',unexpectedBefore:'Unexpected space(s) before "{{value}}".',unexpectedAfter:'Unexpected space(s) after "{{value}}".'}},create(context){const sourceCode=context.getSourceCode();const tokensToIgnore=new WeakSet;function expectSpaceBefore(token,pattern){const prevToken=sourceCode.getTokenBefore(token);if(prevToken&&(CHECK_TYPE.test(prevToken.type)||pattern.test(prevToken.value))&&!isOpenParenOfTemplate(prevToken)&&!tokensToIgnore.has(prevToken)&&astUtils.isTokenOnSameLine(prevToken,token)&&!sourceCode.isSpaceBetweenTokens(prevToken,token)){context.report({loc:token.loc,messageId:"expectedBefore",data:token,fix(fixer){return fixer.insertTextBefore(token," ")}})}}function unexpectSpaceBefore(token,pattern){const prevToken=sourceCode.getTokenBefore(token);if(prevToken&&(CHECK_TYPE.test(prevToken.type)||pattern.test(prevToken.value))&&!isOpenParenOfTemplate(prevToken)&&!tokensToIgnore.has(prevToken)&&astUtils.isTokenOnSameLine(prevToken,token)&&sourceCode.isSpaceBetweenTokens(prevToken,token)){context.report({loc:{start:prevToken.loc.end,end:token.loc.start},messageId:"unexpectedBefore",data:token,fix(fixer){return fixer.removeRange([prevToken.range[1],token.range[0]])}})}}function expectSpaceAfter(token,pattern){const nextToken=sourceCode.getTokenAfter(token);if(nextToken&&(CHECK_TYPE.test(nextToken.type)||pattern.test(nextToken.value))&&!isCloseParenOfTemplate(nextToken)&&!tokensToIgnore.has(nextToken)&&astUtils.isTokenOnSameLine(token,nextToken)&&!sourceCode.isSpaceBetweenTokens(token,nextToken)){context.report({loc:token.loc,messageId:"expectedAfter",data:token,fix(fixer){return fixer.insertTextAfter(token," ")}})}}function unexpectSpaceAfter(token,pattern){const nextToken=sourceCode.getTokenAfter(token);if(nextToken&&(CHECK_TYPE.test(nextToken.type)||pattern.test(nextToken.value))&&!isCloseParenOfTemplate(nextToken)&&!tokensToIgnore.has(nextToken)&&astUtils.isTokenOnSameLine(token,nextToken)&&sourceCode.isSpaceBetweenTokens(token,nextToken)){context.report({loc:{start:token.loc.end,end:nextToken.loc.start},messageId:"unexpectedAfter",data:token,fix(fixer){return fixer.removeRange([token.range[1],nextToken.range[0]])}})}}function parseOptions(options={}){const before=options.before!==false;const after=options.after!==false;const defaultValue={before:before?expectSpaceBefore:unexpectSpaceBefore,after:after?expectSpaceAfter:unexpectSpaceAfter};const overrides=options&&options.overrides||{};const retv=Object.create(null);for(let i=0;i<KEYS.length;++i){const key=KEYS[i];const override=overrides[key];if(override){const thisBefore="before"in override?override.before:before;const thisAfter="after"in override?override.after:after;retv[key]={before:thisBefore?expectSpaceBefore:unexpectSpaceBefore,after:thisAfter?expectSpaceAfter:unexpectSpaceAfter}}else{retv[key]=defaultValue}}return retv}const checkMethodMap=parseOptions(context.options[0]);function checkSpacingBefore(token,pattern){checkMethodMap[token.value].before(token,pattern||PREV_TOKEN)}function checkSpacingAfter(token,pattern){checkMethodMap[token.value].after(token,pattern||NEXT_TOKEN)}function checkSpacingAround(token){checkSpacingBefore(token);checkSpacingAfter(token)}function checkSpacingAroundFirstToken(node){const firstToken=node&&sourceCode.getFirstToken(node);if(firstToken&&firstToken.type==="Keyword"){checkSpacingAround(firstToken)}}function checkSpacingBeforeFirstToken(node){const firstToken=node&&sourceCode.getFirstToken(node);if(firstToken&&firstToken.type==="Keyword"){checkSpacingBefore(firstToken)}}function checkSpacingAroundTokenBefore(node){if(node){const token=sourceCode.getTokenBefore(node,astUtils.isKeywordToken);checkSpacingAround(token)}}function checkSpacingForFunction(node){const firstToken=node&&sourceCode.getFirstToken(node);if(firstToken&&(firstToken.type==="Keyword"&&firstToken.value==="function"||firstToken.value==="async")){checkSpacingBefore(firstToken)}}function checkSpacingForClass(node){checkSpacingAroundFirstToken(node);checkSpacingAroundTokenBefore(node.superClass)}function checkSpacingForIfStatement(node){checkSpacingAroundFirstToken(node);checkSpacingAroundTokenBefore(node.alternate)}function checkSpacingForTryStatement(node){checkSpacingAroundFirstToken(node);checkSpacingAroundFirstToken(node.handler);checkSpacingAroundTokenBefore(node.finalizer)}function checkSpacingForDoWhileStatement(node){checkSpacingAroundFirstToken(node);checkSpacingAroundTokenBefore(node.test)}function checkSpacingForForInStatement(node){checkSpacingAroundFirstToken(node);const inToken=sourceCode.getTokenBefore(node.right,astUtils.isNotOpeningParenToken);const previousToken=sourceCode.getTokenBefore(inToken);if(previousToken.type!=="PrivateIdentifier"){checkSpacingBefore(inToken)}checkSpacingAfter(inToken)}function checkSpacingForForOfStatement(node){if(node.await){checkSpacingBefore(sourceCode.getFirstToken(node,0));checkSpacingAfter(sourceCode.getFirstToken(node,1))}else{checkSpacingAroundFirstToken(node)}const ofToken=sourceCode.getTokenBefore(node.right,astUtils.isNotOpeningParenToken);const previousToken=sourceCode.getTokenBefore(ofToken);if(previousToken.type!=="PrivateIdentifier"){checkSpacingBefore(ofToken)}checkSpacingAfter(ofToken)}function checkSpacingForModuleDeclaration(node){const firstToken=sourceCode.getFirstToken(node);checkSpacingBefore(firstToken,PREV_TOKEN_M);checkSpacingAfter(firstToken,NEXT_TOKEN_M);if(node.type==="ExportDefaultDeclaration"){checkSpacingAround(sourceCode.getTokenAfter(firstToken))}if(node.type==="ExportAllDeclaration"&&node.exported){const asToken=sourceCode.getTokenBefore(node.exported);checkSpacingBefore(asToken,PREV_TOKEN_M);checkSpacingAfter(asToken,NEXT_TOKEN_M)}if(node.source){const fromToken=sourceCode.getTokenBefore(node.source);checkSpacingBefore(fromToken,PREV_TOKEN_M);checkSpacingAfter(fromToken,NEXT_TOKEN_M)}}function checkSpacingForImportSpecifier(node){if(node.imported.range[0]!==node.local.range[0]){const asToken=sourceCode.getTokenBefore(node.local);checkSpacingBefore(asToken,PREV_TOKEN_M)}}function checkSpacingForExportSpecifier(node){if(node.local.range[0]!==node.exported.range[0]){const asToken=sourceCode.getTokenBefore(node.exported);checkSpacingBefore(asToken,PREV_TOKEN_M);checkSpacingAfter(asToken,NEXT_TOKEN_M)}}function checkSpacingForImportNamespaceSpecifier(node){const asToken=sourceCode.getFirstToken(node,1);checkSpacingBefore(asToken,PREV_TOKEN_M)}function checkSpacingForProperty(node){if(node.static){checkSpacingAroundFirstToken(node)}if(node.kind==="get"||node.kind==="set"||(node.method||node.type==="MethodDefinition")&&node.value.async){const token=sourceCode.getTokenBefore(node.key,(tok=>{switch(tok.value){case"get":case"set":case"async":return true;default:return false}}));if(!token){throw new Error("Failed to find token get, set, or async beside method name")}checkSpacingAround(token)}}function checkSpacingForAwaitExpression(node){checkSpacingBefore(sourceCode.getFirstToken(node))}return{DebuggerStatement:checkSpacingAroundFirstToken,WithStatement:checkSpacingAroundFirstToken,BreakStatement:checkSpacingAroundFirstToken,ContinueStatement:checkSpacingAroundFirstToken,ReturnStatement:checkSpacingAroundFirstToken,ThrowStatement:checkSpacingAroundFirstToken,TryStatement:checkSpacingForTryStatement,IfStatement:checkSpacingForIfStatement,SwitchStatement:checkSpacingAroundFirstToken,SwitchCase:checkSpacingAroundFirstToken,DoWhileStatement:checkSpacingForDoWhileStatement,ForInStatement:checkSpacingForForInStatement,ForOfStatement:checkSpacingForForOfStatement,ForStatement:checkSpacingAroundFirstToken,WhileStatement:checkSpacingAroundFirstToken,ClassDeclaration:checkSpacingForClass,ExportNamedDeclaration:checkSpacingForModuleDeclaration,ExportDefaultDeclaration:checkSpacingForModuleDeclaration,ExportAllDeclaration:checkSpacingForModuleDeclaration,FunctionDeclaration:checkSpacingForFunction,ImportDeclaration:checkSpacingForModuleDeclaration,VariableDeclaration:checkSpacingAroundFirstToken,ArrowFunctionExpression:checkSpacingForFunction,AwaitExpression:checkSpacingForAwaitExpression,ClassExpression:checkSpacingForClass,FunctionExpression:checkSpacingForFunction,NewExpression:checkSpacingBeforeFirstToken,Super:checkSpacingBeforeFirstToken,ThisExpression:checkSpacingBeforeFirstToken,UnaryExpression:checkSpacingBeforeFirstToken,YieldExpression:checkSpacingBeforeFirstToken,ImportSpecifier:checkSpacingForImportSpecifier,ExportSpecifier:checkSpacingForExportSpecifier,ImportNamespaceSpecifier:checkSpacingForImportNamespaceSpecifier,MethodDefinition:checkSpacingForProperty,PropertyDefinition:checkSpacingForProperty,StaticBlock:checkSpacingAroundFirstToken,Property:checkSpacingForProperty,"BinaryExpression[operator='>']"(node){const operatorToken=sourceCode.getTokenBefore(node.right,astUtils.isNotOpeningParenToken);tokensToIgnore.add(operatorToken)}}}};return keywordSpacing}var lineCommentPosition;var hasRequiredLineCommentPosition;function requireLineCommentPosition(){if(hasRequiredLineCommentPosition)return lineCommentPosition;hasRequiredLineCommentPosition=1;const astUtils=requireAstUtils();lineCommentPosition={meta:{type:"layout",docs:{description:"Enforce position of line comments",recommended:false,url:"https://eslint.org/docs/rules/line-comment-position"},schema:[{oneOf:[{enum:["above","beside"]},{type:"object",properties:{position:{enum:["above","beside"]},ignorePattern:{type:"string"},applyDefaultPatterns:{type:"boolean"},applyDefaultIgnorePatterns:{type:"boolean"}},additionalProperties:false}]}],messages:{above:"Expected comment to be above code.",beside:"Expected comment to be beside code."}},create(context){const options=context.options[0];let above,ignorePattern,applyDefaultIgnorePatterns=true;if(!options||typeof options==="string"){above=!options||options==="above"}else{above=!options.position||options.position==="above";ignorePattern=options.ignorePattern;if(Object.prototype.hasOwnProperty.call(options,"applyDefaultIgnorePatterns")){applyDefaultIgnorePatterns=options.applyDefaultIgnorePatterns}else{applyDefaultIgnorePatterns=options.applyDefaultPatterns!==false}}const defaultIgnoreRegExp=astUtils.COMMENTS_IGNORE_PATTERN;const fallThroughRegExp=/^\s*falls?\s?through/u;const customIgnoreRegExp=new RegExp(ignorePattern,"u");const sourceCode=context.getSourceCode();return{Program(){const comments=sourceCode.getAllComments();comments.filter((token=>token.type==="Line")).forEach((node=>{if(applyDefaultIgnorePatterns&&(defaultIgnoreRegExp.test(node.value)||fallThroughRegExp.test(node.value))){return}if(ignorePattern&&customIgnoreRegExp.test(node.value)){return}const previous=sourceCode.getTokenBefore(node,{includeComments:true});const isOnSameLine=previous&&previous.loc.end.line===node.loc.start.line;if(above){if(isOnSameLine){context.report({node:node,messageId:"above"})}}else{if(!isOnSameLine){context.report({node:node,messageId:"beside"})}}}))}}}};return lineCommentPosition}var linebreakStyle;var hasRequiredLinebreakStyle;function requireLinebreakStyle(){if(hasRequiredLinebreakStyle)return linebreakStyle;hasRequiredLinebreakStyle=1;const astUtils=requireAstUtils();linebreakStyle={meta:{type:"layout",docs:{description:"Enforce consistent linebreak style",recommended:false,url:"https://eslint.org/docs/rules/linebreak-style"},fixable:"whitespace",schema:[{enum:["unix","windows"]}],messages:{expectedLF:"Expected linebreaks to be 'LF' but found 'CRLF'.",expectedCRLF:"Expected linebreaks to be 'CRLF' but found 'LF'."}},create(context){const sourceCode=context.getSourceCode();function createFix(range,text){return function(fixer){return fixer.replaceTextRange(range,text)}}return{Program:function checkForLinebreakStyle(node){const linebreakStyle=context.options[0]||"unix",expectedLF=linebreakStyle==="unix",expectedLFChars=expectedLF?"\n":"\r\n",source=sourceCode.getText(),pattern=astUtils.createGlobalLinebreakMatcher();let match;let i=0;while((match=pattern.exec(source))!==null){i++;if(match[0]===expectedLFChars){continue}const index=match.index;const range=[index,index+match[0].length];context.report({node:node,loc:{start:{line:i,column:sourceCode.lines[i-1].length},end:{line:i+1,column:0}},messageId:expectedLF?"expectedLF":"expectedCRLF",fix:createFix(range,expectedLFChars)})}}}}};return linebreakStyle}var linesAroundComment;var hasRequiredLinesAroundComment;function requireLinesAroundComment(){if(hasRequiredLinesAroundComment)return linesAroundComment;hasRequiredLinesAroundComment=1;const astUtils=requireAstUtils();function getEmptyLineNums(lines){const emptyLines=lines.map(((line,i)=>({code:line.trim(),num:i+1}))).filter((line=>!line.code)).map((line=>line.num));return emptyLines}function getCommentLineNums(comments){const lines=[];comments.forEach((token=>{const start=token.loc.start.line;const end=token.loc.end.line;lines.push(start,end)}));return lines}linesAroundComment={meta:{type:"layout",docs:{description:"Require empty lines around comments",recommended:false,url:"https://eslint.org/docs/rules/lines-around-comment"},fixable:"whitespace",schema:[{type:"object",properties:{beforeBlockComment:{type:"boolean",default:true},afterBlockComment:{type:"boolean",default:false},beforeLineComment:{type:"boolean",default:false},afterLineComment:{type:"boolean",default:false},allowBlockStart:{type:"boolean",default:false},allowBlockEnd:{type:"boolean",default:false},allowClassStart:{type:"boolean"},allowClassEnd:{type:"boolean"},allowObjectStart:{type:"boolean"},allowObjectEnd:{type:"boolean"},allowArrayStart:{type:"boolean"},allowArrayEnd:{type:"boolean"},ignorePattern:{type:"string"},applyDefaultIgnorePatterns:{type:"boolean"}},additionalProperties:false}],messages:{after:"Expected line after comment.",before:"Expected line before comment."}},create(context){const options=Object.assign({},context.options[0]);const ignorePattern=options.ignorePattern;const defaultIgnoreRegExp=astUtils.COMMENTS_IGNORE_PATTERN;const customIgnoreRegExp=new RegExp(ignorePattern,"u");const applyDefaultIgnorePatterns=options.applyDefaultIgnorePatterns!==false;options.beforeBlockComment=typeof options.beforeBlockComment!=="undefined"?options.beforeBlockComment:true;const sourceCode=context.getSourceCode();const lines=sourceCode.lines,numLines=lines.length+1,comments=sourceCode.getAllComments(),commentLines=getCommentLineNums(comments),emptyLines=getEmptyLineNums(lines),commentAndEmptyLines=new Set(commentLines.concat(emptyLines));function codeAroundComment(token){let currentToken=token;do{currentToken=sourceCode.getTokenBefore(currentToken,{includeComments:true})}while(currentToken&&astUtils.isCommentToken(currentToken));if(currentToken&&astUtils.isTokenOnSameLine(currentToken,token)){return true}currentToken=token;do{currentToken=sourceCode.getTokenAfter(currentToken,{includeComments:true})}while(currentToken&&astUtils.isCommentToken(currentToken));if(currentToken&&astUtils.isTokenOnSameLine(token,currentToken)){return true}return false}function isParentNodeType(parent,nodeType){return parent.type===nodeType||parent.body&&parent.body.type===nodeType||parent.consequent&&parent.consequent.type===nodeType}function getParentNodeOfToken(token){const node=sourceCode.getNodeByRangeIndex(token.range[0]);if(node&&node.type==="StaticBlock"){const openingBrace=sourceCode.getFirstToken(node,{skip:1});return token.range[0]>=openingBrace.range[0]?node:null}return node}function isCommentAtParentStart(token,nodeType){const parent=getParentNodeOfToken(token);if(parent&&isParentNodeType(parent,nodeType)){let parentStartNodeOrToken=parent;if(parent.type==="StaticBlock"){parentStartNodeOrToken=sourceCode.getFirstToken(parent,{skip:1})}else if(parent.type==="SwitchStatement"){parentStartNodeOrToken=sourceCode.getTokenAfter(parent.discriminant,{filter:astUtils.isOpeningBraceToken})}return token.loc.start.line-parentStartNodeOrToken.loc.start.line===1}return false}function isCommentAtParentEnd(token,nodeType){const parent=getParentNodeOfToken(token);return!!parent&&isParentNodeType(parent,nodeType)&&parent.loc.end.line-token.loc.end.line===1}function isCommentAtBlockStart(token){return isCommentAtParentStart(token,"ClassBody")||isCommentAtParentStart(token,"BlockStatement")||isCommentAtParentStart(token,"StaticBlock")||isCommentAtParentStart(token,"SwitchCase")||isCommentAtParentStart(token,"SwitchStatement")}function isCommentAtBlockEnd(token){return isCommentAtParentEnd(token,"ClassBody")||isCommentAtParentEnd(token,"BlockStatement")||isCommentAtParentEnd(token,"StaticBlock")||isCommentAtParentEnd(token,"SwitchCase")||isCommentAtParentEnd(token,"SwitchStatement")}function isCommentAtClassStart(token){return isCommentAtParentStart(token,"ClassBody")}function isCommentAtClassEnd(token){return isCommentAtParentEnd(token,"ClassBody")}function isCommentAtObjectStart(token){return isCommentAtParentStart(token,"ObjectExpression")||isCommentAtParentStart(token,"ObjectPattern")}function isCommentAtObjectEnd(token){return isCommentAtParentEnd(token,"ObjectExpression")||isCommentAtParentEnd(token,"ObjectPattern")}function isCommentAtArrayStart(token){return isCommentAtParentStart(token,"ArrayExpression")||isCommentAtParentStart(token,"ArrayPattern")}function isCommentAtArrayEnd(token){return isCommentAtParentEnd(token,"ArrayExpression")||isCommentAtParentEnd(token,"ArrayPattern")}function checkForEmptyLine(token,opts){if(applyDefaultIgnorePatterns&&defaultIgnoreRegExp.test(token.value)){return}if(ignorePattern&&customIgnoreRegExp.test(token.value)){return}let after=opts.after,before=opts.before;const prevLineNum=token.loc.start.line-1,nextLineNum=token.loc.end.line+1,commentIsNotAlone=codeAroundComment(token);const blockStartAllowed=options.allowBlockStart&&isCommentAtBlockStart(token)&&!(options.allowClassStart===false&&isCommentAtClassStart(token)),blockEndAllowed=options.allowBlockEnd&&isCommentAtBlockEnd(token)&&!(options.allowClassEnd===false&&isCommentAtClassEnd(token)),classStartAllowed=options.allowClassStart&&isCommentAtClassStart(token),classEndAllowed=options.allowClassEnd&&isCommentAtClassEnd(token),objectStartAllowed=options.allowObjectStart&&isCommentAtObjectStart(token),objectEndAllowed=options.allowObjectEnd&&isCommentAtObjectEnd(token),arrayStartAllowed=options.allowArrayStart&&isCommentAtArrayStart(token),arrayEndAllowed=options.allowArrayEnd&&isCommentAtArrayEnd(token);const exceptionStartAllowed=blockStartAllowed||classStartAllowed||objectStartAllowed||arrayStartAllowed;const exceptionEndAllowed=blockEndAllowed||classEndAllowed||objectEndAllowed||arrayEndAllowed;if(prevLineNum<1){before=false}if(nextLineNum>=numLines){after=false}if(commentIsNotAlone){return}const previousTokenOrComment=sourceCode.getTokenBefore(token,{includeComments:true});const nextTokenOrComment=sourceCode.getTokenAfter(token,{includeComments:true});if(!exceptionStartAllowed&&before&&!commentAndEmptyLines.has(prevLineNum)&&!(astUtils.isCommentToken(previousTokenOrComment)&&astUtils.isTokenOnSameLine(previousTokenOrComment,token))){const lineStart=token.range[0]-token.loc.start.column;const range=[lineStart,lineStart];context.report({node:token,messageId:"before",fix(fixer){return fixer.insertTextBeforeRange(range,"\n")}})}if(!exceptionEndAllowed&&after&&!commentAndEmptyLines.has(nextLineNum)&&!(astUtils.isCommentToken(nextTokenOrComment)&&astUtils.isTokenOnSameLine(token,nextTokenOrComment))){context.report({node:token,messageId:"after",fix(fixer){return fixer.insertTextAfter(token,"\n")}})}}return{Program(){comments.forEach((token=>{if(token.type==="Line"){if(options.beforeLineComment||options.afterLineComment){checkForEmptyLine(token,{after:options.afterLineComment,before:options.beforeLineComment})}}else if(token.type==="Block"){if(options.beforeBlockComment||options.afterBlockComment){checkForEmptyLine(token,{after:options.afterBlockComment,before:options.beforeBlockComment})}}}))}}}};return linesAroundComment}var linesAroundDirective;var hasRequiredLinesAroundDirective;function requireLinesAroundDirective(){if(hasRequiredLinesAroundDirective)return linesAroundDirective;hasRequiredLinesAroundDirective=1;const astUtils=requireAstUtils();linesAroundDirective={meta:{type:"layout",docs:{description:"Require or disallow newlines around directives",recommended:false,url:"https://eslint.org/docs/rules/lines-around-directive"},schema:[{oneOf:[{enum:["always","never"]},{type:"object",properties:{before:{enum:["always","never"]},after:{enum:["always","never"]}},additionalProperties:false,minProperties:2}]}],fixable:"whitespace",messages:{expected:'Expected newline {{location}} "{{value}}" directive.',unexpected:'Unexpected newline {{location}} "{{value}}" directive.'},deprecated:true,replacedBy:["padding-line-between-statements"]},create(context){const sourceCode=context.getSourceCode();const config=context.options[0]||"always";const expectLineBefore=typeof config==="string"?config:config.before;const expectLineAfter=typeof config==="string"?config:config.after;function hasNewlineBefore(node){const tokenBefore=sourceCode.getTokenBefore(node,{includeComments:true});const tokenLineBefore=tokenBefore?tokenBefore.loc.end.line:0;return node.loc.start.line-tokenLineBefore>=2}function getLastTokenOnLine(node){const lastToken=sourceCode.getLastToken(node);const secondToLastToken=sourceCode.getTokenBefore(lastToken);return astUtils.isSemicolonToken(lastToken)&&lastToken.loc.start.line>secondToLastToken.loc.end.line?secondToLastToken:lastToken}function hasNewlineAfter(node){const lastToken=getLastTokenOnLine(node);const tokenAfter=sourceCode.getTokenAfter(lastToken,{includeComments:true});return tokenAfter.loc.start.line-lastToken.loc.end.line>=2}function reportError(node,location,expected){context.report({node:node,messageId:expected?"expected":"unexpected",data:{value:node.expression.value,location:location},fix(fixer){const lastToken=getLastTokenOnLine(node);if(expected){return location==="before"?fixer.insertTextBefore(node,"\n"):fixer.insertTextAfter(lastToken,"\n")}return fixer.removeRange(location==="before"?[node.range[0]-1,node.range[0]]:[lastToken.range[1],lastToken.range[1]+1])}})}function checkDirectives(node){const directives=astUtils.getDirectivePrologue(node);if(!directives.length){return}const firstDirective=directives[0];const leadingComments=sourceCode.getCommentsBefore(firstDirective);if(leadingComments.length){if(expectLineBefore==="always"&&!hasNewlineBefore(firstDirective)){reportError(firstDirective,"before",true)}if(expectLineBefore==="never"&&hasNewlineBefore(firstDirective)){reportError(firstDirective,"before",false)}}else if(node.type==="Program"&&expectLineBefore==="never"&&!leadingComments.length&&hasNewlineBefore(firstDirective)){reportError(firstDirective,"before",false)}const lastDirective=directives[directives.length-1];const statements=node.type==="Program"?node.body:node.body.body;if(lastDirective===statements[statements.length-1]&&!lastDirective.trailingComments){return}if(expectLineAfter==="always"&&!hasNewlineAfter(lastDirective)){reportError(lastDirective,"after",true)}if(expectLineAfter==="never"&&hasNewlineAfter(lastDirective)){reportError(lastDirective,"after",false)}}return{Program:checkDirectives,FunctionDeclaration:checkDirectives,FunctionExpression:checkDirectives,ArrowFunctionExpression:checkDirectives}}};return linesAroundDirective}var linesBetweenClassMembers;var hasRequiredLinesBetweenClassMembers;function requireLinesBetweenClassMembers(){if(hasRequiredLinesBetweenClassMembers)return linesBetweenClassMembers;hasRequiredLinesBetweenClassMembers=1;const astUtils=requireAstUtils();linesBetweenClassMembers={meta:{type:"layout",docs:{description:"Require or disallow an empty line between class members",recommended:false,url:"https://eslint.org/docs/rules/lines-between-class-members"},fixable:"whitespace",schema:[{enum:["always","never"]},{type:"object",properties:{exceptAfterSingleLine:{type:"boolean",default:false}},additionalProperties:false}],messages:{never:"Unexpected blank line between class members.",always:"Expected blank line between class members."}},create(context){const options=[];options[0]=context.options[0]||"always";options[1]=context.options[1]||{exceptAfterSingleLine:false};const sourceCode=context.getSourceCode();function getBoundaryTokens(curNode,nextNode){const lastToken=sourceCode.getLastToken(curNode);const prevToken=sourceCode.getTokenBefore(lastToken);const nextToken=sourceCode.getFirstToken(nextNode);const isSemicolonLessStyle=astUtils.isSemicolonToken(lastToken)&&!astUtils.isTokenOnSameLine(prevToken,lastToken)&&astUtils.isTokenOnSameLine(lastToken,nextToken);return isSemicolonLessStyle?{curLast:prevToken,nextFirst:lastToken}:{curLast:lastToken,nextFirst:nextToken}}function findLastConsecutiveTokenAfter(prevLastToken,nextFirstToken,maxLine){const after=sourceCode.getTokenAfter(prevLastToken,{includeComments:true});if(after!==nextFirstToken&&after.loc.start.line-prevLastToken.loc.end.line<=maxLine){return findLastConsecutiveTokenAfter(after,nextFirstToken,maxLine)}return prevLastToken}function findFirstConsecutiveTokenBefore(nextFirstToken,prevLastToken,maxLine){const before=sourceCode.getTokenBefore(nextFirstToken,{includeComments:true});if(before!==prevLastToken&&nextFirstToken.loc.start.line-before.loc.end.line<=maxLine){return findFirstConsecutiveTokenBefore(before,prevLastToken,maxLine)}return nextFirstToken}function hasTokenOrCommentBetween(before,after){return sourceCode.getTokensBetween(before,after,{includeComments:true}).length!==0}return{ClassBody(node){const body=node.body;for(let i=0;i<body.length-1;i++){const curFirst=sourceCode.getFirstToken(body[i]);const{curLast:curLast,nextFirst:nextFirst}=getBoundaryTokens(body[i],body[i+1]);const isMulti=!astUtils.isTokenOnSameLine(curFirst,curLast);const skip=!isMulti&&options[1].exceptAfterSingleLine;const beforePadding=findLastConsecutiveTokenAfter(curLast,nextFirst,1);const afterPadding=findFirstConsecutiveTokenBefore(nextFirst,curLast,1);const isPadded=afterPadding.loc.start.line-beforePadding.loc.end.line>1;const hasTokenInPadding=hasTokenOrCommentBetween(beforePadding,afterPadding);const curLineLastToken=findLastConsecutiveTokenAfter(curLast,nextFirst,0);if(options[0]==="always"&&!skip&&!isPadded||options[0]==="never"&&isPadded){context.report({node:body[i+1],messageId:isPadded?"never":"always",fix(fixer){if(hasTokenInPadding){return null}return isPadded?fixer.replaceTextRange([beforePadding.range[1],afterPadding.range[0]],"\n"):fixer.insertTextAfter(curLineLastToken,"\n")}})}}}}}};return linesBetweenClassMembers}var logicalAssignmentOperators;var hasRequiredLogicalAssignmentOperators;function requireLogicalAssignmentOperators(){if(hasRequiredLogicalAssignmentOperators)return logicalAssignmentOperators;hasRequiredLogicalAssignmentOperators=1;const astUtils=requireAstUtils();const baseTypes=new Set(["Identifier","Super","ThisExpression"]);function isUndefined(expression,scope){if(expression.type==="Identifier"&&expression.name==="undefined"){return astUtils.isReferenceToGlobalVariable(scope,expression)}return expression.type==="UnaryExpression"&&expression.operator==="void"&&expression.argument.type==="Literal"&&expression.argument.value===0}function isReference(expression){return expression.type==="Identifier"&&expression.name!=="undefined"||expression.type==="MemberExpression"}function isImplicitNullishComparison(expression,scope){if(expression.type!=="BinaryExpression"||expression.operator!=="=="){return false}const reference=isReference(expression.left)?"left":"right";const nullish=reference==="left"?"right":"left";return isReference(expression[reference])&&(astUtils.isNullLiteral(expression[nullish])||isUndefined(expression[nullish],scope))}function isDoubleComparison(expression){return expression.type==="LogicalExpression"&&expression.operator==="||"&&expression.left.type==="BinaryExpression"&&expression.left.operator==="==="&&expression.right.type==="BinaryExpression"&&expression.right.operator==="==="}function isExplicitNullishComparison(expression,scope){if(!isDoubleComparison(expression)){return false}const leftReference=isReference(expression.left.left)?"left":"right";const leftNullish=leftReference==="left"?"right":"left";const rightReference=isReference(expression.right.left)?"left":"right";const rightNullish=rightReference==="left"?"right":"left";return astUtils.isSameReference(expression.left[leftReference],expression.right[rightReference])&&(astUtils.isNullLiteral(expression.left[leftNullish])&&isUndefined(expression.right[rightNullish],scope)||isUndefined(expression.left[leftNullish],scope)&&astUtils.isNullLiteral(expression.right[rightNullish]))}function isBooleanCast(expression,scope){return expression.type==="CallExpression"&&expression.callee.name==="Boolean"&&expression.arguments.length===1&&astUtils.isReferenceToGlobalVariable(scope,expression.callee)}function getExistence(expression,scope){const isNegated=expression.type==="UnaryExpression"&&expression.operator==="!";const base=isNegated?expression.argument:expression;switch(true){case isReference(base):return{reference:base,operator:isNegated?"||":"&&"};case base.type==="UnaryExpression"&&base.operator==="!"&&isReference(base.argument):return{reference:base.argument,operator:"&&"};case isBooleanCast(base,scope)&&isReference(base.arguments[0]):return{reference:base.arguments[0],operator:isNegated?"||":"&&"};case isImplicitNullishComparison(expression,scope):return{reference:isReference(expression.left)?expression.left:expression.right,operator:"??"};case isExplicitNullishComparison(expression,scope):return{reference:isReference(expression.left.left)?expression.left.left:expression.left.right,operator:"??"};default:return null}}function isInsideWithBlock(node){if(node.type==="Program"){return false}return node.parent.type==="WithStatement"&&node.parent.body===node?true:isInsideWithBlock(node.parent)}logicalAssignmentOperators={meta:{type:"suggestion",docs:{description:"Require or disallow logical assignment logical operator shorthand",recommended:false,url:"https://eslint.org/docs/rules/logical-assignment-operators"},schema:{type:"array",oneOf:[{items:[{const:"always"},{type:"object",properties:{enforceForIfStatements:{type:"boolean"}},additionalProperties:false}],minItems:0,maxItems:2},{items:[{const:"never"}],minItems:1,maxItems:1}]},fixable:"code",hasSuggestions:true,messages:{assignment:"Assignment (=) can be replaced with operator assignment ({{operator}}).",useLogicalOperator:"Convert this assignment to use the operator {{ operator }}.",logical:"Logical expression can be replaced with an assignment ({{ operator }}).",convertLogical:"Replace this logical expression with an assignment with the operator {{ operator }}.",if:"'if' statement can be replaced with a logical operator assignment with operator {{ operator }}.",convertIf:"Replace this 'if' statement with a logical assignment with operator {{ operator }}.",unexpected:"Unexpected logical operator assignment ({{operator}}) shorthand.",separate:"Separate the logical assignment into an assignment with a logical operator."}},create(context){const mode=context.options[0]==="never"?"never":"always";const checkIf=mode==="always"&&context.options.length>1&&context.options[1].enforceForIfStatements;const sourceCode=context.getSourceCode();const isStrict=context.getScope().isStrict;function cannotBeGetter(node){return node.type==="Identifier"&&(isStrict||!isInsideWithBlock(node))}function accessesSingleProperty(node){if(!isStrict&&isInsideWithBlock(node)){return node.type==="Identifier"}return node.type==="MemberExpression"&&baseTypes.has(node.object.type)&&(!node.computed||node.property.type!=="MemberExpression"&&node.property.type!=="ChainExpression")}function createConditionalFixer(descriptor,suggestion,shouldBeFixed){if(shouldBeFixed){return{...descriptor,fix:suggestion.fix}}return{...descriptor,suggest:[suggestion]}}function getOperatorToken(node){return sourceCode.getFirstTokenBetween(node.left,node.right,(token=>token.value===node.operator))}if(mode==="never"){return{AssignmentExpression(assignment){if(!astUtils.isLogicalAssignmentOperator(assignment.operator)){return}const descriptor={messageId:"unexpected",node:assignment,data:{operator:assignment.operator}};const suggestion={messageId:"separate",*fix(ruleFixer){if(sourceCode.getCommentsInside(assignment).length>0){return}const operatorToken=getOperatorToken(assignment);yield ruleFixer.replaceText(operatorToken,"=");const assignmentText=sourceCode.getText(assignment.left);const operator=assignment.operator.slice(0,-1);yield ruleFixer.insertTextAfter(operatorToken,` ${assignmentText} ${operator}`);const precedence=astUtils.getPrecedence(assignment.right)<=astUtils.getPrecedence({type:"LogicalExpression",operator:operator});const mixed=assignment.operator==="??="&&astUtils.isLogicalExpression(assignment.right);if(!astUtils.isParenthesised(sourceCode,assignment.right)&&(precedence||mixed)){yield ruleFixer.insertTextBefore(assignment.right,"(");yield ruleFixer.insertTextAfter(assignment.right,")")}}};context.report(createConditionalFixer(descriptor,suggestion,cannotBeGetter(assignment.left)))}}}return{"AssignmentExpression[operator='='][right.type='LogicalExpression']"(assignment){if(!astUtils.isSameReference(assignment.left,assignment.right.left)){return}const descriptor={messageId:"assignment",node:assignment,data:{operator:`${assignment.right.operator}=`}};const suggestion={messageId:"useLogicalOperator",data:{operator:`${assignment.right.operator}=`},*fix(ruleFixer){if(sourceCode.getCommentsInside(assignment).length>0){return}const assignmentOperatorToken=getOperatorToken(assignment);yield ruleFixer.insertTextBefore(assignmentOperatorToken,assignment.right.operator);const logicalOperatorToken=getOperatorToken(assignment.right);const firstRightOperandToken=sourceCode.getTokenAfter(logicalOperatorToken);yield ruleFixer.removeRange([assignment.right.range[0],firstRightOperandToken.range[0]])}};context.report(createConditionalFixer(descriptor,suggestion,cannotBeGetter(assignment.left)))},'LogicalExpression[right.type="AssignmentExpression"][right.operator="="]'(logical){if(isReference(logical.left)&&astUtils.isSameReference(logical.left,logical.right.left)){const descriptor={messageId:"logical",node:logical,data:{operator:`${logical.operator}=`}};const suggestion={messageId:"convertLogical",data:{operator:`${logical.operator}=`},*fix(ruleFixer){if(sourceCode.getCommentsInside(logical).length>0){return}const requiresOuterParenthesis=logical.parent.type!=="ExpressionStatement"&&astUtils.getPrecedence({type:"AssignmentExpression"})<astUtils.getPrecedence(logical.parent);if(!astUtils.isParenthesised(sourceCode,logical)&&requiresOuterParenthesis){yield ruleFixer.insertTextBefore(logical,"(");yield ruleFixer.insertTextAfter(logical,")")}yield ruleFixer.removeRange([logical.range[0],logical.right.range[0]]);yield ruleFixer.removeRange([logical.right.range[1],logical.range[1]]);const operatorToken=getOperatorToken(logical.right);yield ruleFixer.insertTextBefore(operatorToken,logical.operator)}};const fix=cannotBeGetter(logical.left)||accessesSingleProperty(logical.left);context.report(createConditionalFixer(descriptor,suggestion,fix))}},"IfStatement[alternate=null]"(ifNode){if(!checkIf){return}const hasBody=ifNode.consequent.type==="BlockStatement";if(hasBody&&ifNode.consequent.body.length!==1){return}const body=hasBody?ifNode.consequent.body[0]:ifNode.consequent;const scope=context.getScope();const existence=getExistence(ifNode.test,scope);if(body.type==="ExpressionStatement"&&body.expression.type==="AssignmentExpression"&&body.expression.operator==="="&&existence!==null&&astUtils.isSameReference(existence.reference,body.expression.left)){const descriptor={messageId:"if",node:ifNode,data:{operator:`${existence.operator}=`}};const suggestion={messageId:"convertIf",data:{operator:`${existence.operator}=`},*fix(ruleFixer){if(sourceCode.getCommentsInside(ifNode).length>0){return}const firstBodyToken=sourceCode.getFirstToken(body);const prevToken=sourceCode.getTokenBefore(ifNode);if(prevToken!==null&&prevToken.value!==";"&&prevToken.value!=="{"&&firstBodyToken.type!=="Identifier"&&firstBodyToken.type!=="Keyword"){return}const operatorToken=getOperatorToken(body.expression);yield ruleFixer.insertTextBefore(operatorToken,existence.operator);yield ruleFixer.removeRange([ifNode.range[0],body.range[0]]);yield ruleFixer.removeRange([body.range[1],ifNode.range[1]]);const nextToken=sourceCode.getTokenAfter(body.expression);if(hasBody&&(nextToken!==null&&nextToken.value!==";")){yield ruleFixer.insertTextAfter(ifNode,";")}}};const shouldBeFixed=cannotBeGetter(existence.reference)||ifNode.test.type!=="LogicalExpression"&&accessesSingleProperty(existence.reference);context.report(createConditionalFixer(descriptor,suggestion,shouldBeFixed))}}}}};return logicalAssignmentOperators}var maxClassesPerFile;var hasRequiredMaxClassesPerFile;function requireMaxClassesPerFile(){if(hasRequiredMaxClassesPerFile)return maxClassesPerFile;hasRequiredMaxClassesPerFile=1;maxClassesPerFile={meta:{type:"suggestion",docs:{description:"Enforce a maximum number of classes per file",recommended:false,url:"https://eslint.org/docs/rules/max-classes-per-file"},schema:[{oneOf:[{type:"integer",minimum:1},{type:"object",properties:{ignoreExpressions:{type:"boolean"},max:{type:"integer",minimum:1}},additionalProperties:false}]}],messages:{maximumExceeded:"File has too many classes ({{ classCount }}). Maximum allowed is {{ max }}."}},create(context){const[option={}]=context.options;const[ignoreExpressions,max]=typeof option==="number"?[false,option||1]:[option.ignoreExpressions,option.max||1];let classCount=0;return{Program(){classCount=0},"Program:exit"(node){if(classCount>max){context.report({node:node,messageId:"maximumExceeded",data:{classCount:classCount,max:max}})}},ClassDeclaration(){classCount++},ClassExpression(){if(!ignoreExpressions){classCount++}}}}};return maxClassesPerFile}var maxDepth;var hasRequiredMaxDepth;function requireMaxDepth(){if(hasRequiredMaxDepth)return maxDepth;hasRequiredMaxDepth=1;maxDepth={meta:{type:"suggestion",docs:{description:"Enforce a maximum depth that blocks can be nested",recommended:false,url:"https://eslint.org/docs/rules/max-depth"},schema:[{oneOf:[{type:"integer",minimum:0},{type:"object",properties:{maximum:{type:"integer",minimum:0},max:{type:"integer",minimum:0}},additionalProperties:false}]}],messages:{tooDeeply:"Blocks are nested too deeply ({{depth}}). Maximum allowed is {{maxDepth}}."}},create(context){const functionStack=[],option=context.options[0];let maxDepth=4;if(typeof option==="object"&&(Object.prototype.hasOwnProperty.call(option,"maximum")||Object.prototype.hasOwnProperty.call(option,"max"))){maxDepth=option.maximum||option.max}if(typeof option==="number"){maxDepth=option}function startFunction(){functionStack.push(0)}function endFunction(){functionStack.pop()}function pushBlock(node){const len=++functionStack[functionStack.length-1];if(len>maxDepth){context.report({node:node,messageId:"tooDeeply",data:{depth:len,maxDepth:maxDepth}})}}function popBlock(){functionStack[functionStack.length-1]--}return{Program:startFunction,FunctionDeclaration:startFunction,FunctionExpression:startFunction,ArrowFunctionExpression:startFunction,StaticBlock:startFunction,IfStatement(node){if(node.parent.type!=="IfStatement"){pushBlock(node)}},SwitchStatement:pushBlock,TryStatement:pushBlock,DoWhileStatement:pushBlock,WhileStatement:pushBlock,WithStatement:pushBlock,ForStatement:pushBlock,ForInStatement:pushBlock,ForOfStatement:pushBlock,"IfStatement:exit":popBlock,"SwitchStatement:exit":popBlock,"TryStatement:exit":popBlock,"DoWhileStatement:exit":popBlock,"WhileStatement:exit":popBlock,"WithStatement:exit":popBlock,"ForStatement:exit":popBlock,"ForInStatement:exit":popBlock,"ForOfStatement:exit":popBlock,"FunctionDeclaration:exit":endFunction,"FunctionExpression:exit":endFunction,"ArrowFunctionExpression:exit":endFunction,"StaticBlock:exit":endFunction,"Program:exit":endFunction}}};return maxDepth}var maxLen;var hasRequiredMaxLen;function requireMaxLen(){if(hasRequiredMaxLen)return maxLen;hasRequiredMaxLen=1;const OPTIONS_SCHEMA={type:"object",properties:{code:{type:"integer",minimum:0},comments:{type:"integer",minimum:0},tabWidth:{type:"integer",minimum:0},ignorePattern:{type:"string"},ignoreComments:{type:"boolean"},ignoreStrings:{type:"boolean"},ignoreUrls:{type:"boolean"},ignoreTemplateLiterals:{type:"boolean"},ignoreRegExpLiterals:{type:"boolean"},ignoreTrailingComments:{type:"boolean"}},additionalProperties:false};const OPTIONS_OR_INTEGER_SCHEMA={anyOf:[OPTIONS_SCHEMA,{type:"integer",minimum:0}]};maxLen={meta:{type:"layout",docs:{description:"Enforce a maximum line length",recommended:false,url:"https://eslint.org/docs/rules/max-len"},schema:[OPTIONS_OR_INTEGER_SCHEMA,OPTIONS_OR_INTEGER_SCHEMA,OPTIONS_SCHEMA],messages:{max:"This line has a length of {{lineLength}}. Maximum allowed is {{maxLength}}.",maxComment:"This line has a comment length of {{lineLength}}. Maximum allowed is {{maxCommentLength}}."}},create(context){const URL_REGEXP=/[^:/?#]:\/\/[^?#]/u;const sourceCode=context.getSourceCode();function computeLineLength(line,tabWidth){let extraCharacterCount=0;line.replace(/\t/gu,((match,offset)=>{const totalOffset=offset+extraCharacterCount,previousTabStopOffset=tabWidth?totalOffset%tabWidth:0,spaceCount=tabWidth-previousTabStopOffset;extraCharacterCount+=spaceCount-1}));return Array.from(line).length+extraCharacterCount}const options=Object.assign({},context.options[context.options.length-1]);if(typeof context.options[0]==="number"){options.code=context.options[0]}if(typeof context.options[1]==="number"){options.tabWidth=context.options[1]}const maxLength=typeof options.code==="number"?options.code:80,tabWidth=typeof options.tabWidth==="number"?options.tabWidth:4,ignoreComments=!!options.ignoreComments,ignoreStrings=!!options.ignoreStrings,ignoreTemplateLiterals=!!options.ignoreTemplateLiterals,ignoreRegExpLiterals=!!options.ignoreRegExpLiterals,ignoreTrailingComments=!!options.ignoreTrailingComments||!!options.ignoreComments,ignoreUrls=!!options.ignoreUrls,maxCommentLength=options.comments;let ignorePattern=options.ignorePattern||null;if(ignorePattern){ignorePattern=new RegExp(ignorePattern,"u")}function isTrailingComment(line,lineNumber,comment){return comment&&(comment.loc.start.line===lineNumber&&lineNumber<=comment.loc.end.line)&&(comment.loc.end.line>lineNumber||comment.loc.end.column===line.length)}function isFullLineComment(line,lineNumber,comment){const start=comment.loc.start,end=comment.loc.end,isFirstTokenOnLine=!line.slice(0,comment.loc.start.column).trim();return comment&&(start.line<lineNumber||start.line===lineNumber&&isFirstTokenOnLine)&&(end.line>lineNumber||end.line===lineNumber&&end.column===line.length)}function isJSXEmptyExpressionInSingleLineContainer(node){if(!node||!node.parent||node.type!=="JSXEmptyExpression"||node.parent.type!=="JSXExpressionContainer"){return false}const parent=node.parent;return parent.loc.start.line===parent.loc.end.line}function stripTrailingComment(line,comment){return line.slice(0,comment.loc.start.column).replace(/\s+$/u,"")}function ensureArrayAndPush(object,key,value){if(!Array.isArray(object[key])){object[key]=[]}object[key].push(value)}function getAllStrings(){return sourceCode.ast.tokens.filter((token=>token.type==="String"||token.type==="JSXText"&&sourceCode.getNodeByRangeIndex(token.range[0]-1).type==="JSXAttribute"))}function getAllTemplateLiterals(){return sourceCode.ast.tokens.filter((token=>token.type==="Template"))}function getAllRegExpLiterals(){return sourceCode.ast.tokens.filter((token=>token.type==="RegularExpression"))}function groupByLineNumber(acc,node){for(let i=node.loc.start.line;i<=node.loc.end.line;++i){ensureArrayAndPush(acc,i,node)}return acc}function getAllComments(){const comments=[];sourceCode.getAllComments().forEach((commentNode=>{const containingNode=sourceCode.getNodeByRangeIndex(commentNode.range[0]);if(isJSXEmptyExpressionInSingleLineContainer(containingNode)){if(comments[comments.length-1]!==containingNode.parent){comments.push(containingNode.parent)}}else{comments.push(commentNode)}}));return comments}function checkProgramForMaxLength(node){const lines=sourceCode.lines,comments=ignoreComments||maxCommentLength||ignoreTrailingComments?getAllComments():[];let commentsIndex=0;const strings=getAllStrings();const stringsByLine=strings.reduce(groupByLineNumber,{});const templateLiterals=getAllTemplateLiterals();const templateLiteralsByLine=templateLiterals.reduce(groupByLineNumber,{});const regExpLiterals=getAllRegExpLiterals();const regExpLiteralsByLine=regExpLiterals.reduce(groupByLineNumber,{});lines.forEach(((line,i)=>{const lineNumber=i+1;let lineIsComment=false;let textToMeasure;if(commentsIndex<comments.length){let comment=null;do{comment=comments[++commentsIndex]}while(comment&&comment.loc.start.line<=lineNumber);comment=comments[--commentsIndex];if(isFullLineComment(line,lineNumber,comment)){lineIsComment=true;textToMeasure=line}else if(ignoreTrailingComments&&isTrailingComment(line,lineNumber,comment)){textToMeasure=stripTrailingComment(line,comment);let lastIndex=commentsIndex;while(isTrailingComment(textToMeasure,lineNumber,comments[--lastIndex])){textToMeasure=stripTrailingComment(textToMeasure,comments[lastIndex])}}else{textToMeasure=line}}else{textToMeasure=line}if(ignorePattern&&ignorePattern.test(textToMeasure)||ignoreUrls&&URL_REGEXP.test(textToMeasure)||ignoreStrings&&stringsByLine[lineNumber]||ignoreTemplateLiterals&&templateLiteralsByLine[lineNumber]||ignoreRegExpLiterals&&regExpLiteralsByLine[lineNumber]){return}const lineLength=computeLineLength(textToMeasure,tabWidth);const commentLengthApplies=lineIsComment&&maxCommentLength;if(lineIsComment&&ignoreComments){return}const loc={start:{line:lineNumber,column:0},end:{line:lineNumber,column:textToMeasure.length}};if(commentLengthApplies){if(lineLength>maxCommentLength){context.report({node:node,loc:loc,messageId:"maxComment",data:{lineLength:lineLength,maxCommentLength:maxCommentLength}})}}else if(lineLength>maxLength){context.report({node:node,loc:loc,messageId:"max",data:{lineLength:lineLength,maxLength:maxLength}})}}))}return{Program:checkProgramForMaxLength}}};return maxLen}var maxLines;var hasRequiredMaxLines;function requireMaxLines(){if(hasRequiredMaxLines)return maxLines;hasRequiredMaxLines=1;const astUtils=requireAstUtils();function range(start,end){return[...Array(end-start).keys()].map((x=>x+start))}maxLines={meta:{type:"suggestion",docs:{description:"Enforce a maximum number of lines per file",recommended:false,url:"https://eslint.org/docs/rules/max-lines"},schema:[{oneOf:[{type:"integer",minimum:0},{type:"object",properties:{max:{type:"integer",minimum:0},skipComments:{type:"boolean"},skipBlankLines:{type:"boolean"}},additionalProperties:false}]}],messages:{exceed:"File has too many lines ({{actual}}). Maximum allowed is {{max}}."}},create(context){const option=context.options[0];let max=300;if(typeof option==="object"&&Object.prototype.hasOwnProperty.call(option,"max")){max=option.max}else if(typeof option==="number"){max=option}const skipComments=option&&option.skipComments;const skipBlankLines=option&&option.skipBlankLines;const sourceCode=context.getSourceCode();function isCommentNodeType(token){return token&&(token.type==="Block"||token.type==="Line")}function getLinesWithoutCode(comment){let start=comment.loc.start.line;let end=comment.loc.end.line;let token;token=comment;do{token=sourceCode.getTokenBefore(token,{includeComments:true})}while(isCommentNodeType(token));if(token&&astUtils.isTokenOnSameLine(token,comment)){start+=1}token=comment;do{token=sourceCode.getTokenAfter(token,{includeComments:true})}while(isCommentNodeType(token));if(token&&astUtils.isTokenOnSameLine(comment,token)){end-=1}if(start<=end){return range(start,end+1)}return[]}return{"Program:exit"(){let lines=sourceCode.lines.map(((text,i)=>({lineNumber:i+1,text:text})));if(lines.length>1&&lines[lines.length-1].text===""){lines.pop()}if(skipBlankLines){lines=lines.filter((l=>l.text.trim()!==""))}if(skipComments){const comments=sourceCode.getAllComments();const commentLines=new Set(comments.flatMap(getLinesWithoutCode));lines=lines.filter((l=>!commentLines.has(l.lineNumber)))}if(lines.length>max){const loc={start:{line:lines[max].lineNumber,column:0},end:{line:sourceCode.lines.length,column:sourceCode.lines[sourceCode.lines.length-1].length}};context.report({loc:loc,messageId:"exceed",data:{max:max,actual:lines.length}})}}}}};return maxLines}var maxLinesPerFunction;var hasRequiredMaxLinesPerFunction;function requireMaxLinesPerFunction(){if(hasRequiredMaxLinesPerFunction)return maxLinesPerFunction;hasRequiredMaxLinesPerFunction=1;const astUtils=requireAstUtils();const{upperCaseFirst:upperCaseFirst}=requireStringUtils();const OPTIONS_SCHEMA={type:"object",properties:{max:{type:"integer",minimum:0},skipComments:{type:"boolean"},skipBlankLines:{type:"boolean"},IIFEs:{type:"boolean"}},additionalProperties:false};const OPTIONS_OR_INTEGER_SCHEMA={oneOf:[OPTIONS_SCHEMA,{type:"integer",minimum:1}]};function getCommentLineNumbers(comments){const map=new Map;comments.forEach((comment=>{for(let i=comment.loc.start.line;i<=comment.loc.end.line;i++){map.set(i,comment)}}));return map}maxLinesPerFunction={meta:{type:"suggestion",docs:{description:"Enforce a maximum number of lines of code in a function",recommended:false,url:"https://eslint.org/docs/rules/max-lines-per-function"},schema:[OPTIONS_OR_INTEGER_SCHEMA],messages:{exceed:"{{name}} has too many lines ({{lineCount}}). Maximum allowed is {{maxLines}}."}},create(context){const sourceCode=context.getSourceCode();const lines=sourceCode.lines;const option=context.options[0];let maxLines=50;let skipComments=false;let skipBlankLines=false;let IIFEs=false;if(typeof option==="object"){maxLines=typeof option.max==="number"?option.max:50;skipComments=!!option.skipComments;skipBlankLines=!!option.skipBlankLines;IIFEs=!!option.IIFEs}else if(typeof option==="number"){maxLines=option}const commentLineNumbers=getCommentLineNumbers(sourceCode.getAllComments());function isFullLineComment(line,lineNumber,comment){const start=comment.loc.start,end=comment.loc.end,isFirstTokenOnLine=start.line===lineNumber&&!line.slice(0,start.column).trim(),isLastTokenOnLine=end.line===lineNumber&&!line.slice(end.column).trim();return comment&&(start.line<lineNumber||isFirstTokenOnLine)&&(end.line>lineNumber||isLastTokenOnLine)}function isIIFE(node){return(node.type==="FunctionExpression"||node.type==="ArrowFunctionExpression")&&node.parent&&node.parent.type==="CallExpression"&&node.parent.callee===node}function isEmbedded(node){if(!node.parent){return false}if(node!==node.parent.value){return false}if(node.parent.type==="MethodDefinition"){return true}if(node.parent.type==="Property"){return node.parent.method===true||node.parent.kind==="get"||node.parent.kind==="set"}return false}function processFunction(funcNode){const node=isEmbedded(funcNode)?funcNode.parent:funcNode;if(!IIFEs&&isIIFE(node)){return}let lineCount=0;for(let i=node.loc.start.line-1;i<node.loc.end.line;++i){const line=lines[i];if(skipComments){if(commentLineNumbers.has(i+1)&&isFullLineComment(line,i+1,commentLineNumbers.get(i+1))){continue}}if(skipBlankLines){if(line.match(/^\s*$/u)){continue}}lineCount++}if(lineCount>maxLines){const name=upperCaseFirst(astUtils.getFunctionNameWithKind(funcNode));context.report({node:node,messageId:"exceed",data:{name:name,lineCount:lineCount,maxLines:maxLines}})}}return{FunctionDeclaration:processFunction,FunctionExpression:processFunction,ArrowFunctionExpression:processFunction}}};return maxLinesPerFunction}var maxNestedCallbacks;var hasRequiredMaxNestedCallbacks;function requireMaxNestedCallbacks(){if(hasRequiredMaxNestedCallbacks)return maxNestedCallbacks;hasRequiredMaxNestedCallbacks=1;maxNestedCallbacks={meta:{type:"suggestion",docs:{description:"Enforce a maximum depth that callbacks can be nested",recommended:false,url:"https://eslint.org/docs/rules/max-nested-callbacks"},schema:[{oneOf:[{type:"integer",minimum:0},{type:"object",properties:{maximum:{type:"integer",minimum:0},max:{type:"integer",minimum:0}},additionalProperties:false}]}],messages:{exceed:"Too many nested callbacks ({{num}}). Maximum allowed is {{max}}."}},create(context){const option=context.options[0];let THRESHOLD=10;if(typeof option==="object"&&(Object.prototype.hasOwnProperty.call(option,"maximum")||Object.prototype.hasOwnProperty.call(option,"max"))){THRESHOLD=option.maximum||option.max}else if(typeof option==="number"){THRESHOLD=option}const callbackStack=[];function checkFunction(node){const parent=node.parent;if(parent.type==="CallExpression"){callbackStack.push(node)}if(callbackStack.length>THRESHOLD){const opts={num:callbackStack.length,max:THRESHOLD};context.report({node:node,messageId:"exceed",data:opts})}}function popStack(){callbackStack.pop()}return{ArrowFunctionExpression:checkFunction,"ArrowFunctionExpression:exit":popStack,FunctionExpression:checkFunction,"FunctionExpression:exit":popStack}}};return maxNestedCallbacks}var maxParams;var hasRequiredMaxParams;function requireMaxParams(){if(hasRequiredMaxParams)return maxParams;hasRequiredMaxParams=1;const astUtils=requireAstUtils();const{upperCaseFirst:upperCaseFirst}=requireStringUtils();maxParams={meta:{type:"suggestion",docs:{description:"Enforce a maximum number of parameters in function definitions",recommended:false,url:"https://eslint.org/docs/rules/max-params"},schema:[{oneOf:[{type:"integer",minimum:0},{type:"object",properties:{maximum:{type:"integer",minimum:0},max:{type:"integer",minimum:0}},additionalProperties:false}]}],messages:{exceed:"{{name}} has too many parameters ({{count}}). Maximum allowed is {{max}}."}},create(context){const sourceCode=context.getSourceCode();const option=context.options[0];let numParams=3;if(typeof option==="object"&&(Object.prototype.hasOwnProperty.call(option,"maximum")||Object.prototype.hasOwnProperty.call(option,"max"))){numParams=option.maximum||option.max}if(typeof option==="number"){numParams=option}function checkFunction(node){if(node.params.length>numParams){context.report({loc:astUtils.getFunctionHeadLoc(node,sourceCode),node:node,messageId:"exceed",data:{name:upperCaseFirst(astUtils.getFunctionNameWithKind(node)),count:node.params.length,max:numParams}})}}return{FunctionDeclaration:checkFunction,ArrowFunctionExpression:checkFunction,FunctionExpression:checkFunction}}};return maxParams}var maxStatements;var hasRequiredMaxStatements;function requireMaxStatements(){if(hasRequiredMaxStatements)return maxStatements;hasRequiredMaxStatements=1;const astUtils=requireAstUtils();const{upperCaseFirst:upperCaseFirst}=requireStringUtils();maxStatements={meta:{type:"suggestion",docs:{description:"Enforce a maximum number of statements allowed in function blocks",recommended:false,url:"https://eslint.org/docs/rules/max-statements"},schema:[{oneOf:[{type:"integer",minimum:0},{type:"object",properties:{maximum:{type:"integer",minimum:0},max:{type:"integer",minimum:0}},additionalProperties:false}]},{type:"object",properties:{ignoreTopLevelFunctions:{type:"boolean"}},additionalProperties:false}],messages:{exceed:"{{name}} has too many statements ({{count}}). Maximum allowed is {{max}}."}},create(context){const functionStack=[],option=context.options[0],ignoreTopLevelFunctions=context.options[1]&&context.options[1].ignoreTopLevelFunctions||false,topLevelFunctions=[];let maxStatements=10;if(typeof option==="object"&&(Object.prototype.hasOwnProperty.call(option,"maximum")||Object.prototype.hasOwnProperty.call(option,"max"))){maxStatements=option.maximum||option.max}else if(typeof option==="number"){maxStatements=option}function reportIfTooManyStatements(node,count,max){if(count>max){const name=upperCaseFirst(astUtils.getFunctionNameWithKind(node));context.report({node:node,messageId:"exceed",data:{name:name,count:count,max:max}})}}function startFunction(){functionStack.push(0)}function endFunction(node){const count=functionStack.pop();if(node.type==="StaticBlock"){return}if(ignoreTopLevelFunctions&&functionStack.length===0){topLevelFunctions.push({node:node,count:count})}else{reportIfTooManyStatements(node,count,maxStatements)}}function countStatements(node){functionStack[functionStack.length-1]+=node.body.length}return{FunctionDeclaration:startFunction,FunctionExpression:startFunction,ArrowFunctionExpression:startFunction,StaticBlock:startFunction,BlockStatement:countStatements,"FunctionDeclaration:exit":endFunction,"FunctionExpression:exit":endFunction,"ArrowFunctionExpression:exit":endFunction,"StaticBlock:exit":endFunction,"Program:exit"(){if(topLevelFunctions.length===1){return}topLevelFunctions.forEach((element=>{const count=element.count;const node=element.node;reportIfTooManyStatements(node,count,maxStatements)}))}}}};return maxStatements}var maxStatementsPerLine;var hasRequiredMaxStatementsPerLine;function requireMaxStatementsPerLine(){if(hasRequiredMaxStatementsPerLine)return maxStatementsPerLine;hasRequiredMaxStatementsPerLine=1;const astUtils=requireAstUtils();maxStatementsPerLine={meta:{type:"layout",docs:{description:"Enforce a maximum number of statements allowed per line",recommended:false,url:"https://eslint.org/docs/rules/max-statements-per-line"},schema:[{type:"object",properties:{max:{type:"integer",minimum:1,default:1}},additionalProperties:false}],messages:{exceed:"This line has {{numberOfStatementsOnThisLine}} {{statements}}. Maximum allowed is {{maxStatementsPerLine}}."}},create(context){const sourceCode=context.getSourceCode(),options=context.options[0]||{},maxStatementsPerLine=typeof options.max!=="undefined"?options.max:1;let lastStatementLine=0,numberOfStatementsOnThisLine=0,firstExtraStatement;const SINGLE_CHILD_ALLOWED=/^(?:(?:DoWhile|For|ForIn|ForOf|If|Labeled|While)Statement|Export(?:Default|Named)Declaration)$/u;function reportFirstExtraStatementAndClear(){if(firstExtraStatement){context.report({node:firstExtraStatement,messageId:"exceed",data:{numberOfStatementsOnThisLine:numberOfStatementsOnThisLine,maxStatementsPerLine:maxStatementsPerLine,statements:numberOfStatementsOnThisLine===1?"statement":"statements"}})}firstExtraStatement=null}function getActualLastToken(node){return sourceCode.getLastToken(node,astUtils.isNotSemicolonToken)}function enterStatement(node){const line=node.loc.start.line;if(SINGLE_CHILD_ALLOWED.test(node.parent.type)&&node.parent.alternate!==node){return}if(line===lastStatementLine){numberOfStatementsOnThisLine+=1}else{reportFirstExtraStatementAndClear();numberOfStatementsOnThisLine=1;lastStatementLine=line}if(numberOfStatementsOnThisLine===maxStatementsPerLine+1){firstExtraStatement=firstExtraStatement||node}}function leaveStatement(node){const line=getActualLastToken(node).loc.end.line;if(line!==lastStatementLine){reportFirstExtraStatementAndClear();numberOfStatementsOnThisLine=1;lastStatementLine=line}}return{BreakStatement:enterStatement,ClassDeclaration:enterStatement,ContinueStatement:enterStatement,DebuggerStatement:enterStatement,DoWhileStatement:enterStatement,ExpressionStatement:enterStatement,ForInStatement:enterStatement,ForOfStatement:enterStatement,ForStatement:enterStatement,FunctionDeclaration:enterStatement,IfStatement:enterStatement,ImportDeclaration:enterStatement,LabeledStatement:enterStatement,ReturnStatement:enterStatement,SwitchStatement:enterStatement,ThrowStatement:enterStatement,TryStatement:enterStatement,VariableDeclaration:enterStatement,WhileStatement:enterStatement,WithStatement:enterStatement,ExportNamedDeclaration:enterStatement,ExportDefaultDeclaration:enterStatement,ExportAllDeclaration:enterStatement,"BreakStatement:exit":leaveStatement,"ClassDeclaration:exit":leaveStatement,"ContinueStatement:exit":leaveStatement,"DebuggerStatement:exit":leaveStatement,"DoWhileStatement:exit":leaveStatement,"ExpressionStatement:exit":leaveStatement,"ForInStatement:exit":leaveStatement,"ForOfStatement:exit":leaveStatement,"ForStatement:exit":leaveStatement,"FunctionDeclaration:exit":leaveStatement,"IfStatement:exit":leaveStatement,"ImportDeclaration:exit":leaveStatement,"LabeledStatement:exit":leaveStatement,"ReturnStatement:exit":leaveStatement,"SwitchStatement:exit":leaveStatement,"ThrowStatement:exit":leaveStatement,"TryStatement:exit":leaveStatement,"VariableDeclaration:exit":leaveStatement,"WhileStatement:exit":leaveStatement,"WithStatement:exit":leaveStatement,"ExportNamedDeclaration:exit":leaveStatement,"ExportDefaultDeclaration:exit":leaveStatement,"ExportAllDeclaration:exit":leaveStatement,"Program:exit":reportFirstExtraStatementAndClear}}};return maxStatementsPerLine}var multilineCommentStyle;var hasRequiredMultilineCommentStyle;function requireMultilineCommentStyle(){if(hasRequiredMultilineCommentStyle)return multilineCommentStyle;hasRequiredMultilineCommentStyle=1;const astUtils=requireAstUtils();multilineCommentStyle={meta:{type:"suggestion",docs:{description:"Enforce a particular style for multiline comments",recommended:false,url:"https://eslint.org/docs/rules/multiline-comment-style"},fixable:"whitespace",schema:[{enum:["starred-block","separate-lines","bare-block"]}],messages:{expectedBlock:"Expected a block comment instead of consecutive line comments.",expectedBareBlock:"Expected a block comment without padding stars.",startNewline:"Expected a linebreak after '/*'.",endNewline:"Expected a linebreak before '*/'.",missingStar:"Expected a '*' at the start of this line.",alignment:"Expected this line to be aligned with the start of the comment.",expectedLines:"Expected multiple line comments instead of a block comment."}},create(context){const sourceCode=context.getSourceCode();const option=context.options[0]||"starred-block";function isStarredCommentLine(line){return/^\s*\*/u.test(line)}function isStarredBlockComment([firstComment]){if(firstComment.type!=="Block"){return false}const lines=firstComment.value.split(astUtils.LINEBREAK_MATCHER);return lines.length>0&&lines.every(((line,i)=>(i===0||i===lines.length-1?/^\s*$/u:/^\s*\*/u).test(line)))}function isJSDocComment([firstComment]){if(firstComment.type!=="Block"){return false}const lines=firstComment.value.split(astUtils.LINEBREAK_MATCHER);return/^\*\s*$/u.test(lines[0])&&lines.slice(1,-1).every((line=>/^\s* /u.test(line)))&&/^\s*$/u.test(lines[lines.length-1])}function processSeparateLineComments(commentGroup){const allLinesHaveLeadingSpace=commentGroup.map((({value:value})=>value)).filter((line=>line.trim().length)).every((line=>line.startsWith(" ")));return commentGroup.map((({value:value})=>allLinesHaveLeadingSpace?value.replace(/^ /u,""):value))}function processStarredBlockComment(comment){const lines=comment.value.split(astUtils.LINEBREAK_MATCHER).filter(((line,i,linesArr)=>!(i===0||i===linesArr.length-1))).map((line=>line.replace(/^\s*$/u,"")));const allLinesHaveLeadingSpace=lines.map((line=>line.replace(/\s*\*/u,""))).filter((line=>line.trim().length)).every((line=>line.startsWith(" ")));return lines.map((line=>line.replace(allLinesHaveLeadingSpace?/\s*\* ?/u:/\s*\*/u,"")))}function processBareBlockComment(comment){const lines=comment.value.split(astUtils.LINEBREAK_MATCHER).map((line=>line.replace(/^\s*$/u,"")));const leadingWhitespace=`${sourceCode.text.slice(comment.range[0]-comment.loc.start.column,comment.range[0])}   `;let offset="";for(const[i,line]of lines.entries()){if(!line.trim().length||i===0){continue}const[,lineOffset]=line.match(/^(\s*\*?\s*)/u);if(lineOffset.length<leadingWhitespace.length){const newOffset=leadingWhitespace.slice(lineOffset.length-leadingWhitespace.length);if(newOffset.length>offset.length){offset=newOffset}}}return lines.map((line=>{const match=line.match(/^(\s*\*?\s*)(.*)/u);const[,lineOffset,lineContents]=match;if(lineOffset.length>leadingWhitespace.length){return`${lineOffset.slice(leadingWhitespace.length-(offset.length+lineOffset.length))}${lineContents}`}if(lineOffset.length<leadingWhitespace.length){return`${lineOffset.slice(leadingWhitespace.length)}${lineContents}`}return lineContents}))}function getCommentLines(commentGroup){const[firstComment]=commentGroup;if(firstComment.type==="Line"){return processSeparateLineComments(commentGroup)}if(isStarredBlockComment(commentGroup)){return processStarredBlockComment(firstComment)}return processBareBlockComment(firstComment)}function getInitialOffset(comment){return sourceCode.text.slice(comment.range[0]-comment.loc.start.column,comment.range[0])}function convertToStarredBlock(firstComment,commentLinesList){const initialOffset=getInitialOffset(firstComment);return`/*\n${commentLinesList.map((line=>`${initialOffset} * ${line}`)).join("\n")}\n${initialOffset} */`}function convertToSeparateLines(firstComment,commentLinesList){return commentLinesList.map((line=>`// ${line}`)).join(`\n${getInitialOffset(firstComment)}`)}function convertToBlock(firstComment,commentLinesList){return`/* ${commentLinesList.join(`\n${getInitialOffset(firstComment)}   `)} */`}const commentGroupCheckers={"starred-block"(commentGroup){const[firstComment]=commentGroup;const commentLines=getCommentLines(commentGroup);if(commentLines.some((value=>value.includes("*/")))){return}if(commentGroup.length>1){context.report({loc:{start:firstComment.loc.start,end:commentGroup[commentGroup.length-1].loc.end},messageId:"expectedBlock",fix(fixer){const range=[firstComment.range[0],commentGroup[commentGroup.length-1].range[1]];return commentLines.some((value=>value.startsWith("/")))?null:fixer.replaceTextRange(range,convertToStarredBlock(firstComment,commentLines))}})}else{const lines=firstComment.value.split(astUtils.LINEBREAK_MATCHER);const expectedLeadingWhitespace=getInitialOffset(firstComment);const expectedLinePrefix=`${expectedLeadingWhitespace} *`;if(!/^\*?\s*$/u.test(lines[0])){const start=firstComment.value.startsWith("*")?firstComment.range[0]+1:firstComment.range[0];context.report({loc:{start:firstComment.loc.start,end:{line:firstComment.loc.start.line,column:firstComment.loc.start.column+2}},messageId:"startNewline",fix:fixer=>fixer.insertTextAfterRange([start,start+2],`\n${expectedLinePrefix}`)})}if(!/^\s*$/u.test(lines[lines.length-1])){context.report({loc:{start:{line:firstComment.loc.end.line,column:firstComment.loc.end.column-2},end:firstComment.loc.end},messageId:"endNewline",fix:fixer=>fixer.replaceTextRange([firstComment.range[1]-2,firstComment.range[1]],`\n${expectedLinePrefix}/`)})}for(let lineNumber=firstComment.loc.start.line+1;lineNumber<=firstComment.loc.end.line;lineNumber++){const lineText=sourceCode.lines[lineNumber-1];const errorType=isStarredCommentLine(lineText)?"alignment":"missingStar";if(!lineText.startsWith(expectedLinePrefix)){context.report({loc:{start:{line:lineNumber,column:0},end:{line:lineNumber,column:lineText.length}},messageId:errorType,fix(fixer){const lineStartIndex=sourceCode.getIndexFromLoc({line:lineNumber,column:0});if(errorType==="alignment"){const[,commentTextPrefix=""]=lineText.match(/^(\s*\*)/u)||[];const commentTextStartIndex=lineStartIndex+commentTextPrefix.length;return fixer.replaceTextRange([lineStartIndex,commentTextStartIndex],expectedLinePrefix)}const[,commentTextPrefix=""]=lineText.match(/^(\s*)/u)||[];const commentTextStartIndex=lineStartIndex+commentTextPrefix.length;let offset;for(const[idx,line]of lines.entries()){if(!/\S+/u.test(line)){continue}const lineTextToAlignWith=sourceCode.lines[firstComment.loc.start.line-1+idx];const[,prefix="",initialOffset=""]=lineTextToAlignWith.match(/^(\s*(?:\/?\*)?(\s*))/u)||[];offset=`${commentTextPrefix.slice(prefix.length)}${initialOffset}`;if(/^\s*\//u.test(lineText)&&offset.length===0){offset+=" "}break}return fixer.replaceTextRange([lineStartIndex,commentTextStartIndex],`${expectedLinePrefix}${offset}`)}})}}}},"separate-lines"(commentGroup){const[firstComment]=commentGroup;if(firstComment.type!=="Block"||isJSDocComment(commentGroup)){return}const commentLines=getCommentLines(commentGroup);const tokenAfter=sourceCode.getTokenAfter(firstComment,{includeComments:true});if(tokenAfter&&firstComment.loc.end.line===tokenAfter.loc.start.line){return}context.report({loc:{start:firstComment.loc.start,end:{line:firstComment.loc.start.line,column:firstComment.loc.start.column+2}},messageId:"expectedLines",fix(fixer){return fixer.replaceText(firstComment,convertToSeparateLines(firstComment,commentLines))}})},"bare-block"(commentGroup){if(isJSDocComment(commentGroup)){return}const[firstComment]=commentGroup;const commentLines=getCommentLines(commentGroup);if(firstComment.type==="Line"&&commentLines.length>1&&!commentLines.some((value=>value.includes("*/")))){context.report({loc:{start:firstComment.loc.start,end:commentGroup[commentGroup.length-1].loc.end},messageId:"expectedBlock",fix(fixer){return fixer.replaceTextRange([firstComment.range[0],commentGroup[commentGroup.length-1].range[1]],convertToBlock(firstComment,commentLines))}})}if(isStarredBlockComment(commentGroup)){context.report({loc:{start:firstComment.loc.start,end:{line:firstComment.loc.start.line,column:firstComment.loc.start.column+2}},messageId:"expectedBareBlock",fix(fixer){return fixer.replaceText(firstComment,convertToBlock(firstComment,commentLines))}})}}};return{Program(){return sourceCode.getAllComments().filter((comment=>comment.type!=="Shebang")).filter((comment=>!astUtils.COMMENTS_IGNORE_PATTERN.test(comment.value))).filter((comment=>{const tokenBefore=sourceCode.getTokenBefore(comment,{includeComments:true});return!tokenBefore||tokenBefore.loc.end.line<comment.loc.start.line})).reduce(((commentGroups,comment,index,commentList)=>{const tokenBefore=sourceCode.getTokenBefore(comment,{includeComments:true});if(comment.type==="Line"&&index&&commentList[index-1].type==="Line"&&tokenBefore&&tokenBefore.loc.end.line===comment.loc.start.line-1&&tokenBefore===commentList[index-1]){commentGroups[commentGroups.length-1].push(comment)}else{commentGroups.push([comment])}return commentGroups}),[]).filter((commentGroup=>!(commentGroup.length===1&&commentGroup[0].loc.start.line===commentGroup[0].loc.end.line))).forEach(commentGroupCheckers[option])}}}};return multilineCommentStyle}var multilineTernary;var hasRequiredMultilineTernary;function requireMultilineTernary(){if(hasRequiredMultilineTernary)return multilineTernary;hasRequiredMultilineTernary=1;const astUtils=requireAstUtils();multilineTernary={meta:{type:"layout",docs:{description:"Enforce newlines between operands of ternary expressions",recommended:false,url:"https://eslint.org/docs/rules/multiline-ternary"},schema:[{enum:["always","always-multiline","never"]}],messages:{expectedTestCons:"Expected newline between test and consequent of ternary expression.",expectedConsAlt:"Expected newline between consequent and alternate of ternary expression.",unexpectedTestCons:"Unexpected newline between test and consequent of ternary expression.",unexpectedConsAlt:"Unexpected newline between consequent and alternate of ternary expression."},fixable:"whitespace"},create(context){const sourceCode=context.getSourceCode();const option=context.options[0];const multiline=option!=="never";const allowSingleLine=option==="always-multiline";return{ConditionalExpression(node){const questionToken=sourceCode.getTokenAfter(node.test,astUtils.isNotClosingParenToken);const colonToken=sourceCode.getTokenAfter(node.consequent,astUtils.isNotClosingParenToken);const firstTokenOfTest=sourceCode.getFirstToken(node);const lastTokenOfTest=sourceCode.getTokenBefore(questionToken);const firstTokenOfConsequent=sourceCode.getTokenAfter(questionToken);const lastTokenOfConsequent=sourceCode.getTokenBefore(colonToken);const firstTokenOfAlternate=sourceCode.getTokenAfter(colonToken);const areTestAndConsequentOnSameLine=astUtils.isTokenOnSameLine(lastTokenOfTest,firstTokenOfConsequent);const areConsequentAndAlternateOnSameLine=astUtils.isTokenOnSameLine(lastTokenOfConsequent,firstTokenOfAlternate);const hasComments=!!sourceCode.getCommentsInside(node).length;if(!multiline){if(!areTestAndConsequentOnSameLine){context.report({node:node.test,loc:{start:firstTokenOfTest.loc.start,end:lastTokenOfTest.loc.end},messageId:"unexpectedTestCons",fix:fixer=>{if(hasComments){return null}const fixers=[];const areTestAndQuestionOnSameLine=astUtils.isTokenOnSameLine(lastTokenOfTest,questionToken);const areQuestionAndConsOnSameLine=astUtils.isTokenOnSameLine(questionToken,firstTokenOfConsequent);if(!areTestAndQuestionOnSameLine){fixers.push(fixer.removeRange([lastTokenOfTest.range[1],questionToken.range[0]]))}if(!areQuestionAndConsOnSameLine){fixers.push(fixer.removeRange([questionToken.range[1],firstTokenOfConsequent.range[0]]))}return fixers}})}if(!areConsequentAndAlternateOnSameLine){context.report({node:node.consequent,loc:{start:firstTokenOfConsequent.loc.start,end:lastTokenOfConsequent.loc.end},messageId:"unexpectedConsAlt",fix:fixer=>{if(hasComments){return null}const fixers=[];const areConsAndColonOnSameLine=astUtils.isTokenOnSameLine(lastTokenOfConsequent,colonToken);const areColonAndAltOnSameLine=astUtils.isTokenOnSameLine(colonToken,firstTokenOfAlternate);if(!areConsAndColonOnSameLine){fixers.push(fixer.removeRange([lastTokenOfConsequent.range[1],colonToken.range[0]]))}if(!areColonAndAltOnSameLine){fixers.push(fixer.removeRange([colonToken.range[1],firstTokenOfAlternate.range[0]]))}return fixers}})}}else{if(allowSingleLine&&node.loc.start.line===node.loc.end.line){return}if(areTestAndConsequentOnSameLine){context.report({node:node.test,loc:{start:firstTokenOfTest.loc.start,end:lastTokenOfTest.loc.end},messageId:"expectedTestCons",fix:fixer=>hasComments?null:fixer.replaceTextRange([lastTokenOfTest.range[1],questionToken.range[0]],"\n")})}if(areConsequentAndAlternateOnSameLine){context.report({node:node.consequent,loc:{start:firstTokenOfConsequent.loc.start,end:lastTokenOfConsequent.loc.end},messageId:"expectedConsAlt",fix:fixer=>hasComments?null:fixer.replaceTextRange([lastTokenOfConsequent.range[1],colonToken.range[0]],"\n")})}}}}}};return multilineTernary}var newCap;var hasRequiredNewCap;function requireNewCap(){if(hasRequiredNewCap)return newCap;hasRequiredNewCap=1;const astUtils=requireAstUtils();const CAPS_ALLOWED=["Array","Boolean","Date","Error","Function","Number","Object","RegExp","String","Symbol","BigInt"];function checkArray(obj,key,fallback){if(Object.prototype.hasOwnProperty.call(obj,key)&&!Array.isArray(obj[key])){throw new TypeError(`${key}, if provided, must be an Array`)}return obj[key]||fallback}function invert(map,key){map[key]=true;return map}function calculateCapIsNewExceptions(config){let capIsNewExceptions=checkArray(config,"capIsNewExceptions",CAPS_ALLOWED);if(capIsNewExceptions!==CAPS_ALLOWED){capIsNewExceptions=capIsNewExceptions.concat(CAPS_ALLOWED)}return capIsNewExceptions.reduce(invert,{})}newCap={meta:{type:"suggestion",docs:{description:"Require constructor names to begin with a capital letter",recommended:false,url:"https://eslint.org/docs/rules/new-cap"},schema:[{type:"object",properties:{newIsCap:{type:"boolean",default:true},capIsNew:{type:"boolean",default:true},newIsCapExceptions:{type:"array",items:{type:"string"}},newIsCapExceptionPattern:{type:"string"},capIsNewExceptions:{type:"array",items:{type:"string"}},capIsNewExceptionPattern:{type:"string"},properties:{type:"boolean",default:true}},additionalProperties:false}],messages:{upper:"A function with a name starting with an uppercase letter should only be used as a constructor.",lower:"A constructor name should not start with a lowercase letter."}},create(context){const config=Object.assign({},context.options[0]);config.newIsCap=config.newIsCap!==false;config.capIsNew=config.capIsNew!==false;const skipProperties=config.properties===false;const newIsCapExceptions=checkArray(config,"newIsCapExceptions",[]).reduce(invert,{});const newIsCapExceptionPattern=config.newIsCapExceptionPattern?new RegExp(config.newIsCapExceptionPattern,"u"):null;const capIsNewExceptions=calculateCapIsNewExceptions(config);const capIsNewExceptionPattern=config.capIsNewExceptionPattern?new RegExp(config.capIsNewExceptionPattern,"u"):null;const listeners={};const sourceCode=context.getSourceCode();function extractNameFromExpression(node){return node.callee.type==="Identifier"?node.callee.name:astUtils.getStaticPropertyName(node.callee)||""}function getCap(str){const firstChar=str.charAt(0);const firstCharLower=firstChar.toLowerCase();const firstCharUpper=firstChar.toUpperCase();if(firstCharLower===firstCharUpper){return"non-alpha"}if(firstChar===firstCharLower){return"lower"}return"upper"}function isCapAllowed(allowedMap,node,calleeName,pattern){const sourceText=sourceCode.getText(node.callee);if(allowedMap[calleeName]||allowedMap[sourceText]){return true}if(pattern&&pattern.test(sourceText)){return true}const callee=astUtils.skipChainExpression(node.callee);if(calleeName==="UTC"&&callee.type==="MemberExpression"){return callee.object.type==="Identifier"&&callee.object.name==="Date"}return skipProperties&&callee.type==="MemberExpression"}function report(node,messageId){let callee=astUtils.skipChainExpression(node.callee);if(callee.type==="MemberExpression"){callee=callee.property}context.report({node:node,loc:callee.loc,messageId:messageId})}if(config.newIsCap){listeners.NewExpression=function(node){const constructorName=extractNameFromExpression(node);if(constructorName){const capitalization=getCap(constructorName);const isAllowed=capitalization!=="lower"||isCapAllowed(newIsCapExceptions,node,constructorName,newIsCapExceptionPattern);if(!isAllowed){report(node,"lower")}}}}if(config.capIsNew){listeners.CallExpression=function(node){const calleeName=extractNameFromExpression(node);if(calleeName){const capitalization=getCap(calleeName);const isAllowed=capitalization!=="upper"||isCapAllowed(capIsNewExceptions,node,calleeName,capIsNewExceptionPattern);if(!isAllowed){report(node,"upper")}}}}return listeners}};return newCap}var newParens;var hasRequiredNewParens;function requireNewParens(){if(hasRequiredNewParens)return newParens;hasRequiredNewParens=1;const astUtils=requireAstUtils();newParens={meta:{type:"layout",docs:{description:"Enforce or disallow parentheses when invoking a constructor with no arguments",recommended:false,url:"https://eslint.org/docs/rules/new-parens"},fixable:"code",schema:{anyOf:[{type:"array",items:[{enum:["always","never"]}],minItems:0,maxItems:1}]},messages:{missing:"Missing '()' invoking a constructor.",unnecessary:"Unnecessary '()' invoking a constructor with no arguments."}},create(context){const options=context.options;const always=options[0]!=="never";const sourceCode=context.getSourceCode();return{NewExpression(node){if(node.arguments.length!==0){return}const lastToken=sourceCode.getLastToken(node);const hasLastParen=lastToken&&astUtils.isClosingParenToken(lastToken);const hasParens=hasLastParen&&astUtils.isOpeningParenToken(sourceCode.getTokenBefore(lastToken))&&node.callee.range[1]<node.range[1];if(always){if(!hasParens){context.report({node:node,messageId:"missing",fix:fixer=>fixer.insertTextAfter(node,"()")})}}else{if(hasParens){context.report({node:node,messageId:"unnecessary",fix:fixer=>[fixer.remove(sourceCode.getTokenBefore(lastToken)),fixer.remove(lastToken),fixer.insertTextBefore(node,"("),fixer.insertTextAfter(node,")")]})}}}}}};return newParens}var newlineAfterVar;var hasRequiredNewlineAfterVar;function requireNewlineAfterVar(){if(hasRequiredNewlineAfterVar)return newlineAfterVar;hasRequiredNewlineAfterVar=1;const astUtils=requireAstUtils();newlineAfterVar={meta:{type:"layout",docs:{description:"Require or disallow an empty line after variable declarations",recommended:false,url:"https://eslint.org/docs/rules/newline-after-var"},schema:[{enum:["never","always"]}],fixable:"whitespace",messages:{expected:"Expected blank line after variable declarations.",unexpected:"Unexpected blank line after variable declarations."},deprecated:true,replacedBy:["padding-line-between-statements"]},create(context){const sourceCode=context.getSourceCode();const mode=context.options[0]==="never"?"never":"always";const commentEndLine=sourceCode.getAllComments().reduce(((result,token)=>{result[token.loc.start.line]=token.loc.end.line;return result}),{});function getLastToken(node){const lastToken=sourceCode.getLastToken(node);if(lastToken.type==="Punctuator"&&lastToken.value===";"){const prevToken=sourceCode.getTokenBefore(lastToken);if(prevToken.loc.end.line!==lastToken.loc.start.line){return prevToken}}return lastToken}function isVar(keyword){return keyword==="var"||keyword==="let"||keyword==="const"}function isForTypeSpecifier(keyword){return keyword==="ForStatement"||keyword==="ForInStatement"||keyword==="ForOfStatement"}function isExportSpecifier(nodeType){return nodeType==="ExportNamedDeclaration"||nodeType==="ExportSpecifier"||nodeType==="ExportDefaultDeclaration"||nodeType==="ExportAllDeclaration"}function isLastNode(node){const token=sourceCode.getTokenAfter(node);return!token||token.type==="Punctuator"&&token.value==="}"}function getLastCommentLineOfBlock(commentStartLine){const currentCommentEnd=commentEndLine[commentStartLine];return commentEndLine[currentCommentEnd+1]?getLastCommentLineOfBlock(currentCommentEnd+1):currentCommentEnd}function hasBlankLineAfterComment(token,commentStartLine){return token.loc.start.line>getLastCommentLineOfBlock(commentStartLine)+1}function checkForBlankLine(node){const lastToken=getLastToken(node),nextToken=lastToken===sourceCode.getLastToken(node)?sourceCode.getTokenAfter(node):sourceCode.getLastToken(node),nextLineNum=lastToken.loc.end.line+1;if(!nextToken){return}if(isForTypeSpecifier(node.parent.type)){return}if(isExportSpecifier(node.parent.type)){return}if(nextToken.type==="Keyword"&&isVar(nextToken.value)){return}if(isLastNode(node)){return}const noNextLineToken=nextToken.loc.start.line>nextLineNum;const hasNextLineComment=typeof commentEndLine[nextLineNum]!=="undefined";if(mode==="never"&&noNextLineToken&&!hasNextLineComment){context.report({node:node,messageId:"unexpected",data:{identifier:node.name},fix(fixer){const linesBetween=sourceCode.getText().slice(lastToken.range[1],nextToken.range[0]).split(astUtils.LINEBREAK_MATCHER);return fixer.replaceTextRange([lastToken.range[1],nextToken.range[0]],`${linesBetween.slice(0,-1).join("")}\n${linesBetween[linesBetween.length-1]}`)}})}if(mode==="always"&&(!noNextLineToken||hasNextLineComment&&!hasBlankLineAfterComment(nextToken,nextLineNum))){context.report({node:node,messageId:"expected",data:{identifier:node.name},fix(fixer){if((noNextLineToken?getLastCommentLineOfBlock(nextLineNum):lastToken.loc.end.line)===nextToken.loc.start.line){return fixer.insertTextBefore(nextToken,"\n\n")}return fixer.insertTextBeforeRange([nextToken.range[0]-nextToken.loc.start.column,nextToken.range[1]],"\n")}})}}return{VariableDeclaration:checkForBlankLine}}};return newlineAfterVar}var newlineBeforeReturn;var hasRequiredNewlineBeforeReturn;function requireNewlineBeforeReturn(){if(hasRequiredNewlineBeforeReturn)return newlineBeforeReturn;hasRequiredNewlineBeforeReturn=1;newlineBeforeReturn={meta:{type:"layout",docs:{description:"Require an empty line before `return` statements",recommended:false,url:"https://eslint.org/docs/rules/newline-before-return"},fixable:"whitespace",schema:[],messages:{expected:"Expected newline before return statement."},deprecated:true,replacedBy:["padding-line-between-statements"]},create(context){const sourceCode=context.getSourceCode();function isPrecededByTokens(node,testTokens){const tokenBefore=sourceCode.getTokenBefore(node);return testTokens.includes(tokenBefore.value)}function isFirstNode(node){const parentType=node.parent.type;if(node.parent.body){return Array.isArray(node.parent.body)?node.parent.body[0]===node:node.parent.body===node}if(parentType==="IfStatement"){return isPrecededByTokens(node,["else",")"])}if(parentType==="DoWhileStatement"){return isPrecededByTokens(node,["do"])}if(parentType==="SwitchCase"){return isPrecededByTokens(node,[":"])}return isPrecededByTokens(node,[")"])}function calcCommentLines(node,lineNumTokenBefore){const comments=sourceCode.getCommentsBefore(node);let numLinesComments=0;if(!comments.length){return numLinesComments}comments.forEach((comment=>{numLinesComments++;if(comment.type==="Block"){numLinesComments+=comment.loc.end.line-comment.loc.start.line}if(comment.loc.start.line===lineNumTokenBefore){numLinesComments--}if(comment.loc.end.line===node.loc.start.line){numLinesComments--}}));return numLinesComments}function getLineNumberOfTokenBefore(node){const tokenBefore=sourceCode.getTokenBefore(node);let lineNumTokenBefore;if(tokenBefore){lineNumTokenBefore=tokenBefore.loc.end.line}else{lineNumTokenBefore=0}return lineNumTokenBefore}function hasNewlineBefore(node){const lineNumNode=node.loc.start.line;const lineNumTokenBefore=getLineNumberOfTokenBefore(node);const commentLines=calcCommentLines(node,lineNumTokenBefore);return lineNumNode-lineNumTokenBefore-commentLines>1}function canFix(node){const leadingComments=sourceCode.getCommentsBefore(node);const lastLeadingComment=leadingComments[leadingComments.length-1];const tokenBefore=sourceCode.getTokenBefore(node);if(leadingComments.length===0){return true}if(lastLeadingComment.loc.end.line===tokenBefore.loc.end.line&&lastLeadingComment.loc.end.line!==node.loc.start.line){return true}return false}return{ReturnStatement(node){if(!isFirstNode(node)&&!hasNewlineBefore(node)){context.report({node:node,messageId:"expected",fix(fixer){if(canFix(node)){const tokenBefore=sourceCode.getTokenBefore(node);const newlines=node.loc.start.line===tokenBefore.loc.end.line?"\n\n":"\n";return fixer.insertTextBefore(node,newlines)}return null}})}}}}};return newlineBeforeReturn}var newlinePerChainedCall;var hasRequiredNewlinePerChainedCall;function requireNewlinePerChainedCall(){if(hasRequiredNewlinePerChainedCall)return newlinePerChainedCall;hasRequiredNewlinePerChainedCall=1;const astUtils=requireAstUtils();newlinePerChainedCall={meta:{type:"layout",docs:{description:"Require a newline after each call in a method chain",recommended:false,url:"https://eslint.org/docs/rules/newline-per-chained-call"},fixable:"whitespace",schema:[{type:"object",properties:{ignoreChainWithDepth:{type:"integer",minimum:1,maximum:10,default:2}},additionalProperties:false}],messages:{expected:"Expected line break before `{{callee}}`."}},create(context){const options=context.options[0]||{},ignoreChainWithDepth=options.ignoreChainWithDepth||2;const sourceCode=context.getSourceCode();function getPrefix(node){if(node.computed){if(node.optional){return"?.["}return"["}if(node.optional){return"?."}return"."}function getPropertyText(node){const prefix=getPrefix(node);const lines=sourceCode.getText(node.property).split(astUtils.LINEBREAK_MATCHER);const suffix=node.computed&&lines.length===1?"]":"";return prefix+lines[0]+suffix}return{"CallExpression:exit"(node){const callee=astUtils.skipChainExpression(node.callee);if(callee.type!=="MemberExpression"){return}let parent=astUtils.skipChainExpression(callee.object);let depth=1;while(parent&&parent.callee){depth+=1;parent=astUtils.skipChainExpression(astUtils.skipChainExpression(parent.callee).object)}if(depth>ignoreChainWithDepth&&astUtils.isTokenOnSameLine(callee.object,callee.property)){const firstTokenAfterObject=sourceCode.getTokenAfter(callee.object,astUtils.isNotClosingParenToken);context.report({node:callee.property,loc:{start:firstTokenAfterObject.loc.start,end:callee.loc.end},messageId:"expected",data:{callee:getPropertyText(callee)},fix(fixer){return fixer.insertTextBefore(firstTokenAfterObject,"\n")}})}}}}};return newlinePerChainedCall}var noAlert;var hasRequiredNoAlert;function requireNoAlert(){if(hasRequiredNoAlert)return noAlert;hasRequiredNoAlert=1;const{getStaticPropertyName:getPropertyName,getVariableByName:getVariableByName,skipChainExpression:skipChainExpression}=requireAstUtils();function isProhibitedIdentifier(name){return/^(alert|confirm|prompt)$/u.test(name)}function findReference(scope,node){const references=scope.references.filter((reference=>reference.identifier.range[0]===node.range[0]&&reference.identifier.range[1]===node.range[1]));if(references.length===1){return references[0]}return null}function isShadowed(scope,node){const reference=findReference(scope,node);return reference&&reference.resolved&&reference.resolved.defs.length>0}function isGlobalThisReferenceOrGlobalWindow(scope,node){if(scope.type==="global"&&node.type==="ThisExpression"){return true}if(node.type==="Identifier"&&(node.name==="window"||node.name==="globalThis"&&getVariableByName(scope,"globalThis"))){return!isShadowed(scope,node)}return false}noAlert={meta:{type:"suggestion",docs:{description:"Disallow the use of `alert`, `confirm`, and `prompt`",recommended:false,url:"https://eslint.org/docs/rules/no-alert"},schema:[],messages:{unexpected:"Unexpected {{name}}."}},create(context){return{CallExpression(node){const callee=skipChainExpression(node.callee),currentScope=context.getScope();if(callee.type==="Identifier"){const name=callee.name;if(!isShadowed(currentScope,callee)&&isProhibitedIdentifier(callee.name)){context.report({node:node,messageId:"unexpected",data:{name:name}})}}else if(callee.type==="MemberExpression"&&isGlobalThisReferenceOrGlobalWindow(currentScope,callee.object)){const name=getPropertyName(callee);if(isProhibitedIdentifier(name)){context.report({node:node,messageId:"unexpected",data:{name:name}})}}}}}};return noAlert}var noArrayConstructor;var hasRequiredNoArrayConstructor;function requireNoArrayConstructor(){if(hasRequiredNoArrayConstructor)return noArrayConstructor;hasRequiredNoArrayConstructor=1;noArrayConstructor={meta:{type:"suggestion",docs:{description:"Disallow `Array` constructors",recommended:false,url:"https://eslint.org/docs/rules/no-array-constructor"},schema:[],messages:{preferLiteral:"The array literal notation [] is preferable."}},create(context){function check(node){if(node.arguments.length!==1&&node.callee.type==="Identifier"&&node.callee.name==="Array"){context.report({node:node,messageId:"preferLiteral"})}}return{CallExpression:check,NewExpression:check}}};return noArrayConstructor}var noAsyncPromiseExecutor;var hasRequiredNoAsyncPromiseExecutor;function requireNoAsyncPromiseExecutor(){if(hasRequiredNoAsyncPromiseExecutor)return noAsyncPromiseExecutor;hasRequiredNoAsyncPromiseExecutor=1;noAsyncPromiseExecutor={meta:{type:"problem",docs:{description:"Disallow using an async function as a Promise executor",recommended:true,url:"https://eslint.org/docs/rules/no-async-promise-executor"},fixable:null,schema:[],messages:{async:"Promise executor functions should not be async."}},create(context){return{"NewExpression[callee.name='Promise'][arguments.0.async=true]"(node){context.report({node:context.getSourceCode().getFirstToken(node.arguments[0],(token=>token.value==="async")),messageId:"async"})}}}};return noAsyncPromiseExecutor}var noAwaitInLoop;var hasRequiredNoAwaitInLoop;function requireNoAwaitInLoop(){if(hasRequiredNoAwaitInLoop)return noAwaitInLoop;hasRequiredNoAwaitInLoop=1;function isBoundary(node){const t=node.type;return t==="FunctionDeclaration"||t==="FunctionExpression"||t==="ArrowFunctionExpression"||t==="ForOfStatement"&&node.await===true}function isLooped(node,parent){switch(parent.type){case"ForStatement":return node===parent.test||node===parent.update||node===parent.body;case"ForOfStatement":case"ForInStatement":return node===parent.body;case"WhileStatement":case"DoWhileStatement":return node===parent.test||node===parent.body;default:return false}}noAwaitInLoop={meta:{type:"problem",docs:{description:"Disallow `await` inside of loops",recommended:false,url:"https://eslint.org/docs/rules/no-await-in-loop"},schema:[],messages:{unexpectedAwait:"Unexpected `await` inside a loop."}},create(context){function validate(awaitNode){if(awaitNode.type==="ForOfStatement"&&!awaitNode.await){return}let node=awaitNode;let parent=node.parent;while(parent&&!isBoundary(parent)){if(isLooped(node,parent)){context.report({node:awaitNode,messageId:"unexpectedAwait"});return}node=parent;parent=parent.parent}}return{AwaitExpression:validate,ForOfStatement:validate}}};return noAwaitInLoop}var noBitwise;var hasRequiredNoBitwise;function requireNoBitwise(){if(hasRequiredNoBitwise)return noBitwise;hasRequiredNoBitwise=1;const BITWISE_OPERATORS=["^","|","&","<<",">>",">>>","^=","|=","&=","<<=",">>=",">>>=","~"];noBitwise={meta:{type:"suggestion",docs:{description:"Disallow bitwise operators",recommended:false,url:"https://eslint.org/docs/rules/no-bitwise"},schema:[{type:"object",properties:{allow:{type:"array",items:{enum:BITWISE_OPERATORS},uniqueItems:true},int32Hint:{type:"boolean",default:false}},additionalProperties:false}],messages:{unexpected:"Unexpected use of '{{operator}}'."}},create(context){const options=context.options[0]||{};const allowed=options.allow||[];const int32Hint=options.int32Hint===true;function report(node){context.report({node:node,messageId:"unexpected",data:{operator:node.operator}})}function hasBitwiseOperator(node){return BITWISE_OPERATORS.includes(node.operator)}function allowedOperator(node){return allowed.includes(node.operator)}function isInt32Hint(node){return int32Hint&&node.operator==="|"&&node.right&&node.right.type==="Literal"&&node.right.value===0}function checkNodeForBitwiseOperator(node){if(hasBitwiseOperator(node)&&!allowedOperator(node)&&!isInt32Hint(node)){report(node)}}return{AssignmentExpression:checkNodeForBitwiseOperator,BinaryExpression:checkNodeForBitwiseOperator,UnaryExpression:checkNodeForBitwiseOperator}}};return noBitwise}var noBufferConstructor;var hasRequiredNoBufferConstructor;function requireNoBufferConstructor(){if(hasRequiredNoBufferConstructor)return noBufferConstructor;hasRequiredNoBufferConstructor=1;noBufferConstructor={meta:{deprecated:true,replacedBy:[],type:"problem",docs:{description:"Disallow use of the `Buffer()` constructor",recommended:false,url:"https://eslint.org/docs/rules/no-buffer-constructor"},schema:[],messages:{deprecated:"{{expr}} is deprecated. Use Buffer.from(), Buffer.alloc(), or Buffer.allocUnsafe() instead."}},create(context){return{"CallExpression[callee.name='Buffer'], NewExpression[callee.name='Buffer']"(node){context.report({node:node,messageId:"deprecated",data:{expr:node.type==="CallExpression"?"Buffer()":"new Buffer()"}})}}}};return noBufferConstructor}var noCaller;var hasRequiredNoCaller;function requireNoCaller(){if(hasRequiredNoCaller)return noCaller;hasRequiredNoCaller=1;noCaller={meta:{type:"suggestion",docs:{description:"Disallow the use of `arguments.caller` or `arguments.callee`",recommended:false,url:"https://eslint.org/docs/rules/no-caller"},schema:[],messages:{unexpected:"Avoid arguments.{{prop}}."}},create(context){return{MemberExpression(node){const objectName=node.object.name,propertyName=node.property.name;if(objectName==="arguments"&&!node.computed&&propertyName&&propertyName.match(/^calle[er]$/u)){context.report({node:node,messageId:"unexpected",data:{prop:propertyName}})}}}}};return noCaller}var noCaseDeclarations;var hasRequiredNoCaseDeclarations;function requireNoCaseDeclarations(){if(hasRequiredNoCaseDeclarations)return noCaseDeclarations;hasRequiredNoCaseDeclarations=1;noCaseDeclarations={meta:{type:"suggestion",docs:{description:"Disallow lexical declarations in case clauses",recommended:true,url:"https://eslint.org/docs/rules/no-case-declarations"},schema:[],messages:{unexpected:"Unexpected lexical declaration in case block."}},create(context){function isLexicalDeclaration(node){switch(node.type){case"FunctionDeclaration":case"ClassDeclaration":return true;case"VariableDeclaration":return node.kind!=="var";default:return false}}return{SwitchCase(node){for(let i=0;i<node.consequent.length;i++){const statement=node.consequent[i];if(isLexicalDeclaration(statement)){context.report({node:statement,messageId:"unexpected"})}}}}}};return noCaseDeclarations}var noCatchShadow;var hasRequiredNoCatchShadow;function requireNoCatchShadow(){if(hasRequiredNoCatchShadow)return noCatchShadow;hasRequiredNoCatchShadow=1;const astUtils=requireAstUtils();noCatchShadow={meta:{type:"suggestion",docs:{description:"Disallow `catch` clause parameters from shadowing variables in the outer scope",recommended:false,url:"https://eslint.org/docs/rules/no-catch-shadow"},replacedBy:["no-shadow"],deprecated:true,schema:[],messages:{mutable:"Value of '{{name}}' may be overwritten in IE 8 and earlier."}},create(context){function paramIsShadowing(scope,name){return astUtils.getVariableByName(scope,name)!==null}return{"CatchClause[param!=null]"(node){let scope=context.getScope();if(scope.block===node){scope=scope.upper}if(paramIsShadowing(scope,node.param.name)){context.report({node:node,messageId:"mutable",data:{name:node.param.name}})}}}}};return noCatchShadow}var noClassAssign;var hasRequiredNoClassAssign;function requireNoClassAssign(){if(hasRequiredNoClassAssign)return noClassAssign;hasRequiredNoClassAssign=1;const astUtils=requireAstUtils();noClassAssign={meta:{type:"problem",docs:{description:"Disallow reassigning class members",recommended:true,url:"https://eslint.org/docs/rules/no-class-assign"},schema:[],messages:{class:"'{{name}}' is a class."}},create(context){function checkVariable(variable){astUtils.getModifyingReferences(variable.references).forEach((reference=>{context.report({node:reference.identifier,messageId:"class",data:{name:reference.identifier.name}})}))}function checkForClass(node){context.getDeclaredVariables(node).forEach(checkVariable)}return{ClassDeclaration:checkForClass,ClassExpression:checkForClass}}};return noClassAssign}var noCompareNegZero;var hasRequiredNoCompareNegZero;function requireNoCompareNegZero(){if(hasRequiredNoCompareNegZero)return noCompareNegZero;hasRequiredNoCompareNegZero=1;noCompareNegZero={meta:{type:"problem",docs:{description:"Disallow comparing against -0",recommended:true,url:"https://eslint.org/docs/rules/no-compare-neg-zero"},fixable:null,schema:[],messages:{unexpected:"Do not use the '{{operator}}' operator to compare against -0."}},create(context){function isNegZero(node){return node.type==="UnaryExpression"&&node.operator==="-"&&node.argument.type==="Literal"&&node.argument.value===0}const OPERATORS_TO_CHECK=new Set([">",">=","<","<=","==","===","!=","!=="]);return{BinaryExpression(node){if(OPERATORS_TO_CHECK.has(node.operator)){if(isNegZero(node.left)||isNegZero(node.right)){context.report({node:node,messageId:"unexpected",data:{operator:node.operator}})}}}}}};return noCompareNegZero}var noCondAssign;var hasRequiredNoCondAssign;function requireNoCondAssign(){if(hasRequiredNoCondAssign)return noCondAssign;hasRequiredNoCondAssign=1;const astUtils=requireAstUtils();const TEST_CONDITION_PARENT_TYPES=new Set(["IfStatement","WhileStatement","DoWhileStatement","ForStatement","ConditionalExpression"]);const NODE_DESCRIPTIONS={DoWhileStatement:"a 'do...while' statement",ForStatement:"a 'for' statement",IfStatement:"an 'if' statement",WhileStatement:"a 'while' statement"};noCondAssign={meta:{type:"problem",docs:{description:"Disallow assignment operators in conditional expressions",recommended:true,url:"https://eslint.org/docs/rules/no-cond-assign"},schema:[{enum:["except-parens","always"]}],messages:{unexpected:"Unexpected assignment within {{type}}.",missing:"Expected a conditional expression and instead saw an assignment."}},create(context){const prohibitAssign=context.options[0]||"except-parens";const sourceCode=context.getSourceCode();function isConditionalTestExpression(node){return node.parent&&TEST_CONDITION_PARENT_TYPES.has(node.parent.type)&&node===node.parent.test}function findConditionalAncestor(node){let currentAncestor=node;do{if(isConditionalTestExpression(currentAncestor)){return currentAncestor.parent}}while((currentAncestor=currentAncestor.parent)&&!astUtils.isFunction(currentAncestor));return null}function isParenthesisedTwice(node){const previousToken=sourceCode.getTokenBefore(node,1),nextToken=sourceCode.getTokenAfter(node,1);return astUtils.isParenthesised(sourceCode,node)&&previousToken&&astUtils.isOpeningParenToken(previousToken)&&previousToken.range[1]<=node.range[0]&&astUtils.isClosingParenToken(nextToken)&&nextToken.range[0]>=node.range[1]}function testForAssign(node){if(node.test&&node.test.type==="AssignmentExpression"&&(node.type==="ForStatement"?!astUtils.isParenthesised(sourceCode,node.test):!isParenthesisedTwice(node.test))){context.report({node:node.test,messageId:"missing"})}}function testForConditionalAncestor(node){const ancestor=findConditionalAncestor(node);if(ancestor){context.report({node:node,messageId:"unexpected",data:{type:NODE_DESCRIPTIONS[ancestor.type]||ancestor.type}})}}if(prohibitAssign==="always"){return{AssignmentExpression:testForConditionalAncestor}}return{DoWhileStatement:testForAssign,ForStatement:testForAssign,IfStatement:testForAssign,WhileStatement:testForAssign,ConditionalExpression:testForAssign}}};return noCondAssign}var noConfusingArrow;var hasRequiredNoConfusingArrow;function requireNoConfusingArrow(){if(hasRequiredNoConfusingArrow)return noConfusingArrow;hasRequiredNoConfusingArrow=1;const astUtils=requireAstUtils();function isConditional(node){return node&&node.type==="ConditionalExpression"}noConfusingArrow={meta:{type:"suggestion",docs:{description:"Disallow arrow functions where they could be confused with comparisons",recommended:false,url:"https://eslint.org/docs/rules/no-confusing-arrow"},fixable:"code",schema:[{type:"object",properties:{allowParens:{type:"boolean",default:true},onlyOneSimpleParam:{type:"boolean",default:false}},additionalProperties:false}],messages:{confusing:"Arrow function used ambiguously with a conditional expression."}},create(context){const config=context.options[0]||{};const allowParens=config.allowParens||config.allowParens===void 0;const onlyOneSimpleParam=config.onlyOneSimpleParam;const sourceCode=context.getSourceCode();function checkArrowFunc(node){const body=node.body;if(isConditional(body)&&!(allowParens&&astUtils.isParenthesised(sourceCode,body))&&!(onlyOneSimpleParam&&!(node.params.length===1&&node.params[0].type==="Identifier"))){context.report({node:node,messageId:"confusing",fix(fixer){return allowParens&&fixer.replaceText(node.body,`(${sourceCode.getText(node.body)})`)}})}}return{ArrowFunctionExpression:checkArrowFunc}}};return noConfusingArrow}var noConsole;var hasRequiredNoConsole;function requireNoConsole(){if(hasRequiredNoConsole)return noConsole;hasRequiredNoConsole=1;const astUtils=requireAstUtils();noConsole={meta:{type:"suggestion",docs:{description:"Disallow the use of `console`",recommended:false,url:"https://eslint.org/docs/rules/no-console"},schema:[{type:"object",properties:{allow:{type:"array",items:{type:"string"},minItems:1,uniqueItems:true}},additionalProperties:false}],messages:{unexpected:"Unexpected console statement."}},create(context){const options=context.options[0]||{};const allowed=options.allow||[];function isConsole(reference){const id=reference.identifier;return id&&id.name==="console"}function isAllowed(node){const propertyName=astUtils.getStaticPropertyName(node);return propertyName&&allowed.includes(propertyName)}function isMemberAccessExceptAllowed(reference){const node=reference.identifier;const parent=node.parent;return parent.type==="MemberExpression"&&parent.object===node&&!isAllowed(parent)}function report(reference){const node=reference.identifier.parent;context.report({node:node,loc:node.loc,messageId:"unexpected"})}return{"Program:exit"(){const scope=context.getScope();const consoleVar=astUtils.getVariableByName(scope,"console");const shadowed=consoleVar&&consoleVar.defs.length>0;const references=consoleVar?consoleVar.references:scope.through.filter(isConsole);if(!shadowed){references.filter(isMemberAccessExceptAllowed).forEach(report)}}}}};return noConsole}var noConstAssign;var hasRequiredNoConstAssign;function requireNoConstAssign(){if(hasRequiredNoConstAssign)return noConstAssign;hasRequiredNoConstAssign=1;const astUtils=requireAstUtils();noConstAssign={meta:{type:"problem",docs:{description:"Disallow reassigning `const` variables",recommended:true,url:"https://eslint.org/docs/rules/no-const-assign"},schema:[],messages:{const:"'{{name}}' is constant."}},create(context){function checkVariable(variable){astUtils.getModifyingReferences(variable.references).forEach((reference=>{context.report({node:reference.identifier,messageId:"const",data:{name:reference.identifier.name}})}))}return{VariableDeclaration(node){if(node.kind==="const"){context.getDeclaredVariables(node).forEach(checkVariable)}}}}};return noConstAssign}var noConstantBinaryExpression;var hasRequiredNoConstantBinaryExpression;function requireNoConstantBinaryExpression(){if(hasRequiredNoConstantBinaryExpression)return noConstantBinaryExpression;hasRequiredNoConstantBinaryExpression=1;const globals=requireGlobals$1();const{isNullLiteral:isNullLiteral,isConstant:isConstant,isReferenceToGlobalVariable:isReferenceToGlobalVariable,isLogicalAssignmentOperator:isLogicalAssignmentOperator}=requireAstUtils();const NUMERIC_OR_STRING_BINARY_OPERATORS=new Set(["+","-","*","/","%","|","^","&","**","<<",">>",">>>"]);function hasConstantNullishness(scope,node){switch(node.type){case"ObjectExpression":case"ArrayExpression":case"ArrowFunctionExpression":case"FunctionExpression":case"ClassExpression":case"NewExpression":case"Literal":case"TemplateLiteral":case"UpdateExpression":case"BinaryExpression":return true;case"CallExpression":{if(node.callee.type!=="Identifier"){return false}const functionName=node.callee.name;return(functionName==="Boolean"||functionName==="String"||functionName==="Number")&&isReferenceToGlobalVariable(scope,node.callee)}case"AssignmentExpression":if(node.operator==="="){return hasConstantNullishness(scope,node.right)}if(isLogicalAssignmentOperator(node.operator)){return false}return true;case"UnaryExpression":return true;case"SequenceExpression":{const last=node.expressions[node.expressions.length-1];return hasConstantNullishness(scope,last)}case"Identifier":return node.name==="undefined"&&isReferenceToGlobalVariable(scope,node);case"JSXElement":case"JSXFragment":return false;default:return false}}function isStaticBoolean(scope,node){switch(node.type){case"Literal":return typeof node.value==="boolean";case"CallExpression":return node.callee.type==="Identifier"&&node.callee.name==="Boolean"&&isReferenceToGlobalVariable(scope,node.callee)&&(node.arguments.length===0||isConstant(scope,node.arguments[0],true));case"UnaryExpression":return node.operator==="!"&&isConstant(scope,node.argument,true);default:return false}}function hasConstantLooseBooleanComparison(scope,node){switch(node.type){case"ObjectExpression":case"ClassExpression":return true;case"ArrayExpression":{const nonSpreadElements=node.elements.filter((e=>e!==null&&e.type!=="SpreadElement"));return node.elements.length===0||nonSpreadElements.length>1}case"ArrowFunctionExpression":case"FunctionExpression":return true;case"UnaryExpression":if(node.operator==="void"||node.operator==="typeof"){return true}if(node.operator==="!"){return isConstant(scope,node.argument,true)}return false;case"NewExpression":return false;case"CallExpression":{if(node.callee.type==="Identifier"&&node.callee.name==="Boolean"&&isReferenceToGlobalVariable(scope,node.callee)){return node.arguments.length===0||isConstant(scope,node.arguments[0],true)}return false}case"Literal":return true;case"Identifier":return node.name==="undefined"&&isReferenceToGlobalVariable(scope,node);case"TemplateLiteral":return node.expressions.length===0;case"AssignmentExpression":if(node.operator==="="){return hasConstantLooseBooleanComparison(scope,node.right)}return false;case"SequenceExpression":{const last=node.expressions[node.expressions.length-1];return hasConstantLooseBooleanComparison(scope,last)}case"JSXElement":case"JSXFragment":return false;default:return false}}function hasConstantStrictBooleanComparison(scope,node){switch(node.type){case"ObjectExpression":case"ArrayExpression":case"ArrowFunctionExpression":case"FunctionExpression":case"ClassExpression":case"NewExpression":case"TemplateLiteral":case"Literal":case"UpdateExpression":return true;case"BinaryExpression":return NUMERIC_OR_STRING_BINARY_OPERATORS.has(node.operator);case"UnaryExpression":{if(node.operator==="delete"){return false}if(node.operator==="!"){return isConstant(scope,node.argument,true)}return true}case"SequenceExpression":{const last=node.expressions[node.expressions.length-1];return hasConstantStrictBooleanComparison(scope,last)}case"Identifier":return node.name==="undefined"&&isReferenceToGlobalVariable(scope,node);case"AssignmentExpression":if(node.operator==="="){return hasConstantStrictBooleanComparison(scope,node.right)}if(isLogicalAssignmentOperator(node.operator)){return false}return true;case"CallExpression":{if(node.callee.type!=="Identifier"){return false}const functionName=node.callee.name;if((functionName==="String"||functionName==="Number")&&isReferenceToGlobalVariable(scope,node.callee)){return true}if(functionName==="Boolean"&&isReferenceToGlobalVariable(scope,node.callee)){return node.arguments.length===0||isConstant(scope,node.arguments[0],true)}return false}case"JSXElement":case"JSXFragment":return false;default:return false}}function isAlwaysNew(scope,node){switch(node.type){case"ObjectExpression":case"ArrayExpression":case"ArrowFunctionExpression":case"FunctionExpression":case"ClassExpression":return true;case"NewExpression":{if(node.callee.type!=="Identifier"){return false}return Object.hasOwnProperty.call(globals.builtin,node.callee.name)&&isReferenceToGlobalVariable(scope,node.callee)}case"Literal":return typeof node.regex==="object";case"SequenceExpression":{const last=node.expressions[node.expressions.length-1];return isAlwaysNew(scope,last)}case"AssignmentExpression":if(node.operator==="="){return isAlwaysNew(scope,node.right)}return false;case"ConditionalExpression":return isAlwaysNew(scope,node.consequent)&&isAlwaysNew(scope,node.alternate);case"JSXElement":case"JSXFragment":return false;default:return false}}function isNullOrUndefined(scope,node){return isNullLiteral(node)||node.type==="Identifier"&&node.name==="undefined"&&isReferenceToGlobalVariable(scope,node)||node.type==="UnaryExpression"&&node.operator==="void"}function findBinaryExpressionConstantOperand(scope,a,b,operator){if(operator==="=="||operator==="!="){if(isNullOrUndefined(scope,a)&&hasConstantNullishness(scope,b)||isStaticBoolean(scope,a)&&hasConstantLooseBooleanComparison(scope,b)){return b}}else if(operator==="==="||operator==="!=="){if(isNullOrUndefined(scope,a)&&hasConstantNullishness(scope,b)||isStaticBoolean(scope,a)&&hasConstantStrictBooleanComparison(scope,b)){return b}}return null}noConstantBinaryExpression={meta:{type:"problem",docs:{description:"Disallow expressions where the operation doesn't affect the value",recommended:false,url:"https://eslint.org/docs/rules/no-constant-binary-expression"},schema:[],messages:{constantBinaryOperand:"Unexpected constant binary expression. Compares constantly with the {{otherSide}}-hand side of the `{{operator}}`.",constantShortCircuit:"Unexpected constant {{property}} on the left-hand side of a `{{operator}}` expression.",alwaysNew:"Unexpected comparison to newly constructed object. These two values can never be equal.",bothAlwaysNew:"Unexpected comparison of two newly constructed objects. These two values can never be equal."}},create(context){return{LogicalExpression(node){const{operator:operator,left:left}=node;const scope=context.getScope();if((operator==="&&"||operator==="||")&&isConstant(scope,left,true)){context.report({node:left,messageId:"constantShortCircuit",data:{property:"truthiness",operator:operator}})}else if(operator==="??"&&hasConstantNullishness(scope,left)){context.report({node:left,messageId:"constantShortCircuit",data:{property:"nullishness",operator:operator}})}},BinaryExpression(node){const scope=context.getScope();const{right:right,left:left,operator:operator}=node;const rightConstantOperand=findBinaryExpressionConstantOperand(scope,left,right,operator);const leftConstantOperand=findBinaryExpressionConstantOperand(scope,right,left,operator);if(rightConstantOperand){context.report({node:rightConstantOperand,messageId:"constantBinaryOperand",data:{operator:operator,otherSide:"left"}})}else if(leftConstantOperand){context.report({node:leftConstantOperand,messageId:"constantBinaryOperand",data:{operator:operator,otherSide:"right"}})}else if(operator==="==="||operator==="!=="){if(isAlwaysNew(scope,left)){context.report({node:left,messageId:"alwaysNew"})}else if(isAlwaysNew(scope,right)){context.report({node:right,messageId:"alwaysNew"})}}else if(operator==="=="||operator==="!="){if(isAlwaysNew(scope,left)&&isAlwaysNew(scope,right)){context.report({node:left,messageId:"bothAlwaysNew"})}}}}}};return noConstantBinaryExpression}var noConstantCondition;var hasRequiredNoConstantCondition;function requireNoConstantCondition(){if(hasRequiredNoConstantCondition)return noConstantCondition;hasRequiredNoConstantCondition=1;const{isConstant:isConstant}=requireAstUtils();noConstantCondition={meta:{type:"problem",docs:{description:"Disallow constant expressions in conditions",recommended:true,url:"https://eslint.org/docs/rules/no-constant-condition"},schema:[{type:"object",properties:{checkLoops:{type:"boolean",default:true}},additionalProperties:false}],messages:{unexpected:"Unexpected constant condition."}},create(context){const options=context.options[0]||{},checkLoops=options.checkLoops!==false,loopSetStack=[];let loopsInCurrentScope=new Set;function trackConstantConditionLoop(node){if(node.test&&isConstant(context.getScope(),node.test,true)){loopsInCurrentScope.add(node)}}function checkConstantConditionLoopInSet(node){if(loopsInCurrentScope.has(node)){loopsInCurrentScope.delete(node);context.report({node:node.test,messageId:"unexpected"})}}function reportIfConstant(node){if(node.test&&isConstant(context.getScope(),node.test,true)){context.report({node:node.test,messageId:"unexpected"})}}function enterFunction(){loopSetStack.push(loopsInCurrentScope);loopsInCurrentScope=new Set}function exitFunction(){loopsInCurrentScope=loopSetStack.pop()}function checkLoop(node){if(checkLoops){trackConstantConditionLoop(node)}}return{ConditionalExpression:reportIfConstant,IfStatement:reportIfConstant,WhileStatement:checkLoop,"WhileStatement:exit":checkConstantConditionLoopInSet,DoWhileStatement:checkLoop,"DoWhileStatement:exit":checkConstantConditionLoopInSet,ForStatement:checkLoop,"ForStatement > .test":node=>checkLoop(node.parent),"ForStatement:exit":checkConstantConditionLoopInSet,FunctionDeclaration:enterFunction,"FunctionDeclaration:exit":exitFunction,FunctionExpression:enterFunction,"FunctionExpression:exit":exitFunction,YieldExpression:()=>loopsInCurrentScope.clear()}}};return noConstantCondition}var noConstructorReturn;var hasRequiredNoConstructorReturn;function requireNoConstructorReturn(){if(hasRequiredNoConstructorReturn)return noConstructorReturn;hasRequiredNoConstructorReturn=1;noConstructorReturn={meta:{type:"problem",docs:{description:"Disallow returning value from constructor",recommended:false,url:"https://eslint.org/docs/rules/no-constructor-return"},schema:{},fixable:null,messages:{unexpected:"Unexpected return statement in constructor."}},create(context){const stack=[];return{onCodePathStart(_,node){stack.push(node)},onCodePathEnd(){stack.pop()},ReturnStatement(node){const last=stack[stack.length-1];if(!last.parent){return}if(last.parent.type==="MethodDefinition"&&last.parent.kind==="constructor"&&(node.parent.parent===last||node.argument)){context.report({node:node,messageId:"unexpected"})}}}}};return noConstructorReturn}var noContinue;var hasRequiredNoContinue;function requireNoContinue(){if(hasRequiredNoContinue)return noContinue;hasRequiredNoContinue=1;noContinue={meta:{type:"suggestion",docs:{description:"Disallow `continue` statements",recommended:false,url:"https://eslint.org/docs/rules/no-continue"},schema:[],messages:{unexpected:"Unexpected use of continue statement."}},create(context){return{ContinueStatement(node){context.report({node:node,messageId:"unexpected"})}}}};return noContinue}var regexpp={};
/*! @author Toru Nagashima <https://github.com/mysticatea> */var hasRequiredRegexpp;function requireRegexpp(){if(hasRequiredRegexpp)return regexpp;hasRequiredRegexpp=1;Object.defineProperty(regexpp,"__esModule",{value:true});var ast=Object.freeze({});let largeIdStartRanges=undefined;let largeIdContinueRanges=undefined;function isIdStart(cp){if(cp<65)return false;if(cp<91)return true;if(cp<97)return false;if(cp<123)return true;return isLargeIdStart(cp)}function isIdContinue(cp){if(cp<48)return false;if(cp<58)return true;if(cp<65)return false;if(cp<91)return true;if(cp===95)return true;if(cp<97)return false;if(cp<123)return true;return isLargeIdStart(cp)||isLargeIdContinue(cp)}function isLargeIdStart(cp){return isInRange(cp,largeIdStartRanges||(largeIdStartRanges=initLargeIdStartRanges()))}function isLargeIdContinue(cp){return isInRange(cp,largeIdContinueRanges||(largeIdContinueRanges=initLargeIdContinueRanges()))}function initLargeIdStartRanges(){return restoreRanges("4q 0 b 0 5 0 6 m 2 u 2 cp 5 b f 4 8 0 2 0 3m 4 2 1 3 3 2 0 7 0 2 2 2 0 2 j 2 2a 2 3u 9 4l 2 11 3 0 7 14 20 q 5 3 1a 16 10 1 2 2q 2 0 g 1 8 1 b 2 3 0 h 0 2 t u 2g c 0 p w a 1 5 0 6 l 5 0 a 0 4 0 o o 8 a 1i k 2 h 1p 1h 4 0 j 0 8 9 g f 5 7 3 1 3 l 2 6 2 0 4 3 4 0 h 0 e 1 2 2 f 1 b 0 9 5 5 1 3 l 2 6 2 1 2 1 2 1 w 3 2 0 k 2 h 8 2 2 2 l 2 6 2 1 2 4 4 0 j 0 g 1 o 0 c 7 3 1 3 l 2 6 2 1 2 4 4 0 v 1 2 2 g 0 i 0 2 5 4 2 2 3 4 1 2 0 2 1 4 1 4 2 4 b n 0 1h 7 2 2 2 m 2 f 4 0 r 2 6 1 v 0 5 7 2 2 2 m 2 9 2 4 4 0 x 0 2 1 g 1 i 8 2 2 2 14 3 0 h 0 6 2 9 2 p 5 6 h 4 n 2 8 2 0 3 6 1n 1b 2 1 d 6 1n 1 2 0 2 4 2 n 2 0 2 9 2 1 a 0 3 4 2 0 m 3 x 0 1s 7 2 z s 4 38 16 l 0 h 5 5 3 4 0 4 1 8 2 5 c d 0 i 11 2 0 6 0 3 16 2 98 2 3 3 6 2 0 2 3 3 14 2 3 3 w 2 3 3 6 2 0 2 3 3 e 2 1k 2 3 3 1u 12 f h 2d 3 5 4 h7 3 g 2 p 6 22 4 a 8 c 2 3 f h f h f c 2 2 g 1f 10 0 5 0 1w 2g 8 14 2 0 6 1x b u 1e t 3 4 c 17 5 p 1j m a 1g 2b 0 2m 1a i 6 1k t e 1 b 17 r z 16 2 b z 3 8 8 16 3 2 16 3 2 5 2 1 4 0 6 5b 1t 7p 3 5 3 11 3 5 3 7 2 0 2 0 2 0 2 u 3 1g 2 6 2 0 4 2 2 6 4 3 3 5 5 c 6 2 2 6 39 0 e 0 h c 2u 0 5 0 3 9 2 0 3 5 7 0 2 0 2 0 2 f 3 3 6 4 5 0 i 14 22g 1a 2 1a 2 3o 7 3 4 1 d 11 2 0 6 0 3 1j 8 0 h m a 6 2 6 2 6 2 6 2 6 2 6 2 6 2 6 fb 2 q 8 8 4 3 4 5 2d 5 4 2 2h 2 3 6 16 2 2l i v 1d f e9 533 1t g70 4 wc 1w 19 3 7g 4 f b 1 l 1a h u 3 27 14 8 3 2u 3 1g 3 8 17 c 2 2 2 3 2 m u 1f f 1d 1r 5 4 0 2 1 c r b m q s 8 1a t 0 h 4 2 9 b 4 2 14 o 2 2 7 l m 4 0 4 1d 2 0 4 1 3 4 3 0 2 0 p 2 3 a 8 2 d 5 3 5 3 5 a 6 2 6 2 16 2 d 7 36 u 8mb d m 5 1c 6it a5 3 2x 13 6 d 4 6 0 2 9 2 c 2 4 2 0 2 1 2 1 2 2z y a2 j 1r 3 1h 15 b 39 4 2 3q 11 p 7 p c 2g 4 5 3 5 3 5 3 2 10 b 2 p 2 i 2 1 2 e 3 d z 3e 1y 1g 7g s 4 1c 1c v e t 6 11 b t 3 z 5 7 2 4 17 4d j z 5 z 5 13 9 1f 4d 8m a l b 7 49 5 3 0 2 17 2 1 4 0 3 m b m a u 1u i 2 1 b l b p 1z 1j 7 1 1t 0 g 3 2 2 2 s 17 s 4 s 10 7 2 r s 1h b l b i e h 33 20 1k 1e e 1e e z 9p 15 7 1 27 s b 0 9 l 2z k s m d 1g 24 18 x o r z u 0 3 0 9 y 4 0 d 1b f 3 m 0 2 0 10 h 2 o 2d 6 2 0 2 3 2 e 2 9 8 1a 13 7 3 1 3 l 2 6 2 1 2 4 4 0 j 0 d 4 4f 1g j 3 l 2 v 1b l 1 2 0 55 1a 16 3 11 1b l 0 1o 16 e 0 20 q 6e 17 39 1r w 7 3 0 3 7 2 1 2 n g 0 2 0 2n 7 3 12 h 0 2 0 t 0 b 13 8 0 m 0 c 19 k 0 z 1k 7c 8 2 10 i 0 1e t 35 6 2 1 2 11 m 0 q 5 2 1 2 v f 0 94 i 5a 0 28 pl 2v 32 i 5f 24d tq 34i g6 6nu fs 8 u 36 t j 1b h 3 w k 6 i j5 1r 3l 22 6 0 1v c 1t 1 2 0 t 4qf 9 yd 17 8 6wo 7y 1e 2 i 3 9 az 1s5 2y 6 c 4 8 8 9 4mf 2c 2 1y 2 1 3 0 3 1 3 3 2 b 2 0 2 6 2 1s 2 3 3 7 2 6 2 r 2 3 2 4 2 0 4 6 2 9f 3 o 2 o 2 u 2 o 2 u 2 o 2 u 2 o 2 u 2 o 2 7 1th 18 b 6 h 0 aa 17 105 5g 1o 1v 8 0 xh 3 2 q 2 1 2 0 3 0 2 9 2 3 2 0 2 0 7 0 5 0 2 0 2 0 2 2 2 1 2 0 3 0 2 0 2 0 2 0 2 0 2 1 2 0 3 3 2 6 2 3 2 3 2 0 2 9 2 g 6 2 2 4 2 g 3et wyl z 378 c 65 3 4g1 f 5rk 2e8 f1 15v 3t6")}function initLargeIdContinueRanges(){return restoreRanges("53 0 g9 33 o 0 70 4 7e 18 2 0 2 1 2 1 2 0 21 a 1d u 7 0 2u 6 3 5 3 1 2 3 3 9 o 0 v q 2k a g 9 y 8 a 0 p 3 2 8 2 2 2 4 18 2 3c e 2 w 1j 2 2 h 2 6 b 1 3 9 i 2 1l 0 2 6 3 1 3 2 a 0 b 1 3 9 f 0 3 2 1l 0 2 4 5 1 3 2 4 0 l b 4 0 c 2 1l 0 2 7 2 2 2 2 l 1 3 9 b 5 2 2 1l 0 2 6 3 1 3 2 8 2 b 1 3 9 j 0 1o 4 4 2 2 3 a 0 f 9 h 4 1m 6 2 2 2 3 8 1 c 1 3 9 i 2 1l 0 2 6 2 2 2 3 8 1 c 1 3 9 h 3 1k 1 2 6 2 2 2 3 a 0 b 1 3 9 i 2 1z 0 5 5 2 0 2 7 7 9 3 1 1q 0 3 6 d 7 2 9 2g 0 3 8 c 5 3 9 1r 1 7 9 c 0 2 0 2 0 5 1 1e j 2 1 6 a 2 z a 0 2t j 2 9 d 3 5 2 2 2 3 6 4 3 e b 2 e jk 2 a 8 pt 2 u 2 u 1 v 1 1t v a 0 3 9 y 2 3 9 40 0 3b b 5 b b 9 3l a 1p 4 1m 9 2 s 3 a 7 9 n d 2 1 1s 4 1c g c 9 i 8 d 2 v c 3 9 19 d 1d j 9 9 7 9 3b 2 2 k 5 0 7 0 3 2 5j 1l 2 4 g0 1 k 0 3g c 5 0 4 b 2db 2 3y 0 2p v ff 5 2y 1 n7q 9 1y 0 5 9 x 1 29 1 7l 0 4 0 5 0 o 4 5 0 2c 1 1f h b 9 7 h e a t 7 q c 19 3 1c d g 9 c 0 b 9 1c d d 0 9 1 3 9 y 2 1f 0 2 2 3 1 6 1 2 0 16 4 6 1 6l 7 2 1 3 9 fmt 0 ki f h f 4 1 p 2 5d 9 12 0 ji 0 6b 0 46 4 86 9 120 2 2 1 6 3 15 2 5 0 4m 1 fy 3 9 9 aa 1 4a a 4w 2 1i e w 9 g 3 1a a 1i 9 7 2 11 d 2 9 6 1 19 0 d 2 1d d 9 3 2 b 2b b 7 0 4h b 6 9 7 3 1k 1 2 6 3 1 3 2 a 0 b 1 3 6 4 4 5d h a 9 5 0 2a j d 9 5y 6 3 8 s 1 2b g g 9 2a c 9 9 2c e 5 9 6r e 4m 9 1z 5 2 1 3 3 2 0 2 1 d 9 3c 6 3 6 4 0 t 9 15 6 2 3 9 0 a a 1b f ba 7 2 7 h 9 1l l 2 d 3f 5 4 0 2 1 2 6 2 0 9 9 1d 4 2 1 2 4 9 9 96 3 ewa 9 3r 4 1o 6 q 9 s6 0 2 1i 8 3 2a 0 c 1 f58 1 43r 4 4 5 9 7 3 6 v 3 45 2 13e 1d e9 1i 5 1d 9 0 f 0 n 4 2 e 11t 6 2 g 3 6 2 1 2 4 7a 6 a 9 bn d 15j 6 32 6 6 9 3o7 9 gvt3 6n")}function isInRange(cp,ranges){let l=0,r=ranges.length/2|0,i=0,min=0,max=0;while(l<r){i=(l+r)/2|0;min=ranges[2*i];max=ranges[2*i+1];if(cp<min){r=i}else if(cp>max){l=i+1}else{return true}}return false}function restoreRanges(data){let last=0;return data.split(" ").map((s=>last+=parseInt(s,36)|0))}class DataSet{constructor(raw2018,raw2019,raw2020,raw2021){this._raw2018=raw2018;this._raw2019=raw2019;this._raw2020=raw2020;this._raw2021=raw2021}get es2018(){return this._set2018||(this._set2018=new Set(this._raw2018.split(" ")))}get es2019(){return this._set2019||(this._set2019=new Set(this._raw2019.split(" ")))}get es2020(){return this._set2020||(this._set2020=new Set(this._raw2020.split(" ")))}get es2021(){return this._set2021||(this._set2021=new Set(this._raw2021.split(" ")))}}const gcNameSet=new Set(["General_Category","gc"]);const scNameSet=new Set(["Script","Script_Extensions","sc","scx"]);const gcValueSets=new DataSet("C Cased_Letter Cc Cf Close_Punctuation Cn Co Combining_Mark Connector_Punctuation Control Cs Currency_Symbol Dash_Punctuation Decimal_Number Enclosing_Mark Final_Punctuation Format Initial_Punctuation L LC Letter Letter_Number Line_Separator Ll Lm Lo Lowercase_Letter Lt Lu M Mark Math_Symbol Mc Me Mn Modifier_Letter Modifier_Symbol N Nd Nl No Nonspacing_Mark Number Open_Punctuation Other Other_Letter Other_Number Other_Punctuation Other_Symbol P Paragraph_Separator Pc Pd Pe Pf Pi Po Private_Use Ps Punctuation S Sc Separator Sk Sm So Space_Separator Spacing_Mark Surrogate Symbol Titlecase_Letter Unassigned Uppercase_Letter Z Zl Zp Zs cntrl digit punct","","","");const scValueSets=new DataSet("Adlam Adlm Aghb Ahom Anatolian_Hieroglyphs Arab Arabic Armenian Armi Armn Avestan Avst Bali Balinese Bamu Bamum Bass Bassa_Vah Batak Batk Beng Bengali Bhaiksuki Bhks Bopo Bopomofo Brah Brahmi Brai Braille Bugi Buginese Buhd Buhid Cakm Canadian_Aboriginal Cans Cari Carian Caucasian_Albanian Chakma Cham Cher Cherokee Common Copt Coptic Cprt Cuneiform Cypriot Cyrillic Cyrl Deseret Deva Devanagari Dsrt Dupl Duployan Egyp Egyptian_Hieroglyphs Elba Elbasan Ethi Ethiopic Geor Georgian Glag Glagolitic Gonm Goth Gothic Gran Grantha Greek Grek Gujarati Gujr Gurmukhi Guru Han Hang Hangul Hani Hano Hanunoo Hatr Hatran Hebr Hebrew Hira Hiragana Hluw Hmng Hung Imperial_Aramaic Inherited Inscriptional_Pahlavi Inscriptional_Parthian Ital Java Javanese Kaithi Kali Kana Kannada Katakana Kayah_Li Khar Kharoshthi Khmer Khmr Khoj Khojki Khudawadi Knda Kthi Lana Lao Laoo Latin Latn Lepc Lepcha Limb Limbu Lina Linb Linear_A Linear_B Lisu Lyci Lycian Lydi Lydian Mahajani Mahj Malayalam Mand Mandaic Mani Manichaean Marc Marchen Masaram_Gondi Meetei_Mayek Mend Mende_Kikakui Merc Mero Meroitic_Cursive Meroitic_Hieroglyphs Miao Mlym Modi Mong Mongolian Mro Mroo Mtei Mult Multani Myanmar Mymr Nabataean Narb Nbat New_Tai_Lue Newa Nko Nkoo Nshu Nushu Ogam Ogham Ol_Chiki Olck Old_Hungarian Old_Italic Old_North_Arabian Old_Permic Old_Persian Old_South_Arabian Old_Turkic Oriya Orkh Orya Osage Osge Osma Osmanya Pahawh_Hmong Palm Palmyrene Pau_Cin_Hau Pauc Perm Phag Phags_Pa Phli Phlp Phnx Phoenician Plrd Prti Psalter_Pahlavi Qaac Qaai Rejang Rjng Runic Runr Samaritan Samr Sarb Saur Saurashtra Sgnw Sharada Shavian Shaw Shrd Sidd Siddham SignWriting Sind Sinh Sinhala Sora Sora_Sompeng Soyo Soyombo Sund Sundanese Sylo Syloti_Nagri Syrc Syriac Tagalog Tagb Tagbanwa Tai_Le Tai_Tham Tai_Viet Takr Takri Tale Talu Tamil Taml Tang Tangut Tavt Telu Telugu Tfng Tglg Thaa Thaana Thai Tibetan Tibt Tifinagh Tirh Tirhuta Ugar Ugaritic Vai Vaii Wara Warang_Citi Xpeo Xsux Yi Yiii Zanabazar_Square Zanb Zinh Zyyy","Dogr Dogra Gong Gunjala_Gondi Hanifi_Rohingya Maka Makasar Medefaidrin Medf Old_Sogdian Rohg Sogd Sogdian Sogo","Elym Elymaic Hmnp Nand Nandinagari Nyiakeng_Puachue_Hmong Wancho Wcho","Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi");const binPropertySets=new DataSet("AHex ASCII ASCII_Hex_Digit Alpha Alphabetic Any Assigned Bidi_C Bidi_Control Bidi_M Bidi_Mirrored CI CWCF CWCM CWKCF CWL CWT CWU Case_Ignorable Cased Changes_When_Casefolded Changes_When_Casemapped Changes_When_Lowercased Changes_When_NFKC_Casefolded Changes_When_Titlecased Changes_When_Uppercased DI Dash Default_Ignorable_Code_Point Dep Deprecated Dia Diacritic Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Ext Extender Gr_Base Gr_Ext Grapheme_Base Grapheme_Extend Hex Hex_Digit IDC IDS IDSB IDST IDS_Binary_Operator IDS_Trinary_Operator ID_Continue ID_Start Ideo Ideographic Join_C Join_Control LOE Logical_Order_Exception Lower Lowercase Math NChar Noncharacter_Code_Point Pat_Syn Pat_WS Pattern_Syntax Pattern_White_Space QMark Quotation_Mark RI Radical Regional_Indicator SD STerm Sentence_Terminal Soft_Dotted Term Terminal_Punctuation UIdeo Unified_Ideograph Upper Uppercase VS Variation_Selector White_Space XIDC XIDS XID_Continue XID_Start space","Extended_Pictographic","","EBase EComp EMod EPres ExtPict");function isValidUnicodeProperty(version,name,value){if(gcNameSet.has(name)){return version>=2018&&gcValueSets.es2018.has(value)}if(scNameSet.has(name)){return version>=2018&&scValueSets.es2018.has(value)||version>=2019&&scValueSets.es2019.has(value)||version>=2020&&scValueSets.es2020.has(value)||version>=2021&&scValueSets.es2021.has(value)}return false}function isValidLoneUnicodeProperty(version,value){return version>=2018&&binPropertySets.es2018.has(value)||version>=2019&&binPropertySets.es2019.has(value)||version>=2021&&binPropertySets.es2021.has(value)}const Backspace=8;const CharacterTabulation=9;const LineFeed=10;const LineTabulation=11;const FormFeed=12;const CarriageReturn=13;const ExclamationMark=33;const DollarSign=36;const LeftParenthesis=40;const RightParenthesis=41;const Asterisk=42;const PlusSign=43;const Comma=44;const HyphenMinus=45;const FullStop=46;const Solidus=47;const DigitZero=48;const DigitOne=49;const DigitSeven=55;const DigitNine=57;const Colon=58;const LessThanSign=60;const EqualsSign=61;const GreaterThanSign=62;const QuestionMark=63;const LatinCapitalLetterA=65;const LatinCapitalLetterB=66;const LatinCapitalLetterD=68;const LatinCapitalLetterF=70;const LatinCapitalLetterP=80;const LatinCapitalLetterS=83;const LatinCapitalLetterW=87;const LatinCapitalLetterZ=90;const LowLine=95;const LatinSmallLetterA=97;const LatinSmallLetterB=98;const LatinSmallLetterC=99;const LatinSmallLetterD=100;const LatinSmallLetterF=102;const LatinSmallLetterG=103;const LatinSmallLetterI=105;const LatinSmallLetterK=107;const LatinSmallLetterM=109;const LatinSmallLetterN=110;const LatinSmallLetterP=112;const LatinSmallLetterR=114;const LatinSmallLetterS=115;const LatinSmallLetterT=116;const LatinSmallLetterU=117;const LatinSmallLetterV=118;const LatinSmallLetterW=119;const LatinSmallLetterX=120;const LatinSmallLetterY=121;const LatinSmallLetterZ=122;const LeftSquareBracket=91;const ReverseSolidus=92;const RightSquareBracket=93;const CircumflexAccent=94;const LeftCurlyBracket=123;const VerticalLine=124;const RightCurlyBracket=125;const ZeroWidthNonJoiner=8204;const ZeroWidthJoiner=8205;const LineSeparator=8232;const ParagraphSeparator=8233;const MinCodePoint=0;const MaxCodePoint=1114111;function isLatinLetter(code){return code>=LatinCapitalLetterA&&code<=LatinCapitalLetterZ||code>=LatinSmallLetterA&&code<=LatinSmallLetterZ}function isDecimalDigit(code){return code>=DigitZero&&code<=DigitNine}function isOctalDigit(code){return code>=DigitZero&&code<=DigitSeven}function isHexDigit(code){return code>=DigitZero&&code<=DigitNine||code>=LatinCapitalLetterA&&code<=LatinCapitalLetterF||code>=LatinSmallLetterA&&code<=LatinSmallLetterF}function isLineTerminator(code){return code===LineFeed||code===CarriageReturn||code===LineSeparator||code===ParagraphSeparator}function isValidUnicode(code){return code>=MinCodePoint&&code<=MaxCodePoint}function digitToInt(code){if(code>=LatinSmallLetterA&&code<=LatinSmallLetterF){return code-LatinSmallLetterA+10}if(code>=LatinCapitalLetterA&&code<=LatinCapitalLetterF){return code-LatinCapitalLetterA+10}return code-DigitZero}function isLeadSurrogate(code){return code>=55296&&code<=56319}function isTrailSurrogate(code){return code>=56320&&code<=57343}function combineSurrogatePair(lead,trail){return(lead-55296)*1024+(trail-56320)+65536}const legacyImpl={at(s,end,i){return i<end?s.charCodeAt(i):-1},width(c){return 1}};const unicodeImpl={at(s,end,i){return i<end?s.codePointAt(i):-1},width(c){return c>65535?2:1}};class Reader{constructor(){this._impl=legacyImpl;this._s="";this._i=0;this._end=0;this._cp1=-1;this._w1=1;this._cp2=-1;this._w2=1;this._cp3=-1;this._w3=1;this._cp4=-1}get source(){return this._s}get index(){return this._i}get currentCodePoint(){return this._cp1}get nextCodePoint(){return this._cp2}get nextCodePoint2(){return this._cp3}get nextCodePoint3(){return this._cp4}reset(source,start,end,uFlag){this._impl=uFlag?unicodeImpl:legacyImpl;this._s=source;this._end=end;this.rewind(start)}rewind(index){const impl=this._impl;this._i=index;this._cp1=impl.at(this._s,this._end,index);this._w1=impl.width(this._cp1);this._cp2=impl.at(this._s,this._end,index+this._w1);this._w2=impl.width(this._cp2);this._cp3=impl.at(this._s,this._end,index+this._w1+this._w2);this._w3=impl.width(this._cp3);this._cp4=impl.at(this._s,this._end,index+this._w1+this._w2+this._w3)}advance(){if(this._cp1!==-1){const impl=this._impl;this._i+=this._w1;this._cp1=this._cp2;this._w1=this._w2;this._cp2=this._cp3;this._w2=impl.width(this._cp2);this._cp3=this._cp4;this._w3=impl.width(this._cp3);this._cp4=impl.at(this._s,this._end,this._i+this._w1+this._w2+this._w3)}}eat(cp){if(this._cp1===cp){this.advance();return true}return false}eat2(cp1,cp2){if(this._cp1===cp1&&this._cp2===cp2){this.advance();this.advance();return true}return false}eat3(cp1,cp2,cp3){if(this._cp1===cp1&&this._cp2===cp2&&this._cp3===cp3){this.advance();this.advance();this.advance();return true}return false}}class RegExpSyntaxError extends SyntaxError{constructor(source,uFlag,index,message){if(source){if(!source.startsWith("/")){source=`/${source}/${uFlag?"u":""}`}source=`: ${source}`}super(`Invalid regular expression${source}: ${message}`);this.index=index}}function isSyntaxCharacter(cp){return cp===CircumflexAccent||cp===DollarSign||cp===ReverseSolidus||cp===FullStop||cp===Asterisk||cp===PlusSign||cp===QuestionMark||cp===LeftParenthesis||cp===RightParenthesis||cp===LeftSquareBracket||cp===RightSquareBracket||cp===LeftCurlyBracket||cp===RightCurlyBracket||cp===VerticalLine}function isRegExpIdentifierStart(cp){return isIdStart(cp)||cp===DollarSign||cp===LowLine}function isRegExpIdentifierPart(cp){return isIdContinue(cp)||cp===DollarSign||cp===LowLine||cp===ZeroWidthNonJoiner||cp===ZeroWidthJoiner}function isUnicodePropertyNameCharacter(cp){return isLatinLetter(cp)||cp===LowLine}function isUnicodePropertyValueCharacter(cp){return isUnicodePropertyNameCharacter(cp)||isDecimalDigit(cp)}class RegExpValidator{constructor(options){this._reader=new Reader;this._uFlag=false;this._nFlag=false;this._lastIntValue=0;this._lastMinValue=0;this._lastMaxValue=0;this._lastStrValue="";this._lastKeyValue="";this._lastValValue="";this._lastAssertionIsQuantifiable=false;this._numCapturingParens=0;this._groupNames=new Set;this._backreferenceNames=new Set;this._options=options||{}}validateLiteral(source,start=0,end=source.length){this._uFlag=this._nFlag=false;this.reset(source,start,end);this.onLiteralEnter(start);if(this.eat(Solidus)&&this.eatRegExpBody()&&this.eat(Solidus)){const flagStart=this.index;const uFlag=source.includes("u",flagStart);this.validateFlags(source,flagStart,end);this.validatePattern(source,start+1,flagStart-1,uFlag)}else if(start>=end){this.raise("Empty")}else{const c=String.fromCodePoint(this.currentCodePoint);this.raise(`Unexpected character '${c}'`)}this.onLiteralLeave(start,end)}validateFlags(source,start=0,end=source.length){const existingFlags=new Set;let global=false;let ignoreCase=false;let multiline=false;let sticky=false;let unicode=false;let dotAll=false;let hasIndices=false;for(let i=start;i<end;++i){const flag=source.charCodeAt(i);if(existingFlags.has(flag)){this.raise(`Duplicated flag '${source[i]}'`)}existingFlags.add(flag);if(flag===LatinSmallLetterG){global=true}else if(flag===LatinSmallLetterI){ignoreCase=true}else if(flag===LatinSmallLetterM){multiline=true}else if(flag===LatinSmallLetterU&&this.ecmaVersion>=2015){unicode=true}else if(flag===LatinSmallLetterY&&this.ecmaVersion>=2015){sticky=true}else if(flag===LatinSmallLetterS&&this.ecmaVersion>=2018){dotAll=true}else if(flag===LatinSmallLetterD&&this.ecmaVersion>=2022){hasIndices=true}else{this.raise(`Invalid flag '${source[i]}'`)}}this.onFlags(start,end,global,ignoreCase,multiline,unicode,sticky,dotAll,hasIndices)}validatePattern(source,start=0,end=source.length,uFlag=false){this._uFlag=uFlag&&this.ecmaVersion>=2015;this._nFlag=uFlag&&this.ecmaVersion>=2018;this.reset(source,start,end);this.consumePattern();if(!this._nFlag&&this.ecmaVersion>=2018&&this._groupNames.size>0){this._nFlag=true;this.rewind(start);this.consumePattern()}}get strict(){return Boolean(this._options.strict||this._uFlag)}get ecmaVersion(){return this._options.ecmaVersion||2022}onLiteralEnter(start){if(this._options.onLiteralEnter){this._options.onLiteralEnter(start)}}onLiteralLeave(start,end){if(this._options.onLiteralLeave){this._options.onLiteralLeave(start,end)}}onFlags(start,end,global,ignoreCase,multiline,unicode,sticky,dotAll,hasIndices){if(this._options.onFlags){this._options.onFlags(start,end,global,ignoreCase,multiline,unicode,sticky,dotAll,hasIndices)}}onPatternEnter(start){if(this._options.onPatternEnter){this._options.onPatternEnter(start)}}onPatternLeave(start,end){if(this._options.onPatternLeave){this._options.onPatternLeave(start,end)}}onDisjunctionEnter(start){if(this._options.onDisjunctionEnter){this._options.onDisjunctionEnter(start)}}onDisjunctionLeave(start,end){if(this._options.onDisjunctionLeave){this._options.onDisjunctionLeave(start,end)}}onAlternativeEnter(start,index){if(this._options.onAlternativeEnter){this._options.onAlternativeEnter(start,index)}}onAlternativeLeave(start,end,index){if(this._options.onAlternativeLeave){this._options.onAlternativeLeave(start,end,index)}}onGroupEnter(start){if(this._options.onGroupEnter){this._options.onGroupEnter(start)}}onGroupLeave(start,end){if(this._options.onGroupLeave){this._options.onGroupLeave(start,end)}}onCapturingGroupEnter(start,name){if(this._options.onCapturingGroupEnter){this._options.onCapturingGroupEnter(start,name)}}onCapturingGroupLeave(start,end,name){if(this._options.onCapturingGroupLeave){this._options.onCapturingGroupLeave(start,end,name)}}onQuantifier(start,end,min,max,greedy){if(this._options.onQuantifier){this._options.onQuantifier(start,end,min,max,greedy)}}onLookaroundAssertionEnter(start,kind,negate){if(this._options.onLookaroundAssertionEnter){this._options.onLookaroundAssertionEnter(start,kind,negate)}}onLookaroundAssertionLeave(start,end,kind,negate){if(this._options.onLookaroundAssertionLeave){this._options.onLookaroundAssertionLeave(start,end,kind,negate)}}onEdgeAssertion(start,end,kind){if(this._options.onEdgeAssertion){this._options.onEdgeAssertion(start,end,kind)}}onWordBoundaryAssertion(start,end,kind,negate){if(this._options.onWordBoundaryAssertion){this._options.onWordBoundaryAssertion(start,end,kind,negate)}}onAnyCharacterSet(start,end,kind){if(this._options.onAnyCharacterSet){this._options.onAnyCharacterSet(start,end,kind)}}onEscapeCharacterSet(start,end,kind,negate){if(this._options.onEscapeCharacterSet){this._options.onEscapeCharacterSet(start,end,kind,negate)}}onUnicodePropertyCharacterSet(start,end,kind,key,value,negate){if(this._options.onUnicodePropertyCharacterSet){this._options.onUnicodePropertyCharacterSet(start,end,kind,key,value,negate)}}onCharacter(start,end,value){if(this._options.onCharacter){this._options.onCharacter(start,end,value)}}onBackreference(start,end,ref){if(this._options.onBackreference){this._options.onBackreference(start,end,ref)}}onCharacterClassEnter(start,negate){if(this._options.onCharacterClassEnter){this._options.onCharacterClassEnter(start,negate)}}onCharacterClassLeave(start,end,negate){if(this._options.onCharacterClassLeave){this._options.onCharacterClassLeave(start,end,negate)}}onCharacterClassRange(start,end,min,max){if(this._options.onCharacterClassRange){this._options.onCharacterClassRange(start,end,min,max)}}get source(){return this._reader.source}get index(){return this._reader.index}get currentCodePoint(){return this._reader.currentCodePoint}get nextCodePoint(){return this._reader.nextCodePoint}get nextCodePoint2(){return this._reader.nextCodePoint2}get nextCodePoint3(){return this._reader.nextCodePoint3}reset(source,start,end){this._reader.reset(source,start,end,this._uFlag)}rewind(index){this._reader.rewind(index)}advance(){this._reader.advance()}eat(cp){return this._reader.eat(cp)}eat2(cp1,cp2){return this._reader.eat2(cp1,cp2)}eat3(cp1,cp2,cp3){return this._reader.eat3(cp1,cp2,cp3)}raise(message){throw new RegExpSyntaxError(this.source,this._uFlag,this.index,message)}eatRegExpBody(){const start=this.index;let inClass=false;let escaped=false;for(;;){const cp=this.currentCodePoint;if(cp===-1||isLineTerminator(cp)){const kind=inClass?"character class":"regular expression";this.raise(`Unterminated ${kind}`)}if(escaped){escaped=false}else if(cp===ReverseSolidus){escaped=true}else if(cp===LeftSquareBracket){inClass=true}else if(cp===RightSquareBracket){inClass=false}else if(cp===Solidus&&!inClass||cp===Asterisk&&this.index===start){break}this.advance()}return this.index!==start}consumePattern(){const start=this.index;this._numCapturingParens=this.countCapturingParens();this._groupNames.clear();this._backreferenceNames.clear();this.onPatternEnter(start);this.consumeDisjunction();const cp=this.currentCodePoint;if(this.currentCodePoint!==-1){if(cp===RightParenthesis){this.raise("Unmatched ')'")}if(cp===ReverseSolidus){this.raise("\\ at end of pattern")}if(cp===RightSquareBracket||cp===RightCurlyBracket){this.raise("Lone quantifier brackets")}const c=String.fromCodePoint(cp);this.raise(`Unexpected character '${c}'`)}for(const name of this._backreferenceNames){if(!this._groupNames.has(name)){this.raise("Invalid named capture referenced")}}this.onPatternLeave(start,this.index)}countCapturingParens(){const start=this.index;let inClass=false;let escaped=false;let count=0;let cp=0;while((cp=this.currentCodePoint)!==-1){if(escaped){escaped=false}else if(cp===ReverseSolidus){escaped=true}else if(cp===LeftSquareBracket){inClass=true}else if(cp===RightSquareBracket){inClass=false}else if(cp===LeftParenthesis&&!inClass&&(this.nextCodePoint!==QuestionMark||this.nextCodePoint2===LessThanSign&&this.nextCodePoint3!==EqualsSign&&this.nextCodePoint3!==ExclamationMark)){count+=1}this.advance()}this.rewind(start);return count}consumeDisjunction(){const start=this.index;let i=0;this.onDisjunctionEnter(start);do{this.consumeAlternative(i++)}while(this.eat(VerticalLine));if(this.consumeQuantifier(true)){this.raise("Nothing to repeat")}if(this.eat(LeftCurlyBracket)){this.raise("Lone quantifier brackets")}this.onDisjunctionLeave(start,this.index)}consumeAlternative(i){const start=this.index;this.onAlternativeEnter(start,i);while(this.currentCodePoint!==-1&&this.consumeTerm()){}this.onAlternativeLeave(start,this.index,i)}consumeTerm(){if(this._uFlag||this.strict){return this.consumeAssertion()||this.consumeAtom()&&this.consumeOptionalQuantifier()}return this.consumeAssertion()&&(!this._lastAssertionIsQuantifiable||this.consumeOptionalQuantifier())||this.consumeExtendedAtom()&&this.consumeOptionalQuantifier()}consumeOptionalQuantifier(){this.consumeQuantifier();return true}consumeAssertion(){const start=this.index;this._lastAssertionIsQuantifiable=false;if(this.eat(CircumflexAccent)){this.onEdgeAssertion(start,this.index,"start");return true}if(this.eat(DollarSign)){this.onEdgeAssertion(start,this.index,"end");return true}if(this.eat2(ReverseSolidus,LatinCapitalLetterB)){this.onWordBoundaryAssertion(start,this.index,"word",true);return true}if(this.eat2(ReverseSolidus,LatinSmallLetterB)){this.onWordBoundaryAssertion(start,this.index,"word",false);return true}if(this.eat2(LeftParenthesis,QuestionMark)){const lookbehind=this.ecmaVersion>=2018&&this.eat(LessThanSign);let negate=false;if(this.eat(EqualsSign)||(negate=this.eat(ExclamationMark))){const kind=lookbehind?"lookbehind":"lookahead";this.onLookaroundAssertionEnter(start,kind,negate);this.consumeDisjunction();if(!this.eat(RightParenthesis)){this.raise("Unterminated group")}this._lastAssertionIsQuantifiable=!lookbehind&&!this.strict;this.onLookaroundAssertionLeave(start,this.index,kind,negate);return true}this.rewind(start)}return false}consumeQuantifier(noConsume=false){const start=this.index;let min=0;let max=0;let greedy=false;if(this.eat(Asterisk)){min=0;max=Number.POSITIVE_INFINITY}else if(this.eat(PlusSign)){min=1;max=Number.POSITIVE_INFINITY}else if(this.eat(QuestionMark)){min=0;max=1}else if(this.eatBracedQuantifier(noConsume)){min=this._lastMinValue;max=this._lastMaxValue}else{return false}greedy=!this.eat(QuestionMark);if(!noConsume){this.onQuantifier(start,this.index,min,max,greedy)}return true}eatBracedQuantifier(noError){const start=this.index;if(this.eat(LeftCurlyBracket)){this._lastMinValue=0;this._lastMaxValue=Number.POSITIVE_INFINITY;if(this.eatDecimalDigits()){this._lastMinValue=this._lastMaxValue=this._lastIntValue;if(this.eat(Comma)){this._lastMaxValue=this.eatDecimalDigits()?this._lastIntValue:Number.POSITIVE_INFINITY}if(this.eat(RightCurlyBracket)){if(!noError&&this._lastMaxValue<this._lastMinValue){this.raise("numbers out of order in {} quantifier")}return true}}if(!noError&&(this._uFlag||this.strict)){this.raise("Incomplete quantifier")}this.rewind(start)}return false}consumeAtom(){return this.consumePatternCharacter()||this.consumeDot()||this.consumeReverseSolidusAtomEscape()||this.consumeCharacterClass()||this.consumeUncapturingGroup()||this.consumeCapturingGroup()}consumeDot(){if(this.eat(FullStop)){this.onAnyCharacterSet(this.index-1,this.index,"any");return true}return false}consumeReverseSolidusAtomEscape(){const start=this.index;if(this.eat(ReverseSolidus)){if(this.consumeAtomEscape()){return true}this.rewind(start)}return false}consumeUncapturingGroup(){const start=this.index;if(this.eat3(LeftParenthesis,QuestionMark,Colon)){this.onGroupEnter(start);this.consumeDisjunction();if(!this.eat(RightParenthesis)){this.raise("Unterminated group")}this.onGroupLeave(start,this.index);return true}return false}consumeCapturingGroup(){const start=this.index;if(this.eat(LeftParenthesis)){let name=null;if(this.ecmaVersion>=2018){if(this.consumeGroupSpecifier()){name=this._lastStrValue}}else if(this.currentCodePoint===QuestionMark){this.raise("Invalid group")}this.onCapturingGroupEnter(start,name);this.consumeDisjunction();if(!this.eat(RightParenthesis)){this.raise("Unterminated group")}this.onCapturingGroupLeave(start,this.index,name);return true}return false}consumeExtendedAtom(){return this.consumeDot()||this.consumeReverseSolidusAtomEscape()||this.consumeReverseSolidusFollowedByC()||this.consumeCharacterClass()||this.consumeUncapturingGroup()||this.consumeCapturingGroup()||this.consumeInvalidBracedQuantifier()||this.consumeExtendedPatternCharacter()}consumeReverseSolidusFollowedByC(){const start=this.index;if(this.currentCodePoint===ReverseSolidus&&this.nextCodePoint===LatinSmallLetterC){this._lastIntValue=this.currentCodePoint;this.advance();this.onCharacter(start,this.index,ReverseSolidus);return true}return false}consumeInvalidBracedQuantifier(){if(this.eatBracedQuantifier(true)){this.raise("Nothing to repeat")}return false}consumePatternCharacter(){const start=this.index;const cp=this.currentCodePoint;if(cp!==-1&&!isSyntaxCharacter(cp)){this.advance();this.onCharacter(start,this.index,cp);return true}return false}consumeExtendedPatternCharacter(){const start=this.index;const cp=this.currentCodePoint;if(cp!==-1&&cp!==CircumflexAccent&&cp!==DollarSign&&cp!==ReverseSolidus&&cp!==FullStop&&cp!==Asterisk&&cp!==PlusSign&&cp!==QuestionMark&&cp!==LeftParenthesis&&cp!==RightParenthesis&&cp!==LeftSquareBracket&&cp!==VerticalLine){this.advance();this.onCharacter(start,this.index,cp);return true}return false}consumeGroupSpecifier(){if(this.eat(QuestionMark)){if(this.eatGroupName()){if(!this._groupNames.has(this._lastStrValue)){this._groupNames.add(this._lastStrValue);return true}this.raise("Duplicate capture group name")}this.raise("Invalid group")}return false}consumeAtomEscape(){if(this.consumeBackreference()||this.consumeCharacterClassEscape()||this.consumeCharacterEscape()||this._nFlag&&this.consumeKGroupName()){return true}if(this.strict||this._uFlag){this.raise("Invalid escape")}return false}consumeBackreference(){const start=this.index;if(this.eatDecimalEscape()){const n=this._lastIntValue;if(n<=this._numCapturingParens){this.onBackreference(start-1,this.index,n);return true}if(this.strict||this._uFlag){this.raise("Invalid escape")}this.rewind(start)}return false}consumeCharacterClassEscape(){const start=this.index;if(this.eat(LatinSmallLetterD)){this._lastIntValue=-1;this.onEscapeCharacterSet(start-1,this.index,"digit",false);return true}if(this.eat(LatinCapitalLetterD)){this._lastIntValue=-1;this.onEscapeCharacterSet(start-1,this.index,"digit",true);return true}if(this.eat(LatinSmallLetterS)){this._lastIntValue=-1;this.onEscapeCharacterSet(start-1,this.index,"space",false);return true}if(this.eat(LatinCapitalLetterS)){this._lastIntValue=-1;this.onEscapeCharacterSet(start-1,this.index,"space",true);return true}if(this.eat(LatinSmallLetterW)){this._lastIntValue=-1;this.onEscapeCharacterSet(start-1,this.index,"word",false);return true}if(this.eat(LatinCapitalLetterW)){this._lastIntValue=-1;this.onEscapeCharacterSet(start-1,this.index,"word",true);return true}let negate=false;if(this._uFlag&&this.ecmaVersion>=2018&&(this.eat(LatinSmallLetterP)||(negate=this.eat(LatinCapitalLetterP)))){this._lastIntValue=-1;if(this.eat(LeftCurlyBracket)&&this.eatUnicodePropertyValueExpression()&&this.eat(RightCurlyBracket)){this.onUnicodePropertyCharacterSet(start-1,this.index,"property",this._lastKeyValue,this._lastValValue||null,negate);return true}this.raise("Invalid property name")}return false}consumeCharacterEscape(){const start=this.index;if(this.eatControlEscape()||this.eatCControlLetter()||this.eatZero()||this.eatHexEscapeSequence()||this.eatRegExpUnicodeEscapeSequence()||!this.strict&&!this._uFlag&&this.eatLegacyOctalEscapeSequence()||this.eatIdentityEscape()){this.onCharacter(start-1,this.index,this._lastIntValue);return true}return false}consumeKGroupName(){const start=this.index;if(this.eat(LatinSmallLetterK)){if(this.eatGroupName()){const groupName=this._lastStrValue;this._backreferenceNames.add(groupName);this.onBackreference(start-1,this.index,groupName);return true}this.raise("Invalid named reference")}return false}consumeCharacterClass(){const start=this.index;if(this.eat(LeftSquareBracket)){const negate=this.eat(CircumflexAccent);this.onCharacterClassEnter(start,negate);this.consumeClassRanges();if(!this.eat(RightSquareBracket)){this.raise("Unterminated character class")}this.onCharacterClassLeave(start,this.index,negate);return true}return false}consumeClassRanges(){const strict=this.strict||this._uFlag;for(;;){const rangeStart=this.index;if(!this.consumeClassAtom()){break}const min=this._lastIntValue;if(!this.eat(HyphenMinus)){continue}this.onCharacter(this.index-1,this.index,HyphenMinus);if(!this.consumeClassAtom()){break}const max=this._lastIntValue;if(min===-1||max===-1){if(strict){this.raise("Invalid character class")}continue}if(min>max){this.raise("Range out of order in character class")}this.onCharacterClassRange(rangeStart,this.index,min,max)}}consumeClassAtom(){const start=this.index;const cp=this.currentCodePoint;if(cp!==-1&&cp!==ReverseSolidus&&cp!==RightSquareBracket){this.advance();this._lastIntValue=cp;this.onCharacter(start,this.index,this._lastIntValue);return true}if(this.eat(ReverseSolidus)){if(this.consumeClassEscape()){return true}if(!this.strict&&this.currentCodePoint===LatinSmallLetterC){this._lastIntValue=ReverseSolidus;this.onCharacter(start,this.index,this._lastIntValue);return true}if(this.strict||this._uFlag){this.raise("Invalid escape")}this.rewind(start)}return false}consumeClassEscape(){const start=this.index;if(this.eat(LatinSmallLetterB)){this._lastIntValue=Backspace;this.onCharacter(start-1,this.index,this._lastIntValue);return true}if(this._uFlag&&this.eat(HyphenMinus)){this._lastIntValue=HyphenMinus;this.onCharacter(start-1,this.index,this._lastIntValue);return true}let cp=0;if(!this.strict&&!this._uFlag&&this.currentCodePoint===LatinSmallLetterC&&(isDecimalDigit(cp=this.nextCodePoint)||cp===LowLine)){this.advance();this.advance();this._lastIntValue=cp%32;this.onCharacter(start-1,this.index,this._lastIntValue);return true}return this.consumeCharacterClassEscape()||this.consumeCharacterEscape()}eatGroupName(){if(this.eat(LessThanSign)){if(this.eatRegExpIdentifierName()&&this.eat(GreaterThanSign)){return true}this.raise("Invalid capture group name")}return false}eatRegExpIdentifierName(){if(this.eatRegExpIdentifierStart()){this._lastStrValue=String.fromCodePoint(this._lastIntValue);while(this.eatRegExpIdentifierPart()){this._lastStrValue+=String.fromCodePoint(this._lastIntValue)}return true}return false}eatRegExpIdentifierStart(){const start=this.index;const forceUFlag=!this._uFlag&&this.ecmaVersion>=2020;let cp=this.currentCodePoint;this.advance();if(cp===ReverseSolidus&&this.eatRegExpUnicodeEscapeSequence(forceUFlag)){cp=this._lastIntValue}else if(forceUFlag&&isLeadSurrogate(cp)&&isTrailSurrogate(this.currentCodePoint)){cp=combineSurrogatePair(cp,this.currentCodePoint);this.advance()}if(isRegExpIdentifierStart(cp)){this._lastIntValue=cp;return true}if(this.index!==start){this.rewind(start)}return false}eatRegExpIdentifierPart(){const start=this.index;const forceUFlag=!this._uFlag&&this.ecmaVersion>=2020;let cp=this.currentCodePoint;this.advance();if(cp===ReverseSolidus&&this.eatRegExpUnicodeEscapeSequence(forceUFlag)){cp=this._lastIntValue}else if(forceUFlag&&isLeadSurrogate(cp)&&isTrailSurrogate(this.currentCodePoint)){cp=combineSurrogatePair(cp,this.currentCodePoint);this.advance()}if(isRegExpIdentifierPart(cp)){this._lastIntValue=cp;return true}if(this.index!==start){this.rewind(start)}return false}eatCControlLetter(){const start=this.index;if(this.eat(LatinSmallLetterC)){if(this.eatControlLetter()){return true}this.rewind(start)}return false}eatZero(){if(this.currentCodePoint===DigitZero&&!isDecimalDigit(this.nextCodePoint)){this._lastIntValue=0;this.advance();return true}return false}eatControlEscape(){if(this.eat(LatinSmallLetterF)){this._lastIntValue=FormFeed;return true}if(this.eat(LatinSmallLetterN)){this._lastIntValue=LineFeed;return true}if(this.eat(LatinSmallLetterR)){this._lastIntValue=CarriageReturn;return true}if(this.eat(LatinSmallLetterT)){this._lastIntValue=CharacterTabulation;return true}if(this.eat(LatinSmallLetterV)){this._lastIntValue=LineTabulation;return true}return false}eatControlLetter(){const cp=this.currentCodePoint;if(isLatinLetter(cp)){this.advance();this._lastIntValue=cp%32;return true}return false}eatRegExpUnicodeEscapeSequence(forceUFlag=false){const start=this.index;const uFlag=forceUFlag||this._uFlag;if(this.eat(LatinSmallLetterU)){if(uFlag&&this.eatRegExpUnicodeSurrogatePairEscape()||this.eatFixedHexDigits(4)||uFlag&&this.eatRegExpUnicodeCodePointEscape()){return true}if(this.strict||uFlag){this.raise("Invalid unicode escape")}this.rewind(start)}return false}eatRegExpUnicodeSurrogatePairEscape(){const start=this.index;if(this.eatFixedHexDigits(4)){const lead=this._lastIntValue;if(isLeadSurrogate(lead)&&this.eat(ReverseSolidus)&&this.eat(LatinSmallLetterU)&&this.eatFixedHexDigits(4)){const trail=this._lastIntValue;if(isTrailSurrogate(trail)){this._lastIntValue=combineSurrogatePair(lead,trail);return true}}this.rewind(start)}return false}eatRegExpUnicodeCodePointEscape(){const start=this.index;if(this.eat(LeftCurlyBracket)&&this.eatHexDigits()&&this.eat(RightCurlyBracket)&&isValidUnicode(this._lastIntValue)){return true}this.rewind(start);return false}eatIdentityEscape(){const cp=this.currentCodePoint;if(this.isValidIdentityEscape(cp)){this._lastIntValue=cp;this.advance();return true}return false}isValidIdentityEscape(cp){if(cp===-1){return false}if(this._uFlag){return isSyntaxCharacter(cp)||cp===Solidus}if(this.strict){return!isIdContinue(cp)}if(this._nFlag){return!(cp===LatinSmallLetterC||cp===LatinSmallLetterK)}return cp!==LatinSmallLetterC}eatDecimalEscape(){this._lastIntValue=0;let cp=this.currentCodePoint;if(cp>=DigitOne&&cp<=DigitNine){do{this._lastIntValue=10*this._lastIntValue+(cp-DigitZero);this.advance()}while((cp=this.currentCodePoint)>=DigitZero&&cp<=DigitNine);return true}return false}eatUnicodePropertyValueExpression(){const start=this.index;if(this.eatUnicodePropertyName()&&this.eat(EqualsSign)){this._lastKeyValue=this._lastStrValue;if(this.eatUnicodePropertyValue()){this._lastValValue=this._lastStrValue;if(isValidUnicodeProperty(this.ecmaVersion,this._lastKeyValue,this._lastValValue)){return true}this.raise("Invalid property name")}}this.rewind(start);if(this.eatLoneUnicodePropertyNameOrValue()){const nameOrValue=this._lastStrValue;if(isValidUnicodeProperty(this.ecmaVersion,"General_Category",nameOrValue)){this._lastKeyValue="General_Category";this._lastValValue=nameOrValue;return true}if(isValidLoneUnicodeProperty(this.ecmaVersion,nameOrValue)){this._lastKeyValue=nameOrValue;this._lastValValue="";return true}this.raise("Invalid property name")}return false}eatUnicodePropertyName(){this._lastStrValue="";while(isUnicodePropertyNameCharacter(this.currentCodePoint)){this._lastStrValue+=String.fromCodePoint(this.currentCodePoint);this.advance()}return this._lastStrValue!==""}eatUnicodePropertyValue(){this._lastStrValue="";while(isUnicodePropertyValueCharacter(this.currentCodePoint)){this._lastStrValue+=String.fromCodePoint(this.currentCodePoint);this.advance()}return this._lastStrValue!==""}eatLoneUnicodePropertyNameOrValue(){return this.eatUnicodePropertyValue()}eatHexEscapeSequence(){const start=this.index;if(this.eat(LatinSmallLetterX)){if(this.eatFixedHexDigits(2)){return true}if(this._uFlag||this.strict){this.raise("Invalid escape")}this.rewind(start)}return false}eatDecimalDigits(){const start=this.index;this._lastIntValue=0;while(isDecimalDigit(this.currentCodePoint)){this._lastIntValue=10*this._lastIntValue+digitToInt(this.currentCodePoint);this.advance()}return this.index!==start}eatHexDigits(){const start=this.index;this._lastIntValue=0;while(isHexDigit(this.currentCodePoint)){this._lastIntValue=16*this._lastIntValue+digitToInt(this.currentCodePoint);this.advance()}return this.index!==start}eatLegacyOctalEscapeSequence(){if(this.eatOctalDigit()){const n1=this._lastIntValue;if(this.eatOctalDigit()){const n2=this._lastIntValue;if(n1<=3&&this.eatOctalDigit()){this._lastIntValue=n1*64+n2*8+this._lastIntValue}else{this._lastIntValue=n1*8+n2}}else{this._lastIntValue=n1}return true}return false}eatOctalDigit(){const cp=this.currentCodePoint;if(isOctalDigit(cp)){this.advance();this._lastIntValue=cp-DigitZero;return true}this._lastIntValue=0;return false}eatFixedHexDigits(length){const start=this.index;this._lastIntValue=0;for(let i=0;i<length;++i){const cp=this.currentCodePoint;if(!isHexDigit(cp)){this.rewind(start);return false}this._lastIntValue=16*this._lastIntValue+digitToInt(cp);this.advance()}return true}}const DummyPattern={};const DummyFlags={};const DummyCapturingGroup={};class RegExpParserState{constructor(options){this._node=DummyPattern;this._flags=DummyFlags;this._backreferences=[];this._capturingGroups=[];this.source="";this.strict=Boolean(options&&options.strict);this.ecmaVersion=options&&options.ecmaVersion||2022}get pattern(){if(this._node.type!=="Pattern"){throw new Error("UnknownError")}return this._node}get flags(){if(this._flags.type!=="Flags"){throw new Error("UnknownError")}return this._flags}onFlags(start,end,global,ignoreCase,multiline,unicode,sticky,dotAll,hasIndices){this._flags={type:"Flags",parent:null,start:start,end:end,raw:this.source.slice(start,end),global:global,ignoreCase:ignoreCase,multiline:multiline,unicode:unicode,sticky:sticky,dotAll:dotAll,hasIndices:hasIndices}}onPatternEnter(start){this._node={type:"Pattern",parent:null,start:start,end:start,raw:"",alternatives:[]};this._backreferences.length=0;this._capturingGroups.length=0}onPatternLeave(start,end){this._node.end=end;this._node.raw=this.source.slice(start,end);for(const reference of this._backreferences){const ref=reference.ref;const group=typeof ref==="number"?this._capturingGroups[ref-1]:this._capturingGroups.find((g=>g.name===ref));reference.resolved=group;group.references.push(reference)}}onAlternativeEnter(start){const parent=this._node;if(parent.type!=="Assertion"&&parent.type!=="CapturingGroup"&&parent.type!=="Group"&&parent.type!=="Pattern"){throw new Error("UnknownError")}this._node={type:"Alternative",parent:parent,start:start,end:start,raw:"",elements:[]};parent.alternatives.push(this._node)}onAlternativeLeave(start,end){const node=this._node;if(node.type!=="Alternative"){throw new Error("UnknownError")}node.end=end;node.raw=this.source.slice(start,end);this._node=node.parent}onGroupEnter(start){const parent=this._node;if(parent.type!=="Alternative"){throw new Error("UnknownError")}this._node={type:"Group",parent:parent,start:start,end:start,raw:"",alternatives:[]};parent.elements.push(this._node)}onGroupLeave(start,end){const node=this._node;if(node.type!=="Group"||node.parent.type!=="Alternative"){throw new Error("UnknownError")}node.end=end;node.raw=this.source.slice(start,end);this._node=node.parent}onCapturingGroupEnter(start,name){const parent=this._node;if(parent.type!=="Alternative"){throw new Error("UnknownError")}this._node={type:"CapturingGroup",parent:parent,start:start,end:start,raw:"",name:name,alternatives:[],references:[]};parent.elements.push(this._node);this._capturingGroups.push(this._node)}onCapturingGroupLeave(start,end){const node=this._node;if(node.type!=="CapturingGroup"||node.parent.type!=="Alternative"){throw new Error("UnknownError")}node.end=end;node.raw=this.source.slice(start,end);this._node=node.parent}onQuantifier(start,end,min,max,greedy){const parent=this._node;if(parent.type!=="Alternative"){throw new Error("UnknownError")}const element=parent.elements.pop();if(element==null||element.type==="Quantifier"||element.type==="Assertion"&&element.kind!=="lookahead"){throw new Error("UnknownError")}const node={type:"Quantifier",parent:parent,start:element.start,end:end,raw:this.source.slice(element.start,end),min:min,max:max,greedy:greedy,element:element};parent.elements.push(node);element.parent=node}onLookaroundAssertionEnter(start,kind,negate){const parent=this._node;if(parent.type!=="Alternative"){throw new Error("UnknownError")}const node=this._node={type:"Assertion",parent:parent,start:start,end:start,raw:"",kind:kind,negate:negate,alternatives:[]};parent.elements.push(node)}onLookaroundAssertionLeave(start,end){const node=this._node;if(node.type!=="Assertion"||node.parent.type!=="Alternative"){throw new Error("UnknownError")}node.end=end;node.raw=this.source.slice(start,end);this._node=node.parent}onEdgeAssertion(start,end,kind){const parent=this._node;if(parent.type!=="Alternative"){throw new Error("UnknownError")}parent.elements.push({type:"Assertion",parent:parent,start:start,end:end,raw:this.source.slice(start,end),kind:kind})}onWordBoundaryAssertion(start,end,kind,negate){const parent=this._node;if(parent.type!=="Alternative"){throw new Error("UnknownError")}parent.elements.push({type:"Assertion",parent:parent,start:start,end:end,raw:this.source.slice(start,end),kind:kind,negate:negate})}onAnyCharacterSet(start,end,kind){const parent=this._node;if(parent.type!=="Alternative"){throw new Error("UnknownError")}parent.elements.push({type:"CharacterSet",parent:parent,start:start,end:end,raw:this.source.slice(start,end),kind:kind})}onEscapeCharacterSet(start,end,kind,negate){const parent=this._node;if(parent.type!=="Alternative"&&parent.type!=="CharacterClass"){throw new Error("UnknownError")}parent.elements.push({type:"CharacterSet",parent:parent,start:start,end:end,raw:this.source.slice(start,end),kind:kind,negate:negate})}onUnicodePropertyCharacterSet(start,end,kind,key,value,negate){const parent=this._node;if(parent.type!=="Alternative"&&parent.type!=="CharacterClass"){throw new Error("UnknownError")}parent.elements.push({type:"CharacterSet",parent:parent,start:start,end:end,raw:this.source.slice(start,end),kind:kind,key:key,value:value,negate:negate})}onCharacter(start,end,value){const parent=this._node;if(parent.type!=="Alternative"&&parent.type!=="CharacterClass"){throw new Error("UnknownError")}parent.elements.push({type:"Character",parent:parent,start:start,end:end,raw:this.source.slice(start,end),value:value})}onBackreference(start,end,ref){const parent=this._node;if(parent.type!=="Alternative"){throw new Error("UnknownError")}const node={type:"Backreference",parent:parent,start:start,end:end,raw:this.source.slice(start,end),ref:ref,resolved:DummyCapturingGroup};parent.elements.push(node);this._backreferences.push(node)}onCharacterClassEnter(start,negate){const parent=this._node;if(parent.type!=="Alternative"){throw new Error("UnknownError")}this._node={type:"CharacterClass",parent:parent,start:start,end:start,raw:"",negate:negate,elements:[]};parent.elements.push(this._node)}onCharacterClassLeave(start,end){const node=this._node;if(node.type!=="CharacterClass"||node.parent.type!=="Alternative"){throw new Error("UnknownError")}node.end=end;node.raw=this.source.slice(start,end);this._node=node.parent}onCharacterClassRange(start,end){const parent=this._node;if(parent.type!=="CharacterClass"){throw new Error("UnknownError")}const elements=parent.elements;const max=elements.pop();const hyphen=elements.pop();const min=elements.pop();if(!min||!max||!hyphen||min.type!=="Character"||max.type!=="Character"||hyphen.type!=="Character"||hyphen.value!==HyphenMinus){throw new Error("UnknownError")}const node={type:"CharacterClassRange",parent:parent,start:start,end:end,raw:this.source.slice(start,end),min:min,max:max};min.parent=node;max.parent=node;elements.push(node)}}class RegExpParser{constructor(options){this._state=new RegExpParserState(options);this._validator=new RegExpValidator(this._state)}parseLiteral(source,start=0,end=source.length){this._state.source=source;this._validator.validateLiteral(source,start,end);const pattern=this._state.pattern;const flags=this._state.flags;const literal={type:"RegExpLiteral",parent:null,start:start,end:end,raw:source,pattern:pattern,flags:flags};pattern.parent=literal;flags.parent=literal;return literal}parseFlags(source,start=0,end=source.length){this._state.source=source;this._validator.validateFlags(source,start,end);return this._state.flags}parsePattern(source,start=0,end=source.length,uFlag=false){this._state.source=source;this._validator.validatePattern(source,start,end,uFlag);return this._state.pattern}}class RegExpVisitor{constructor(handlers){this._handlers=handlers}visit(node){switch(node.type){case"Alternative":this.visitAlternative(node);break;case"Assertion":this.visitAssertion(node);break;case"Backreference":this.visitBackreference(node);break;case"CapturingGroup":this.visitCapturingGroup(node);break;case"Character":this.visitCharacter(node);break;case"CharacterClass":this.visitCharacterClass(node);break;case"CharacterClassRange":this.visitCharacterClassRange(node);break;case"CharacterSet":this.visitCharacterSet(node);break;case"Flags":this.visitFlags(node);break;case"Group":this.visitGroup(node);break;case"Pattern":this.visitPattern(node);break;case"Quantifier":this.visitQuantifier(node);break;case"RegExpLiteral":this.visitRegExpLiteral(node);break;default:throw new Error(`Unknown type: ${node.type}`)}}visitAlternative(node){if(this._handlers.onAlternativeEnter){this._handlers.onAlternativeEnter(node)}node.elements.forEach(this.visit,this);if(this._handlers.onAlternativeLeave){this._handlers.onAlternativeLeave(node)}}visitAssertion(node){if(this._handlers.onAssertionEnter){this._handlers.onAssertionEnter(node)}if(node.kind==="lookahead"||node.kind==="lookbehind"){node.alternatives.forEach(this.visit,this)}if(this._handlers.onAssertionLeave){this._handlers.onAssertionLeave(node)}}visitBackreference(node){if(this._handlers.onBackreferenceEnter){this._handlers.onBackreferenceEnter(node)}if(this._handlers.onBackreferenceLeave){this._handlers.onBackreferenceLeave(node)}}visitCapturingGroup(node){if(this._handlers.onCapturingGroupEnter){this._handlers.onCapturingGroupEnter(node)}node.alternatives.forEach(this.visit,this);if(this._handlers.onCapturingGroupLeave){this._handlers.onCapturingGroupLeave(node)}}visitCharacter(node){if(this._handlers.onCharacterEnter){this._handlers.onCharacterEnter(node)}if(this._handlers.onCharacterLeave){this._handlers.onCharacterLeave(node)}}visitCharacterClass(node){if(this._handlers.onCharacterClassEnter){this._handlers.onCharacterClassEnter(node)}node.elements.forEach(this.visit,this);if(this._handlers.onCharacterClassLeave){this._handlers.onCharacterClassLeave(node)}}visitCharacterClassRange(node){if(this._handlers.onCharacterClassRangeEnter){this._handlers.onCharacterClassRangeEnter(node)}this.visitCharacter(node.min);this.visitCharacter(node.max);if(this._handlers.onCharacterClassRangeLeave){this._handlers.onCharacterClassRangeLeave(node)}}visitCharacterSet(node){if(this._handlers.onCharacterSetEnter){this._handlers.onCharacterSetEnter(node)}if(this._handlers.onCharacterSetLeave){this._handlers.onCharacterSetLeave(node)}}visitFlags(node){if(this._handlers.onFlagsEnter){this._handlers.onFlagsEnter(node)}if(this._handlers.onFlagsLeave){this._handlers.onFlagsLeave(node)}}visitGroup(node){if(this._handlers.onGroupEnter){this._handlers.onGroupEnter(node)}node.alternatives.forEach(this.visit,this);if(this._handlers.onGroupLeave){this._handlers.onGroupLeave(node)}}visitPattern(node){if(this._handlers.onPatternEnter){this._handlers.onPatternEnter(node)}node.alternatives.forEach(this.visit,this);if(this._handlers.onPatternLeave){this._handlers.onPatternLeave(node)}}visitQuantifier(node){if(this._handlers.onQuantifierEnter){this._handlers.onQuantifierEnter(node)}this.visit(node.element);if(this._handlers.onQuantifierLeave){this._handlers.onQuantifierLeave(node)}}visitRegExpLiteral(node){if(this._handlers.onRegExpLiteralEnter){this._handlers.onRegExpLiteralEnter(node)}this.visitPattern(node.pattern);this.visitFlags(node.flags);if(this._handlers.onRegExpLiteralLeave){this._handlers.onRegExpLiteralLeave(node)}}}function parseRegExpLiteral(source,options){return new RegExpParser(options).parseLiteral(String(source))}function validateRegExpLiteral(source,options){return new RegExpValidator(options).validateLiteral(source)}function visitRegExpAST(node,handlers){new RegExpVisitor(handlers).visit(node)}regexpp.AST=ast;regexpp.RegExpParser=RegExpParser;regexpp.RegExpValidator=RegExpValidator;regexpp.parseRegExpLiteral=parseRegExpLiteral;regexpp.validateRegExpLiteral=validateRegExpLiteral;regexpp.visitRegExpAST=visitRegExpAST;return regexpp}var noControlRegex;var hasRequiredNoControlRegex;function requireNoControlRegex(){if(hasRequiredNoControlRegex)return noControlRegex;hasRequiredNoControlRegex=1;const RegExpValidator=requireRegexpp().RegExpValidator;const collector=new class{constructor(){this._source="";this._controlChars=[];this._validator=new RegExpValidator(this)}onPatternEnter(){this._controlChars=[]}onCharacter(start,end,cp){if(cp>=0&&cp<=31&&(this._source.codePointAt(start)===cp||this._source.slice(start,end).startsWith("\\x")||this._source.slice(start,end).startsWith("\\u"))){this._controlChars.push(`\\x${`0${cp.toString(16)}`.slice(-2)}`)}}collectControlChars(regexpStr,flags){const uFlag=typeof flags==="string"&&flags.includes("u");try{this._source=regexpStr;this._validator.validatePattern(regexpStr,void 0,void 0,uFlag)}catch{}return this._controlChars}};noControlRegex={meta:{type:"problem",docs:{description:"Disallow control characters in regular expressions",recommended:true,url:"https://eslint.org/docs/rules/no-control-regex"},schema:[],messages:{unexpected:"Unexpected control character(s) in regular expression: {{controlChars}}."}},create(context){function getRegExp(node){if(node.regex){return node.regex}if(typeof node.value==="string"&&(node.parent.type==="NewExpression"||node.parent.type==="CallExpression")&&node.parent.callee.type==="Identifier"&&node.parent.callee.name==="RegExp"&&node.parent.arguments[0]===node){const pattern=node.value;const flags=node.parent.arguments.length>1&&node.parent.arguments[1].type==="Literal"&&typeof node.parent.arguments[1].value==="string"?node.parent.arguments[1].value:null;return{pattern:pattern,flags:flags}}return null}return{Literal(node){const regExp=getRegExp(node);if(regExp){const{pattern:pattern,flags:flags}=regExp;const controlCharacters=collector.collectControlChars(pattern,flags);if(controlCharacters.length>0){context.report({node:node,messageId:"unexpected",data:{controlChars:controlCharacters.join(", ")}})}}}}}};return noControlRegex}var noDebugger;var hasRequiredNoDebugger;function requireNoDebugger(){if(hasRequiredNoDebugger)return noDebugger;hasRequiredNoDebugger=1;noDebugger={meta:{type:"problem",docs:{description:"Disallow the use of `debugger`",recommended:true,url:"https://eslint.org/docs/rules/no-debugger"},fixable:null,schema:[],messages:{unexpected:"Unexpected 'debugger' statement."}},create(context){return{DebuggerStatement(node){context.report({node:node,messageId:"unexpected"})}}}};return noDebugger}var noDeleteVar;var hasRequiredNoDeleteVar;function requireNoDeleteVar(){if(hasRequiredNoDeleteVar)return noDeleteVar;hasRequiredNoDeleteVar=1;noDeleteVar={meta:{type:"suggestion",docs:{description:"Disallow deleting variables",recommended:true,url:"https://eslint.org/docs/rules/no-delete-var"},schema:[],messages:{unexpected:"Variables should not be deleted."}},create(context){return{UnaryExpression(node){if(node.operator==="delete"&&node.argument.type==="Identifier"){context.report({node:node,messageId:"unexpected"})}}}}};return noDeleteVar}var noDivRegex;var hasRequiredNoDivRegex;function requireNoDivRegex(){if(hasRequiredNoDivRegex)return noDivRegex;hasRequiredNoDivRegex=1;noDivRegex={meta:{type:"suggestion",docs:{description:"Disallow division operators explicitly at the beginning of regular expressions",recommended:false,url:"https://eslint.org/docs/rules/no-div-regex"},fixable:"code",schema:[],messages:{unexpected:"A regular expression literal can be confused with '/='."}},create(context){const sourceCode=context.getSourceCode();return{Literal(node){const token=sourceCode.getFirstToken(node);if(token.type==="RegularExpression"&&token.value[1]==="="){context.report({node:node,messageId:"unexpected",fix(fixer){return fixer.replaceTextRange([token.range[0]+1,token.range[0]+2],"[=]")}})}}}}};return noDivRegex}var noDupeArgs;var hasRequiredNoDupeArgs;function requireNoDupeArgs(){if(hasRequiredNoDupeArgs)return noDupeArgs;hasRequiredNoDupeArgs=1;noDupeArgs={meta:{type:"problem",docs:{description:"Disallow duplicate arguments in `function` definitions",recommended:true,url:"https://eslint.org/docs/rules/no-dupe-args"},schema:[],messages:{unexpected:"Duplicate param '{{name}}'."}},create(context){function isParameter(def){return def.type==="Parameter"}function checkParams(node){const variables=context.getDeclaredVariables(node);for(let i=0;i<variables.length;++i){const variable=variables[i];const defs=variable.defs.filter(isParameter);if(defs.length>=2){context.report({node:node,messageId:"unexpected",data:{name:variable.name}})}}}return{FunctionDeclaration:checkParams,FunctionExpression:checkParams}}};return noDupeArgs}var noDupeClassMembers;var hasRequiredNoDupeClassMembers;function requireNoDupeClassMembers(){if(hasRequiredNoDupeClassMembers)return noDupeClassMembers;hasRequiredNoDupeClassMembers=1;const astUtils=requireAstUtils();noDupeClassMembers={meta:{type:"problem",docs:{description:"Disallow duplicate class members",recommended:true,url:"https://eslint.org/docs/rules/no-dupe-class-members"},schema:[],messages:{unexpected:"Duplicate name '{{name}}'."}},create(context){let stack=[];function getState(name,isStatic){const stateMap=stack[stack.length-1];const key=`$${name}`;if(!stateMap[key]){stateMap[key]={nonStatic:{init:false,get:false,set:false},static:{init:false,get:false,set:false}}}return stateMap[key][isStatic?"static":"nonStatic"]}return{Program(){stack=[]},ClassBody(){stack.push(Object.create(null))},"ClassBody:exit"(){stack.pop()},"MethodDefinition, PropertyDefinition"(node){const name=astUtils.getStaticPropertyName(node);const kind=node.type==="MethodDefinition"?node.kind:"field";if(name===null||kind==="constructor"){return}const state=getState(name,node.static);let isDuplicate=false;if(kind==="get"){isDuplicate=state.init||state.get;state.get=true}else if(kind==="set"){isDuplicate=state.init||state.set;state.set=true}else{isDuplicate=state.init||state.get||state.set;state.init=true}if(isDuplicate){context.report({node:node,messageId:"unexpected",data:{name:name}})}}}}};return noDupeClassMembers}var noDupeElseIf;var hasRequiredNoDupeElseIf;function requireNoDupeElseIf(){if(hasRequiredNoDupeElseIf)return noDupeElseIf;hasRequiredNoDupeElseIf=1;const astUtils=requireAstUtils();function isSubsetByComparator(comparator,arrA,arrB){return arrA.every((a=>arrB.some((b=>comparator(a,b)))))}function splitByLogicalOperator(operator,node){if(node.type==="LogicalExpression"&&node.operator===operator){return[...splitByLogicalOperator(operator,node.left),...splitByLogicalOperator(operator,node.right)]}return[node]}const splitByOr=splitByLogicalOperator.bind(null,"||");const splitByAnd=splitByLogicalOperator.bind(null,"&&");noDupeElseIf={meta:{type:"problem",docs:{description:"Disallow duplicate conditions in if-else-if chains",recommended:true,url:"https://eslint.org/docs/rules/no-dupe-else-if"},schema:[],messages:{unexpected:"This branch can never execute. Its condition is a duplicate or covered by previous conditions in the if-else-if chain."}},create(context){const sourceCode=context.getSourceCode();function equal(a,b){if(a.type!==b.type){return false}if(a.type==="LogicalExpression"&&(a.operator==="||"||a.operator==="&&")&&a.operator===b.operator){return equal(a.left,b.left)&&equal(a.right,b.right)||equal(a.left,b.right)&&equal(a.right,b.left)}return astUtils.equalTokens(a,b,sourceCode)}const isSubset=isSubsetByComparator.bind(null,equal);return{IfStatement(node){const test=node.test,conditionsToCheck=test.type==="LogicalExpression"&&test.operator==="&&"?[test,...splitByAnd(test)]:[test];let current=node,listToCheck=conditionsToCheck.map((c=>splitByOr(c).map(splitByAnd)));while(current.parent&&current.parent.type==="IfStatement"&&current.parent.alternate===current){current=current.parent;const currentOrOperands=splitByOr(current.test).map(splitByAnd);listToCheck=listToCheck.map((orOperands=>orOperands.filter((orOperand=>!currentOrOperands.some((currentOrOperand=>isSubset(currentOrOperand,orOperand)))))));if(listToCheck.some((orOperands=>orOperands.length===0))){context.report({node:test,messageId:"unexpected"});break}}}}}};return noDupeElseIf}var noDupeKeys;var hasRequiredNoDupeKeys;function requireNoDupeKeys(){if(hasRequiredNoDupeKeys)return noDupeKeys;hasRequiredNoDupeKeys=1;const astUtils=requireAstUtils();const GET_KIND=/^(?:init|get)$/u;const SET_KIND=/^(?:init|set)$/u;class ObjectInfo{constructor(upper,node){this.upper=upper;this.node=node;this.properties=new Map}getPropertyInfo(node){const name=astUtils.getStaticPropertyName(node);if(!this.properties.has(name)){this.properties.set(name,{get:false,set:false})}return this.properties.get(name)}isPropertyDefined(node){const entry=this.getPropertyInfo(node);return GET_KIND.test(node.kind)&&entry.get||SET_KIND.test(node.kind)&&entry.set}defineProperty(node){const entry=this.getPropertyInfo(node);if(GET_KIND.test(node.kind)){entry.get=true}if(SET_KIND.test(node.kind)){entry.set=true}}}noDupeKeys={meta:{type:"problem",docs:{description:"Disallow duplicate keys in object literals",recommended:true,url:"https://eslint.org/docs/rules/no-dupe-keys"},schema:[],messages:{unexpected:"Duplicate key '{{name}}'."}},create(context){let info=null;return{ObjectExpression(node){info=new ObjectInfo(info,node)},"ObjectExpression:exit"(){info=info.upper},Property(node){const name=astUtils.getStaticPropertyName(node);if(node.parent.type!=="ObjectExpression"){return}if(name===null){return}if(info.isPropertyDefined(node)){context.report({node:info.node,loc:node.key.loc,messageId:"unexpected",data:{name:name}})}info.defineProperty(node)}}}};return noDupeKeys}var noDuplicateCase;var hasRequiredNoDuplicateCase;function requireNoDuplicateCase(){if(hasRequiredNoDuplicateCase)return noDuplicateCase;hasRequiredNoDuplicateCase=1;const astUtils=requireAstUtils();noDuplicateCase={meta:{type:"problem",docs:{description:"Disallow duplicate case labels",recommended:true,url:"https://eslint.org/docs/rules/no-duplicate-case"},schema:[],messages:{unexpected:"Duplicate case label."}},create(context){const sourceCode=context.getSourceCode();function equal(a,b){if(a.type!==b.type){return false}return astUtils.equalTokens(a,b,sourceCode)}return{SwitchStatement(node){const previousTests=[];for(const switchCase of node.cases){if(switchCase.test){const test=switchCase.test;if(previousTests.some((previousTest=>equal(previousTest,test)))){context.report({node:switchCase,messageId:"unexpected"})}else{previousTests.push(test)}}}}}}};return noDuplicateCase}var noDuplicateImports;var hasRequiredNoDuplicateImports;function requireNoDuplicateImports(){if(hasRequiredNoDuplicateImports)return noDuplicateImports;hasRequiredNoDuplicateImports=1;const NAMED_TYPES=["ImportSpecifier","ExportSpecifier"];const NAMESPACE_TYPES=["ImportNamespaceSpecifier","ExportNamespaceSpecifier"];function isImportExportSpecifier(importExportType,type){const arrayToCheck=type==="named"?NAMED_TYPES:NAMESPACE_TYPES;return arrayToCheck.includes(importExportType)}function getImportExportType(node){if(node.specifiers&&node.specifiers.length>0){const nodeSpecifiers=node.specifiers;const index=nodeSpecifiers.findIndex((({type:type})=>isImportExportSpecifier(type,"named")||isImportExportSpecifier(type,"namespace")));const i=index>-1?index:0;return nodeSpecifiers[i].type}if(node.type==="ExportAllDeclaration"){if(node.exported){return"ExportNamespaceSpecifier"}return"ExportAll"}return"SideEffectImport"}function isImportExportCanBeMerged(node1,node2){const importExportType1=getImportExportType(node1);const importExportType2=getImportExportType(node2);if(importExportType1==="ExportAll"&&importExportType2!=="ExportAll"&&importExportType2!=="SideEffectImport"||importExportType1!=="ExportAll"&&importExportType1!=="SideEffectImport"&&importExportType2==="ExportAll"){return false}if(isImportExportSpecifier(importExportType1,"namespace")&&isImportExportSpecifier(importExportType2,"named")||isImportExportSpecifier(importExportType2,"namespace")&&isImportExportSpecifier(importExportType1,"named")){return false}return true}function shouldReportImportExport(node,previousNodes){let i=0;while(i<previousNodes.length){if(isImportExportCanBeMerged(node,previousNodes[i])){return true}i++}return false}function getNodesByDeclarationType(nodes,type){return nodes.filter((({declarationType:declarationType})=>declarationType===type)).map((({node:node})=>node))}function getModule(node){if(node&&node.source&&node.source.value){return node.source.value.trim()}return""}function checkAndReport(context,node,modules,declarationType,includeExports){const module=getModule(node);if(modules.has(module)){const previousNodes=modules.get(module);const messagesIds=[];const importNodes=getNodesByDeclarationType(previousNodes,"import");let exportNodes;if(includeExports){exportNodes=getNodesByDeclarationType(previousNodes,"export")}if(declarationType==="import"){if(shouldReportImportExport(node,importNodes)){messagesIds.push("import")}if(includeExports){if(shouldReportImportExport(node,exportNodes)){messagesIds.push("importAs")}}}else if(declarationType==="export"){if(shouldReportImportExport(node,exportNodes)){messagesIds.push("export")}if(shouldReportImportExport(node,importNodes)){messagesIds.push("exportAs")}}messagesIds.forEach((messageId=>context.report({node:node,messageId:messageId,data:{module:module}})))}}function handleImportsExports(context,modules,declarationType,includeExports){return function(node){const module=getModule(node);if(module){checkAndReport(context,node,modules,declarationType,includeExports);const currentNode={node:node,declarationType:declarationType};let nodes=[currentNode];if(modules.has(module)){const previousNodes=modules.get(module);nodes=[...previousNodes,currentNode]}modules.set(module,nodes)}}}noDuplicateImports={meta:{type:"problem",docs:{description:"Disallow duplicate module imports",recommended:false,url:"https://eslint.org/docs/rules/no-duplicate-imports"},schema:[{type:"object",properties:{includeExports:{type:"boolean",default:false}},additionalProperties:false}],messages:{import:"'{{module}}' import is duplicated.",importAs:"'{{module}}' import is duplicated as export.",export:"'{{module}}' export is duplicated.",exportAs:"'{{module}}' export is duplicated as import."}},create(context){const includeExports=(context.options[0]||{}).includeExports,modules=new Map;const handlers={ImportDeclaration:handleImportsExports(context,modules,"import",includeExports)};if(includeExports){handlers.ExportNamedDeclaration=handleImportsExports(context,modules,"export",includeExports);handlers.ExportAllDeclaration=handleImportsExports(context,modules,"export",includeExports)}return handlers}};return noDuplicateImports}var fixTracker;var hasRequiredFixTracker;function requireFixTracker(){if(hasRequiredFixTracker)return fixTracker;hasRequiredFixTracker=1;const astUtils=requireAstUtils();class FixTracker{constructor(fixer,sourceCode){this.fixer=fixer;this.sourceCode=sourceCode;this.retainedRange=null}retainRange(range){this.retainedRange=range;return this}retainEnclosingFunction(node){const functionNode=astUtils.getUpperFunction(node);return this.retainRange(functionNode?functionNode.range:this.sourceCode.ast.range)}retainSurroundingTokens(nodeOrToken){const tokenBefore=this.sourceCode.getTokenBefore(nodeOrToken)||nodeOrToken;const tokenAfter=this.sourceCode.getTokenAfter(nodeOrToken)||nodeOrToken;return this.retainRange([tokenBefore.range[0],tokenAfter.range[1]])}replaceTextRange(range,text){let actualRange;if(this.retainedRange){actualRange=[Math.min(this.retainedRange[0],range[0]),Math.max(this.retainedRange[1],range[1])]}else{actualRange=range}return this.fixer.replaceTextRange(actualRange,this.sourceCode.text.slice(actualRange[0],range[0])+text+this.sourceCode.text.slice(range[1],actualRange[1]))}remove(nodeOrToken){return this.replaceTextRange(nodeOrToken.range,"")}}fixTracker=FixTracker;return fixTracker}var noElseReturn;var hasRequiredNoElseReturn;function requireNoElseReturn(){if(hasRequiredNoElseReturn)return noElseReturn;hasRequiredNoElseReturn=1;const astUtils=requireAstUtils();const FixTracker=requireFixTracker();noElseReturn={meta:{type:"suggestion",docs:{description:"Disallow `else` blocks after `return` statements in `if` statements",recommended:false,url:"https://eslint.org/docs/rules/no-else-return"},schema:[{type:"object",properties:{allowElseIf:{type:"boolean",default:true}},additionalProperties:false}],fixable:"code",messages:{unexpected:"Unnecessary 'else' after 'return'."}},create(context){function isSafeToDeclare(names,scope){if(names.length===0){return true}const functionScope=scope.variableScope;const declaredVariables=scope.variables.filter((({defs:defs})=>defs.length>0));if(declaredVariables.some((({name:name})=>names.includes(name)))){return false}if(scope!==functionScope&&scope.upper.type==="catch"){if(scope.upper.variables.some((({name:name})=>names.includes(name)))){return false}}const usedImplicitVariables=scope.variables.filter((({defs:defs,references:references})=>defs.length===0&&references.length>0));if(usedImplicitVariables.some((({name:name})=>names.includes(name)))){return false}if(scope.through.some((t=>names.includes(t.identifier.name)))){return false}if(scope!==functionScope){const scopeNodeRange=scope.block.range;const variablesToCheck=functionScope.variables.filter((({name:name})=>names.includes(name)));if(variablesToCheck.some((v=>v.defs.some((({node:{range:range}})=>scopeNodeRange[0]<=range[0]&&range[1]<=scopeNodeRange[1]))))){return false}}return true}function isSafeFromNameCollisions(node,scope){if(node.type==="FunctionDeclaration"){return false}if(node.type!=="BlockStatement"){return true}const elseBlockScope=scope.childScopes.find((({block:block})=>block===node));if(!elseBlockScope){return true}const namesToCheck=elseBlockScope.variables.map((({name:name})=>name));return isSafeToDeclare(namesToCheck,scope)}function displayReport(node){const currentScope=context.getScope();context.report({node:node,messageId:"unexpected",fix:fixer=>{if(!isSafeFromNameCollisions(node,currentScope)){return null}const sourceCode=context.getSourceCode();const startToken=sourceCode.getFirstToken(node);const elseToken=sourceCode.getTokenBefore(startToken);const source=sourceCode.getText(node);const lastIfToken=sourceCode.getTokenBefore(elseToken);let fixedSource,firstTokenOfElseBlock;if(startToken.type==="Punctuator"&&startToken.value==="{"){firstTokenOfElseBlock=sourceCode.getTokenAfter(startToken)}else{firstTokenOfElseBlock=startToken}const ifBlockMaybeUnsafe=node.parent.consequent.type!=="BlockStatement"&&lastIfToken.value!==";";const elseBlockUnsafe=/^[([/+`-]/u.test(firstTokenOfElseBlock.value);if(ifBlockMaybeUnsafe&&elseBlockUnsafe){return null}const endToken=sourceCode.getLastToken(node);const lastTokenOfElseBlock=sourceCode.getTokenBefore(endToken);if(lastTokenOfElseBlock.value!==";"){const nextToken=sourceCode.getTokenAfter(endToken);const nextTokenUnsafe=nextToken&&/^[([/+`-]/u.test(nextToken.value);const nextTokenOnSameLine=nextToken&&nextToken.loc.start.line===lastTokenOfElseBlock.loc.start.line;if(nextTokenUnsafe||nextTokenOnSameLine&&nextToken.value!=="}"){return null}}if(startToken.type==="Punctuator"&&startToken.value==="{"){fixedSource=source.slice(1,-1)}else{fixedSource=source}return new FixTracker(fixer,sourceCode).retainEnclosingFunction(node).replaceTextRange([elseToken.range[0],node.range[1]],fixedSource)}})}function checkForReturn(node){return node.type==="ReturnStatement"}function naiveHasReturn(node){if(node.type==="BlockStatement"){const body=node.body,lastChildNode=body[body.length-1];return lastChildNode&&checkForReturn(lastChildNode)}return checkForReturn(node)}function hasElse(node){return node.alternate&&node.consequent}function checkForIf(node){return node.type==="IfStatement"&&hasElse(node)&&naiveHasReturn(node.alternate)&&naiveHasReturn(node.consequent)}function checkForReturnOrIf(node){return checkForReturn(node)||checkForIf(node)}function alwaysReturns(node){if(node.type==="BlockStatement"){return node.body.some(checkForReturnOrIf)}return checkForReturnOrIf(node)}function checkIfWithoutElse(node){const parent=node.parent;if(!astUtils.STATEMENT_LIST_PARENTS.has(parent.type)){return}const consequents=[];let alternate;for(let currentNode=node;currentNode.type==="IfStatement";currentNode=currentNode.alternate){if(!currentNode.alternate){return}consequents.push(currentNode.consequent);alternate=currentNode.alternate}if(consequents.every(alwaysReturns)){displayReport(alternate)}}function checkIfWithElse(node){const parent=node.parent;if(!astUtils.STATEMENT_LIST_PARENTS.has(parent.type)){return}const alternate=node.alternate;if(alternate&&alwaysReturns(node.consequent)){displayReport(alternate)}}const allowElseIf=!(context.options[0]&&context.options[0].allowElseIf===false);return{"IfStatement:exit":allowElseIf?checkIfWithoutElse:checkIfWithElse}}};return noElseReturn}var noEmpty;var hasRequiredNoEmpty;function requireNoEmpty(){if(hasRequiredNoEmpty)return noEmpty;hasRequiredNoEmpty=1;const astUtils=requireAstUtils();noEmpty={meta:{hasSuggestions:true,type:"suggestion",docs:{description:"Disallow empty block statements",recommended:true,url:"https://eslint.org/docs/rules/no-empty"},schema:[{type:"object",properties:{allowEmptyCatch:{type:"boolean",default:false}},additionalProperties:false}],messages:{unexpected:"Empty {{type}} statement.",suggestComment:"Add comment inside empty {{type}} statement."}},create(context){const options=context.options[0]||{},allowEmptyCatch=options.allowEmptyCatch||false;const sourceCode=context.getSourceCode();return{BlockStatement(node){if(node.body.length!==0){return}if(astUtils.isFunction(node.parent)){return}if(allowEmptyCatch&&node.parent.type==="CatchClause"){return}if(sourceCode.getCommentsInside(node).length>0){return}context.report({node:node,messageId:"unexpected",data:{type:"block"},suggest:[{messageId:"suggestComment",data:{type:"block"},fix(fixer){const range=[node.range[0]+1,node.range[1]-1];return fixer.replaceTextRange(range," /* empty */ ")}}]})},SwitchStatement(node){if(typeof node.cases==="undefined"||node.cases.length===0){context.report({node:node,messageId:"unexpected",data:{type:"switch"}})}}}}};return noEmpty}var noEmptyCharacterClass;var hasRequiredNoEmptyCharacterClass;function requireNoEmptyCharacterClass(){if(hasRequiredNoEmptyCharacterClass)return noEmptyCharacterClass;hasRequiredNoEmptyCharacterClass=1;const regex=/^([^\\[]|\\.|\[([^\\\]]|\\.)+\])*$/u;noEmptyCharacterClass={meta:{type:"problem",docs:{description:"Disallow empty character classes in regular expressions",recommended:true,url:"https://eslint.org/docs/rules/no-empty-character-class"},schema:[],messages:{unexpected:"Empty class."}},create(context){return{"Literal[regex]"(node){if(!regex.test(node.regex.pattern)){context.report({node:node,messageId:"unexpected"})}}}}};return noEmptyCharacterClass}var noEmptyFunction;var hasRequiredNoEmptyFunction;function requireNoEmptyFunction(){if(hasRequiredNoEmptyFunction)return noEmptyFunction;hasRequiredNoEmptyFunction=1;const astUtils=requireAstUtils();const ALLOW_OPTIONS=Object.freeze(["functions","arrowFunctions","generatorFunctions","methods","generatorMethods","getters","setters","constructors","asyncFunctions","asyncMethods"]);function getKind(node){const parent=node.parent;let kind="";if(node.type==="ArrowFunctionExpression"){return"arrowFunctions"}if(parent.type==="Property"){if(parent.kind==="get"){return"getters"}if(parent.kind==="set"){return"setters"}kind=parent.method?"methods":"functions"}else if(parent.type==="MethodDefinition"){if(parent.kind==="get"){return"getters"}if(parent.kind==="set"){return"setters"}if(parent.kind==="constructor"){return"constructors"}kind="methods"}else{kind="functions"}let prefix="";if(node.generator){prefix="generator"}else if(node.async){prefix="async"}else{return kind}return prefix+kind[0].toUpperCase()+kind.slice(1)}noEmptyFunction={meta:{type:"suggestion",docs:{description:"Disallow empty functions",recommended:false,url:"https://eslint.org/docs/rules/no-empty-function"},schema:[{type:"object",properties:{allow:{type:"array",items:{enum:ALLOW_OPTIONS},uniqueItems:true}},additionalProperties:false}],messages:{unexpected:"Unexpected empty {{name}}."}},create(context){const options=context.options[0]||{};const allowed=options.allow||[];const sourceCode=context.getSourceCode();function reportIfEmpty(node){const kind=getKind(node);const name=astUtils.getFunctionNameWithKind(node);const innerComments=sourceCode.getTokens(node.body,{includeComments:true,filter:astUtils.isCommentToken});if(!allowed.includes(kind)&&node.body.type==="BlockStatement"&&node.body.body.length===0&&innerComments.length===0){context.report({node:node,loc:node.body.loc,messageId:"unexpected",data:{name:name}})}}return{ArrowFunctionExpression:reportIfEmpty,FunctionDeclaration:reportIfEmpty,FunctionExpression:reportIfEmpty}}};return noEmptyFunction}var noEmptyPattern;var hasRequiredNoEmptyPattern;function requireNoEmptyPattern(){if(hasRequiredNoEmptyPattern)return noEmptyPattern;hasRequiredNoEmptyPattern=1;noEmptyPattern={meta:{type:"problem",docs:{description:"Disallow empty destructuring patterns",recommended:true,url:"https://eslint.org/docs/rules/no-empty-pattern"},schema:[],messages:{unexpected:"Unexpected empty {{type}} pattern."}},create(context){return{ObjectPattern(node){if(node.properties.length===0){context.report({node:node,messageId:"unexpected",data:{type:"object"}})}},ArrayPattern(node){if(node.elements.length===0){context.report({node:node,messageId:"unexpected",data:{type:"array"}})}}}}};return noEmptyPattern}var noEmptyStaticBlock;var hasRequiredNoEmptyStaticBlock;function requireNoEmptyStaticBlock(){if(hasRequiredNoEmptyStaticBlock)return noEmptyStaticBlock;hasRequiredNoEmptyStaticBlock=1;noEmptyStaticBlock={meta:{type:"suggestion",docs:{description:"Disallow empty static blocks",recommended:false,url:"https://eslint.org/docs/rules/no-empty-static-block"},schema:[],messages:{unexpected:"Unexpected empty static block."}},create(context){const sourceCode=context.getSourceCode();return{StaticBlock(node){if(node.body.length===0){const closingBrace=sourceCode.getLastToken(node);if(sourceCode.getCommentsBefore(closingBrace).length===0){context.report({node:node,messageId:"unexpected"})}}}}}};return noEmptyStaticBlock}var noEqNull;var hasRequiredNoEqNull;function requireNoEqNull(){if(hasRequiredNoEqNull)return noEqNull;hasRequiredNoEqNull=1;noEqNull={meta:{type:"suggestion",docs:{description:"Disallow `null` comparisons without type-checking operators",recommended:false,url:"https://eslint.org/docs/rules/no-eq-null"},schema:[],messages:{unexpected:"Use '===' to compare with null."}},create(context){return{BinaryExpression(node){const badOperator=node.operator==="=="||node.operator==="!=";if(node.right.type==="Literal"&&node.right.raw==="null"&&badOperator||node.left.type==="Literal"&&node.left.raw==="null"&&badOperator){context.report({node:node,messageId:"unexpected"})}}}}};return noEqNull}var noEval;var hasRequiredNoEval;function requireNoEval(){if(hasRequiredNoEval)return noEval;hasRequiredNoEval=1;const astUtils=requireAstUtils();const candidatesOfGlobalObject=Object.freeze(["global","window","globalThis"]);function isMember(node,name){return astUtils.isSpecificMemberAccess(node,null,name)}noEval={meta:{type:"suggestion",docs:{description:"Disallow the use of `eval()`",recommended:false,url:"https://eslint.org/docs/rules/no-eval"},schema:[{type:"object",properties:{allowIndirect:{type:"boolean",default:false}},additionalProperties:false}],messages:{unexpected:"eval can be harmful."}},create(context){const allowIndirect=Boolean(context.options[0]&&context.options[0].allowIndirect);const sourceCode=context.getSourceCode();let funcInfo=null;function enterThisScope(node){const strict=context.getScope().isStrict;funcInfo={upper:funcInfo,node:node,strict:strict,isTopLevelOfScript:false,defaultThis:false,initialized:strict}}function exitThisScope(){funcInfo=funcInfo.upper}function report(node){const parent=node.parent;const locationNode=node.type==="MemberExpression"?node.property:node;const reportNode=parent.type==="CallExpression"&&parent.callee===node?parent:node;context.report({node:reportNode,loc:locationNode.loc,messageId:"unexpected"})}function reportAccessingEvalViaGlobalObject(globalScope){for(let i=0;i<candidatesOfGlobalObject.length;++i){const name=candidatesOfGlobalObject[i];const variable=astUtils.getVariableByName(globalScope,name);if(!variable){continue}const references=variable.references;for(let j=0;j<references.length;++j){const identifier=references[j].identifier;let node=identifier.parent;while(isMember(node,name)){node=node.parent}if(isMember(node,"eval")){report(node)}}}}function reportAccessingEval(globalScope){const variable=astUtils.getVariableByName(globalScope,"eval");if(!variable){return}const references=variable.references;for(let i=0;i<references.length;++i){const reference=references[i];const id=reference.identifier;if(id.name==="eval"&&!astUtils.isCallee(id)){report(id)}}}if(allowIndirect){return{"CallExpression:exit"(node){const callee=node.callee;if(!node.optional&&astUtils.isSpecificId(callee,"eval")){report(callee)}}}}return{"CallExpression:exit"(node){const callee=node.callee;if(astUtils.isSpecificId(callee,"eval")){report(callee)}},Program(node){const scope=context.getScope(),features=context.parserOptions.ecmaFeatures||{},strict=scope.isStrict||node.sourceType==="module"||features.globalReturn&&scope.childScopes[0].isStrict,isTopLevelOfScript=node.sourceType!=="module"&&!features.globalReturn;funcInfo={upper:null,node:node,strict:strict,isTopLevelOfScript:isTopLevelOfScript,defaultThis:true,initialized:true}},"Program:exit"(){const globalScope=context.getScope();exitThisScope();reportAccessingEval(globalScope);reportAccessingEvalViaGlobalObject(globalScope)},FunctionDeclaration:enterThisScope,"FunctionDeclaration:exit":exitThisScope,FunctionExpression:enterThisScope,"FunctionExpression:exit":exitThisScope,"PropertyDefinition > *.value":enterThisScope,"PropertyDefinition > *.value:exit":exitThisScope,StaticBlock:enterThisScope,"StaticBlock:exit":exitThisScope,ThisExpression(node){if(!isMember(node.parent,"eval")){return}if(!funcInfo.initialized){funcInfo.initialized=true;funcInfo.defaultThis=astUtils.isDefaultThisBinding(funcInfo.node,sourceCode)}if(funcInfo.isTopLevelOfScript||!funcInfo.strict&&funcInfo.defaultThis){report(node.parent)}}}}};return noEval}var noExAssign;var hasRequiredNoExAssign;function requireNoExAssign(){if(hasRequiredNoExAssign)return noExAssign;hasRequiredNoExAssign=1;const astUtils=requireAstUtils();noExAssign={meta:{type:"problem",docs:{description:"Disallow reassigning exceptions in `catch` clauses",recommended:true,url:"https://eslint.org/docs/rules/no-ex-assign"},schema:[],messages:{unexpected:"Do not assign to the exception parameter."}},create(context){function checkVariable(variable){astUtils.getModifyingReferences(variable.references).forEach((reference=>{context.report({node:reference.identifier,messageId:"unexpected"})}))}return{CatchClause(node){context.getDeclaredVariables(node).forEach(checkVariable)}}}};return noExAssign}var noExtendNative;var hasRequiredNoExtendNative;function requireNoExtendNative(){if(hasRequiredNoExtendNative)return noExtendNative;hasRequiredNoExtendNative=1;const astUtils=requireAstUtils();const globals=requireGlobals$1();noExtendNative={meta:{type:"suggestion",docs:{description:"Disallow extending native types",recommended:false,url:"https://eslint.org/docs/rules/no-extend-native"},schema:[{type:"object",properties:{exceptions:{type:"array",items:{type:"string"},uniqueItems:true}},additionalProperties:false}],messages:{unexpected:"{{builtin}} prototype is read only, properties should not be added."}},create(context){const config=context.options[0]||{};const exceptions=new Set(config.exceptions||[]);const modifiedBuiltins=new Set(Object.keys(globals.builtin).filter((builtin=>builtin[0].toUpperCase()===builtin[0])).filter((builtin=>!exceptions.has(builtin))));function reportNode(node,builtin){context.report({node:node,messageId:"unexpected",data:{builtin:builtin}})}function isPrototypePropertyAccessed(identifierNode){return Boolean(identifierNode&&identifierNode.parent&&identifierNode.parent.type==="MemberExpression"&&identifierNode.parent.object===identifierNode&&astUtils.getStaticPropertyName(identifierNode.parent)==="prototype")}function isAssigningToPropertyOf(node){return node.parent.type==="MemberExpression"&&node.parent.object===node&&node.parent.parent.type==="AssignmentExpression"&&node.parent.parent.left===node.parent}function isInDefinePropertyCall(node){return node.parent.type==="CallExpression"&&node.parent.arguments[0]===node&&astUtils.isSpecificMemberAccess(node.parent.callee,"Object",/^definePropert(?:y|ies)$/u)}function checkAndReportPrototypeExtension(identifierNode){if(!isPrototypePropertyAccessed(identifierNode)){return}const prototypeNode=identifierNode.parent.parent.type==="ChainExpression"?identifierNode.parent.parent:identifierNode.parent;if(isAssigningToPropertyOf(prototypeNode)){reportNode(prototypeNode.parent.parent,identifierNode.name)}else if(isInDefinePropertyCall(prototypeNode)){reportNode(prototypeNode.parent,identifierNode.name)}}return{"Program:exit"(){const globalScope=context.getScope();modifiedBuiltins.forEach((builtin=>{const builtinVar=globalScope.set.get(builtin);if(builtinVar&&builtinVar.references){builtinVar.references.map((ref=>ref.identifier)).forEach(checkAndReportPrototypeExtension)}}))}}}};return noExtendNative}var noExtraBind;var hasRequiredNoExtraBind;function requireNoExtraBind(){if(hasRequiredNoExtraBind)return noExtraBind;hasRequiredNoExtraBind=1;const astUtils=requireAstUtils();const SIDE_EFFECT_FREE_NODE_TYPES=new Set(["Literal","Identifier","ThisExpression","FunctionExpression"]);noExtraBind={meta:{type:"suggestion",docs:{description:"Disallow unnecessary calls to `.bind()`",recommended:false,url:"https://eslint.org/docs/rules/no-extra-bind"},schema:[],fixable:"code",messages:{unexpected:"The function binding is unnecessary."}},create(context){const sourceCode=context.getSourceCode();let scopeInfo=null;function isSideEffectFree(node){return SIDE_EFFECT_FREE_NODE_TYPES.has(node.type)}function report(node){const memberNode=node.parent;const callNode=memberNode.parent.type==="ChainExpression"?memberNode.parent.parent:memberNode.parent;context.report({node:callNode,messageId:"unexpected",loc:memberNode.property.loc,fix(fixer){if(!isSideEffectFree(callNode.arguments[0])){return null}const tokenPairs=[[sourceCode.getTokenAfter(memberNode.object,astUtils.isNotClosingParenToken),sourceCode.getLastToken(memberNode)],[sourceCode.getTokenAfter(memberNode,astUtils.isNotClosingParenToken),sourceCode.getLastToken(callNode)]];const firstTokenToRemove=tokenPairs[0][0];const lastTokenToRemove=tokenPairs[1][1];if(sourceCode.commentsExistBetween(firstTokenToRemove,lastTokenToRemove)){return null}return tokenPairs.map((([start,end])=>fixer.removeRange([start.range[0],end.range[1]])))}})}function isCalleeOfBindMethod(node){if(!astUtils.isSpecificMemberAccess(node.parent,null,"bind")){return false}const bindNode=node.parent.parent.type==="ChainExpression"?node.parent.parent:node.parent;return bindNode.parent.type==="CallExpression"&&bindNode.parent.callee===bindNode&&bindNode.parent.arguments.length===1&&bindNode.parent.arguments[0].type!=="SpreadElement"}function enterFunction(node){scopeInfo={isBound:isCalleeOfBindMethod(node),thisFound:false,upper:scopeInfo}}function exitFunction(node){if(scopeInfo.isBound&&!scopeInfo.thisFound){report(node)}scopeInfo=scopeInfo.upper}function exitArrowFunction(node){if(isCalleeOfBindMethod(node)){report(node)}}function markAsThisFound(){if(scopeInfo){scopeInfo.thisFound=true}}return{"ArrowFunctionExpression:exit":exitArrowFunction,FunctionDeclaration:enterFunction,"FunctionDeclaration:exit":exitFunction,FunctionExpression:enterFunction,"FunctionExpression:exit":exitFunction,ThisExpression:markAsThisFound}}};return noExtraBind}var noExtraBooleanCast;var hasRequiredNoExtraBooleanCast;function requireNoExtraBooleanCast(){if(hasRequiredNoExtraBooleanCast)return noExtraBooleanCast;hasRequiredNoExtraBooleanCast=1;const astUtils=requireAstUtils();const eslintUtils=requireEslintUtils();const precedence=astUtils.getPrecedence;noExtraBooleanCast={meta:{type:"suggestion",docs:{description:"Disallow unnecessary boolean casts",recommended:true,url:"https://eslint.org/docs/rules/no-extra-boolean-cast"},schema:[{type:"object",properties:{enforceForLogicalOperands:{type:"boolean",default:false}},additionalProperties:false}],fixable:"code",messages:{unexpectedCall:"Redundant Boolean call.",unexpectedNegation:"Redundant double negation."}},create(context){const sourceCode=context.getSourceCode();const BOOLEAN_NODE_TYPES=new Set(["IfStatement","DoWhileStatement","WhileStatement","ConditionalExpression","ForStatement"]);function isBooleanFunctionOrConstructorCall(node){return(node.type==="CallExpression"||node.type==="NewExpression")&&node.callee.type==="Identifier"&&node.callee.name==="Boolean"}function isLogicalContext(node){return node.type==="LogicalExpression"&&(node.operator==="||"||node.operator==="&&")&&(context.options.length&&context.options[0].enforceForLogicalOperands===true)}function isInBooleanContext(node){return isBooleanFunctionOrConstructorCall(node.parent)&&node===node.parent.arguments[0]||BOOLEAN_NODE_TYPES.has(node.parent.type)&&node===node.parent.test||node.parent.type==="UnaryExpression"&&node.parent.operator==="!"}function isInFlaggedContext(node){if(node.parent.type==="ChainExpression"){return isInFlaggedContext(node.parent)}return isInBooleanContext(node)||isLogicalContext(node.parent)&&isInFlaggedContext(node.parent)}function hasCommentsInside(node){return Boolean(sourceCode.getCommentsInside(node).length)}function isParenthesized(node){return eslintUtils.isParenthesized(1,node,sourceCode)}function needsParens(previousNode,node){if(previousNode.parent.type==="ChainExpression"){return needsParens(previousNode.parent,node)}if(isParenthesized(previousNode)){return false}const parent=previousNode.parent;switch(parent.type){case"CallExpression":case"NewExpression":return node.type==="SequenceExpression";case"IfStatement":case"DoWhileStatement":case"WhileStatement":case"ForStatement":return false;case"ConditionalExpression":return precedence(node)<=precedence(parent);case"UnaryExpression":return precedence(node)<precedence(parent);case"LogicalExpression":if(astUtils.isMixedLogicalAndCoalesceExpressions(node,parent)){return true}if(previousNode===parent.left){return precedence(node)<precedence(parent)}return precedence(node)<=precedence(parent);default:throw new Error(`Unexpected parent type: ${parent.type}`)}}return{UnaryExpression(node){const parent=node.parent;if(node.operator!=="!"||parent.type!=="UnaryExpression"||parent.operator!=="!"){return}if(isInFlaggedContext(parent)){context.report({node:parent,messageId:"unexpectedNegation",fix(fixer){if(hasCommentsInside(parent)){return null}if(needsParens(parent,node.argument)){return fixer.replaceText(parent,`(${sourceCode.getText(node.argument)})`)}let prefix="";const tokenBefore=sourceCode.getTokenBefore(parent);const firstReplacementToken=sourceCode.getFirstToken(node.argument);if(tokenBefore&&tokenBefore.range[1]===parent.range[0]&&!astUtils.canTokensBeAdjacent(tokenBefore,firstReplacementToken)){prefix=" "}return fixer.replaceText(parent,prefix+sourceCode.getText(node.argument))}})}},CallExpression(node){if(node.callee.type!=="Identifier"||node.callee.name!=="Boolean"){return}if(isInFlaggedContext(node)){context.report({node:node,messageId:"unexpectedCall",fix(fixer){const parent=node.parent;if(node.arguments.length===0){if(parent.type==="UnaryExpression"&&parent.operator==="!"){if(hasCommentsInside(parent)){return null}const replacement="true";let prefix="";const tokenBefore=sourceCode.getTokenBefore(parent);if(tokenBefore&&tokenBefore.range[1]===parent.range[0]&&!astUtils.canTokensBeAdjacent(tokenBefore,replacement)){prefix=" "}return fixer.replaceText(parent,prefix+replacement)}if(hasCommentsInside(node)){return null}return fixer.replaceText(node,"false")}if(node.arguments.length===1){const argument=node.arguments[0];if(argument.type==="SpreadElement"||hasCommentsInside(node)){return null}if(needsParens(node,argument)){return fixer.replaceText(node,`(${sourceCode.getText(argument)})`)}return fixer.replaceText(node,sourceCode.getText(argument))}return null}})}}}}};return noExtraBooleanCast}var noExtraLabel;var hasRequiredNoExtraLabel;function requireNoExtraLabel(){if(hasRequiredNoExtraLabel)return noExtraLabel;hasRequiredNoExtraLabel=1;const astUtils=requireAstUtils();noExtraLabel={meta:{type:"suggestion",docs:{description:"Disallow unnecessary labels",recommended:false,url:"https://eslint.org/docs/rules/no-extra-label"},schema:[],fixable:"code",messages:{unexpected:"This label '{{name}}' is unnecessary."}},create(context){const sourceCode=context.getSourceCode();let scopeInfo=null;function enterBreakableStatement(node){scopeInfo={label:node.parent.type==="LabeledStatement"?node.parent.label:null,breakable:true,upper:scopeInfo}}function exitBreakableStatement(){scopeInfo=scopeInfo.upper}function enterLabeledStatement(node){if(!astUtils.isBreakableStatement(node.body)){scopeInfo={label:node.label,breakable:false,upper:scopeInfo}}}function exitLabeledStatement(node){if(!astUtils.isBreakableStatement(node.body)){scopeInfo=scopeInfo.upper}}function reportIfUnnecessary(node){if(!node.label){return}const labelNode=node.label;for(let info=scopeInfo;info!==null;info=info.upper){if(info.breakable||info.label&&info.label.name===labelNode.name){if(info.breakable&&info.label&&info.label.name===labelNode.name){context.report({node:labelNode,messageId:"unexpected",data:labelNode,fix(fixer){const breakOrContinueToken=sourceCode.getFirstToken(node);if(sourceCode.commentsExistBetween(breakOrContinueToken,labelNode)){return null}return fixer.removeRange([breakOrContinueToken.range[1],labelNode.range[1]])}})}return}}}return{WhileStatement:enterBreakableStatement,"WhileStatement:exit":exitBreakableStatement,DoWhileStatement:enterBreakableStatement,"DoWhileStatement:exit":exitBreakableStatement,ForStatement:enterBreakableStatement,"ForStatement:exit":exitBreakableStatement,ForInStatement:enterBreakableStatement,"ForInStatement:exit":exitBreakableStatement,ForOfStatement:enterBreakableStatement,"ForOfStatement:exit":exitBreakableStatement,SwitchStatement:enterBreakableStatement,"SwitchStatement:exit":exitBreakableStatement,LabeledStatement:enterLabeledStatement,"LabeledStatement:exit":exitLabeledStatement,BreakStatement:reportIfUnnecessary,ContinueStatement:reportIfUnnecessary}}};return noExtraLabel}var noExtraParens;var hasRequiredNoExtraParens;function requireNoExtraParens(){if(hasRequiredNoExtraParens)return noExtraParens;hasRequiredNoExtraParens=1;const{isParenthesized:isParenthesizedRaw}=requireEslintUtils();const astUtils=requireAstUtils();noExtraParens={meta:{type:"layout",docs:{description:"Disallow unnecessary parentheses",recommended:false,url:"https://eslint.org/docs/rules/no-extra-parens"},fixable:"code",schema:{anyOf:[{type:"array",items:[{enum:["functions"]}],minItems:0,maxItems:1},{type:"array",items:[{enum:["all"]},{type:"object",properties:{conditionalAssign:{type:"boolean"},nestedBinaryExpressions:{type:"boolean"},returnAssign:{type:"boolean"},ignoreJSX:{enum:["none","all","single-line","multi-line"]},enforceForArrowConditionals:{type:"boolean"},enforceForSequenceExpressions:{type:"boolean"},enforceForNewInMemberExpressions:{type:"boolean"},enforceForFunctionPrototypeMethods:{type:"boolean"},allowParensAfterCommentPattern:{type:"string"}},additionalProperties:false}],minItems:0,maxItems:2}]},messages:{unexpected:"Unnecessary parentheses around expression."}},create(context){const sourceCode=context.getSourceCode();const tokensToIgnore=new WeakSet;const precedence=astUtils.getPrecedence;const ALL_NODES=context.options[0]!=="functions";const EXCEPT_COND_ASSIGN=ALL_NODES&&context.options[1]&&context.options[1].conditionalAssign===false;const NESTED_BINARY=ALL_NODES&&context.options[1]&&context.options[1].nestedBinaryExpressions===false;const EXCEPT_RETURN_ASSIGN=ALL_NODES&&context.options[1]&&context.options[1].returnAssign===false;const IGNORE_JSX=ALL_NODES&&context.options[1]&&context.options[1].ignoreJSX;const IGNORE_ARROW_CONDITIONALS=ALL_NODES&&context.options[1]&&context.options[1].enforceForArrowConditionals===false;const IGNORE_SEQUENCE_EXPRESSIONS=ALL_NODES&&context.options[1]&&context.options[1].enforceForSequenceExpressions===false;const IGNORE_NEW_IN_MEMBER_EXPR=ALL_NODES&&context.options[1]&&context.options[1].enforceForNewInMemberExpressions===false;const IGNORE_FUNCTION_PROTOTYPE_METHODS=ALL_NODES&&context.options[1]&&context.options[1].enforceForFunctionPrototypeMethods===false;const ALLOW_PARENS_AFTER_COMMENT_PATTERN=ALL_NODES&&context.options[1]&&context.options[1].allowParensAfterCommentPattern;const PRECEDENCE_OF_ASSIGNMENT_EXPR=precedence({type:"AssignmentExpression"});const PRECEDENCE_OF_UPDATE_EXPR=precedence({type:"UpdateExpression"});let reportsBuffer;function isImmediateFunctionPrototypeMethodCall(node){const callNode=astUtils.skipChainExpression(node);if(callNode.type!=="CallExpression"){return false}const callee=astUtils.skipChainExpression(callNode.callee);return callee.type==="MemberExpression"&&callee.object.type==="FunctionExpression"&&["call","apply"].includes(astUtils.getStaticPropertyName(callee))}function ruleApplies(node){if(node.type==="JSXElement"||node.type==="JSXFragment"){const isSingleLine=node.loc.start.line===node.loc.end.line;switch(IGNORE_JSX){case"all":return false;case"multi-line":return isSingleLine;case"single-line":return!isSingleLine}}if(node.type==="SequenceExpression"&&IGNORE_SEQUENCE_EXPRESSIONS){return false}if(isImmediateFunctionPrototypeMethodCall(node)&&IGNORE_FUNCTION_PROTOTYPE_METHODS){return false}return ALL_NODES||node.type==="FunctionExpression"||node.type==="ArrowFunctionExpression"}function isParenthesised(node){return isParenthesizedRaw(1,node,sourceCode)}function isParenthesisedTwice(node){return isParenthesizedRaw(2,node,sourceCode)}function hasExcessParens(node){return ruleApplies(node)&&isParenthesised(node)}function hasDoubleExcessParens(node){return ruleApplies(node)&&isParenthesisedTwice(node)}function hasExcessParensWithPrecedence(node,precedenceLowerLimit){if(ruleApplies(node)&&isParenthesised(node)){if(precedence(node)>=precedenceLowerLimit||isParenthesisedTwice(node)){return true}}return false}function isCondAssignException(node){return EXCEPT_COND_ASSIGN&&node.test.type==="AssignmentExpression"}function isInReturnStatement(node){for(let currentNode=node;currentNode;currentNode=currentNode.parent){if(currentNode.type==="ReturnStatement"||currentNode.type==="ArrowFunctionExpression"&&currentNode.body.type!=="BlockStatement"){return true}}return false}function isNewExpressionWithParens(newExpression){const lastToken=sourceCode.getLastToken(newExpression);const penultimateToken=sourceCode.getTokenBefore(lastToken);return newExpression.arguments.length>0||astUtils.isOpeningParenToken(penultimateToken)&&astUtils.isClosingParenToken(lastToken)&&newExpression.callee.range[1]<newExpression.range[1]}function containsAssignment(node){if(node.type==="AssignmentExpression"){return true}if(node.type==="ConditionalExpression"&&(node.consequent.type==="AssignmentExpression"||node.alternate.type==="AssignmentExpression")){return true}if(node.left&&node.left.type==="AssignmentExpression"||node.right&&node.right.type==="AssignmentExpression"){return true}return false}function isReturnAssignException(node){if(!EXCEPT_RETURN_ASSIGN||!isInReturnStatement(node)){return false}if(node.type==="ReturnStatement"){return node.argument&&containsAssignment(node.argument)}if(node.type==="ArrowFunctionExpression"&&node.body.type!=="BlockStatement"){return containsAssignment(node.body)}return containsAssignment(node)}function hasExcessParensNoLineTerminator(token,node){if(token.loc.end.line===node.loc.start.line){return hasExcessParens(node)}return hasDoubleExcessParens(node)}function requiresLeadingSpace(node){const leftParenToken=sourceCode.getTokenBefore(node);const tokenBeforeLeftParen=sourceCode.getTokenBefore(leftParenToken,{includeComments:true});const tokenAfterLeftParen=sourceCode.getTokenAfter(leftParenToken,{includeComments:true});return tokenBeforeLeftParen&&tokenBeforeLeftParen.range[1]===leftParenToken.range[0]&&leftParenToken.range[1]===tokenAfterLeftParen.range[0]&&!astUtils.canTokensBeAdjacent(tokenBeforeLeftParen,tokenAfterLeftParen)}function requiresTrailingSpace(node){const nextTwoTokens=sourceCode.getTokensAfter(node,{count:2});const rightParenToken=nextTwoTokens[0];const tokenAfterRightParen=nextTwoTokens[1];const tokenBeforeRightParen=sourceCode.getLastToken(node);return rightParenToken&&tokenAfterRightParen&&!sourceCode.isSpaceBetweenTokens(rightParenToken,tokenAfterRightParen)&&!astUtils.canTokensBeAdjacent(tokenBeforeRightParen,tokenAfterRightParen)}function isIIFE(node){const maybeCallNode=astUtils.skipChainExpression(node);return maybeCallNode.type==="CallExpression"&&maybeCallNode.callee.type==="FunctionExpression"}function canBeAssignmentTarget(node){return node&&(node.type==="Identifier"||node.type==="MemberExpression")}function report(node){const leftParenToken=sourceCode.getTokenBefore(node);const rightParenToken=sourceCode.getTokenAfter(node);if(!isParenthesisedTwice(node)){if(tokensToIgnore.has(sourceCode.getFirstToken(node))){return}if(isIIFE(node)&&!isParenthesised(node.callee)){return}if(ALLOW_PARENS_AFTER_COMMENT_PATTERN){const commentsBeforeLeftParenToken=sourceCode.getCommentsBefore(leftParenToken);const totalCommentsBeforeLeftParenTokenCount=commentsBeforeLeftParenToken.length;const ignorePattern=new RegExp(ALLOW_PARENS_AFTER_COMMENT_PATTERN,"u");if(totalCommentsBeforeLeftParenTokenCount>0&&ignorePattern.test(commentsBeforeLeftParenToken[totalCommentsBeforeLeftParenTokenCount-1].value)){return}}}function finishReport(){context.report({node:node,loc:leftParenToken.loc,messageId:"unexpected",fix(fixer){const parenthesizedSource=sourceCode.text.slice(leftParenToken.range[1],rightParenToken.range[0]);return fixer.replaceTextRange([leftParenToken.range[0],rightParenToken.range[1]],(requiresLeadingSpace(node)?" ":"")+parenthesizedSource+(requiresTrailingSpace(node)?" ":""))}})}if(reportsBuffer){reportsBuffer.reports.push({node:node,finishReport:finishReport});return}finishReport()}function checkArgumentWithPrecedence(node){if(hasExcessParensWithPrecedence(node.argument,precedence(node))){report(node.argument)}}function doesMemberExpressionContainCallExpression(node){let currentNode=node.object;let currentNodeType=node.object.type;while(currentNodeType==="MemberExpression"){currentNode=currentNode.object;currentNodeType=currentNode.type}return currentNodeType==="CallExpression"}function checkCallNew(node){const callee=node.callee;if(hasExcessParensWithPrecedence(callee,precedence(node))){if(hasDoubleExcessParens(callee)||!(isIIFE(node)||callee.type==="NewExpression"&&!isNewExpressionWithParens(callee)&&!(node.type==="NewExpression"&&!isNewExpressionWithParens(node))||node.type==="NewExpression"&&callee.type==="MemberExpression"&&doesMemberExpressionContainCallExpression(callee)||!node.optional&&callee.type==="ChainExpression")){report(node.callee)}}node.arguments.filter((arg=>hasExcessParensWithPrecedence(arg,PRECEDENCE_OF_ASSIGNMENT_EXPR))).forEach(report)}function checkBinaryLogical(node){const prec=precedence(node);const leftPrecedence=precedence(node.left);const rightPrecedence=precedence(node.right);const isExponentiation=node.operator==="**";const shouldSkipLeft=NESTED_BINARY&&(node.left.type==="BinaryExpression"||node.left.type==="LogicalExpression");const shouldSkipRight=NESTED_BINARY&&(node.right.type==="BinaryExpression"||node.right.type==="LogicalExpression");if(!shouldSkipLeft&&hasExcessParens(node.left)){if(!(["AwaitExpression","UnaryExpression"].includes(node.left.type)&&isExponentiation)&&!astUtils.isMixedLogicalAndCoalesceExpressions(node.left,node)&&(leftPrecedence>prec||leftPrecedence===prec&&!isExponentiation)||isParenthesisedTwice(node.left)){report(node.left)}}if(!shouldSkipRight&&hasExcessParens(node.right)){if(!astUtils.isMixedLogicalAndCoalesceExpressions(node.right,node)&&(rightPrecedence>prec||rightPrecedence===prec&&isExponentiation)||isParenthesisedTwice(node.right)){report(node.right)}}}function checkClass(node){if(!node.superClass){return}const hasExtraParens=precedence(node.superClass)>PRECEDENCE_OF_UPDATE_EXPR?hasExcessParens(node.superClass):hasDoubleExcessParens(node.superClass);if(hasExtraParens){report(node.superClass)}}function checkSpreadOperator(node){if(hasExcessParensWithPrecedence(node.argument,PRECEDENCE_OF_ASSIGNMENT_EXPR)){report(node.argument)}}function checkExpressionOrExportStatement(node){const firstToken=isParenthesised(node)?sourceCode.getTokenBefore(node):sourceCode.getFirstToken(node);const secondToken=sourceCode.getTokenAfter(firstToken,astUtils.isNotOpeningParenToken);const thirdToken=secondToken?sourceCode.getTokenAfter(secondToken):null;const tokenAfterClosingParens=secondToken?sourceCode.getTokenAfter(secondToken,astUtils.isNotClosingParenToken):null;if(astUtils.isOpeningParenToken(firstToken)&&(astUtils.isOpeningBraceToken(secondToken)||secondToken.type==="Keyword"&&(secondToken.value==="function"||secondToken.value==="class"||secondToken.value==="let"&&tokenAfterClosingParens&&(astUtils.isOpeningBracketToken(tokenAfterClosingParens)||tokenAfterClosingParens.type==="Identifier"))||secondToken&&secondToken.type==="Identifier"&&secondToken.value==="async"&&thirdToken&&thirdToken.type==="Keyword"&&thirdToken.value==="function")){tokensToIgnore.add(secondToken)}const hasExtraParens=node.parent.type==="ExportDefaultDeclaration"?hasExcessParensWithPrecedence(node,PRECEDENCE_OF_ASSIGNMENT_EXPR):hasExcessParens(node);if(hasExtraParens){report(node)}}function pathToAncestor(node,ancestor){const path=[node];let currentNode=node;while(currentNode!==ancestor){currentNode=currentNode.parent;if(currentNode===null){throw new Error("Nodes are not in the ancestor-descendant relationship.")}path.push(currentNode)}return path}function pathToDescendant(node,descendant){return pathToAncestor(descendant,node).reverse()}function isSafelyEnclosingInExpression(node,child){switch(node.type){case"ArrayExpression":case"ArrayPattern":case"BlockStatement":case"ObjectExpression":case"ObjectPattern":case"TemplateLiteral":return true;case"ArrowFunctionExpression":case"FunctionExpression":return node.params.includes(child);case"CallExpression":case"NewExpression":return node.arguments.includes(child);case"MemberExpression":return node.computed&&node.property===child;case"ConditionalExpression":return node.consequent===child;default:return false}}function startNewReportsBuffering(){reportsBuffer={upper:reportsBuffer,inExpressionNodes:[],reports:[]}}function endCurrentReportsBuffering(){const{upper:upper,inExpressionNodes:inExpressionNodes,reports:reports}=reportsBuffer;if(upper){upper.inExpressionNodes.push(...inExpressionNodes);upper.reports.push(...reports)}else{reports.forEach((({finishReport:finishReport})=>finishReport()))}reportsBuffer=upper}function isInCurrentReportsBuffer(node){return reportsBuffer.reports.some((r=>r.node===node))}function removeFromCurrentReportsBuffer(node){reportsBuffer.reports=reportsBuffer.reports.filter((r=>r.node!==node))}function isMemberExpInNewCallee(node){if(node.type==="MemberExpression"){return node.parent.type==="NewExpression"&&node.parent.callee===node?true:node.parent.object===node&&isMemberExpInNewCallee(node.parent)}return false}return{ArrayExpression(node){node.elements.filter((e=>e&&hasExcessParensWithPrecedence(e,PRECEDENCE_OF_ASSIGNMENT_EXPR))).forEach(report)},ArrayPattern(node){node.elements.filter((e=>canBeAssignmentTarget(e)&&hasExcessParens(e))).forEach(report)},ArrowFunctionExpression(node){if(isReturnAssignException(node)){return}if(node.body.type==="ConditionalExpression"&&IGNORE_ARROW_CONDITIONALS){return}if(node.body.type!=="BlockStatement"){const firstBodyToken=sourceCode.getFirstToken(node.body,astUtils.isNotOpeningParenToken);const tokenBeforeFirst=sourceCode.getTokenBefore(firstBodyToken);if(astUtils.isOpeningParenToken(tokenBeforeFirst)&&astUtils.isOpeningBraceToken(firstBodyToken)){tokensToIgnore.add(firstBodyToken)}if(hasExcessParensWithPrecedence(node.body,PRECEDENCE_OF_ASSIGNMENT_EXPR)){report(node.body)}}},AssignmentExpression(node){if(canBeAssignmentTarget(node.left)&&hasExcessParens(node.left)){report(node.left)}if(!isReturnAssignException(node)&&hasExcessParensWithPrecedence(node.right,precedence(node))){report(node.right)}},BinaryExpression(node){if(reportsBuffer&&node.operator==="in"){reportsBuffer.inExpressionNodes.push(node)}checkBinaryLogical(node)},CallExpression:checkCallNew,ConditionalExpression(node){if(isReturnAssignException(node)){return}if(!isCondAssignException(node)&&hasExcessParensWithPrecedence(node.test,precedence({type:"LogicalExpression",operator:"||"}))){report(node.test)}if(hasExcessParensWithPrecedence(node.consequent,PRECEDENCE_OF_ASSIGNMENT_EXPR)){report(node.consequent)}if(hasExcessParensWithPrecedence(node.alternate,PRECEDENCE_OF_ASSIGNMENT_EXPR)){report(node.alternate)}},DoWhileStatement(node){if(hasExcessParens(node.test)&&!isCondAssignException(node)){report(node.test)}},ExportDefaultDeclaration:node=>checkExpressionOrExportStatement(node.declaration),ExpressionStatement:node=>checkExpressionOrExportStatement(node.expression),ForInStatement(node){if(node.left.type!=="VariableDeclaration"){const firstLeftToken=sourceCode.getFirstToken(node.left,astUtils.isNotOpeningParenToken);if(firstLeftToken.value==="let"&&astUtils.isOpeningBracketToken(sourceCode.getTokenAfter(firstLeftToken,astUtils.isNotClosingParenToken))){tokensToIgnore.add(firstLeftToken)}}if(hasExcessParens(node.left)){report(node.left)}if(hasExcessParens(node.right)){report(node.right)}},ForOfStatement(node){if(node.left.type!=="VariableDeclaration"){const firstLeftToken=sourceCode.getFirstToken(node.left,astUtils.isNotOpeningParenToken);if(firstLeftToken.value==="let"){tokensToIgnore.add(firstLeftToken)}}if(hasExcessParens(node.left)){report(node.left)}if(hasExcessParensWithPrecedence(node.right,PRECEDENCE_OF_ASSIGNMENT_EXPR)){report(node.right)}},ForStatement(node){if(node.test&&hasExcessParens(node.test)&&!isCondAssignException(node)){report(node.test)}if(node.update&&hasExcessParens(node.update)){report(node.update)}if(node.init){if(node.init.type!=="VariableDeclaration"){const firstToken=sourceCode.getFirstToken(node.init,astUtils.isNotOpeningParenToken);if(firstToken.value==="let"&&astUtils.isOpeningBracketToken(sourceCode.getTokenAfter(firstToken,astUtils.isNotClosingParenToken))){tokensToIgnore.add(firstToken)}}startNewReportsBuffering();if(hasExcessParens(node.init)){report(node.init)}}},"ForStatement > *.init:exit"(node){if(reportsBuffer.reports.length){reportsBuffer.inExpressionNodes.forEach((inExpressionNode=>{const path=pathToDescendant(node,inExpressionNode);let nodeToExclude;for(let i=0;i<path.length;i++){const pathNode=path[i];if(i<path.length-1){const nextPathNode=path[i+1];if(isSafelyEnclosingInExpression(pathNode,nextPathNode)){return}}if(isParenthesised(pathNode)){if(isInCurrentReportsBuffer(pathNode)){if(isParenthesisedTwice(pathNode)){return}if(!nodeToExclude){nodeToExclude=pathNode}}else{return}}}removeFromCurrentReportsBuffer(nodeToExclude)}))}endCurrentReportsBuffering()},IfStatement(node){if(hasExcessParens(node.test)&&!isCondAssignException(node)){report(node.test)}},ImportExpression(node){const{source:source}=node;if(source.type==="SequenceExpression"){if(hasDoubleExcessParens(source)){report(source)}}else if(hasExcessParens(source)){report(source)}},LogicalExpression:checkBinaryLogical,MemberExpression(node){const shouldAllowWrapOnce=isMemberExpInNewCallee(node)&&doesMemberExpressionContainCallExpression(node);const nodeObjHasExcessParens=shouldAllowWrapOnce?hasDoubleExcessParens(node.object):hasExcessParens(node.object)&&!(isImmediateFunctionPrototypeMethodCall(node.parent)&&node.parent.callee===node&&IGNORE_FUNCTION_PROTOTYPE_METHODS);if(nodeObjHasExcessParens&&precedence(node.object)>=precedence(node)&&(node.computed||!(astUtils.isDecimalInteger(node.object)||node.object.type==="Literal"&&node.object.regex))){report(node.object)}if(nodeObjHasExcessParens&&node.object.type==="CallExpression"){report(node.object)}if(nodeObjHasExcessParens&&!IGNORE_NEW_IN_MEMBER_EXPR&&node.object.type==="NewExpression"&&isNewExpressionWithParens(node.object)){report(node.object)}if(nodeObjHasExcessParens&&node.optional&&node.object.type==="ChainExpression"){report(node.object)}if(node.computed&&hasExcessParens(node.property)){report(node.property)}},"MethodDefinition[computed=true]"(node){if(hasExcessParensWithPrecedence(node.key,PRECEDENCE_OF_ASSIGNMENT_EXPR)){report(node.key)}},NewExpression:checkCallNew,ObjectExpression(node){node.properties.filter((property=>property.value&&hasExcessParensWithPrecedence(property.value,PRECEDENCE_OF_ASSIGNMENT_EXPR))).forEach((property=>report(property.value)))},ObjectPattern(node){node.properties.filter((property=>{const value=property.value;return canBeAssignmentTarget(value)&&hasExcessParens(value)})).forEach((property=>report(property.value)))},Property(node){if(node.computed){const{key:key}=node;if(key&&hasExcessParensWithPrecedence(key,PRECEDENCE_OF_ASSIGNMENT_EXPR)){report(key)}}},PropertyDefinition(node){if(node.computed&&hasExcessParensWithPrecedence(node.key,PRECEDENCE_OF_ASSIGNMENT_EXPR)){report(node.key)}if(node.value&&hasExcessParensWithPrecedence(node.value,PRECEDENCE_OF_ASSIGNMENT_EXPR)){report(node.value)}},RestElement(node){const argument=node.argument;if(canBeAssignmentTarget(argument)&&hasExcessParens(argument)){report(argument)}},ReturnStatement(node){const returnToken=sourceCode.getFirstToken(node);if(isReturnAssignException(node)){return}if(node.argument&&hasExcessParensNoLineTerminator(returnToken,node.argument)&&!(node.argument.type==="Literal"&&node.argument.regex)){report(node.argument)}},SequenceExpression(node){const precedenceOfNode=precedence(node);node.expressions.filter((e=>hasExcessParensWithPrecedence(e,precedenceOfNode))).forEach(report)},SwitchCase(node){if(node.test&&hasExcessParens(node.test)){report(node.test)}},SwitchStatement(node){if(hasExcessParens(node.discriminant)){report(node.discriminant)}},ThrowStatement(node){const throwToken=sourceCode.getFirstToken(node);if(hasExcessParensNoLineTerminator(throwToken,node.argument)){report(node.argument)}},UnaryExpression:checkArgumentWithPrecedence,UpdateExpression(node){if(node.prefix){checkArgumentWithPrecedence(node)}else{const{argument:argument}=node;const operatorToken=sourceCode.getLastToken(node);if(argument.loc.end.line===operatorToken.loc.start.line){checkArgumentWithPrecedence(node)}else{if(hasDoubleExcessParens(argument)){report(argument)}}}},AwaitExpression:checkArgumentWithPrecedence,VariableDeclarator(node){if(node.init&&hasExcessParensWithPrecedence(node.init,PRECEDENCE_OF_ASSIGNMENT_EXPR)&&!(node.init.type==="Literal"&&node.init.regex)){report(node.init)}},WhileStatement(node){if(hasExcessParens(node.test)&&!isCondAssignException(node)){report(node.test)}},WithStatement(node){if(hasExcessParens(node.object)){report(node.object)}},YieldExpression(node){if(node.argument){const yieldToken=sourceCode.getFirstToken(node);if(precedence(node.argument)>=precedence(node)&&hasExcessParensNoLineTerminator(yieldToken,node.argument)||hasDoubleExcessParens(node.argument)){report(node.argument)}}},ClassDeclaration:checkClass,ClassExpression:checkClass,SpreadElement:checkSpreadOperator,SpreadProperty:checkSpreadOperator,ExperimentalSpreadProperty:checkSpreadOperator,TemplateLiteral(node){node.expressions.filter((e=>e&&hasExcessParens(e))).forEach(report)},AssignmentPattern(node){const{left:left,right:right}=node;if(canBeAssignmentTarget(left)&&hasExcessParens(left)){report(left)}if(right&&hasExcessParensWithPrecedence(right,PRECEDENCE_OF_ASSIGNMENT_EXPR)){report(right)}}}}};return noExtraParens}var noExtraSemi;var hasRequiredNoExtraSemi;function requireNoExtraSemi(){if(hasRequiredNoExtraSemi)return noExtraSemi;hasRequiredNoExtraSemi=1;const FixTracker=requireFixTracker();const astUtils=requireAstUtils();noExtraSemi={meta:{type:"suggestion",docs:{description:"Disallow unnecessary semicolons",recommended:true,url:"https://eslint.org/docs/rules/no-extra-semi"},fixable:"code",schema:[],messages:{unexpected:"Unnecessary semicolon."}},create(context){const sourceCode=context.getSourceCode();function report(nodeOrToken){context.report({node:nodeOrToken,messageId:"unexpected",fix(fixer){return new FixTracker(fixer,context.getSourceCode()).retainSurroundingTokens(nodeOrToken).remove(nodeOrToken)}})}function checkForPartOfClassBody(firstToken){for(let token=firstToken;token.type==="Punctuator"&&!astUtils.isClosingBraceToken(token);token=sourceCode.getTokenAfter(token)){if(astUtils.isSemicolonToken(token)){report(token)}}}return{EmptyStatement(node){const parent=node.parent,allowedParentTypes=["ForStatement","ForInStatement","ForOfStatement","WhileStatement","DoWhileStatement","IfStatement","LabeledStatement","WithStatement"];if(!allowedParentTypes.includes(parent.type)){report(node)}},ClassBody(node){checkForPartOfClassBody(sourceCode.getFirstToken(node,1))},"MethodDefinition, PropertyDefinition, StaticBlock"(node){checkForPartOfClassBody(sourceCode.getTokenAfter(node))}}}};return noExtraSemi}var noFallthrough;var hasRequiredNoFallthrough;function requireNoFallthrough(){if(hasRequiredNoFallthrough)return noFallthrough;hasRequiredNoFallthrough=1;const DEFAULT_FALLTHROUGH_COMMENT=/falls?\s?through/iu;function hasFallthroughComment(caseWhichFallsThrough,subsequentCase,context,fallthroughCommentPattern){const sourceCode=context.getSourceCode();if(caseWhichFallsThrough.consequent.length===1&&caseWhichFallsThrough.consequent[0].type==="BlockStatement"){const trailingCloseBrace=sourceCode.getLastToken(caseWhichFallsThrough.consequent[0]);const commentInBlock=sourceCode.getCommentsBefore(trailingCloseBrace).pop();if(commentInBlock&&fallthroughCommentPattern.test(commentInBlock.value)){return true}}const comment=sourceCode.getCommentsBefore(subsequentCase).pop();return Boolean(comment&&fallthroughCommentPattern.test(comment.value))}function isReachable(segment){return segment.reachable}function hasBlankLinesBetween(node,token){return token.loc.start.line>node.loc.end.line+1}noFallthrough={meta:{type:"problem",docs:{description:"Disallow fallthrough of `case` statements",recommended:true,url:"https://eslint.org/docs/rules/no-fallthrough"},schema:[{type:"object",properties:{commentPattern:{type:"string",default:""},allowEmptyCase:{type:"boolean",default:false}},additionalProperties:false}],messages:{case:"Expected a 'break' statement before 'case'.",default:"Expected a 'break' statement before 'default'."}},create(context){const options=context.options[0]||{};let currentCodePath=null;const sourceCode=context.getSourceCode();const allowEmptyCase=options.allowEmptyCase||false;let fallthroughCase=null;let fallthroughCommentPattern=null;if(options.commentPattern){fallthroughCommentPattern=new RegExp(options.commentPattern,"u")}else{fallthroughCommentPattern=DEFAULT_FALLTHROUGH_COMMENT}return{onCodePathStart(codePath){currentCodePath=codePath},onCodePathEnd(){currentCodePath=currentCodePath.upper},SwitchCase(node){if(fallthroughCase&&!hasFallthroughComment(fallthroughCase,node,context,fallthroughCommentPattern)){context.report({messageId:node.test?"case":"default",node:node})}fallthroughCase=null},"SwitchCase:exit"(node){const nextToken=sourceCode.getTokenAfter(node);if(currentCodePath.currentSegments.some(isReachable)&&(node.consequent.length>0||!allowEmptyCase&&hasBlankLinesBetween(node,nextToken))&&node.parent.cases[node.parent.cases.length-1]!==node){fallthroughCase=node}}}}};return noFallthrough}var noFloatingDecimal;var hasRequiredNoFloatingDecimal;function requireNoFloatingDecimal(){if(hasRequiredNoFloatingDecimal)return noFloatingDecimal;hasRequiredNoFloatingDecimal=1;const astUtils=requireAstUtils();noFloatingDecimal={meta:{type:"suggestion",docs:{description:"Disallow leading or trailing decimal points in numeric literals",recommended:false,url:"https://eslint.org/docs/rules/no-floating-decimal"},schema:[],fixable:"code",messages:{leading:"A leading decimal point can be confused with a dot.",trailing:"A trailing decimal point can be confused with a dot."}},create(context){const sourceCode=context.getSourceCode();return{Literal(node){if(typeof node.value==="number"){if(node.raw.startsWith(".")){context.report({node:node,messageId:"leading",fix(fixer){const tokenBefore=sourceCode.getTokenBefore(node);const needsSpaceBefore=tokenBefore&&tokenBefore.range[1]===node.range[0]&&!astUtils.canTokensBeAdjacent(tokenBefore,`0${node.raw}`);return fixer.insertTextBefore(node,needsSpaceBefore?" 0":"0")}})}if(node.raw.indexOf(".")===node.raw.length-1){context.report({node:node,messageId:"trailing",fix:fixer=>fixer.insertTextAfter(node,"0")})}}}}}};return noFloatingDecimal}var noFuncAssign;var hasRequiredNoFuncAssign;function requireNoFuncAssign(){if(hasRequiredNoFuncAssign)return noFuncAssign;hasRequiredNoFuncAssign=1;const astUtils=requireAstUtils();noFuncAssign={meta:{type:"problem",docs:{description:"Disallow reassigning `function` declarations",recommended:true,url:"https://eslint.org/docs/rules/no-func-assign"},schema:[],messages:{isAFunction:"'{{name}}' is a function."}},create(context){function checkReference(references){astUtils.getModifyingReferences(references).forEach((reference=>{context.report({node:reference.identifier,messageId:"isAFunction",data:{name:reference.identifier.name}})}))}function checkVariable(variable){if(variable.defs[0].type==="FunctionName"){checkReference(variable.references)}}function checkForFunction(node){context.getDeclaredVariables(node).forEach(checkVariable)}return{FunctionDeclaration:checkForFunction,FunctionExpression:checkForFunction}}};return noFuncAssign}var noGlobalAssign;var hasRequiredNoGlobalAssign;function requireNoGlobalAssign(){if(hasRequiredNoGlobalAssign)return noGlobalAssign;hasRequiredNoGlobalAssign=1;noGlobalAssign={meta:{type:"suggestion",docs:{description:"Disallow assignments to native objects or read-only global variables",recommended:true,url:"https://eslint.org/docs/rules/no-global-assign"},schema:[{type:"object",properties:{exceptions:{type:"array",items:{type:"string"},uniqueItems:true}},additionalProperties:false}],messages:{globalShouldNotBeModified:"Read-only global '{{name}}' should not be modified."}},create(context){const config=context.options[0];const exceptions=config&&config.exceptions||[];function checkReference(reference,index,references){const identifier=reference.identifier;if(reference.init===false&&reference.isWrite()&&(index===0||references[index-1].identifier!==identifier)){context.report({node:identifier,messageId:"globalShouldNotBeModified",data:{name:identifier.name}})}}function checkVariable(variable){if(variable.writeable===false&&!exceptions.includes(variable.name)){variable.references.forEach(checkReference)}}return{Program(){const globalScope=context.getScope();globalScope.variables.forEach(checkVariable)}}}};return noGlobalAssign}var noImplicitCoercion;var hasRequiredNoImplicitCoercion;function requireNoImplicitCoercion(){if(hasRequiredNoImplicitCoercion)return noImplicitCoercion;hasRequiredNoImplicitCoercion=1;const astUtils=requireAstUtils();const INDEX_OF_PATTERN=/^(?:i|lastI)ndexOf$/u;const ALLOWABLE_OPERATORS=["~","!!","+","*"];function parseOptions(options){return{boolean:"boolean"in options?options.boolean:true,number:"number"in options?options.number:true,string:"string"in options?options.string:true,disallowTemplateShorthand:"disallowTemplateShorthand"in options?options.disallowTemplateShorthand:false,allow:options.allow||[]}}function isDoubleLogicalNegating(node){return node.operator==="!"&&node.argument.type==="UnaryExpression"&&node.argument.operator==="!"}function isBinaryNegatingOfIndexOf(node){if(node.operator!=="~"){return false}const callNode=astUtils.skipChainExpression(node.argument);return callNode.type==="CallExpression"&&astUtils.isSpecificMemberAccess(callNode.callee,null,INDEX_OF_PATTERN)}function isMultiplyByOne(node){return node.operator==="*"&&(node.left.type==="Literal"&&node.left.value===1||node.right.type==="Literal"&&node.right.value===1)}function isMultiplyByFractionOfOne(node,sourceCode){return node.type==="BinaryExpression"&&node.operator==="*"&&(node.right.type==="Literal"&&node.right.value===1)&&node.parent.type==="BinaryExpression"&&node.parent.operator==="/"&&node.parent.left===node&&!astUtils.isParenthesised(sourceCode,node)}function isNumeric(node){return node.type==="Literal"&&typeof node.value==="number"||node.type==="CallExpression"&&(node.callee.name==="Number"||node.callee.name==="parseInt"||node.callee.name==="parseFloat")}function getNonNumericOperand(node){const left=node.left,right=node.right;if(right.type!=="BinaryExpression"&&!isNumeric(right)){return right}if(left.type!=="BinaryExpression"&&!isNumeric(left)){return left}return null}function isStringType(node){return astUtils.isStringLiteral(node)||node.type==="CallExpression"&&node.callee.type==="Identifier"&&node.callee.name==="String"}function isEmptyString(node){return astUtils.isStringLiteral(node)&&(node.value===""||node.type==="TemplateLiteral"&&node.quasis.length===1&&node.quasis[0].value.cooked==="")}function isConcatWithEmptyString(node){return node.operator==="+"&&(isEmptyString(node.left)&&!isStringType(node.right)||isEmptyString(node.right)&&!isStringType(node.left))}function isAppendEmptyString(node){return node.operator==="+="&&isEmptyString(node.right)}function getNonEmptyOperand(node){return isEmptyString(node.left)?node.right:node.left}noImplicitCoercion={meta:{type:"suggestion",docs:{description:"Disallow shorthand type conversions",recommended:false,url:"https://eslint.org/docs/rules/no-implicit-coercion"},fixable:"code",schema:[{type:"object",properties:{boolean:{type:"boolean",default:true},number:{type:"boolean",default:true},string:{type:"boolean",default:true},disallowTemplateShorthand:{type:"boolean",default:false},allow:{type:"array",items:{enum:ALLOWABLE_OPERATORS},uniqueItems:true}},additionalProperties:false}],messages:{useRecommendation:"use `{{recommendation}}` instead."}},create(context){const options=parseOptions(context.options[0]||{});const sourceCode=context.getSourceCode();function report(node,recommendation,shouldFix){context.report({node:node,messageId:"useRecommendation",data:{recommendation:recommendation},fix(fixer){if(!shouldFix){return null}const tokenBefore=sourceCode.getTokenBefore(node);if(tokenBefore&&tokenBefore.range[1]===node.range[0]&&!astUtils.canTokensBeAdjacent(tokenBefore,recommendation)){return fixer.replaceText(node,` ${recommendation}`)}return fixer.replaceText(node,recommendation)}})}return{UnaryExpression(node){let operatorAllowed;operatorAllowed=options.allow.includes("!!");if(!operatorAllowed&&options.boolean&&isDoubleLogicalNegating(node)){const recommendation=`Boolean(${sourceCode.getText(node.argument.argument)})`;report(node,recommendation,true)}operatorAllowed=options.allow.includes("~");if(!operatorAllowed&&options.boolean&&isBinaryNegatingOfIndexOf(node)){const comparison=node.argument.type==="ChainExpression"?">= 0":"!== -1";const recommendation=`${sourceCode.getText(node.argument)} ${comparison}`;report(node,recommendation,false)}operatorAllowed=options.allow.includes("+");if(!operatorAllowed&&options.number&&node.operator==="+"&&!isNumeric(node.argument)){const recommendation=`Number(${sourceCode.getText(node.argument)})`;report(node,recommendation,true)}},"BinaryExpression:exit"(node){let operatorAllowed;operatorAllowed=options.allow.includes("*");const nonNumericOperand=!operatorAllowed&&options.number&&isMultiplyByOne(node)&&!isMultiplyByFractionOfOne(node,sourceCode)&&getNonNumericOperand(node);if(nonNumericOperand){const recommendation=`Number(${sourceCode.getText(nonNumericOperand)})`;report(node,recommendation,true)}operatorAllowed=options.allow.includes("+");if(!operatorAllowed&&options.string&&isConcatWithEmptyString(node)){const recommendation=`String(${sourceCode.getText(getNonEmptyOperand(node))})`;report(node,recommendation,true)}},AssignmentExpression(node){const operatorAllowed=options.allow.includes("+");if(!operatorAllowed&&options.string&&isAppendEmptyString(node)){const code=sourceCode.getText(getNonEmptyOperand(node));const recommendation=`${code} = String(${code})`;report(node,recommendation,true)}},TemplateLiteral(node){if(!options.disallowTemplateShorthand){return}if(node.parent.type==="TaggedTemplateExpression"){return}if(node.expressions.length!==1){return}if(node.quasis[0].value.cooked!==""){return}if(node.quasis[1].value.cooked!==""){return}if(isStringType(node.expressions[0])){return}const code=sourceCode.getText(node.expressions[0]);const recommendation=`String(${code})`;report(node,recommendation,true)}}}};return noImplicitCoercion}var noImplicitGlobals;var hasRequiredNoImplicitGlobals;function requireNoImplicitGlobals(){if(hasRequiredNoImplicitGlobals)return noImplicitGlobals;hasRequiredNoImplicitGlobals=1;noImplicitGlobals={meta:{type:"suggestion",docs:{description:"Disallow declarations in the global scope",recommended:false,url:"https://eslint.org/docs/rules/no-implicit-globals"},schema:[{type:"object",properties:{lexicalBindings:{type:"boolean",default:false}},additionalProperties:false}],messages:{globalNonLexicalBinding:"Unexpected {{kind}} declaration in the global scope, wrap in an IIFE for a local variable, assign as global property for a global variable.",globalLexicalBinding:"Unexpected {{kind}} declaration in the global scope, wrap in a block or in an IIFE.",globalVariableLeak:"Global variable leak, declare the variable if it is intended to be local.",assignmentToReadonlyGlobal:"Unexpected assignment to read-only global variable.",redeclarationOfReadonlyGlobal:"Unexpected redeclaration of read-only global variable."}},create(context){const checkLexicalBindings=context.options[0]&&context.options[0].lexicalBindings===true;function report(node,messageId,kind){context.report({node:node,messageId:messageId,data:{kind:kind}})}return{Program(){const scope=context.getScope();scope.variables.forEach((variable=>{const isReadonlyEslintGlobalVariable=variable.writeable===false;const isWritableEslintGlobalVariable=variable.writeable===true;if(isWritableEslintGlobalVariable){return}if(variable.eslintExported){return}variable.defs.forEach((def=>{const defNode=def.node;if(def.type==="FunctionName"||def.type==="Variable"&&def.parent.kind==="var"){if(isReadonlyEslintGlobalVariable){report(defNode,"redeclarationOfReadonlyGlobal")}else{report(defNode,"globalNonLexicalBinding",def.type==="FunctionName"?"function":`'${def.parent.kind}'`)}}if(checkLexicalBindings){if(def.type==="ClassName"||def.type==="Variable"&&(def.parent.kind==="let"||def.parent.kind==="const")){if(isReadonlyEslintGlobalVariable){report(defNode,"redeclarationOfReadonlyGlobal")}else{report(defNode,"globalLexicalBinding",def.type==="ClassName"?"class":`'${def.parent.kind}'`)}}}}))}));scope.implicit.variables.forEach((variable=>{const scopeVariable=scope.set.get(variable.name);let messageId;if(scopeVariable){if(scopeVariable.writeable){return}messageId="assignmentToReadonlyGlobal"}else{messageId="globalVariableLeak"}variable.defs.forEach((def=>{report(def.node,messageId)}))}))}}}};return noImplicitGlobals}var noImpliedEval;var hasRequiredNoImpliedEval;function requireNoImpliedEval(){if(hasRequiredNoImpliedEval)return noImpliedEval;hasRequiredNoImpliedEval=1;const astUtils=requireAstUtils();const{getStaticValue:getStaticValue}=requireEslintUtils();noImpliedEval={meta:{type:"suggestion",docs:{description:"Disallow the use of `eval()`-like methods",recommended:false,url:"https://eslint.org/docs/rules/no-implied-eval"},schema:[],messages:{impliedEval:"Implied eval. Consider passing a function instead of a string."}},create(context){const GLOBAL_CANDIDATES=Object.freeze(["global","window","globalThis"]);const EVAL_LIKE_FUNC_PATTERN=/^(?:set(?:Interval|Timeout)|execScript)$/u;function isEvaluatedString(node){if(node.type==="Literal"&&typeof node.value==="string"||node.type==="TemplateLiteral"){return true}if(node.type==="BinaryExpression"&&node.operator==="+"){return isEvaluatedString(node.left)||isEvaluatedString(node.right)}return false}function reportImpliedEvalCallExpression(node){const[firstArgument]=node.arguments;if(firstArgument){const staticValue=getStaticValue(firstArgument,context.getScope());const isStaticString=staticValue&&typeof staticValue.value==="string";const isString=isStaticString||isEvaluatedString(firstArgument);if(isString){context.report({node:node,messageId:"impliedEval"})}}}function reportImpliedEvalViaGlobal(globalVar){const{references:references,name:name}=globalVar;references.forEach((ref=>{const identifier=ref.identifier;let node=identifier.parent;while(astUtils.isSpecificMemberAccess(node,null,name)){node=node.parent}if(astUtils.isSpecificMemberAccess(node,null,EVAL_LIKE_FUNC_PATTERN)){const calleeNode=node.parent.type==="ChainExpression"?node.parent:node;const parent=calleeNode.parent;if(parent.type==="CallExpression"&&parent.callee===calleeNode){reportImpliedEvalCallExpression(parent)}}}))}return{CallExpression(node){if(astUtils.isSpecificId(node.callee,EVAL_LIKE_FUNC_PATTERN)){reportImpliedEvalCallExpression(node)}},"Program:exit"(){const globalScope=context.getScope();GLOBAL_CANDIDATES.map((candidate=>astUtils.getVariableByName(globalScope,candidate))).filter((globalVar=>!!globalVar&&globalVar.defs.length===0)).forEach(reportImpliedEvalViaGlobal)}}}};return noImpliedEval}var noImportAssign;var hasRequiredNoImportAssign;function requireNoImportAssign(){if(hasRequiredNoImportAssign)return noImportAssign;hasRequiredNoImportAssign=1;const{findVariable:findVariable}=requireEslintUtils();const astUtils=requireAstUtils();const WellKnownMutationFunctions={Object:/^(?:assign|definePropert(?:y|ies)|freeze|setPrototypeOf)$/u,Reflect:/^(?:(?:define|delete)Property|set(?:PrototypeOf)?)$/u};function isAssignmentLeft(node){const{parent:parent}=node;return parent.type==="AssignmentExpression"&&parent.left===node||parent.type==="ArrayPattern"||parent.type==="Property"&&parent.value===node&&parent.parent.type==="ObjectPattern"||parent.type==="RestElement"||parent.type==="AssignmentPattern"&&parent.left===node}function isOperandOfMutationUnaryOperator(node){const argumentNode=node.parent.type==="ChainExpression"?node.parent:node;const{parent:parent}=argumentNode;return parent.type==="UpdateExpression"&&parent.argument===argumentNode||parent.type==="UnaryExpression"&&parent.operator==="delete"&&parent.argument===argumentNode}function isIterationVariable(node){const{parent:parent}=node;return parent.type==="ForInStatement"&&parent.left===node||parent.type==="ForOfStatement"&&parent.left===node}function isArgumentOfWellKnownMutationFunction(node,scope){const{parent:parent}=node;if(parent.type!=="CallExpression"||parent.arguments[0]!==node){return false}const callee=astUtils.skipChainExpression(parent.callee);if(!astUtils.isSpecificMemberAccess(callee,"Object",WellKnownMutationFunctions.Object)&&!astUtils.isSpecificMemberAccess(callee,"Reflect",WellKnownMutationFunctions.Reflect)){return false}const variable=findVariable(scope,callee.object);return variable!==null&&variable.scope.type==="global"}function isMemberWrite(id,scope){const{parent:parent}=id;return parent.type==="MemberExpression"&&parent.object===id&&(isAssignmentLeft(parent)||isOperandOfMutationUnaryOperator(parent)||isIterationVariable(parent))||isArgumentOfWellKnownMutationFunction(id,scope)}function getWriteNode(id){let node=id.parent;while(node&&node.type!=="AssignmentExpression"&&node.type!=="UpdateExpression"&&node.type!=="UnaryExpression"&&node.type!=="CallExpression"&&node.type!=="ForInStatement"&&node.type!=="ForOfStatement"){node=node.parent}return node||id}noImportAssign={meta:{type:"problem",docs:{description:"Disallow assigning to imported bindings",recommended:true,url:"https://eslint.org/docs/rules/no-import-assign"},schema:[],messages:{readonly:"'{{name}}' is read-only.",readonlyMember:"The members of '{{name}}' are read-only."}},create(context){return{ImportDeclaration(node){const scope=context.getScope();for(const variable of context.getDeclaredVariables(node)){const shouldCheckMembers=variable.defs.some((d=>d.node.type==="ImportNamespaceSpecifier"));let prevIdNode=null;for(const reference of variable.references){const idNode=reference.identifier;if(idNode===prevIdNode){continue}prevIdNode=idNode;if(reference.isWrite()){context.report({node:getWriteNode(idNode),messageId:"readonly",data:{name:idNode.name}})}else if(shouldCheckMembers&&isMemberWrite(idNode,scope)){context.report({node:getWriteNode(idNode),messageId:"readonlyMember",data:{name:idNode.name}})}}}}}}};return noImportAssign}var noInlineComments;var hasRequiredNoInlineComments;function requireNoInlineComments(){if(hasRequiredNoInlineComments)return noInlineComments;hasRequiredNoInlineComments=1;const astUtils=requireAstUtils();noInlineComments={meta:{type:"suggestion",docs:{description:"Disallow inline comments after code",recommended:false,url:"https://eslint.org/docs/rules/no-inline-comments"},schema:[{type:"object",properties:{ignorePattern:{type:"string"}},additionalProperties:false}],messages:{unexpectedInlineComment:"Unexpected comment inline with code."}},create(context){const sourceCode=context.getSourceCode();const options=context.options[0];let customIgnoreRegExp;if(options&&options.ignorePattern){customIgnoreRegExp=new RegExp(options.ignorePattern,"u")}function testCodeAroundComment(node){const startLine=String(sourceCode.lines[node.loc.start.line-1]),endLine=String(sourceCode.lines[node.loc.end.line-1]),preamble=startLine.slice(0,node.loc.start.column).trim(),postamble=endLine.slice(node.loc.end.column).trim(),isPreambleEmpty=!preamble,isPostambleEmpty=!postamble;if(isPreambleEmpty&&isPostambleEmpty){return}if(customIgnoreRegExp&&customIgnoreRegExp.test(node.value)){return}if((isPreambleEmpty||preamble==="{")&&(isPostambleEmpty||postamble==="}")){const enclosingNode=sourceCode.getNodeByRangeIndex(node.range[0]);if(enclosingNode&&enclosingNode.type==="JSXEmptyExpression"){return}}if(astUtils.isDirectiveComment(node)){return}context.report({node:node,messageId:"unexpectedInlineComment"})}return{Program(){sourceCode.getAllComments().filter((token=>token.type!=="Shebang")).forEach(testCodeAroundComment)}}}};return noInlineComments}var noInnerDeclarations;var hasRequiredNoInnerDeclarations;function requireNoInnerDeclarations(){if(hasRequiredNoInnerDeclarations)return noInnerDeclarations;hasRequiredNoInnerDeclarations=1;const astUtils=requireAstUtils();const validParent=new Set(["Program","StaticBlock","ExportNamedDeclaration","ExportDefaultDeclaration"]);const validBlockStatementParent=new Set(["FunctionDeclaration","FunctionExpression","ArrowFunctionExpression"]);function getAllowedBodyDescription(node){let{parent:parent}=node;while(parent){if(parent.type==="StaticBlock"){return"class static block body"}if(astUtils.isFunction(parent)){return"function body"}({parent:parent}=parent)}return"program"}noInnerDeclarations={meta:{type:"problem",docs:{description:"Disallow variable or `function` declarations in nested blocks",recommended:true,url:"https://eslint.org/docs/rules/no-inner-declarations"},schema:[{enum:["functions","both"]}],messages:{moveDeclToRoot:"Move {{type}} declaration to {{body}} root."}},create(context){function check(node){const parent=node.parent;if(parent.type==="BlockStatement"&&validBlockStatementParent.has(parent.parent.type)){return}if(validParent.has(parent.type)){return}context.report({node:node,messageId:"moveDeclToRoot",data:{type:node.type==="FunctionDeclaration"?"function":"variable",body:getAllowedBodyDescription(node)}})}return{FunctionDeclaration:check,VariableDeclaration(node){if(context.options[0]==="both"&&node.kind==="var"){check(node)}}}}};return noInnerDeclarations}var noInvalidRegexp;var hasRequiredNoInvalidRegexp;function requireNoInvalidRegexp(){if(hasRequiredNoInvalidRegexp)return noInvalidRegexp;hasRequiredNoInvalidRegexp=1;const RegExpValidator=requireRegexpp().RegExpValidator;const validator=new RegExpValidator;const validFlags=/[dgimsuy]/gu;const undefined1=void 0;noInvalidRegexp={meta:{type:"problem",docs:{description:"Disallow invalid regular expression strings in `RegExp` constructors",recommended:true,url:"https://eslint.org/docs/rules/no-invalid-regexp"},schema:[{type:"object",properties:{allowConstructorFlags:{type:"array",items:{type:"string"}}},additionalProperties:false}],messages:{regexMessage:"{{message}}."}},create(context){const options=context.options[0];let allowedFlags=null;if(options&&options.allowConstructorFlags){const temp=options.allowConstructorFlags.join("").replace(validFlags,"");if(temp){allowedFlags=new RegExp(`[${temp}]`,"giu")}}function report(node,message){context.report({node:node,messageId:"regexMessage",data:{message:message}})}function isString(node){return node&&node.type==="Literal"&&typeof node.value==="string"}function getFlags(node){if(node.arguments.length<2){return""}if(isString(node.arguments[1])){return node.arguments[1].value}return null}function validateRegExpPattern(pattern,uFlag){try{validator.validatePattern(pattern,undefined1,undefined1,uFlag);return null}catch(err){return err.message}}function validateRegExpFlags(flags){if(!flags){return null}try{validator.validateFlags(flags);return null}catch{return`Invalid flags supplied to RegExp constructor '${flags}'`}}return{"CallExpression, NewExpression"(node){if(node.callee.type!=="Identifier"||node.callee.name!=="RegExp"){return}let flags=getFlags(node);if(flags&&allowedFlags){flags=flags.replace(allowedFlags,"")}let message=validateRegExpFlags(flags);if(message){report(node,message);return}if(!isString(node.arguments[0])){return}const pattern=node.arguments[0].value;message=flags===null?validateRegExpPattern(pattern,true)&&validateRegExpPattern(pattern,false):validateRegExpPattern(pattern,flags.includes("u"));if(message){report(node,message)}}}}};return noInvalidRegexp}var noInvalidThis;var hasRequiredNoInvalidThis;function requireNoInvalidThis(){if(hasRequiredNoInvalidThis)return noInvalidThis;hasRequiredNoInvalidThis=1;const astUtils=requireAstUtils();function isCodePathWithLexicalThis(codePath,node){return codePath.origin==="function"&&node.type==="ArrowFunctionExpression"}noInvalidThis={meta:{type:"suggestion",docs:{description:"Disallow use of `this` in contexts where the value of `this` is `undefined`",recommended:false,url:"https://eslint.org/docs/rules/no-invalid-this"},schema:[{type:"object",properties:{capIsConstructor:{type:"boolean",default:true}},additionalProperties:false}],messages:{unexpectedThis:"Unexpected 'this'."}},create(context){const options=context.options[0]||{};const capIsConstructor=options.capIsConstructor!==false;const stack=[],sourceCode=context.getSourceCode();stack.getCurrent=function(){const current=this[this.length-1];if(!current.init){current.init=true;current.valid=!astUtils.isDefaultThisBinding(current.node,sourceCode,{capIsConstructor:capIsConstructor})}return current};return{onCodePathStart(codePath,node){if(isCodePathWithLexicalThis(codePath,node)){return}if(codePath.origin==="program"){const scope=context.getScope();const features=context.parserOptions.ecmaFeatures||{};stack.push({init:true,node:node,valid:!(node.sourceType==="module"||features.globalReturn&&scope.childScopes[0].isStrict)});return}stack.push({init:!context.getScope().isStrict,node:node,valid:true})},onCodePathEnd(codePath,node){if(isCodePathWithLexicalThis(codePath,node)){return}stack.pop()},ThisExpression(node){const current=stack.getCurrent();if(current&&!current.valid){context.report({node:node,messageId:"unexpectedThis"})}}}}};return noInvalidThis}var noIrregularWhitespace;var hasRequiredNoIrregularWhitespace;function requireNoIrregularWhitespace(){if(hasRequiredNoIrregularWhitespace)return noIrregularWhitespace;hasRequiredNoIrregularWhitespace=1;const astUtils=requireAstUtils();const ALL_IRREGULARS=/[\f\v\u0085\ufeff\u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u202f\u205f\u3000\u2028\u2029]/u;const IRREGULAR_WHITESPACE=/[\f\v\u0085\ufeff\u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u202f\u205f\u3000]+/gmu;const IRREGULAR_LINE_TERMINATORS=/[\u2028\u2029]/gmu;const LINE_BREAK=astUtils.createGlobalLinebreakMatcher();noIrregularWhitespace={meta:{type:"problem",docs:{description:"Disallow irregular whitespace",recommended:true,url:"https://eslint.org/docs/rules/no-irregular-whitespace"},schema:[{type:"object",properties:{skipComments:{type:"boolean",default:false},skipStrings:{type:"boolean",default:true},skipTemplates:{type:"boolean",default:false},skipRegExps:{type:"boolean",default:false}},additionalProperties:false}],messages:{noIrregularWhitespace:"Irregular whitespace not allowed."}},create(context){let errors=[];const options=context.options[0]||{};const skipComments=!!options.skipComments;const skipStrings=options.skipStrings!==false;const skipRegExps=!!options.skipRegExps;const skipTemplates=!!options.skipTemplates;const sourceCode=context.getSourceCode();const commentNodes=sourceCode.getAllComments();function removeWhitespaceError(node){const locStart=node.loc.start;const locEnd=node.loc.end;errors=errors.filter((({loc:{start:errorLocStart}})=>errorLocStart.line<locStart.line||errorLocStart.line===locStart.line&&errorLocStart.column<locStart.column||errorLocStart.line===locEnd.line&&errorLocStart.column>=locEnd.column||errorLocStart.line>locEnd.line))}function removeInvalidNodeErrorsInIdentifierOrLiteral(node){const shouldCheckStrings=skipStrings&&typeof node.value==="string";const shouldCheckRegExps=skipRegExps&&Boolean(node.regex);if(shouldCheckStrings||shouldCheckRegExps){if(ALL_IRREGULARS.test(node.raw)){removeWhitespaceError(node)}}}function removeInvalidNodeErrorsInTemplateLiteral(node){if(typeof node.value.raw==="string"){if(ALL_IRREGULARS.test(node.value.raw)){removeWhitespaceError(node)}}}function removeInvalidNodeErrorsInComment(node){if(ALL_IRREGULARS.test(node.value)){removeWhitespaceError(node)}}function checkForIrregularWhitespace(node){const sourceLines=sourceCode.lines;sourceLines.forEach(((sourceLine,lineIndex)=>{const lineNumber=lineIndex+1;let match;while((match=IRREGULAR_WHITESPACE.exec(sourceLine))!==null){errors.push({node:node,messageId:"noIrregularWhitespace",loc:{start:{line:lineNumber,column:match.index},end:{line:lineNumber,column:match.index+match[0].length}}})}}))}function checkForIrregularLineTerminators(node){const source=sourceCode.getText(),sourceLines=sourceCode.lines,linebreaks=source.match(LINE_BREAK);let lastLineIndex=-1,match;while((match=IRREGULAR_LINE_TERMINATORS.exec(source))!==null){const lineIndex=linebreaks.indexOf(match[0],lastLineIndex+1)||0;errors.push({node:node,messageId:"noIrregularWhitespace",loc:{start:{line:lineIndex+1,column:sourceLines[lineIndex].length},end:{line:lineIndex+2,column:0}}});lastLineIndex=lineIndex}}function noop(){}const nodes={};if(ALL_IRREGULARS.test(sourceCode.getText())){nodes.Program=function(node){checkForIrregularWhitespace(node);checkForIrregularLineTerminators(node)};nodes.Identifier=removeInvalidNodeErrorsInIdentifierOrLiteral;nodes.Literal=removeInvalidNodeErrorsInIdentifierOrLiteral;nodes.TemplateElement=skipTemplates?removeInvalidNodeErrorsInTemplateLiteral:noop;nodes["Program:exit"]=function(){if(skipComments){commentNodes.forEach(removeInvalidNodeErrorsInComment)}errors.forEach((error=>context.report(error)))}}else{nodes.Program=noop}return nodes}};return noIrregularWhitespace}var noIterator;var hasRequiredNoIterator;function requireNoIterator(){if(hasRequiredNoIterator)return noIterator;hasRequiredNoIterator=1;const{getStaticPropertyName:getStaticPropertyName}=requireAstUtils();noIterator={meta:{type:"suggestion",docs:{description:"Disallow the use of the `__iterator__` property",recommended:false,url:"https://eslint.org/docs/rules/no-iterator"},schema:[],messages:{noIterator:"Reserved name '__iterator__'."}},create(context){return{MemberExpression(node){if(getStaticPropertyName(node)==="__iterator__"){context.report({node:node,messageId:"noIterator"})}}}}};return noIterator}var noLabelVar;var hasRequiredNoLabelVar;function requireNoLabelVar(){if(hasRequiredNoLabelVar)return noLabelVar;hasRequiredNoLabelVar=1;const astUtils=requireAstUtils();noLabelVar={meta:{type:"suggestion",docs:{description:"Disallow labels that share a name with a variable",recommended:false,url:"https://eslint.org/docs/rules/no-label-var"},schema:[],messages:{identifierClashWithLabel:"Found identifier with same name as label."}},create(context){function findIdentifier(scope,name){return astUtils.getVariableByName(scope,name)!==null}return{LabeledStatement(node){const scope=context.getScope();if(findIdentifier(scope,node.label.name)){context.report({node:node,messageId:"identifierClashWithLabel"})}}}}};return noLabelVar}var noLabels;var hasRequiredNoLabels;function requireNoLabels(){if(hasRequiredNoLabels)return noLabels;hasRequiredNoLabels=1;const astUtils=requireAstUtils();noLabels={meta:{type:"suggestion",docs:{description:"Disallow labeled statements",recommended:false,url:"https://eslint.org/docs/rules/no-labels"},schema:[{type:"object",properties:{allowLoop:{type:"boolean",default:false},allowSwitch:{type:"boolean",default:false}},additionalProperties:false}],messages:{unexpectedLabel:"Unexpected labeled statement.",unexpectedLabelInBreak:"Unexpected label in break statement.",unexpectedLabelInContinue:"Unexpected label in continue statement."}},create(context){const options=context.options[0];const allowLoop=options&&options.allowLoop;const allowSwitch=options&&options.allowSwitch;let scopeInfo=null;function getBodyKind(node){if(astUtils.isLoop(node)){return"loop"}if(node.type==="SwitchStatement"){return"switch"}return"other"}function isAllowed(kind){switch(kind){case"loop":return allowLoop;case"switch":return allowSwitch;default:return false}}function getKind(label){let info=scopeInfo;while(info){if(info.label===label){return info.kind}info=info.upper}return"other"}return{LabeledStatement(node){scopeInfo={label:node.label.name,kind:getBodyKind(node.body),upper:scopeInfo}},"LabeledStatement:exit"(node){if(!isAllowed(scopeInfo.kind)){context.report({node:node,messageId:"unexpectedLabel"})}scopeInfo=scopeInfo.upper},BreakStatement(node){if(node.label&&!isAllowed(getKind(node.label.name))){context.report({node:node,messageId:"unexpectedLabelInBreak"})}},ContinueStatement(node){if(node.label&&!isAllowed(getKind(node.label.name))){context.report({node:node,messageId:"unexpectedLabelInContinue"})}}}}};return noLabels}var noLoneBlocks;var hasRequiredNoLoneBlocks;function requireNoLoneBlocks(){if(hasRequiredNoLoneBlocks)return noLoneBlocks;hasRequiredNoLoneBlocks=1;noLoneBlocks={meta:{type:"suggestion",docs:{description:"Disallow unnecessary nested blocks",recommended:false,url:"https://eslint.org/docs/rules/no-lone-blocks"},schema:[],messages:{redundantBlock:"Block is redundant.",redundantNestedBlock:"Nested block is redundant."}},create(context){const loneBlocks=[];let ruleDef;function report(node){const messageId=node.parent.type==="BlockStatement"||node.parent.type==="StaticBlock"?"redundantNestedBlock":"redundantBlock";context.report({node:node,messageId:messageId})}function isLoneBlock(node){return node.parent.type==="BlockStatement"||node.parent.type==="StaticBlock"||node.parent.type==="Program"||node.parent.type==="SwitchCase"&&!(node.parent.consequent[0]===node&&node.parent.consequent.length===1)}function markLoneBlock(){if(loneBlocks.length===0){return}const block=context.getAncestors().pop();if(loneBlocks[loneBlocks.length-1]===block){loneBlocks.pop()}}ruleDef={BlockStatement(node){if(isLoneBlock(node)){report(node)}}};if(context.languageOptions.ecmaVersion>=2015){ruleDef={BlockStatement(node){if(isLoneBlock(node)){loneBlocks.push(node)}},"BlockStatement:exit"(node){if(loneBlocks.length>0&&loneBlocks[loneBlocks.length-1]===node){loneBlocks.pop();report(node)}else if((node.parent.type==="BlockStatement"||node.parent.type==="StaticBlock")&&node.parent.body.length===1){report(node)}}};ruleDef.VariableDeclaration=function(node){if(node.kind==="let"||node.kind==="const"){markLoneBlock()}};ruleDef.FunctionDeclaration=function(){if(context.getScope().isStrict){markLoneBlock()}};ruleDef.ClassDeclaration=markLoneBlock}return ruleDef}};return noLoneBlocks}var noLonelyIf;var hasRequiredNoLonelyIf;function requireNoLonelyIf(){if(hasRequiredNoLonelyIf)return noLonelyIf;hasRequiredNoLonelyIf=1;noLonelyIf={meta:{type:"suggestion",docs:{description:"Disallow `if` statements as the only statement in `else` blocks",recommended:false,url:"https://eslint.org/docs/rules/no-lonely-if"},schema:[],fixable:"code",messages:{unexpectedLonelyIf:"Unexpected if as the only statement in an else block."}},create(context){const sourceCode=context.getSourceCode();return{IfStatement(node){const ancestors=context.getAncestors(),parent=ancestors.pop(),grandparent=ancestors.pop();if(parent&&parent.type==="BlockStatement"&&parent.body.length===1&&grandparent&&grandparent.type==="IfStatement"&&parent===grandparent.alternate){context.report({node:node,messageId:"unexpectedLonelyIf",fix(fixer){const openingElseCurly=sourceCode.getFirstToken(parent);const closingElseCurly=sourceCode.getLastToken(parent);const elseKeyword=sourceCode.getTokenBefore(openingElseCurly);const tokenAfterElseBlock=sourceCode.getTokenAfter(closingElseCurly);const lastIfToken=sourceCode.getLastToken(node.consequent);const sourceText=sourceCode.getText();if(sourceText.slice(openingElseCurly.range[1],node.range[0]).trim()||sourceText.slice(node.range[1],closingElseCurly.range[0]).trim()){return null}if(node.consequent.type!=="BlockStatement"&&lastIfToken.value!==";"&&tokenAfterElseBlock&&(node.consequent.loc.end.line===tokenAfterElseBlock.loc.start.line||/^[([/+`-]/u.test(tokenAfterElseBlock.value)||lastIfToken.value==="++"||lastIfToken.value==="--")){return null}return fixer.replaceTextRange([openingElseCurly.range[0],closingElseCurly.range[1]],(elseKeyword.range[1]===openingElseCurly.range[0]?" ":"")+sourceCode.getText(node))}})}}}}};return noLonelyIf}var noLoopFunc;var hasRequiredNoLoopFunc;function requireNoLoopFunc(){if(hasRequiredNoLoopFunc)return noLoopFunc;hasRequiredNoLoopFunc=1;function getContainingLoopNode(node){for(let currentNode=node;currentNode.parent;currentNode=currentNode.parent){const parent=currentNode.parent;switch(parent.type){case"WhileStatement":case"DoWhileStatement":return parent;case"ForStatement":if(parent.init!==currentNode){return parent}break;case"ForInStatement":case"ForOfStatement":if(parent.right!==currentNode){return parent}break;case"ArrowFunctionExpression":case"FunctionExpression":case"FunctionDeclaration":return null}}return null}function getTopLoopNode(node,excludedNode){const border=excludedNode?excludedNode.range[1]:0;let retv=node;let containingLoopNode=node;while(containingLoopNode&&containingLoopNode.range[0]>=border){retv=containingLoopNode;containingLoopNode=getContainingLoopNode(containingLoopNode)}return retv}function isSafe(loopNode,reference){const variable=reference.resolved;const definition=variable&&variable.defs[0];const declaration=definition&&definition.parent;const kind=declaration&&declaration.type==="VariableDeclaration"?declaration.kind:"";if(kind==="const"){return true}if(kind==="let"&&declaration.range[0]>loopNode.range[0]&&declaration.range[1]<loopNode.range[1]){return true}const border=getTopLoopNode(loopNode,kind==="let"?declaration:null).range[0];function isSafeReference(upperRef){const id=upperRef.identifier;return!upperRef.isWrite()||variable.scope.variableScope===upperRef.from.variableScope&&id.range[0]<border}return Boolean(variable)&&variable.references.every(isSafeReference)}noLoopFunc={meta:{type:"suggestion",docs:{description:"Disallow function declarations that contain unsafe references inside loop statements",recommended:false,url:"https://eslint.org/docs/rules/no-loop-func"},schema:[],messages:{unsafeRefs:"Function declared in a loop contains unsafe references to variable(s) {{ varNames }}."}},create(context){function checkForLoops(node){const loopNode=getContainingLoopNode(node);if(!loopNode){return}const references=context.getScope().through;const unsafeRefs=references.filter((r=>!isSafe(loopNode,r))).map((r=>r.identifier.name));if(unsafeRefs.length>0){context.report({node:node,messageId:"unsafeRefs",data:{varNames:`'${unsafeRefs.join("', '")}'`}})}}return{ArrowFunctionExpression:checkForLoops,FunctionExpression:checkForLoops,FunctionDeclaration:checkForLoops}}};return noLoopFunc}var noLossOfPrecision;var hasRequiredNoLossOfPrecision;function requireNoLossOfPrecision(){if(hasRequiredNoLossOfPrecision)return noLossOfPrecision;hasRequiredNoLossOfPrecision=1;noLossOfPrecision={meta:{type:"problem",docs:{description:"Disallow literal numbers that lose precision",recommended:true,url:"https://eslint.org/docs/rules/no-loss-of-precision"},schema:[],messages:{noLossOfPrecision:"This number literal will lose precision at runtime."}},create(context){function isNumber(node){return typeof node.value==="number"}function getRaw(node){return node.raw.replace(/_/gu,"")}function isBaseTen(node){const prefixes=["0x","0X","0b","0B","0o","0O"];return prefixes.every((prefix=>!node.raw.startsWith(prefix)))&&!/^0[0-7]+$/u.test(node.raw)}function notBaseTenLosesPrecision(node){const rawString=getRaw(node).toUpperCase();let base=0;if(rawString.startsWith("0B")){base=2}else if(rawString.startsWith("0X")){base=16}else{base=8}return!rawString.endsWith(node.value.toString(base).toUpperCase())}function addDecimalPointToNumber(stringNumber){return`${stringNumber.slice(0,1)}.${stringNumber.slice(1)}`}function removeLeadingZeros(numberAsString){return numberAsString.replace(/^0*/u,"")}function removeTrailingZeros(numberAsString){return numberAsString.replace(/0*$/u,"")}function normalizeInteger(stringInteger){const significantDigits=removeTrailingZeros(removeLeadingZeros(stringInteger));return{magnitude:stringInteger.startsWith("0")?stringInteger.length-2:stringInteger.length-1,coefficient:addDecimalPointToNumber(significantDigits)}}function normalizeFloat(stringFloat){const trimmedFloat=removeLeadingZeros(stringFloat);if(trimmedFloat.startsWith(".")){const decimalDigits=trimmedFloat.split(".").pop();const significantDigits=removeLeadingZeros(decimalDigits);return{magnitude:significantDigits.length-decimalDigits.length-1,coefficient:addDecimalPointToNumber(significantDigits)}}return{magnitude:trimmedFloat.indexOf(".")-1,coefficient:addDecimalPointToNumber(trimmedFloat.replace(".",""))}}function convertNumberToScientificNotation(stringNumber){const splitNumber=stringNumber.replace("E","e").split("e");const originalCoefficient=splitNumber[0];const normalizedNumber=stringNumber.includes(".")?normalizeFloat(originalCoefficient):normalizeInteger(originalCoefficient);const normalizedCoefficient=normalizedNumber.coefficient;const magnitude=splitNumber.length>1?parseInt(splitNumber[1],10)+normalizedNumber.magnitude:normalizedNumber.magnitude;return`${normalizedCoefficient}e${magnitude}`}function baseTenLosesPrecision(node){const normalizedRawNumber=convertNumberToScientificNotation(getRaw(node));const requestedPrecision=normalizedRawNumber.split("e")[0].replace(".","").length;if(requestedPrecision>100){return true}const storedNumber=node.value.toPrecision(requestedPrecision);const normalizedStoredNumber=convertNumberToScientificNotation(storedNumber);return normalizedRawNumber!==normalizedStoredNumber}function losesPrecision(node){return isBaseTen(node)?baseTenLosesPrecision(node):notBaseTenLosesPrecision(node)}return{Literal(node){if(node.value&&isNumber(node)&&losesPrecision(node)){context.report({messageId:"noLossOfPrecision",node:node})}}}}};return noLossOfPrecision}var noMagicNumbers;var hasRequiredNoMagicNumbers;function requireNoMagicNumbers(){if(hasRequiredNoMagicNumbers)return noMagicNumbers;hasRequiredNoMagicNumbers=1;const astUtils=requireAstUtils();const MAX_ARRAY_LENGTH=2**32-1;function normalizeIgnoreValue(x){if(typeof x==="string"){return BigInt(x.slice(0,-1))}return x}noMagicNumbers={meta:{type:"suggestion",docs:{description:"Disallow magic numbers",recommended:false,url:"https://eslint.org/docs/rules/no-magic-numbers"},schema:[{type:"object",properties:{detectObjects:{type:"boolean",default:false},enforceConst:{type:"boolean",default:false},ignore:{type:"array",items:{anyOf:[{type:"number"},{type:"string",pattern:"^[+-]?(?:0|[1-9][0-9]*)n$"}]},uniqueItems:true},ignoreArrayIndexes:{type:"boolean",default:false},ignoreDefaultValues:{type:"boolean",default:false},ignoreClassFieldInitialValues:{type:"boolean",default:false}},additionalProperties:false}],messages:{useConst:"Number constants declarations must use 'const'.",noMagic:"No magic number: {{raw}}."}},create(context){const config=context.options[0]||{},detectObjects=!!config.detectObjects,enforceConst=!!config.enforceConst,ignore=new Set((config.ignore||[]).map(normalizeIgnoreValue)),ignoreArrayIndexes=!!config.ignoreArrayIndexes,ignoreDefaultValues=!!config.ignoreDefaultValues,ignoreClassFieldInitialValues=!!config.ignoreClassFieldInitialValues;const okTypes=detectObjects?[]:["ObjectExpression","Property","AssignmentExpression"];function isIgnoredValue(value){return ignore.has(value)}function isDefaultValue(fullNumberNode){const parent=fullNumberNode.parent;return parent.type==="AssignmentPattern"&&parent.right===fullNumberNode}function isClassFieldInitialValue(fullNumberNode){const parent=fullNumberNode.parent;return parent.type==="PropertyDefinition"&&parent.value===fullNumberNode}function isParseIntRadix(fullNumberNode){const parent=fullNumberNode.parent;return parent.type==="CallExpression"&&fullNumberNode===parent.arguments[1]&&(astUtils.isSpecificId(parent.callee,"parseInt")||astUtils.isSpecificMemberAccess(parent.callee,"Number","parseInt"))}function isJSXNumber(fullNumberNode){return fullNumberNode.parent.type.indexOf("JSX")===0}function isArrayIndex(fullNumberNode,value){const parent=fullNumberNode.parent;return parent.type==="MemberExpression"&&parent.property===fullNumberNode&&(Number.isInteger(value)||typeof value==="bigint")&&value>=0&&value<MAX_ARRAY_LENGTH}return{Literal(node){if(!astUtils.isNumericLiteral(node)){return}let fullNumberNode;let value;let raw;if(node.parent.type==="UnaryExpression"&&node.parent.operator==="-"){fullNumberNode=node.parent;value=-node.value;raw=`-${node.raw}`}else{fullNumberNode=node;value=node.value;raw=node.raw}const parent=fullNumberNode.parent;if(isIgnoredValue(value)||ignoreDefaultValues&&isDefaultValue(fullNumberNode)||ignoreClassFieldInitialValues&&isClassFieldInitialValue(fullNumberNode)||isParseIntRadix(fullNumberNode)||isJSXNumber(fullNumberNode)||ignoreArrayIndexes&&isArrayIndex(fullNumberNode,value)){return}if(parent.type==="VariableDeclarator"){if(enforceConst&&parent.parent.kind!=="const"){context.report({node:fullNumberNode,messageId:"useConst"})}}else if(!okTypes.includes(parent.type)||parent.type==="AssignmentExpression"&&parent.left.type==="Identifier"){context.report({node:fullNumberNode,messageId:"noMagic",data:{raw:raw}})}}}}};return noMagicNumbers}var isCombiningCharacter;var hasRequiredIsCombiningCharacter;function requireIsCombiningCharacter(){if(hasRequiredIsCombiningCharacter)return isCombiningCharacter;hasRequiredIsCombiningCharacter=1;isCombiningCharacter=function isCombiningCharacter(codePoint){return/^[\p{Mc}\p{Me}\p{Mn}]$/u.test(String.fromCodePoint(codePoint))};return isCombiningCharacter}var isEmojiModifier;var hasRequiredIsEmojiModifier;function requireIsEmojiModifier(){if(hasRequiredIsEmojiModifier)return isEmojiModifier;hasRequiredIsEmojiModifier=1;isEmojiModifier=function isEmojiModifier(code){return code>=127995&&code<=127999};return isEmojiModifier}var isRegionalIndicatorSymbol;var hasRequiredIsRegionalIndicatorSymbol;function requireIsRegionalIndicatorSymbol(){if(hasRequiredIsRegionalIndicatorSymbol)return isRegionalIndicatorSymbol;hasRequiredIsRegionalIndicatorSymbol=1;isRegionalIndicatorSymbol=function isRegionalIndicatorSymbol(code){return code>=127462&&code<=127487};return isRegionalIndicatorSymbol}var isSurrogatePair;var hasRequiredIsSurrogatePair;function requireIsSurrogatePair(){if(hasRequiredIsSurrogatePair)return isSurrogatePair;hasRequiredIsSurrogatePair=1;isSurrogatePair=function isSurrogatePair(lead,tail){return lead>=55296&&lead<56320&&tail>=56320&&tail<57344};return isSurrogatePair}var unicode;var hasRequiredUnicode;function requireUnicode(){if(hasRequiredUnicode)return unicode;hasRequiredUnicode=1;unicode={isCombiningCharacter:requireIsCombiningCharacter(),isEmojiModifier:requireIsEmojiModifier(),isRegionalIndicatorSymbol:requireIsRegionalIndicatorSymbol(),isSurrogatePair:requireIsSurrogatePair()};return unicode}var noMisleadingCharacterClass;var hasRequiredNoMisleadingCharacterClass;function requireNoMisleadingCharacterClass(){if(hasRequiredNoMisleadingCharacterClass)return noMisleadingCharacterClass;hasRequiredNoMisleadingCharacterClass=1;const{CALL:CALL,CONSTRUCT:CONSTRUCT,ReferenceTracker:ReferenceTracker,getStringIfConstant:getStringIfConstant}=requireEslintUtils();const{RegExpValidator:RegExpValidator,RegExpParser:RegExpParser,visitRegExpAST:visitRegExpAST}=requireRegexpp();const{isCombiningCharacter:isCombiningCharacter,isEmojiModifier:isEmojiModifier,isRegionalIndicatorSymbol:isRegionalIndicatorSymbol,isSurrogatePair:isSurrogatePair}=requireUnicode();const astUtils=requireAstUtils();const REGEXPP_LATEST_ECMA_VERSION=2022;function*iterateCharacterSequence(nodes){let seq=[];for(const node of nodes){switch(node.type){case"Character":seq.push(node.value);break;case"CharacterClassRange":seq.push(node.min.value);yield seq;seq=[node.max.value];break;case"CharacterSet":if(seq.length>0){yield seq;seq=[]}break}}if(seq.length>0){yield seq}}const hasCharacterSequence={surrogatePairWithoutUFlag(chars){return chars.some(((c,i)=>i!==0&&isSurrogatePair(chars[i-1],c)))},combiningClass(chars){return chars.some(((c,i)=>i!==0&&isCombiningCharacter(c)&&!isCombiningCharacter(chars[i-1])))},emojiModifier(chars){return chars.some(((c,i)=>i!==0&&isEmojiModifier(c)&&!isEmojiModifier(chars[i-1])))},regionalIndicatorSymbol(chars){return chars.some(((c,i)=>i!==0&&isRegionalIndicatorSymbol(c)&&isRegionalIndicatorSymbol(chars[i-1])))},zwj(chars){const lastIndex=chars.length-1;return chars.some(((c,i)=>i!==0&&i!==lastIndex&&c===8205&&chars[i-1]!==8205&&chars[i+1]!==8205))}};const kinds=Object.keys(hasCharacterSequence);noMisleadingCharacterClass={meta:{type:"problem",docs:{description:"Disallow characters which are made with multiple code points in character class syntax",recommended:true,url:"https://eslint.org/docs/rules/no-misleading-character-class"},hasSuggestions:true,schema:[],messages:{surrogatePairWithoutUFlag:"Unexpected surrogate pair in character class. Use 'u' flag.",combiningClass:"Unexpected combined character in character class.",emojiModifier:"Unexpected modified Emoji in character class.",regionalIndicatorSymbol:"Unexpected national flag in character class.",zwj:"Unexpected joined character sequence in character class.",suggestUnicodeFlag:"Add unicode 'u' flag to regex."}},create(context){const sourceCode=context.getSourceCode();const parser=new RegExpParser;function verify(node,pattern,flags,unicodeFixer){let patternNode;try{patternNode=parser.parsePattern(pattern,0,pattern.length,flags.includes("u"))}catch{return}const foundKinds=new Set;visitRegExpAST(patternNode,{onCharacterClassEnter(ccNode){for(const chars of iterateCharacterSequence(ccNode.elements)){for(const kind of kinds){if(hasCharacterSequence[kind](chars)){foundKinds.add(kind)}}}}});for(const kind of foundKinds){let suggest;if(kind==="surrogatePairWithoutUFlag"){suggest=[{messageId:"suggestUnicodeFlag",fix:unicodeFixer}]}context.report({node:node,messageId:kind,suggest:suggest})}}function isValidWithUnicodeFlag(pattern){const{ecmaVersion:ecmaVersion}=context.languageOptions;if(ecmaVersion<=5){return false}const validator=new RegExpValidator({ecmaVersion:Math.min(ecmaVersion,REGEXPP_LATEST_ECMA_VERSION)});try{validator.validatePattern(pattern,void 0,void 0,true)}catch{return false}return true}return{"Literal[regex]"(node){verify(node,node.regex.pattern,node.regex.flags,(fixer=>{if(!isValidWithUnicodeFlag(node.regex.pattern)){return null}return fixer.insertTextAfter(node,"u")}))},Program(){const scope=context.getScope();const tracker=new ReferenceTracker(scope);for(const{node:node}of tracker.iterateGlobalReferences({RegExp:{[CALL]:true,[CONSTRUCT]:true}})){const[patternNode,flagsNode]=node.arguments;const pattern=getStringIfConstant(patternNode,scope);const flags=getStringIfConstant(flagsNode,scope);if(typeof pattern==="string"){verify(node,pattern,flags||"",(fixer=>{if(!isValidWithUnicodeFlag(pattern)){return null}if(node.arguments.length===1){const penultimateToken=sourceCode.getLastToken(node,{skip:1});return fixer.insertTextAfter(penultimateToken,astUtils.isCommaToken(penultimateToken)?' "u",':', "u"')}if(flagsNode.type==="Literal"&&typeof flagsNode.value==="string"||flagsNode.type==="TemplateLiteral"){const range=[flagsNode.range[0],flagsNode.range[1]-1];return fixer.insertTextAfterRange(range,"u")}return null}))}}}}}};return noMisleadingCharacterClass}var noMixedOperators;var hasRequiredNoMixedOperators;function requireNoMixedOperators(){if(hasRequiredNoMixedOperators)return noMixedOperators;hasRequiredNoMixedOperators=1;const astUtils=requireAstUtils();const ARITHMETIC_OPERATORS=["+","-","*","/","%","**"];const BITWISE_OPERATORS=["&","|","^","~","<<",">>",">>>"];const COMPARISON_OPERATORS=["==","!=","===","!==",">",">=","<","<="];const LOGICAL_OPERATORS=["&&","||"];const RELATIONAL_OPERATORS=["in","instanceof"];const TERNARY_OPERATOR=["?:"];const COALESCE_OPERATOR=["??"];const ALL_OPERATORS=[].concat(ARITHMETIC_OPERATORS,BITWISE_OPERATORS,COMPARISON_OPERATORS,LOGICAL_OPERATORS,RELATIONAL_OPERATORS,TERNARY_OPERATOR,COALESCE_OPERATOR);const DEFAULT_GROUPS=[ARITHMETIC_OPERATORS,BITWISE_OPERATORS,COMPARISON_OPERATORS,LOGICAL_OPERATORS,RELATIONAL_OPERATORS];const TARGET_NODE_TYPE=/^(?:Binary|Logical|Conditional)Expression$/u;function normalizeOptions(options={}){const hasGroups=options.groups&&options.groups.length>0;const groups=hasGroups?options.groups:DEFAULT_GROUPS;const allowSamePrecedence=options.allowSamePrecedence!==false;return{groups:groups,allowSamePrecedence:allowSamePrecedence}}function includesBothInAGroup(groups,left,right){return groups.some((group=>group.includes(left)&&group.includes(right)))}function getChildNode(node){return node.type==="ConditionalExpression"?node.test:node.left}noMixedOperators={meta:{type:"suggestion",docs:{description:"Disallow mixed binary operators",recommended:false,url:"https://eslint.org/docs/rules/no-mixed-operators"},schema:[{type:"object",properties:{groups:{type:"array",items:{type:"array",items:{enum:ALL_OPERATORS},minItems:2,uniqueItems:true},uniqueItems:true},allowSamePrecedence:{type:"boolean",default:true}},additionalProperties:false}],messages:{unexpectedMixedOperator:"Unexpected mix of '{{leftOperator}}' and '{{rightOperator}}'. Use parentheses to clarify the intended order of operations."}},create(context){const sourceCode=context.getSourceCode();const options=normalizeOptions(context.options[0]);function shouldIgnore(node){const a=node;const b=node.parent;return!includesBothInAGroup(options.groups,a.operator,b.type==="ConditionalExpression"?"?:":b.operator)||options.allowSamePrecedence&&astUtils.getPrecedence(a)===astUtils.getPrecedence(b)}function isMixedWithParent(node){return node.operator!==node.parent.operator&&!astUtils.isParenthesised(sourceCode,node)}function getOperatorToken(node){return sourceCode.getTokenAfter(getChildNode(node),astUtils.isNotClosingParenToken)}function reportBothOperators(node){const parent=node.parent;const left=getChildNode(parent)===node?node:parent;const right=getChildNode(parent)!==node?node:parent;const data={leftOperator:left.operator||"?:",rightOperator:right.operator||"?:"};context.report({node:left,loc:getOperatorToken(left).loc,messageId:"unexpectedMixedOperator",data:data});context.report({node:right,loc:getOperatorToken(right).loc,messageId:"unexpectedMixedOperator",data:data})}function check(node){if(TARGET_NODE_TYPE.test(node.parent.type)&&isMixedWithParent(node)&&!shouldIgnore(node)){reportBothOperators(node)}}return{BinaryExpression:check,LogicalExpression:check}}};return noMixedOperators}var noMixedRequires;var hasRequiredNoMixedRequires;function requireNoMixedRequires(){if(hasRequiredNoMixedRequires)return noMixedRequires;hasRequiredNoMixedRequires=1;noMixedRequires={meta:{deprecated:true,replacedBy:[],type:"suggestion",docs:{description:"Disallow `require` calls to be mixed with regular variable declarations",recommended:false,url:"https://eslint.org/docs/rules/no-mixed-requires"},schema:[{oneOf:[{type:"boolean"},{type:"object",properties:{grouping:{type:"boolean"},allowCall:{type:"boolean"}},additionalProperties:false}]}],messages:{noMixRequire:"Do not mix 'require' and other declarations.",noMixCoreModuleFileComputed:"Do not mix core, module, file and computed requires."}},create(context){const options=context.options[0];let grouping=false,allowCall=false;if(typeof options==="object"){grouping=options.grouping;allowCall=options.allowCall}else{grouping=!!options}function getBuiltinModules(){return["assert","buffer","child_process","cluster","crypto","dgram","dns","domain","events","fs","http","https","net","os","path","punycode","querystring","readline","repl","smalloc","stream","string_decoder","tls","tty","url","util","v8","vm","zlib"]}const BUILTIN_MODULES=getBuiltinModules();const DECL_REQUIRE="require",DECL_UNINITIALIZED="uninitialized",DECL_OTHER="other";const REQ_CORE="core",REQ_FILE="file",REQ_MODULE="module",REQ_COMPUTED="computed";function getDeclarationType(initExpression){if(!initExpression){return DECL_UNINITIALIZED}if(initExpression.type==="CallExpression"&&initExpression.callee.type==="Identifier"&&initExpression.callee.name==="require"){return DECL_REQUIRE}if(allowCall&&initExpression.type==="CallExpression"&&initExpression.callee.type==="CallExpression"){return getDeclarationType(initExpression.callee)}if(initExpression.type==="MemberExpression"){return getDeclarationType(initExpression.object)}return DECL_OTHER}function inferModuleType(initExpression){if(initExpression.type==="MemberExpression"){return inferModuleType(initExpression.object)}if(initExpression.arguments.length===0){return REQ_COMPUTED}const arg=initExpression.arguments[0];if(arg.type!=="Literal"||typeof arg.value!=="string"){return REQ_COMPUTED}if(BUILTIN_MODULES.includes(arg.value)){return REQ_CORE}if(/^\.{0,2}\//u.test(arg.value)){return REQ_FILE}return REQ_MODULE}function isMixed(declarations){const contains={};declarations.forEach((declaration=>{const type=getDeclarationType(declaration.init);contains[type]=true}));return!!(contains[DECL_REQUIRE]&&(contains[DECL_UNINITIALIZED]||contains[DECL_OTHER]))}function isGrouped(declarations){const found={};declarations.forEach((declaration=>{if(getDeclarationType(declaration.init)===DECL_REQUIRE){found[inferModuleType(declaration.init)]=true}}));return Object.keys(found).length<=1}return{VariableDeclaration(node){if(isMixed(node.declarations)){context.report({node:node,messageId:"noMixRequire"})}else if(grouping&&!isGrouped(node.declarations)){context.report({node:node,messageId:"noMixCoreModuleFileComputed"})}}}}};return noMixedRequires}var noMixedSpacesAndTabs;var hasRequiredNoMixedSpacesAndTabs;function requireNoMixedSpacesAndTabs(){if(hasRequiredNoMixedSpacesAndTabs)return noMixedSpacesAndTabs;hasRequiredNoMixedSpacesAndTabs=1;noMixedSpacesAndTabs={meta:{type:"layout",docs:{description:"Disallow mixed spaces and tabs for indentation",recommended:true,url:"https://eslint.org/docs/rules/no-mixed-spaces-and-tabs"},schema:[{enum:["smart-tabs",true,false]}],messages:{mixedSpacesAndTabs:"Mixed spaces and tabs."}},create(context){const sourceCode=context.getSourceCode();let smartTabs;switch(context.options[0]){case true:case"smart-tabs":smartTabs=true;break;default:smartTabs=false}return{"Program:exit"(node){const lines=sourceCode.lines,comments=sourceCode.getAllComments(),ignoredCommentLines=new Set;comments.forEach((comment=>{for(let i=comment.loc.start.line+1;i<=comment.loc.end.line;i++){ignoredCommentLines.add(i)}}));let regex=/^(?=( +|\t+))\1(?:\t| )/u;if(smartTabs){regex=/^(?=(\t*))\1(?=( +))\2\t/u}lines.forEach(((line,i)=>{const match=regex.exec(line);if(match){const lineNumber=i+1;const loc={start:{line:lineNumber,column:match[0].length-2},end:{line:lineNumber,column:match[0].length}};if(!ignoredCommentLines.has(lineNumber)){const containingNode=sourceCode.getNodeByRangeIndex(sourceCode.getIndexFromLoc(loc.start));if(!(containingNode&&["Literal","TemplateElement"].includes(containingNode.type))){context.report({node:node,loc:loc,messageId:"mixedSpacesAndTabs"})}}}}))}}}};return noMixedSpacesAndTabs}var noMultiAssign;var hasRequiredNoMultiAssign;function requireNoMultiAssign(){if(hasRequiredNoMultiAssign)return noMultiAssign;hasRequiredNoMultiAssign=1;noMultiAssign={meta:{type:"suggestion",docs:{description:"Disallow use of chained assignment expressions",recommended:false,url:"https://eslint.org/docs/rules/no-multi-assign"},schema:[{type:"object",properties:{ignoreNonDeclaration:{type:"boolean",default:false}},additionalProperties:false}],messages:{unexpectedChain:"Unexpected chained assignment."}},create(context){const options=context.options[0]||{ignoreNonDeclaration:false};const selectors=["VariableDeclarator > AssignmentExpression.init","PropertyDefinition > AssignmentExpression.value"];if(!options.ignoreNonDeclaration){selectors.push("AssignmentExpression > AssignmentExpression.right")}return{[selectors](node){context.report({node:node,messageId:"unexpectedChain"})}}}};return noMultiAssign}var noMultiSpaces;var hasRequiredNoMultiSpaces;function requireNoMultiSpaces(){if(hasRequiredNoMultiSpaces)return noMultiSpaces;hasRequiredNoMultiSpaces=1;const astUtils=requireAstUtils();noMultiSpaces={meta:{type:"layout",docs:{description:"Disallow multiple spaces",recommended:false,url:"https://eslint.org/docs/rules/no-multi-spaces"},fixable:"whitespace",schema:[{type:"object",properties:{exceptions:{type:"object",patternProperties:{"^([A-Z][a-z]*)+$":{type:"boolean"}},additionalProperties:false},ignoreEOLComments:{type:"boolean",default:false}},additionalProperties:false}],messages:{multipleSpaces:"Multiple spaces found before '{{displayValue}}'."}},create(context){const sourceCode=context.getSourceCode();const options=context.options[0]||{};const ignoreEOLComments=options.ignoreEOLComments;const exceptions=Object.assign({Property:true},options.exceptions);const hasExceptions=Object.keys(exceptions).some((key=>exceptions[key]));function formatReportedCommentValue(token){const valueLines=token.value.split("\n");const value=valueLines[0];const formattedValue=`${value.slice(0,12)}...`;return valueLines.length===1&&value.length<=12?value:formattedValue}return{Program(){sourceCode.tokensAndComments.forEach(((leftToken,leftIndex,tokensAndComments)=>{if(leftIndex===tokensAndComments.length-1){return}const rightToken=tokensAndComments[leftIndex+1];if(!sourceCode.text.slice(leftToken.range[1],rightToken.range[0]).includes("  ")||leftToken.loc.end.line<rightToken.loc.start.line){return}if(ignoreEOLComments&&astUtils.isCommentToken(rightToken)&&(leftIndex===tokensAndComments.length-2||rightToken.loc.end.line<tokensAndComments[leftIndex+2].loc.start.line)){return}if(hasExceptions){const parentNode=sourceCode.getNodeByRangeIndex(rightToken.range[0]-1);if(parentNode&&exceptions[parentNode.type]){return}}let displayValue;if(rightToken.type==="Block"){displayValue=`/*${formatReportedCommentValue(rightToken)}*/`}else if(rightToken.type==="Line"){displayValue=`//${formatReportedCommentValue(rightToken)}`}else{displayValue=rightToken.value}context.report({node:rightToken,loc:{start:leftToken.loc.end,end:rightToken.loc.start},messageId:"multipleSpaces",data:{displayValue:displayValue},fix:fixer=>fixer.replaceTextRange([leftToken.range[1],rightToken.range[0]]," ")})}))}}}};return noMultiSpaces}var noMultiStr;var hasRequiredNoMultiStr;function requireNoMultiStr(){if(hasRequiredNoMultiStr)return noMultiStr;hasRequiredNoMultiStr=1;const astUtils=requireAstUtils();noMultiStr={meta:{type:"suggestion",docs:{description:"Disallow multiline strings",recommended:false,url:"https://eslint.org/docs/rules/no-multi-str"},schema:[],messages:{multilineString:"Multiline support is limited to browsers supporting ES5 only."}},create(context){function isJSXElement(node){return node.type.indexOf("JSX")===0}return{Literal(node){if(astUtils.LINEBREAK_MATCHER.test(node.raw)&&!isJSXElement(node.parent)){context.report({node:node,messageId:"multilineString"})}}}}};return noMultiStr}var noMultipleEmptyLines;var hasRequiredNoMultipleEmptyLines;function requireNoMultipleEmptyLines(){if(hasRequiredNoMultipleEmptyLines)return noMultipleEmptyLines;hasRequiredNoMultipleEmptyLines=1;noMultipleEmptyLines={meta:{type:"layout",docs:{description:"Disallow multiple empty lines",recommended:false,url:"https://eslint.org/docs/rules/no-multiple-empty-lines"},fixable:"whitespace",schema:[{type:"object",properties:{max:{type:"integer",minimum:0},maxEOF:{type:"integer",minimum:0},maxBOF:{type:"integer",minimum:0}},required:["max"],additionalProperties:false}],messages:{blankBeginningOfFile:"Too many blank lines at the beginning of file. Max of {{max}} allowed.",blankEndOfFile:"Too many blank lines at the end of file. Max of {{max}} allowed.",consecutiveBlank:"More than {{max}} blank {{pluralizedLines}} not allowed."}},create(context){let max=2,maxEOF=max,maxBOF=max;if(context.options.length){max=context.options[0].max;maxEOF=typeof context.options[0].maxEOF!=="undefined"?context.options[0].maxEOF:max;maxBOF=typeof context.options[0].maxBOF!=="undefined"?context.options[0].maxBOF:max}const sourceCode=context.getSourceCode();const allLines=sourceCode.lines[sourceCode.lines.length-1]===""?sourceCode.lines.slice(0,-1):sourceCode.lines;const templateLiteralLines=new Set;return{TemplateLiteral(node){node.quasis.forEach((literalPart=>{for(let ignoredLine=literalPart.loc.start.line;ignoredLine<literalPart.loc.end.line;ignoredLine++){templateLiteralLines.add(ignoredLine)}}))},"Program:exit"(node){return allLines.reduce(((nonEmptyLineNumbers,line,index)=>{if(line.trim()||templateLiteralLines.has(index+1)){nonEmptyLineNumbers.push(index+1)}return nonEmptyLineNumbers}),[]).concat(allLines.length+1).reduce(((lastLineNumber,lineNumber)=>{let messageId,maxAllowed;if(lastLineNumber===0){messageId="blankBeginningOfFile";maxAllowed=maxBOF}else if(lineNumber===allLines.length+1){messageId="blankEndOfFile";maxAllowed=maxEOF}else{messageId="consecutiveBlank";maxAllowed=max}if(lineNumber-lastLineNumber-1>maxAllowed){context.report({node:node,loc:{start:{line:lastLineNumber+maxAllowed+1,column:0},end:{line:lineNumber,column:0}},messageId:messageId,data:{max:maxAllowed,pluralizedLines:maxAllowed===1?"line":"lines"},fix(fixer){const rangeStart=sourceCode.getIndexFromLoc({line:lastLineNumber+1,column:0});const lineNumberAfterRemovedLines=lineNumber-maxAllowed;const rangeEnd=lineNumberAfterRemovedLines<=allLines.length?sourceCode.getIndexFromLoc({line:lineNumberAfterRemovedLines,column:0}):sourceCode.text.length;return fixer.removeRange([rangeStart,rangeEnd])}})}return lineNumber}),0)}}}};return noMultipleEmptyLines}var noNativeReassign;var hasRequiredNoNativeReassign;function requireNoNativeReassign(){if(hasRequiredNoNativeReassign)return noNativeReassign;hasRequiredNoNativeReassign=1;noNativeReassign={meta:{type:"suggestion",docs:{description:"Disallow assignments to native objects or read-only global variables",recommended:false,url:"https://eslint.org/docs/rules/no-native-reassign"},deprecated:true,replacedBy:["no-global-assign"],schema:[{type:"object",properties:{exceptions:{type:"array",items:{type:"string"},uniqueItems:true}},additionalProperties:false}],messages:{nativeReassign:"Read-only global '{{name}}' should not be modified."}},create(context){const config=context.options[0];const exceptions=config&&config.exceptions||[];function checkReference(reference,index,references){const identifier=reference.identifier;if(reference.init===false&&reference.isWrite()&&(index===0||references[index-1].identifier!==identifier)){context.report({node:identifier,messageId:"nativeReassign",data:identifier})}}function checkVariable(variable){if(variable.writeable===false&&!exceptions.includes(variable.name)){variable.references.forEach(checkReference)}}return{Program(){const globalScope=context.getScope();globalScope.variables.forEach(checkVariable)}}}};return noNativeReassign}var noNegatedCondition;var hasRequiredNoNegatedCondition;function requireNoNegatedCondition(){if(hasRequiredNoNegatedCondition)return noNegatedCondition;hasRequiredNoNegatedCondition=1;noNegatedCondition={meta:{type:"suggestion",docs:{description:"Disallow negated conditions",recommended:false,url:"https://eslint.org/docs/rules/no-negated-condition"},schema:[],messages:{unexpectedNegated:"Unexpected negated condition."}},create(context){function hasElseWithoutCondition(node){return node.alternate&&node.alternate.type!=="IfStatement"}function isNegatedUnaryExpression(test){return test.type==="UnaryExpression"&&test.operator==="!"}function isNegatedBinaryExpression(test){return test.type==="BinaryExpression"&&(test.operator==="!="||test.operator==="!==")}function isNegatedIf(node){return isNegatedUnaryExpression(node.test)||isNegatedBinaryExpression(node.test)}return{IfStatement(node){if(!hasElseWithoutCondition(node)){return}if(isNegatedIf(node)){context.report({node:node,messageId:"unexpectedNegated"})}},ConditionalExpression(node){if(isNegatedIf(node)){context.report({node:node,messageId:"unexpectedNegated"})}}}}};return noNegatedCondition}var noNegatedInLhs;var hasRequiredNoNegatedInLhs;function requireNoNegatedInLhs(){if(hasRequiredNoNegatedInLhs)return noNegatedInLhs;hasRequiredNoNegatedInLhs=1;noNegatedInLhs={meta:{type:"problem",docs:{description:"Disallow negating the left operand in `in` expressions",recommended:false,url:"https://eslint.org/docs/rules/no-negated-in-lhs"},replacedBy:["no-unsafe-negation"],deprecated:true,schema:[],messages:{negatedLHS:"The 'in' expression's left operand is negated."}},create(context){return{BinaryExpression(node){if(node.operator==="in"&&node.left.type==="UnaryExpression"&&node.left.operator==="!"){context.report({node:node,messageId:"negatedLHS"})}}}}};return noNegatedInLhs}var noNestedTernary;var hasRequiredNoNestedTernary;function requireNoNestedTernary(){if(hasRequiredNoNestedTernary)return noNestedTernary;hasRequiredNoNestedTernary=1;noNestedTernary={meta:{type:"suggestion",docs:{description:"Disallow nested ternary expressions",recommended:false,url:"https://eslint.org/docs/rules/no-nested-ternary"},schema:[],messages:{noNestedTernary:"Do not nest ternary expressions."}},create(context){return{ConditionalExpression(node){if(node.alternate.type==="ConditionalExpression"||node.consequent.type==="ConditionalExpression"){context.report({node:node,messageId:"noNestedTernary"})}}}}};return noNestedTernary}var noNew;var hasRequiredNoNew;function requireNoNew(){if(hasRequiredNoNew)return noNew;hasRequiredNoNew=1;noNew={meta:{type:"suggestion",docs:{description:"Disallow `new` operators outside of assignments or comparisons",recommended:false,url:"https://eslint.org/docs/rules/no-new"},schema:[],messages:{noNewStatement:"Do not use 'new' for side effects."}},create(context){return{"ExpressionStatement > NewExpression"(node){context.report({node:node.parent,messageId:"noNewStatement"})}}}};return noNew}var noNewFunc;var hasRequiredNoNewFunc;function requireNoNewFunc(){if(hasRequiredNoNewFunc)return noNewFunc;hasRequiredNoNewFunc=1;const astUtils=requireAstUtils();const callMethods=new Set(["apply","bind","call"]);noNewFunc={meta:{type:"suggestion",docs:{description:"Disallow `new` operators with the `Function` object",recommended:false,url:"https://eslint.org/docs/rules/no-new-func"},schema:[],messages:{noFunctionConstructor:"The Function constructor is eval."}},create(context){return{"Program:exit"(){const globalScope=context.getScope();const variable=globalScope.set.get("Function");if(variable&&variable.defs.length===0){variable.references.forEach((ref=>{const node=ref.identifier;const{parent:parent}=node;let evalNode;if(parent){if(node===parent.callee&&(parent.type==="NewExpression"||parent.type==="CallExpression")){evalNode=parent}else if(parent.type==="MemberExpression"&&node===parent.object&&callMethods.has(astUtils.getStaticPropertyName(parent))){const maybeCallee=parent.parent.type==="ChainExpression"?parent.parent:parent;if(maybeCallee.parent.type==="CallExpression"&&maybeCallee.parent.callee===maybeCallee){evalNode=maybeCallee.parent}}}if(evalNode){context.report({node:evalNode,messageId:"noFunctionConstructor"})}}))}}}}};return noNewFunc}var noNewNativeNonconstructor;var hasRequiredNoNewNativeNonconstructor;function requireNoNewNativeNonconstructor(){if(hasRequiredNoNewNativeNonconstructor)return noNewNativeNonconstructor;hasRequiredNoNewNativeNonconstructor=1;const nonConstructorGlobalFunctionNames=["Symbol","BigInt"];noNewNativeNonconstructor={meta:{type:"problem",docs:{description:"Disallow `new` operators with global non-constructor functions",recommended:false,url:"https://eslint.org/docs/rules/no-new-native-nonconstructor"},schema:[],messages:{noNewNonconstructor:"`{{name}}` cannot be called as a constructor."}},create(context){return{"Program:exit"(){const globalScope=context.getScope();for(const nonConstructorName of nonConstructorGlobalFunctionNames){const variable=globalScope.set.get(nonConstructorName);if(variable&&variable.defs.length===0){variable.references.forEach((ref=>{const node=ref.identifier;const parent=node.parent;if(parent&&parent.type==="NewExpression"&&parent.callee===node){context.report({node:node,messageId:"noNewNonconstructor",data:{name:nonConstructorName}})}}))}}}}}};return noNewNativeNonconstructor}var noNewObject;var hasRequiredNoNewObject;function requireNoNewObject(){if(hasRequiredNoNewObject)return noNewObject;hasRequiredNoNewObject=1;const astUtils=requireAstUtils();noNewObject={meta:{type:"suggestion",docs:{description:"Disallow `Object` constructors",recommended:false,url:"https://eslint.org/docs/rules/no-new-object"},schema:[],messages:{preferLiteral:"The object literal notation {} is preferable."}},create(context){return{NewExpression(node){const variable=astUtils.getVariableByName(context.getScope(),node.callee.name);if(variable&&variable.identifiers.length>0){return}if(node.callee.name==="Object"){context.report({node:node,messageId:"preferLiteral"})}}}}};return noNewObject}var noNewRequire;var hasRequiredNoNewRequire;function requireNoNewRequire(){if(hasRequiredNoNewRequire)return noNewRequire;hasRequiredNoNewRequire=1;noNewRequire={meta:{deprecated:true,replacedBy:[],type:"suggestion",docs:{description:"Disallow `new` operators with calls to `require`",recommended:false,url:"https://eslint.org/docs/rules/no-new-require"},schema:[],messages:{noNewRequire:"Unexpected use of new with require."}},create(context){return{NewExpression(node){if(node.callee.type==="Identifier"&&node.callee.name==="require"){context.report({node:node,messageId:"noNewRequire"})}}}}};return noNewRequire}var noNewSymbol;var hasRequiredNoNewSymbol;function requireNoNewSymbol(){if(hasRequiredNoNewSymbol)return noNewSymbol;hasRequiredNoNewSymbol=1;noNewSymbol={meta:{type:"problem",docs:{description:"Disallow `new` operators with the `Symbol` object",recommended:true,url:"https://eslint.org/docs/rules/no-new-symbol"},schema:[],messages:{noNewSymbol:"`Symbol` cannot be called as a constructor."}},create(context){return{"Program:exit"(){const globalScope=context.getScope();const variable=globalScope.set.get("Symbol");if(variable&&variable.defs.length===0){variable.references.forEach((ref=>{const node=ref.identifier;const parent=node.parent;if(parent&&parent.type==="NewExpression"&&parent.callee===node){context.report({node:node,messageId:"noNewSymbol"})}}))}}}}};return noNewSymbol}var noNewWrappers;var hasRequiredNoNewWrappers;function requireNoNewWrappers(){if(hasRequiredNoNewWrappers)return noNewWrappers;hasRequiredNoNewWrappers=1;noNewWrappers={meta:{type:"suggestion",docs:{description:"Disallow `new` operators with the `String`, `Number`, and `Boolean` objects",recommended:false,url:"https://eslint.org/docs/rules/no-new-wrappers"},schema:[],messages:{noConstructor:"Do not use {{fn}} as a constructor."}},create(context){return{NewExpression(node){const wrapperObjects=["String","Number","Boolean"];if(wrapperObjects.includes(node.callee.name)){context.report({node:node,messageId:"noConstructor",data:{fn:node.callee.name}})}}}}};return noNewWrappers}var noNonoctalDecimalEscape;var hasRequiredNoNonoctalDecimalEscape;function requireNoNonoctalDecimalEscape(){if(hasRequiredNoNonoctalDecimalEscape)return noNonoctalDecimalEscape;hasRequiredNoNonoctalDecimalEscape=1;const QUICK_TEST_REGEX=/\\[89]/u;function getUnicodeEscape(character){return`\\u${character.charCodeAt(0).toString(16).padStart(4,"0")}`}noNonoctalDecimalEscape={meta:{type:"suggestion",docs:{description:"Disallow `\\8` and `\\9` escape sequences in string literals",recommended:true,url:"https://eslint.org/docs/rules/no-nonoctal-decimal-escape"},hasSuggestions:true,schema:[],messages:{decimalEscape:"Don't use '{{decimalEscape}}' escape sequence.",refactor:"Replace '{{original}}' with '{{replacement}}'. This maintains the current functionality.",escapeBackslash:"Replace '{{original}}' with '{{replacement}}' to include the actual backslash character."}},create(context){const sourceCode=context.getSourceCode();function createSuggestion(messageId,range,replacement){return{messageId:messageId,data:{original:sourceCode.getText().slice(...range),replacement:replacement},fix(fixer){return fixer.replaceTextRange(range,replacement)}}}return{Literal(node){if(typeof node.value!=="string"){return}if(!QUICK_TEST_REGEX.test(node.raw)){return}const regex=/(?:[^\\]|(?<previousEscape>\\.))*?(?<decimalEscape>\\[89])/suy;let match;while(match=regex.exec(node.raw)){const{previousEscape:previousEscape,decimalEscape:decimalEscape}=match.groups;const decimalEscapeRangeEnd=node.range[0]+match.index+match[0].length;const decimalEscapeRangeStart=decimalEscapeRangeEnd-decimalEscape.length;const decimalEscapeRange=[decimalEscapeRangeStart,decimalEscapeRangeEnd];const suggest=[];if(previousEscape==="\\0"){suggest.push(createSuggestion("refactor",[decimalEscapeRangeStart-previousEscape.length,decimalEscapeRangeEnd],`${getUnicodeEscape("\0")}${decimalEscape[1]}`),createSuggestion("refactor",decimalEscapeRange,getUnicodeEscape(decimalEscape[1])))}else{suggest.push(createSuggestion("refactor",decimalEscapeRange,decimalEscape[1]))}suggest.push(createSuggestion("escapeBackslash",decimalEscapeRange,`\\${decimalEscape}`));context.report({node:node,loc:{start:sourceCode.getLocFromIndex(decimalEscapeRangeStart),end:sourceCode.getLocFromIndex(decimalEscapeRangeEnd)},messageId:"decimalEscape",data:{decimalEscape:decimalEscape},suggest:suggest})}}}}};return noNonoctalDecimalEscape}var noObjCalls;var hasRequiredNoObjCalls;function requireNoObjCalls(){if(hasRequiredNoObjCalls)return noObjCalls;hasRequiredNoObjCalls=1;const{CALL:CALL,CONSTRUCT:CONSTRUCT,ReferenceTracker:ReferenceTracker}=requireEslintUtils();const getPropertyName=requireAstUtils().getStaticPropertyName;const nonCallableGlobals=["Atomics","JSON","Math","Reflect","Intl"];function getReportNodeName(node){if(node.type==="ChainExpression"){return getReportNodeName(node.expression)}if(node.type==="MemberExpression"){return getPropertyName(node)}return node.name}noObjCalls={meta:{type:"problem",docs:{description:"Disallow calling global object properties as functions",recommended:true,url:"https://eslint.org/docs/rules/no-obj-calls"},schema:[],messages:{unexpectedCall:"'{{name}}' is not a function.",unexpectedRefCall:"'{{name}}' is reference to '{{ref}}', which is not a function."}},create(context){return{Program(){const scope=context.getScope();const tracker=new ReferenceTracker(scope);const traceMap={};for(const g of nonCallableGlobals){traceMap[g]={[CALL]:true,[CONSTRUCT]:true}}for(const{node:node,path:path}of tracker.iterateGlobalReferences(traceMap)){const name=getReportNodeName(node.callee);const ref=path[0];const messageId=name===ref?"unexpectedCall":"unexpectedRefCall";context.report({node:node,messageId:messageId,data:{name:name,ref:ref}})}}}}};return noObjCalls}var noOctal;var hasRequiredNoOctal;function requireNoOctal(){if(hasRequiredNoOctal)return noOctal;hasRequiredNoOctal=1;noOctal={meta:{type:"suggestion",docs:{description:"Disallow octal literals",recommended:true,url:"https://eslint.org/docs/rules/no-octal"},schema:[],messages:{noOctal:"Octal literals should not be used."}},create(context){return{Literal(node){if(typeof node.value==="number"&&/^0[0-9]/u.test(node.raw)){context.report({node:node,messageId:"noOctal"})}}}}};return noOctal}var noOctalEscape;var hasRequiredNoOctalEscape;function requireNoOctalEscape(){if(hasRequiredNoOctalEscape)return noOctalEscape;hasRequiredNoOctalEscape=1;noOctalEscape={meta:{type:"suggestion",docs:{description:"Disallow octal escape sequences in string literals",recommended:false,url:"https://eslint.org/docs/rules/no-octal-escape"},schema:[],messages:{octalEscapeSequence:"Don't use octal: '\\{{sequence}}'. Use '\\u....' instead."}},create(context){return{Literal(node){if(typeof node.value!=="string"){return}const match=node.raw.match(/^(?:[^\\]|\\.)*?\\([0-3][0-7]{1,2}|[4-7][0-7]|0(?=[89])|[1-7])/su);if(match){context.report({node:node,messageId:"octalEscapeSequence",data:{sequence:match[1]}})}}}}};return noOctalEscape}var noParamReassign;var hasRequiredNoParamReassign;function requireNoParamReassign(){if(hasRequiredNoParamReassign)return noParamReassign;hasRequiredNoParamReassign=1;const stopNodePattern=/(?:Statement|Declaration|Function(?:Expression)?|Program)$/u;noParamReassign={meta:{type:"suggestion",docs:{description:"Disallow reassigning `function` parameters",recommended:false,url:"https://eslint.org/docs/rules/no-param-reassign"},schema:[{oneOf:[{type:"object",properties:{props:{enum:[false]}},additionalProperties:false},{type:"object",properties:{props:{enum:[true]},ignorePropertyModificationsFor:{type:"array",items:{type:"string"},uniqueItems:true},ignorePropertyModificationsForRegex:{type:"array",items:{type:"string"},uniqueItems:true}},additionalProperties:false}]}],messages:{assignmentToFunctionParam:"Assignment to function parameter '{{name}}'.",assignmentToFunctionParamProp:"Assignment to property of function parameter '{{name}}'."}},create(context){const props=context.options[0]&&context.options[0].props;const ignoredPropertyAssignmentsFor=context.options[0]&&context.options[0].ignorePropertyModificationsFor||[];const ignoredPropertyAssignmentsForRegex=context.options[0]&&context.options[0].ignorePropertyModificationsForRegex||[];function isModifyingProp(reference){let node=reference.identifier;let parent=node.parent;while(parent&&(!stopNodePattern.test(parent.type)||parent.type==="ForInStatement"||parent.type==="ForOfStatement")){switch(parent.type){case"AssignmentExpression":return parent.left===node;case"UpdateExpression":return true;case"UnaryExpression":if(parent.operator==="delete"){return true}break;case"ForInStatement":case"ForOfStatement":if(parent.left===node){return true}return false;case"CallExpression":if(parent.callee!==node){return false}break;case"MemberExpression":if(parent.property===node){return false}break;case"Property":if(parent.key===node){return false}break;case"ConditionalExpression":if(parent.test===node){return false}break}node=parent;parent=node.parent}return false}function isIgnoredPropertyAssignment(identifierName){return ignoredPropertyAssignmentsFor.includes(identifierName)||ignoredPropertyAssignmentsForRegex.some((ignored=>new RegExp(ignored,"u").test(identifierName)))}function checkReference(reference,index,references){const identifier=reference.identifier;if(identifier&&!reference.init&&(index===0||references[index-1].identifier!==identifier)){if(reference.isWrite()){context.report({node:identifier,messageId:"assignmentToFunctionParam",data:{name:identifier.name}})}else if(props&&isModifyingProp(reference)&&!isIgnoredPropertyAssignment(identifier.name)){context.report({node:identifier,messageId:"assignmentToFunctionParamProp",data:{name:identifier.name}})}}}function checkVariable(variable){if(variable.defs[0].type==="Parameter"){variable.references.forEach(checkReference)}}function checkForFunction(node){context.getDeclaredVariables(node).forEach(checkVariable)}return{"FunctionDeclaration:exit":checkForFunction,"FunctionExpression:exit":checkForFunction,"ArrowFunctionExpression:exit":checkForFunction}}};return noParamReassign}var noPathConcat;var hasRequiredNoPathConcat;function requireNoPathConcat(){if(hasRequiredNoPathConcat)return noPathConcat;hasRequiredNoPathConcat=1;noPathConcat={meta:{deprecated:true,replacedBy:[],type:"suggestion",docs:{description:"Disallow string concatenation with `__dirname` and `__filename`",recommended:false,url:"https://eslint.org/docs/rules/no-path-concat"},schema:[],messages:{usePathFunctions:"Use path.join() or path.resolve() instead of + to create paths."}},create(context){const MATCHER=/^__(?:dir|file)name$/u;return{BinaryExpression(node){const left=node.left,right=node.right;if(node.operator==="+"&&(left.type==="Identifier"&&MATCHER.test(left.name)||right.type==="Identifier"&&MATCHER.test(right.name))){context.report({node:node,messageId:"usePathFunctions"})}}}}};return noPathConcat}var noPlusplus;var hasRequiredNoPlusplus;function requireNoPlusplus(){if(hasRequiredNoPlusplus)return noPlusplus;hasRequiredNoPlusplus=1;function isForStatementUpdate(node){const parent=node.parent;return parent.type==="ForStatement"&&parent.update===node}function isForLoopAfterthought(node){const parent=node.parent;if(parent.type==="SequenceExpression"){return isForLoopAfterthought(parent)}return isForStatementUpdate(node)}noPlusplus={meta:{type:"suggestion",docs:{description:"Disallow the unary operators `++` and `--`",recommended:false,url:"https://eslint.org/docs/rules/no-plusplus"},schema:[{type:"object",properties:{allowForLoopAfterthoughts:{type:"boolean",default:false}},additionalProperties:false}],messages:{unexpectedUnaryOp:"Unary operator '{{operator}}' used."}},create(context){const config=context.options[0];let allowForLoopAfterthoughts=false;if(typeof config==="object"){allowForLoopAfterthoughts=config.allowForLoopAfterthoughts===true}return{UpdateExpression(node){if(allowForLoopAfterthoughts&&isForLoopAfterthought(node)){return}context.report({node:node,messageId:"unexpectedUnaryOp",data:{operator:node.operator}})}}}};return noPlusplus}var noProcessEnv;var hasRequiredNoProcessEnv;function requireNoProcessEnv(){if(hasRequiredNoProcessEnv)return noProcessEnv;hasRequiredNoProcessEnv=1;noProcessEnv={meta:{deprecated:true,replacedBy:[],type:"suggestion",docs:{description:"Disallow the use of `process.env`",recommended:false,url:"https://eslint.org/docs/rules/no-process-env"},schema:[],messages:{unexpectedProcessEnv:"Unexpected use of process.env."}},create(context){return{MemberExpression(node){const objectName=node.object.name,propertyName=node.property.name;if(objectName==="process"&&!node.computed&&propertyName&&propertyName==="env"){context.report({node:node,messageId:"unexpectedProcessEnv"})}}}}};return noProcessEnv}var noProcessExit;var hasRequiredNoProcessExit;function requireNoProcessExit(){if(hasRequiredNoProcessExit)return noProcessExit;hasRequiredNoProcessExit=1;noProcessExit={meta:{deprecated:true,replacedBy:[],type:"suggestion",docs:{description:"Disallow the use of `process.exit()`",recommended:false,url:"https://eslint.org/docs/rules/no-process-exit"},schema:[],messages:{noProcessExit:"Don't use process.exit(); throw an error instead."}},create(context){return{"CallExpression > MemberExpression.callee[object.name = 'process'][property.name = 'exit']"(node){context.report({node:node.parent,messageId:"noProcessExit"})}}}};return noProcessExit}var noPromiseExecutorReturn;var hasRequiredNoPromiseExecutorReturn;function requireNoPromiseExecutorReturn(){if(hasRequiredNoPromiseExecutorReturn)return noPromiseExecutorReturn;hasRequiredNoPromiseExecutorReturn=1;const{findVariable:findVariable}=requireEslintUtils();const functionTypesToCheck=new Set(["ArrowFunctionExpression","FunctionExpression"]);function isGlobalReference(node,scope){const variable=findVariable(scope,node);return variable!==null&&variable.scope.type==="global"&&variable.defs.length===0}function getOuterScope(scope){const upper=scope.upper;if(upper.type==="function-expression-name"){return upper.upper}return upper}function isPromiseExecutor(node,scope){const parent=node.parent;return parent.type==="NewExpression"&&parent.arguments[0]===node&&parent.callee.type==="Identifier"&&parent.callee.name==="Promise"&&isGlobalReference(parent.callee,getOuterScope(scope))}noPromiseExecutorReturn={meta:{type:"problem",docs:{description:"Disallow returning values from Promise executor functions",recommended:false,url:"https://eslint.org/docs/rules/no-promise-executor-return"},schema:[],messages:{returnsValue:"Return values from promise executor functions cannot be read."}},create(context){let funcInfo=null;function report(node){context.report({node:node,messageId:"returnsValue"})}return{onCodePathStart(_,node){funcInfo={upper:funcInfo,shouldCheck:functionTypesToCheck.has(node.type)&&isPromiseExecutor(node,context.getScope())};if(funcInfo.shouldCheck&&node.type==="ArrowFunctionExpression"&&node.expression){report(node.body)}},onCodePathEnd(){funcInfo=funcInfo.upper},ReturnStatement(node){if(funcInfo.shouldCheck&&node.argument){report(node)}}}}};return noPromiseExecutorReturn}var noProto;var hasRequiredNoProto;function requireNoProto(){if(hasRequiredNoProto)return noProto;hasRequiredNoProto=1;const{getStaticPropertyName:getStaticPropertyName}=requireAstUtils();noProto={meta:{type:"suggestion",docs:{description:"Disallow the use of the `__proto__` property",recommended:false,url:"https://eslint.org/docs/rules/no-proto"},schema:[],messages:{unexpectedProto:"The '__proto__' property is deprecated."}},create(context){return{MemberExpression(node){if(getStaticPropertyName(node)==="__proto__"){context.report({node:node,messageId:"unexpectedProto"})}}}}};return noProto}var noPrototypeBuiltins;var hasRequiredNoPrototypeBuiltins;function requireNoPrototypeBuiltins(){if(hasRequiredNoPrototypeBuiltins)return noPrototypeBuiltins;hasRequiredNoPrototypeBuiltins=1;const astUtils=requireAstUtils();noPrototypeBuiltins={meta:{type:"problem",docs:{description:"Disallow calling some `Object.prototype` methods directly on objects",recommended:true,url:"https://eslint.org/docs/rules/no-prototype-builtins"},schema:[],messages:{prototypeBuildIn:"Do not access Object.prototype method '{{prop}}' from target object."}},create(context){const DISALLOWED_PROPS=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable"]);function disallowBuiltIns(node){const callee=astUtils.skipChainExpression(node.callee);if(callee.type!=="MemberExpression"){return}const propName=astUtils.getStaticPropertyName(callee);if(propName!==null&&DISALLOWED_PROPS.has(propName)){context.report({messageId:"prototypeBuildIn",loc:callee.property.loc,data:{prop:propName},node:node})}}return{CallExpression:disallowBuiltIns}}};return noPrototypeBuiltins}var noRedeclare;var hasRequiredNoRedeclare;function requireNoRedeclare(){if(hasRequiredNoRedeclare)return noRedeclare;hasRequiredNoRedeclare=1;const astUtils=requireAstUtils();noRedeclare={meta:{type:"suggestion",docs:{description:"Disallow variable redeclaration",recommended:true,url:"https://eslint.org/docs/rules/no-redeclare"},messages:{redeclared:"'{{id}}' is already defined.",redeclaredAsBuiltin:"'{{id}}' is already defined as a built-in global variable.",redeclaredBySyntax:"'{{id}}' is already defined by a variable declaration."},schema:[{type:"object",properties:{builtinGlobals:{type:"boolean",default:true}},additionalProperties:false}]},create(context){const options={builtinGlobals:Boolean(context.options.length===0||context.options[0].builtinGlobals)};const sourceCode=context.getSourceCode();function*iterateDeclarations(variable){if(options.builtinGlobals&&(variable.eslintImplicitGlobalSetting==="readonly"||variable.eslintImplicitGlobalSetting==="writable")){yield{type:"builtin"}}for(const id of variable.identifiers){yield{type:"syntax",node:id,loc:id.loc}}if(variable.eslintExplicitGlobalComments){for(const comment of variable.eslintExplicitGlobalComments){yield{type:"comment",node:comment,loc:astUtils.getNameLocationInGlobalDirectiveComment(sourceCode,comment,variable.name)}}}}function findVariablesInScope(scope){for(const variable of scope.variables){const[declaration,...extraDeclarations]=iterateDeclarations(variable);if(extraDeclarations.length===0){continue}const detailMessageId=declaration.type==="builtin"?"redeclaredAsBuiltin":"redeclaredBySyntax";const data={id:variable.name};for(const{type:type,node:node,loc:loc}of extraDeclarations){const messageId=type===declaration.type?"redeclared":detailMessageId;context.report({node:node,loc:loc,messageId:messageId,data:data})}}}function checkForBlock(node){const scope=context.getScope();if(scope.block===node){findVariablesInScope(scope)}}return{Program(){const scope=context.getScope();findVariablesInScope(scope);if(scope.type==="global"&&scope.childScopes[0]&&scope.block===scope.childScopes[0].block){findVariablesInScope(scope.childScopes[0])}},FunctionDeclaration:checkForBlock,FunctionExpression:checkForBlock,ArrowFunctionExpression:checkForBlock,StaticBlock:checkForBlock,BlockStatement:checkForBlock,ForStatement:checkForBlock,ForInStatement:checkForBlock,ForOfStatement:checkForBlock,SwitchStatement:checkForBlock}}};return noRedeclare}var noRegexSpaces;var hasRequiredNoRegexSpaces;function requireNoRegexSpaces(){if(hasRequiredNoRegexSpaces)return noRegexSpaces;hasRequiredNoRegexSpaces=1;const astUtils=requireAstUtils();const regexpp=requireRegexpp();const regExpParser=new regexpp.RegExpParser;const DOUBLE_SPACE=/ {2}/u;function isString(node){return node&&node.type==="Literal"&&typeof node.value==="string"}noRegexSpaces={meta:{type:"suggestion",docs:{description:"Disallow multiple spaces in regular expressions",recommended:true,url:"https://eslint.org/docs/rules/no-regex-spaces"},schema:[],fixable:"code",messages:{multipleSpaces:"Spaces are hard to count. Use {{{length}}}."}},create(context){function checkRegex(nodeToReport,pattern,rawPattern,rawPatternStartRange,flags){if(!DOUBLE_SPACE.test(rawPattern)){return}const characterClassNodes=[];let regExpAST;try{regExpAST=regExpParser.parsePattern(pattern,0,pattern.length,flags.includes("u"))}catch{return}regexpp.visitRegExpAST(regExpAST,{onCharacterClassEnter(ccNode){characterClassNodes.push(ccNode)}});const spacesPattern=/( {2,})(?: [+*{?]|[^+*{?]|$)/gu;let match;while(match=spacesPattern.exec(pattern)){const{1:{length:length},index:index}=match;if(characterClassNodes.every((({start:start,end:end})=>index<start||end<=index))){context.report({node:nodeToReport,messageId:"multipleSpaces",data:{length:length},fix(fixer){if(pattern!==rawPattern){return null}return fixer.replaceTextRange([rawPatternStartRange+index,rawPatternStartRange+index+length],` {${length}}`)}});return}}}function checkLiteral(node){if(node.regex){const pattern=node.regex.pattern;const rawPattern=node.raw.slice(1,node.raw.lastIndexOf("/"));const rawPatternStartRange=node.range[0]+1;const flags=node.regex.flags;checkRegex(node,pattern,rawPattern,rawPatternStartRange,flags)}}function checkFunction(node){const scope=context.getScope();const regExpVar=astUtils.getVariableByName(scope,"RegExp");const shadowed=regExpVar&&regExpVar.defs.length>0;const patternNode=node.arguments[0];const flagsNode=node.arguments[1];if(node.callee.type==="Identifier"&&node.callee.name==="RegExp"&&isString(patternNode)&&!shadowed){const pattern=patternNode.value;const rawPattern=patternNode.raw.slice(1,-1);const rawPatternStartRange=patternNode.range[0]+1;const flags=isString(flagsNode)?flagsNode.value:"";checkRegex(node,pattern,rawPattern,rawPatternStartRange,flags)}}return{Literal:checkLiteral,CallExpression:checkFunction,NewExpression:checkFunction}}};return noRegexSpaces}var noRestrictedExports;var hasRequiredNoRestrictedExports;function requireNoRestrictedExports(){if(hasRequiredNoRestrictedExports)return noRestrictedExports;hasRequiredNoRestrictedExports=1;const astUtils=requireAstUtils();noRestrictedExports={meta:{type:"suggestion",docs:{description:"Disallow specified names in exports",recommended:false,url:"https://eslint.org/docs/rules/no-restricted-exports"},schema:[{type:"object",properties:{restrictedNamedExports:{type:"array",items:{type:"string"},uniqueItems:true}},additionalProperties:false}],messages:{restrictedNamed:"'{{name}}' is restricted from being used as an exported name."}},create(context){const restrictedNames=new Set(context.options[0]&&context.options[0].restrictedNamedExports);function checkExportedName(node){const name=astUtils.getModuleExportName(node);if(restrictedNames.has(name)){context.report({node:node,messageId:"restrictedNamed",data:{name:name}})}}return{ExportAllDeclaration(node){if(node.exported){checkExportedName(node.exported)}},ExportNamedDeclaration(node){const declaration=node.declaration;if(declaration){if(declaration.type==="FunctionDeclaration"||declaration.type==="ClassDeclaration"){checkExportedName(declaration.id)}else if(declaration.type==="VariableDeclaration"){context.getDeclaredVariables(declaration).map((v=>v.defs.find((d=>d.parent===declaration)))).map((d=>d.name)).forEach(checkExportedName)}}else{node.specifiers.map((s=>s.exported)).forEach(checkExportedName)}}}}};return noRestrictedExports}var noRestrictedGlobals;var hasRequiredNoRestrictedGlobals;function requireNoRestrictedGlobals(){if(hasRequiredNoRestrictedGlobals)return noRestrictedGlobals;hasRequiredNoRestrictedGlobals=1;noRestrictedGlobals={meta:{type:"suggestion",docs:{description:"Disallow specified global variables",recommended:false,url:"https://eslint.org/docs/rules/no-restricted-globals"},schema:{type:"array",items:{oneOf:[{type:"string"},{type:"object",properties:{name:{type:"string"},message:{type:"string"}},required:["name"],additionalProperties:false}]},uniqueItems:true,minItems:0},messages:{defaultMessage:"Unexpected use of '{{name}}'.",customMessage:"Unexpected use of '{{name}}'. {{customMessage}}"}},create(context){if(context.options.length===0){return{}}const restrictedGlobalMessages=context.options.reduce(((memo,option)=>{if(typeof option==="string"){memo[option]=null}else{memo[option.name]=option.message}return memo}),{});function reportReference(reference){const name=reference.identifier.name,customMessage=restrictedGlobalMessages[name],messageId=customMessage?"customMessage":"defaultMessage";context.report({node:reference.identifier,messageId:messageId,data:{name:name,customMessage:customMessage}})}function isRestricted(name){return Object.prototype.hasOwnProperty.call(restrictedGlobalMessages,name)}return{Program(){const scope=context.getScope();scope.variables.forEach((variable=>{if(!variable.defs.length&&isRestricted(variable.name)){variable.references.forEach(reportReference)}}));scope.through.forEach((reference=>{if(isRestricted(reference.identifier.name)){reportReference(reference)}}))}}}};return noRestrictedGlobals}var ignore;var hasRequiredIgnore;function requireIgnore(){if(hasRequiredIgnore)return ignore;hasRequiredIgnore=1;function makeArray(subject){return Array.isArray(subject)?subject:[subject]}const EMPTY="";const SPACE=" ";const ESCAPE="\\";const REGEX_TEST_BLANK_LINE=/^\s+$/;const REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION=/^\\!/;const REGEX_REPLACE_LEADING_EXCAPED_HASH=/^\\#/;const REGEX_SPLITALL_CRLF=/\r?\n/g;const REGEX_TEST_INVALID_PATH=/^\.*\/|^\.+$/;const SLASH="/";const KEY_IGNORE=typeof Symbol!=="undefined"?Symbol.for("node-ignore"):"node-ignore";const define=(object,key,value)=>Object.defineProperty(object,key,{value:value});const REGEX_REGEXP_RANGE=/([0-z])-([0-z])/g;const RETURN_FALSE=()=>false;const sanitizeRange=range=>range.replace(REGEX_REGEXP_RANGE,((match,from,to)=>from.charCodeAt(0)<=to.charCodeAt(0)?match:EMPTY));const cleanRangeBackSlash=slashes=>{const{length:length}=slashes;return slashes.slice(0,length-length%2)};const REPLACERS=[[/\\?\s+$/,match=>match.indexOf("\\")===0?SPACE:EMPTY],[/\\\s/g,()=>SPACE],[/[\\$.|*+(){^]/g,match=>`\\${match}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function startingReplacer(){return!/\/(?!$)/.test(this)?"(?:^|\\/)":"^"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(_,index,str)=>index+6<str.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(_,p1)=>`${p1}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>ESCAPE],[/\\\\/g,()=>ESCAPE],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(match,leadEscape,range,endEscape,close)=>leadEscape===ESCAPE?`\\[${range}${cleanRangeBackSlash(endEscape)}${close}`:close==="]"?endEscape.length%2===0?`[${sanitizeRange(range)}${endEscape}]`:"[]":"[]"],[/(?:[^*])$/,match=>/\/$/.test(match)?`${match}$`:`${match}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(_,p1)=>{const prefix=p1?`${p1}[^/]+`:"[^/]*";return`${prefix}(?=$|\\/$)`}]];const regexCache=Object.create(null);const makeRegex=(pattern,ignoreCase)=>{let source=regexCache[pattern];if(!source){source=REPLACERS.reduce(((prev,current)=>prev.replace(current[0],current[1].bind(pattern))),pattern);regexCache[pattern]=source}return ignoreCase?new RegExp(source,"i"):new RegExp(source)};const isString=subject=>typeof subject==="string";const checkPattern=pattern=>pattern&&isString(pattern)&&!REGEX_TEST_BLANK_LINE.test(pattern)&&pattern.indexOf("#")!==0;const splitPattern=pattern=>pattern.split(REGEX_SPLITALL_CRLF);class IgnoreRule{constructor(origin,pattern,negative,regex){this.origin=origin;this.pattern=pattern;this.negative=negative;this.regex=regex}}const createRule=(pattern,ignoreCase)=>{const origin=pattern;let negative=false;if(pattern.indexOf("!")===0){negative=true;pattern=pattern.substr(1)}pattern=pattern.replace(REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION,"!").replace(REGEX_REPLACE_LEADING_EXCAPED_HASH,"#");const regex=makeRegex(pattern,ignoreCase);return new IgnoreRule(origin,pattern,negative,regex)};const throwError=(message,Ctor)=>{throw new Ctor(message)};const checkPath=(path,originalPath,doThrow)=>{if(!isString(path)){return doThrow(`path must be a string, but got \`${originalPath}\``,TypeError)}if(!path){return doThrow(`path must not be empty`,TypeError)}if(checkPath.isNotRelative(path)){const r="`path.relative()`d";return doThrow(`path should be a ${r} string, but got "${originalPath}"`,RangeError)}return true};const isNotRelative=path=>REGEX_TEST_INVALID_PATH.test(path);checkPath.isNotRelative=isNotRelative;checkPath.convert=p=>p;class Ignore{constructor({ignorecase:ignorecase=true,ignoreCase:ignoreCase=ignorecase,allowRelativePaths:allowRelativePaths=false}={}){define(this,KEY_IGNORE,true);this._rules=[];this._ignoreCase=ignoreCase;this._allowRelativePaths=allowRelativePaths;this._initCache()}_initCache(){this._ignoreCache=Object.create(null);this._testCache=Object.create(null)}_addPattern(pattern){if(pattern&&pattern[KEY_IGNORE]){this._rules=this._rules.concat(pattern._rules);this._added=true;return}if(checkPattern(pattern)){const rule=createRule(pattern,this._ignoreCase);this._added=true;this._rules.push(rule)}}add(pattern){this._added=false;makeArray(isString(pattern)?splitPattern(pattern):pattern).forEach(this._addPattern,this);if(this._added){this._initCache()}return this}addPattern(pattern){return this.add(pattern)}_testOne(path,checkUnignored){let ignored=false;let unignored=false;this._rules.forEach((rule=>{const{negative:negative}=rule;if(unignored===negative&&ignored!==unignored||negative&&!ignored&&!unignored&&!checkUnignored){return}const matched=rule.regex.test(path);if(matched){ignored=!negative;unignored=negative}}));return{ignored:ignored,unignored:unignored}}_test(originalPath,cache,checkUnignored,slices){const path=originalPath&&checkPath.convert(originalPath);checkPath(path,originalPath,this._allowRelativePaths?RETURN_FALSE:throwError);return this._t(path,cache,checkUnignored,slices)}_t(path,cache,checkUnignored,slices){if(path in cache){return cache[path]}if(!slices){slices=path.split(SLASH)}slices.pop();if(!slices.length){return cache[path]=this._testOne(path,checkUnignored)}const parent=this._t(slices.join(SLASH)+SLASH,cache,checkUnignored,slices);return cache[path]=parent.ignored?parent:this._testOne(path,checkUnignored)}ignores(path){return this._test(path,this._ignoreCache,false).ignored}createFilter(){return path=>!this.ignores(path)}filter(paths){return makeArray(paths).filter(this.createFilter())}test(path){return this._test(path,this._testCache,true)}}const factory=options=>new Ignore(options);const isPathValid=path=>checkPath(path&&checkPath.convert(path),path,RETURN_FALSE);factory.isPathValid=isPathValid;factory.default=factory;ignore=factory;if(typeof process!=="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){const makePosix=str=>/^\\\\\?\\/.test(str)||/["<>|\u0000-\u001F]+/u.test(str)?str:str.replace(/\\/g,"/");checkPath.convert=makePosix;const REGIX_IS_WINDOWS_PATH_ABSOLUTE=/^[a-z]:\//i;checkPath.isNotRelative=path=>REGIX_IS_WINDOWS_PATH_ABSOLUTE.test(path)||isNotRelative(path)}return ignore}var noRestrictedImports;var hasRequiredNoRestrictedImports;function requireNoRestrictedImports(){if(hasRequiredNoRestrictedImports)return noRestrictedImports;hasRequiredNoRestrictedImports=1;const astUtils=requireAstUtils();const ignore=requireIgnore();const arrayOfStringsOrObjects={type:"array",items:{anyOf:[{type:"string"},{type:"object",properties:{name:{type:"string"},message:{type:"string",minLength:1},importNames:{type:"array",items:{type:"string"}}},additionalProperties:false,required:["name"]}]},uniqueItems:true};const arrayOfStringsOrObjectPatterns={anyOf:[{type:"array",items:{type:"string"},uniqueItems:true},{type:"array",items:{type:"object",properties:{importNames:{type:"array",items:{type:"string"},minItems:1,uniqueItems:true},group:{type:"array",items:{type:"string"},minItems:1,uniqueItems:true},message:{type:"string",minLength:1},caseSensitive:{type:"boolean"}},additionalProperties:false,required:["group"]},uniqueItems:true}]};noRestrictedImports={meta:{type:"suggestion",docs:{description:"Disallow specified modules when loaded by `import`",recommended:false,url:"https://eslint.org/docs/rules/no-restricted-imports"},messages:{path:"'{{importSource}}' import is restricted from being used.",pathWithCustomMessage:"'{{importSource}}' import is restricted from being used. {{customMessage}}",patterns:"'{{importSource}}' import is restricted from being used by a pattern.",patternWithCustomMessage:"'{{importSource}}' import is restricted from being used by a pattern. {{customMessage}}",patternAndImportName:"'{{importName}}' import from '{{importSource}}' is restricted from being used by a pattern.",patternAndImportNameWithCustomMessage:"'{{importName}}' import from '{{importSource}}' is restricted from being used by a pattern. {{customMessage}}",patternAndEverything:"* import is invalid because '{{importNames}}' from '{{importSource}}' is restricted from being used by a pattern.",patternAndEverythingWithCustomMessage:"* import is invalid because '{{importNames}}' from '{{importSource}}' is restricted from being used by a pattern. {{customMessage}}",everything:"* import is invalid because '{{importNames}}' from '{{importSource}}' is restricted.",everythingWithCustomMessage:"* import is invalid because '{{importNames}}' from '{{importSource}}' is restricted. {{customMessage}}",importName:"'{{importName}}' import from '{{importSource}}' is restricted.",importNameWithCustomMessage:"'{{importName}}' import from '{{importSource}}' is restricted. {{customMessage}}"},schema:{anyOf:[arrayOfStringsOrObjects,{type:"array",items:[{type:"object",properties:{paths:arrayOfStringsOrObjects,patterns:arrayOfStringsOrObjectPatterns},additionalProperties:false}],additionalItems:false}]}},create(context){const sourceCode=context.getSourceCode();const options=Array.isArray(context.options)?context.options:[];const isPathAndPatternsObject=typeof options[0]==="object"&&(Object.prototype.hasOwnProperty.call(options[0],"paths")||Object.prototype.hasOwnProperty.call(options[0],"patterns"));const restrictedPaths=(isPathAndPatternsObject?options[0].paths:context.options)||[];const restrictedPathMessages=restrictedPaths.reduce(((memo,importSource)=>{if(typeof importSource==="string"){memo[importSource]={message:null}}else{memo[importSource.name]={message:importSource.message,importNames:importSource.importNames}}return memo}),{});let restrictedPatterns=(isPathAndPatternsObject?options[0].patterns:[])||[];if(restrictedPatterns.length>0&&typeof restrictedPatterns[0]==="string"){restrictedPatterns=[{group:restrictedPatterns}]}const restrictedPatternGroups=restrictedPatterns.map((({group:group,message:message,caseSensitive:caseSensitive,importNames:importNames})=>({matcher:ignore({allowRelativePaths:true,ignorecase:!caseSensitive}).add(group),customMessage:message,importNames:importNames})));if(Object.keys(restrictedPaths).length===0&&restrictedPatternGroups.length===0){return{}}function checkRestrictedPathAndReport(importSource,importNames,node){if(!Object.prototype.hasOwnProperty.call(restrictedPathMessages,importSource)){return}const customMessage=restrictedPathMessages[importSource].message;const restrictedImportNames=restrictedPathMessages[importSource].importNames;if(restrictedImportNames){if(importNames.has("*")){const specifierData=importNames.get("*")[0];context.report({node:node,messageId:customMessage?"everythingWithCustomMessage":"everything",loc:specifierData.loc,data:{importSource:importSource,importNames:restrictedImportNames,customMessage:customMessage}})}restrictedImportNames.forEach((importName=>{if(importNames.has(importName)){const specifiers=importNames.get(importName);specifiers.forEach((specifier=>{context.report({node:node,messageId:customMessage?"importNameWithCustomMessage":"importName",loc:specifier.loc,data:{importSource:importSource,customMessage:customMessage,importName:importName}})}))}}))}else{context.report({node:node,messageId:customMessage?"pathWithCustomMessage":"path",data:{importSource:importSource,customMessage:customMessage}})}}function reportPathForPatterns(node,group,importNames){const importSource=node.source.value.trim();const customMessage=group.customMessage;const restrictedImportNames=group.importNames;if(!restrictedImportNames){context.report({node:node,messageId:customMessage?"patternWithCustomMessage":"patterns",data:{importSource:importSource,customMessage:customMessage}});return}if(importNames.has("*")){const specifierData=importNames.get("*")[0];context.report({node:node,messageId:customMessage?"patternAndEverythingWithCustomMessage":"patternAndEverything",loc:specifierData.loc,data:{importSource:importSource,importNames:restrictedImportNames,customMessage:customMessage}})}restrictedImportNames.forEach((importName=>{if(!importNames.has(importName)){return}const specifiers=importNames.get(importName);specifiers.forEach((specifier=>{context.report({node:node,messageId:customMessage?"patternAndImportNameWithCustomMessage":"patternAndImportName",loc:specifier.loc,data:{importSource:importSource,customMessage:customMessage,importName:importName}})}))}))}function isRestrictedPattern(importSource,group){return group.matcher.ignores(importSource)}function checkNode(node){const importSource=node.source.value.trim();const importNames=new Map;if(node.type==="ExportAllDeclaration"){const starToken=sourceCode.getFirstToken(node,1);importNames.set("*",[{loc:starToken.loc}])}else if(node.specifiers){for(const specifier of node.specifiers){let name;const specifierData={loc:specifier.loc};if(specifier.type==="ImportDefaultSpecifier"){name="default"}else if(specifier.type==="ImportNamespaceSpecifier"){name="*"}else if(specifier.imported){name=astUtils.getModuleExportName(specifier.imported)}else if(specifier.local){name=astUtils.getModuleExportName(specifier.local)}if(typeof name==="string"){if(importNames.has(name)){importNames.get(name).push(specifierData)}else{importNames.set(name,[specifierData])}}}}checkRestrictedPathAndReport(importSource,importNames,node);restrictedPatternGroups.forEach((group=>{if(isRestrictedPattern(importSource,group)){reportPathForPatterns(node,group,importNames)}}))}return{ImportDeclaration:checkNode,ExportNamedDeclaration(node){if(node.source){checkNode(node)}},ExportAllDeclaration:checkNode}}};return noRestrictedImports}var noRestrictedModules;var hasRequiredNoRestrictedModules;function requireNoRestrictedModules(){if(hasRequiredNoRestrictedModules)return noRestrictedModules;hasRequiredNoRestrictedModules=1;const ignore=requireIgnore();const arrayOfStrings={type:"array",items:{type:"string"},uniqueItems:true};const arrayOfStringsOrObjects={type:"array",items:{anyOf:[{type:"string"},{type:"object",properties:{name:{type:"string"},message:{type:"string",minLength:1}},additionalProperties:false,required:["name"]}]},uniqueItems:true};noRestrictedModules={meta:{deprecated:true,replacedBy:[],type:"suggestion",docs:{description:"Disallow specified modules when loaded by `require`",recommended:false,url:"https://eslint.org/docs/rules/no-restricted-modules"},schema:{anyOf:[arrayOfStringsOrObjects,{type:"array",items:{type:"object",properties:{paths:arrayOfStringsOrObjects,patterns:arrayOfStrings},additionalProperties:false},additionalItems:false}]},messages:{defaultMessage:"'{{name}}' module is restricted from being used.",customMessage:"'{{name}}' module is restricted from being used. {{customMessage}}",patternMessage:"'{{name}}' module is restricted from being used by a pattern."}},create(context){const options=Array.isArray(context.options)?context.options:[];const isPathAndPatternsObject=typeof options[0]==="object"&&(Object.prototype.hasOwnProperty.call(options[0],"paths")||Object.prototype.hasOwnProperty.call(options[0],"patterns"));const restrictedPaths=(isPathAndPatternsObject?options[0].paths:context.options)||[];const restrictedPatterns=(isPathAndPatternsObject?options[0].patterns:[])||[];const restrictedPathMessages=restrictedPaths.reduce(((memo,importName)=>{if(typeof importName==="string"){memo[importName]=null}else{memo[importName.name]=importName.message}return memo}),{});if(Object.keys(restrictedPaths).length===0&&restrictedPatterns.length===0){return{}}const ig=ignore({allowRelativePaths:true}).add(restrictedPatterns);function isStringLiteral(node){return node&&node.type==="Literal"&&typeof node.value==="string"}function isStaticTemplateLiteral(node){return node&&node.type==="TemplateLiteral"&&node.expressions.length===0}function isRequireCall(node){return node.callee.type==="Identifier"&&node.callee.name==="require"}function getFirstArgumentString(node){if(isStringLiteral(node)){return node.value.trim()}if(isStaticTemplateLiteral(node)){return node.quasis[0].value.cooked.trim()}return null}function reportPath(node,name){const customMessage=restrictedPathMessages[name];const messageId=customMessage?"customMessage":"defaultMessage";context.report({node:node,messageId:messageId,data:{name:name,customMessage:customMessage}})}function isRestrictedPath(name){return Object.prototype.hasOwnProperty.call(restrictedPathMessages,name)}return{CallExpression(node){if(isRequireCall(node)){if(node.arguments.length){const name=getFirstArgumentString(node.arguments[0]);if(name){if(isRestrictedPath(name)){reportPath(node,name)}if(restrictedPatterns.length>0&&ig.ignores(name)){context.report({node:node,messageId:"patternMessage",data:{name:name}})}}}}}}}};return noRestrictedModules}var noRestrictedProperties;var hasRequiredNoRestrictedProperties;function requireNoRestrictedProperties(){if(hasRequiredNoRestrictedProperties)return noRestrictedProperties;hasRequiredNoRestrictedProperties=1;const astUtils=requireAstUtils();noRestrictedProperties={meta:{type:"suggestion",docs:{description:"Disallow certain properties on certain objects",recommended:false,url:"https://eslint.org/docs/rules/no-restricted-properties"},schema:{type:"array",items:{anyOf:[{type:"object",properties:{object:{type:"string"},property:{type:"string"},message:{type:"string"}},additionalProperties:false,required:["object"]},{type:"object",properties:{object:{type:"string"},property:{type:"string"},message:{type:"string"}},additionalProperties:false,required:["property"]}]},uniqueItems:true},messages:{restrictedObjectProperty:"'{{objectName}}.{{propertyName}}' is restricted from being used.{{message}}",restrictedProperty:"'{{propertyName}}' is restricted from being used.{{message}}"}},create(context){const restrictedCalls=context.options;if(restrictedCalls.length===0){return{}}const restrictedProperties=new Map;const globallyRestrictedObjects=new Map;const globallyRestrictedProperties=new Map;restrictedCalls.forEach((option=>{const objectName=option.object;const propertyName=option.property;if(typeof objectName==="undefined"){globallyRestrictedProperties.set(propertyName,{message:option.message})}else if(typeof propertyName==="undefined"){globallyRestrictedObjects.set(objectName,{message:option.message})}else{if(!restrictedProperties.has(objectName)){restrictedProperties.set(objectName,new Map)}restrictedProperties.get(objectName).set(propertyName,{message:option.message})}}));function checkPropertyAccess(node,objectName,propertyName){if(propertyName===null){return}const matchedObject=restrictedProperties.get(objectName);const matchedObjectProperty=matchedObject?matchedObject.get(propertyName):globallyRestrictedObjects.get(objectName);const globalMatchedProperty=globallyRestrictedProperties.get(propertyName);if(matchedObjectProperty){const message=matchedObjectProperty.message?` ${matchedObjectProperty.message}`:"";context.report({node:node,messageId:"restrictedObjectProperty",data:{objectName:objectName,propertyName:propertyName,message:message}})}else if(globalMatchedProperty){const message=globalMatchedProperty.message?` ${globalMatchedProperty.message}`:"";context.report({node:node,messageId:"restrictedProperty",data:{propertyName:propertyName,message:message}})}}function checkDestructuringAssignment(node){if(node.right.type==="Identifier"){const objectName=node.right.name;if(node.left.type==="ObjectPattern"){node.left.properties.forEach((property=>{checkPropertyAccess(node.left,objectName,astUtils.getStaticPropertyName(property))}))}}}return{MemberExpression(node){checkPropertyAccess(node,node.object&&node.object.name,astUtils.getStaticPropertyName(node))},VariableDeclarator(node){if(node.init&&node.init.type==="Identifier"){const objectName=node.init.name;if(node.id.type==="ObjectPattern"){node.id.properties.forEach((property=>{checkPropertyAccess(node.id,objectName,astUtils.getStaticPropertyName(property))}))}}},AssignmentExpression:checkDestructuringAssignment,AssignmentPattern:checkDestructuringAssignment}}};return noRestrictedProperties}var noRestrictedSyntax;var hasRequiredNoRestrictedSyntax;function requireNoRestrictedSyntax(){if(hasRequiredNoRestrictedSyntax)return noRestrictedSyntax;hasRequiredNoRestrictedSyntax=1;noRestrictedSyntax={meta:{type:"suggestion",docs:{description:"Disallow specified syntax",recommended:false,url:"https://eslint.org/docs/rules/no-restricted-syntax"},schema:{type:"array",items:{oneOf:[{type:"string"},{type:"object",properties:{selector:{type:"string"},message:{type:"string"}},required:["selector"],additionalProperties:false}]},uniqueItems:true,minItems:0},messages:{restrictedSyntax:"{{message}}"}},create(context){return context.options.reduce(((result,selectorOrObject)=>{const isStringFormat=typeof selectorOrObject==="string";const hasCustomMessage=!isStringFormat&&Boolean(selectorOrObject.message);const selector=isStringFormat?selectorOrObject:selectorOrObject.selector;const message=hasCustomMessage?selectorOrObject.message:`Using '${selector}' is not allowed.`;return Object.assign(result,{[selector](node){context.report({node:node,messageId:"restrictedSyntax",data:{message:message}})}})}),{})}};return noRestrictedSyntax}var noReturnAssign;var hasRequiredNoReturnAssign;function requireNoReturnAssign(){if(hasRequiredNoReturnAssign)return noReturnAssign;hasRequiredNoReturnAssign=1;const astUtils=requireAstUtils();const SENTINEL_TYPE=/^(?:[a-zA-Z]+?Statement|ArrowFunctionExpression|FunctionExpression|ClassExpression)$/u;noReturnAssign={meta:{type:"suggestion",docs:{description:"Disallow assignment operators in `return` statements",recommended:false,url:"https://eslint.org/docs/rules/no-return-assign"},schema:[{enum:["except-parens","always"]}],messages:{returnAssignment:"Return statement should not contain assignment.",arrowAssignment:"Arrow function should not return assignment."}},create(context){const always=(context.options[0]||"except-parens")!=="except-parens";const sourceCode=context.getSourceCode();return{AssignmentExpression(node){if(!always&&astUtils.isParenthesised(sourceCode,node)){return}let currentChild=node;let parent=currentChild.parent;while(parent&&!SENTINEL_TYPE.test(parent.type)){currentChild=parent;parent=parent.parent}if(parent&&parent.type==="ReturnStatement"){context.report({node:parent,messageId:"returnAssignment"})}else if(parent&&parent.type==="ArrowFunctionExpression"&&parent.body===currentChild){context.report({node:parent,messageId:"arrowAssignment"})}}}}};return noReturnAssign}var noReturnAwait;var hasRequiredNoReturnAwait;function requireNoReturnAwait(){if(hasRequiredNoReturnAwait)return noReturnAwait;hasRequiredNoReturnAwait=1;const astUtils=requireAstUtils();noReturnAwait={meta:{type:"suggestion",docs:{description:"Disallow unnecessary `return await`",recommended:false,url:"https://eslint.org/docs/rules/no-return-await"},fixable:null,schema:[],messages:{redundantUseOfAwait:"Redundant use of `await` on a return value."}},create(context){function reportUnnecessaryAwait(node){context.report({node:context.getSourceCode().getFirstToken(node),loc:node.loc,messageId:"redundantUseOfAwait"})}function hasErrorHandler(node){let ancestor=node;while(!astUtils.isFunction(ancestor)&&ancestor.type!=="Program"){if(ancestor.parent.type==="TryStatement"&&(ancestor===ancestor.parent.block||ancestor===ancestor.parent.handler&&ancestor.parent.finalizer)){return true}ancestor=ancestor.parent}return false}function isInTailCallPosition(node){if(node.parent.type==="ArrowFunctionExpression"){return true}if(node.parent.type==="ReturnStatement"){return!hasErrorHandler(node.parent)}if(node.parent.type==="ConditionalExpression"&&(node===node.parent.consequent||node===node.parent.alternate)){return isInTailCallPosition(node.parent)}if(node.parent.type==="LogicalExpression"&&node===node.parent.right){return isInTailCallPosition(node.parent)}if(node.parent.type==="SequenceExpression"&&node===node.parent.expressions[node.parent.expressions.length-1]){return isInTailCallPosition(node.parent)}return false}return{AwaitExpression(node){if(isInTailCallPosition(node)&&!hasErrorHandler(node)){reportUnnecessaryAwait(node)}}}}};return noReturnAwait}var noScriptUrl;var hasRequiredNoScriptUrl;function requireNoScriptUrl(){if(hasRequiredNoScriptUrl)return noScriptUrl;hasRequiredNoScriptUrl=1;const astUtils=requireAstUtils();noScriptUrl={meta:{type:"suggestion",docs:{description:"Disallow `javascript:` urls",recommended:false,url:"https://eslint.org/docs/rules/no-script-url"},schema:[],messages:{unexpectedScriptURL:"Script URL is a form of eval."}},create(context){function check(node){const value=astUtils.getStaticStringValue(node);if(typeof value==="string"&&value.toLowerCase().indexOf("javascript:")===0){context.report({node:node,messageId:"unexpectedScriptURL"})}}return{Literal(node){if(node.value&&typeof node.value==="string"){check(node)}},TemplateLiteral(node){if(!(node.parent&&node.parent.type==="TaggedTemplateExpression")){check(node)}}}}};return noScriptUrl}var noSelfAssign;var hasRequiredNoSelfAssign;function requireNoSelfAssign(){if(hasRequiredNoSelfAssign)return noSelfAssign;hasRequiredNoSelfAssign=1;const astUtils=requireAstUtils();const SPACES=/\s+/gu;function eachSelfAssignment(left,right,props,report){if(!left||!right);else if(left.type==="Identifier"&&right.type==="Identifier"&&left.name===right.name){report(right)}else if(left.type==="ArrayPattern"&&right.type==="ArrayExpression"){const end=Math.min(left.elements.length,right.elements.length);for(let i=0;i<end;++i){const leftElement=left.elements[i];const rightElement=right.elements[i];if(leftElement&&leftElement.type==="RestElement"&&i<right.elements.length-1){break}eachSelfAssignment(leftElement,rightElement,props,report);if(rightElement&&rightElement.type==="SpreadElement"){break}}}else if(left.type==="RestElement"&&right.type==="SpreadElement"){eachSelfAssignment(left.argument,right.argument,props,report)}else if(left.type==="ObjectPattern"&&right.type==="ObjectExpression"&&right.properties.length>=1){let startJ=0;for(let i=right.properties.length-1;i>=0;--i){const propType=right.properties[i].type;if(propType==="SpreadElement"||propType==="ExperimentalSpreadProperty"){startJ=i+1;break}}for(let i=0;i<left.properties.length;++i){for(let j=startJ;j<right.properties.length;++j){eachSelfAssignment(left.properties[i],right.properties[j],props,report)}}}else if(left.type==="Property"&&right.type==="Property"&&right.kind==="init"&&!right.method){const leftName=astUtils.getStaticPropertyName(left);if(leftName!==null&&leftName===astUtils.getStaticPropertyName(right)){eachSelfAssignment(left.value,right.value,props,report)}}else if(props&&astUtils.skipChainExpression(left).type==="MemberExpression"&&astUtils.skipChainExpression(right).type==="MemberExpression"&&astUtils.isSameReference(left,right)){report(right)}}noSelfAssign={meta:{type:"problem",docs:{description:"Disallow assignments where both sides are exactly the same",recommended:true,url:"https://eslint.org/docs/rules/no-self-assign"},schema:[{type:"object",properties:{props:{type:"boolean",default:true}},additionalProperties:false}],messages:{selfAssignment:"'{{name}}' is assigned to itself."}},create(context){const sourceCode=context.getSourceCode();const[{props:props=true}={}]=context.options;function report(node){context.report({node:node,messageId:"selfAssignment",data:{name:sourceCode.getText(node).replace(SPACES,"")}})}return{AssignmentExpression(node){if(["=","&&=","||=","??="].includes(node.operator)){eachSelfAssignment(node.left,node.right,props,report)}}}}};return noSelfAssign}var noSelfCompare;var hasRequiredNoSelfCompare;function requireNoSelfCompare(){if(hasRequiredNoSelfCompare)return noSelfCompare;hasRequiredNoSelfCompare=1;noSelfCompare={meta:{type:"problem",docs:{description:"Disallow comparisons where both sides are exactly the same",recommended:false,url:"https://eslint.org/docs/rules/no-self-compare"},schema:[],messages:{comparingToSelf:"Comparing to itself is potentially pointless."}},create(context){const sourceCode=context.getSourceCode();function hasSameTokens(nodeA,nodeB){const tokensA=sourceCode.getTokens(nodeA);const tokensB=sourceCode.getTokens(nodeB);return tokensA.length===tokensB.length&&tokensA.every(((token,index)=>token.type===tokensB[index].type&&token.value===tokensB[index].value))}return{BinaryExpression(node){const operators=new Set(["===","==","!==","!=",">","<",">=","<="]);if(operators.has(node.operator)&&hasSameTokens(node.left,node.right)){context.report({node:node,messageId:"comparingToSelf"})}}}}};return noSelfCompare}var noSequences;var hasRequiredNoSequences;function requireNoSequences(){if(hasRequiredNoSequences)return noSequences;hasRequiredNoSequences=1;const astUtils=requireAstUtils();const DEFAULT_OPTIONS={allowInParentheses:true};noSequences={meta:{type:"suggestion",docs:{description:"Disallow comma operators",recommended:false,url:"https://eslint.org/docs/rules/no-sequences"},schema:[{properties:{allowInParentheses:{type:"boolean",default:true}},additionalProperties:false}],messages:{unexpectedCommaExpression:"Unexpected use of comma operator."}},create(context){const options=Object.assign({},DEFAULT_OPTIONS,context.options[0]);const sourceCode=context.getSourceCode();const parenthesized={DoWhileStatement:"test",IfStatement:"test",SwitchStatement:"discriminant",WhileStatement:"test",WithStatement:"object",ArrowFunctionExpression:"body"};function requiresExtraParens(node){return node.parent&&parenthesized[node.parent.type]&&node===node.parent[parenthesized[node.parent.type]]}function isParenthesised(node){return astUtils.isParenthesised(sourceCode,node)}function isParenthesisedTwice(node){const previousToken=sourceCode.getTokenBefore(node,1),nextToken=sourceCode.getTokenAfter(node,1);return isParenthesised(node)&&previousToken&&nextToken&&astUtils.isOpeningParenToken(previousToken)&&previousToken.range[1]<=node.range[0]&&astUtils.isClosingParenToken(nextToken)&&nextToken.range[0]>=node.range[1]}return{SequenceExpression(node){if(node.parent.type==="ForStatement"&&(node===node.parent.init||node===node.parent.update)){return}if(options.allowInParentheses){if(requiresExtraParens(node)){if(isParenthesisedTwice(node)){return}}else{if(isParenthesised(node)){return}}}const firstCommaToken=sourceCode.getTokenAfter(node.expressions[0],astUtils.isCommaToken);context.report({node:node,loc:firstCommaToken.loc,messageId:"unexpectedCommaExpression"})}}}};return noSequences}var noSetterReturn;var hasRequiredNoSetterReturn;function requireNoSetterReturn(){if(hasRequiredNoSetterReturn)return noSetterReturn;hasRequiredNoSetterReturn=1;const astUtils=requireAstUtils();const{findVariable:findVariable}=requireEslintUtils();function isGlobalReference(node,scope){const variable=findVariable(scope,node);return variable!==null&&variable.scope.type==="global"&&variable.defs.length===0}function isArgumentOfGlobalMethodCall(node,scope,objectName,methodName,index){const callNode=node.parent;return callNode.type==="CallExpression"&&callNode.arguments[index]===node&&astUtils.isSpecificMemberAccess(callNode.callee,objectName,methodName)&&isGlobalReference(astUtils.skipChainExpression(callNode.callee).object,scope)}function isPropertyDescriptor(node,scope){if(isArgumentOfGlobalMethodCall(node,scope,"Object","defineProperty",2)||isArgumentOfGlobalMethodCall(node,scope,"Reflect","defineProperty",2)){return true}const parent=node.parent;if(parent.type==="Property"&&parent.value===node){const grandparent=parent.parent;if(grandparent.type==="ObjectExpression"&&(isArgumentOfGlobalMethodCall(grandparent,scope,"Object","create",1)||isArgumentOfGlobalMethodCall(grandparent,scope,"Object","defineProperties",1))){return true}}return false}function isSetter(node,scope){const parent=node.parent;if((parent.type==="Property"||parent.type==="MethodDefinition")&&parent.kind==="set"&&parent.value===node){return true}if(parent.type==="Property"&&parent.value===node&&astUtils.getStaticPropertyName(parent)==="set"&&parent.parent.type==="ObjectExpression"&&isPropertyDescriptor(parent.parent,scope)){return true}return false}function getOuterScope(scope){const upper=scope.upper;if(upper.type==="function-expression-name"){return upper.upper}return upper}noSetterReturn={meta:{type:"problem",docs:{description:"Disallow returning values from setters",recommended:true,url:"https://eslint.org/docs/rules/no-setter-return"},schema:[],messages:{returnsValue:"Setter cannot return a value."}},create(context){let funcInfo=null;function enterFunction(node){const outerScope=getOuterScope(context.getScope());funcInfo={upper:funcInfo,isSetter:isSetter(node,outerScope)}}function exitFunction(){funcInfo=funcInfo.upper}function report(node){context.report({node:node,messageId:"returnsValue"})}return{FunctionDeclaration:enterFunction,FunctionExpression:enterFunction,ArrowFunctionExpression(node){enterFunction(node);if(funcInfo.isSetter&&node.expression){report(node.body)}},"FunctionDeclaration:exit":exitFunction,"FunctionExpression:exit":exitFunction,"ArrowFunctionExpression:exit":exitFunction,ReturnStatement(node){if(funcInfo&&funcInfo.isSetter&&node.argument){report(node)}}}}};return noSetterReturn}var noShadow;var hasRequiredNoShadow;function requireNoShadow(){if(hasRequiredNoShadow)return noShadow;hasRequiredNoShadow=1;const astUtils=requireAstUtils();const FUNC_EXPR_NODE_TYPES=new Set(["ArrowFunctionExpression","FunctionExpression"]);const CALL_EXPR_NODE_TYPE=new Set(["CallExpression"]);const FOR_IN_OF_TYPE=/^For(?:In|Of)Statement$/u;const SENTINEL_TYPE=/^(?:(?:Function|Class)(?:Declaration|Expression)|ArrowFunctionExpression|CatchClause|ImportDeclaration|ExportNamedDeclaration)$/u;noShadow={meta:{type:"suggestion",docs:{description:"Disallow variable declarations from shadowing variables declared in the outer scope",recommended:false,url:"https://eslint.org/docs/rules/no-shadow"},schema:[{type:"object",properties:{builtinGlobals:{type:"boolean",default:false},hoist:{enum:["all","functions","never"],default:"functions"},allow:{type:"array",items:{type:"string"}},ignoreOnInitialization:{type:"boolean",default:false}},additionalProperties:false}],messages:{noShadow:"'{{name}}' is already declared in the upper scope on line {{shadowedLine}} column {{shadowedColumn}}.",noShadowGlobal:"'{{name}}' is already a global variable."}},create(context){const options={builtinGlobals:context.options[0]&&context.options[0].builtinGlobals,hoist:context.options[0]&&context.options[0].hoist||"functions",allow:context.options[0]&&context.options[0].allow||[],ignoreOnInitialization:context.options[0]&&context.options[0].ignoreOnInitialization};function isInRange(node,location){return node&&node.range[0]<=location&&location<=node.range[1]}function findSelfOrAncestor(node,match){let currentNode=node;while(currentNode&&!match(currentNode)){currentNode=currentNode.parent}return currentNode}function getOuterScope(scope){const upper=scope.upper;if(upper.type==="function-expression-name"){return upper.upper}return upper}function isInitPatternNode(variable,shadowedVariable){const outerDef=shadowedVariable.defs[0];if(!outerDef){return false}const{variableScope:variableScope}=variable.scope;if(!(FUNC_EXPR_NODE_TYPES.has(variableScope.block.type)&&getOuterScope(variableScope)===shadowedVariable.scope)){return false}const fun=variableScope.block;const{parent:parent}=fun;const callExpression=findSelfOrAncestor(parent,(node=>CALL_EXPR_NODE_TYPE.has(node.type)));if(!callExpression){return false}let node=outerDef.name;const location=callExpression.range[1];while(node){if(node.type==="VariableDeclarator"){if(isInRange(node.init,location)){return true}if(FOR_IN_OF_TYPE.test(node.parent.parent.type)&&isInRange(node.parent.parent.right,location)){return true}break}else if(node.type==="AssignmentPattern"){if(isInRange(node.right,location)){return true}}else if(SENTINEL_TYPE.test(node.type)){break}node=node.parent}return false}function isAllowed(variable){return options.allow.includes(variable.name)}function isDuplicatedClassNameVariable(variable){const block=variable.scope.block;return block.type==="ClassDeclaration"&&block.id===variable.identifiers[0]}function isOnInitializer(variable,scopeVar){const outerScope=scopeVar.scope;const outerDef=scopeVar.defs[0];const outer=outerDef&&outerDef.parent&&outerDef.parent.range;const innerScope=variable.scope;const innerDef=variable.defs[0];const inner=innerDef&&innerDef.name.range;return outer&&inner&&outer[0]<inner[0]&&inner[1]<outer[1]&&(innerDef.type==="FunctionName"&&innerDef.node.type==="FunctionExpression"||innerDef.node.type==="ClassExpression")&&outerScope===innerScope.upper}function getNameRange(variable){const def=variable.defs[0];return def&&def.name.range}function getDeclaredLocation(variable){const identifier=variable.identifiers[0];let obj;if(identifier){obj={global:false,line:identifier.loc.start.line,column:identifier.loc.start.column+1}}else{obj={global:true}}return obj}function isInTdz(variable,scopeVar){const outerDef=scopeVar.defs[0];const inner=getNameRange(variable);const outer=getNameRange(scopeVar);return inner&&outer&&inner[1]<outer[0]&&(options.hoist!=="functions"||!outerDef||outerDef.node.type!=="FunctionDeclaration")}function checkForShadows(scope){const variables=scope.variables;for(let i=0;i<variables.length;++i){const variable=variables[i];if(variable.identifiers.length===0||isDuplicatedClassNameVariable(variable)||isAllowed(variable)){continue}const shadowed=astUtils.getVariableByName(scope.upper,variable.name);if(shadowed&&(shadowed.identifiers.length>0||options.builtinGlobals&&"writeable"in shadowed)&&!isOnInitializer(variable,shadowed)&&!(options.ignoreOnInitialization&&isInitPatternNode(variable,shadowed))&&!(options.hoist!=="all"&&isInTdz(variable,shadowed))){const location=getDeclaredLocation(shadowed);const messageId=location.global?"noShadowGlobal":"noShadow";const data={name:variable.name};if(!location.global){data.shadowedLine=location.line;data.shadowedColumn=location.column}context.report({node:variable.identifiers[0],messageId:messageId,data:data})}}}return{"Program:exit"(){const globalScope=context.getScope();const stack=globalScope.childScopes.slice();while(stack.length){const scope=stack.pop();stack.push(...scope.childScopes);checkForShadows(scope)}}}}};return noShadow}var noShadowRestrictedNames;var hasRequiredNoShadowRestrictedNames;function requireNoShadowRestrictedNames(){if(hasRequiredNoShadowRestrictedNames)return noShadowRestrictedNames;hasRequiredNoShadowRestrictedNames=1;function safelyShadowsUndefined(variable){return variable.name==="undefined"&&variable.references.every((ref=>!ref.isWrite()))&&variable.defs.every((def=>def.node.type==="VariableDeclarator"&&def.node.init===null))}noShadowRestrictedNames={meta:{type:"suggestion",docs:{description:"Disallow identifiers from shadowing restricted names",recommended:true,url:"https://eslint.org/docs/rules/no-shadow-restricted-names"},schema:[],messages:{shadowingRestrictedName:"Shadowing of global property '{{name}}'."}},create(context){const RESTRICTED=new Set(["undefined","NaN","Infinity","arguments","eval"]);return{"VariableDeclaration, :function, CatchClause"(node){for(const variable of context.getDeclaredVariables(node)){if(variable.defs.length>0&&RESTRICTED.has(variable.name)&&!safelyShadowsUndefined(variable)){context.report({node:variable.defs[0].name,messageId:"shadowingRestrictedName",data:{name:variable.name}})}}}}}};return noShadowRestrictedNames}var noSpacedFunc;var hasRequiredNoSpacedFunc;function requireNoSpacedFunc(){if(hasRequiredNoSpacedFunc)return noSpacedFunc;hasRequiredNoSpacedFunc=1;noSpacedFunc={meta:{type:"layout",docs:{description:"Disallow spacing between function identifiers and their applications (deprecated)",recommended:false,url:"https://eslint.org/docs/rules/no-spaced-func"},deprecated:true,replacedBy:["func-call-spacing"],fixable:"whitespace",schema:[],messages:{noSpacedFunction:"Unexpected space between function name and paren."}},create(context){const sourceCode=context.getSourceCode();function detectOpenSpaces(node){const lastCalleeToken=sourceCode.getLastToken(node.callee);let prevToken=lastCalleeToken,parenToken=sourceCode.getTokenAfter(lastCalleeToken);while(parenToken&&parenToken.range[1]<node.range[1]&&parenToken.value!=="("){prevToken=parenToken;parenToken=sourceCode.getTokenAfter(parenToken)}if(parenToken&&parenToken.range[1]<node.range[1]&&sourceCode.isSpaceBetweenTokens(prevToken,parenToken)){context.report({node:node,loc:lastCalleeToken.loc.start,messageId:"noSpacedFunction",fix(fixer){return fixer.removeRange([prevToken.range[1],parenToken.range[0]])}})}}return{CallExpression:detectOpenSpaces,NewExpression:detectOpenSpaces}}};return noSpacedFunc}var noSparseArrays;var hasRequiredNoSparseArrays;function requireNoSparseArrays(){if(hasRequiredNoSparseArrays)return noSparseArrays;hasRequiredNoSparseArrays=1;noSparseArrays={meta:{type:"problem",docs:{description:"Disallow sparse arrays",recommended:true,url:"https://eslint.org/docs/rules/no-sparse-arrays"},schema:[],messages:{unexpectedSparseArray:"Unexpected comma in middle of array."}},create(context){return{ArrayExpression(node){const emptySpot=node.elements.includes(null);if(emptySpot){context.report({node:node,messageId:"unexpectedSparseArray"})}}}}};return noSparseArrays}var noSync;var hasRequiredNoSync;function requireNoSync(){if(hasRequiredNoSync)return noSync;hasRequiredNoSync=1;noSync={meta:{deprecated:true,replacedBy:[],type:"suggestion",docs:{description:"Disallow synchronous methods",recommended:false,url:"https://eslint.org/docs/rules/no-sync"},schema:[{type:"object",properties:{allowAtRootLevel:{type:"boolean",default:false}},additionalProperties:false}],messages:{noSync:"Unexpected sync method: '{{propertyName}}'."}},create(context){const selector=context.options[0]&&context.options[0].allowAtRootLevel?":function MemberExpression[property.name=/.*Sync$/]":"MemberExpression[property.name=/.*Sync$/]";return{[selector](node){context.report({node:node,messageId:"noSync",data:{propertyName:node.property.name}})}}}};return noSync}var noTabs;var hasRequiredNoTabs;function requireNoTabs(){if(hasRequiredNoTabs)return noTabs;hasRequiredNoTabs=1;const tabRegex=/\t+/gu;const anyNonWhitespaceRegex=/\S/u;noTabs={meta:{type:"layout",docs:{description:"Disallow all tabs",recommended:false,url:"https://eslint.org/docs/rules/no-tabs"},schema:[{type:"object",properties:{allowIndentationTabs:{type:"boolean",default:false}},additionalProperties:false}],messages:{unexpectedTab:"Unexpected tab character."}},create(context){const sourceCode=context.getSourceCode();const allowIndentationTabs=context.options&&context.options[0]&&context.options[0].allowIndentationTabs;return{Program(node){sourceCode.getLines().forEach(((line,index)=>{let match;while((match=tabRegex.exec(line))!==null){if(allowIndentationTabs&&!anyNonWhitespaceRegex.test(line.slice(0,match.index))){continue}context.report({node:node,loc:{start:{line:index+1,column:match.index},end:{line:index+1,column:match.index+match[0].length}},messageId:"unexpectedTab"})}}))}}}};return noTabs}var noTemplateCurlyInString;var hasRequiredNoTemplateCurlyInString;function requireNoTemplateCurlyInString(){if(hasRequiredNoTemplateCurlyInString)return noTemplateCurlyInString;hasRequiredNoTemplateCurlyInString=1;noTemplateCurlyInString={meta:{type:"problem",docs:{description:"Disallow template literal placeholder syntax in regular strings",recommended:false,url:"https://eslint.org/docs/rules/no-template-curly-in-string"},schema:[],messages:{unexpectedTemplateExpression:"Unexpected template string expression."}},create(context){const regex=/\$\{[^}]+\}/u;return{Literal(node){if(typeof node.value==="string"&&regex.test(node.value)){context.report({node:node,messageId:"unexpectedTemplateExpression"})}}}}};return noTemplateCurlyInString}var noTernary;var hasRequiredNoTernary;function requireNoTernary(){if(hasRequiredNoTernary)return noTernary;hasRequiredNoTernary=1;noTernary={meta:{type:"suggestion",docs:{description:"Disallow ternary operators",recommended:false,url:"https://eslint.org/docs/rules/no-ternary"},schema:[],messages:{noTernaryOperator:"Ternary operator used."}},create(context){return{ConditionalExpression(node){context.report({node:node,messageId:"noTernaryOperator"})}}}};return noTernary}var noThisBeforeSuper;var hasRequiredNoThisBeforeSuper;function requireNoThisBeforeSuper(){if(hasRequiredNoThisBeforeSuper)return noThisBeforeSuper;hasRequiredNoThisBeforeSuper=1;const astUtils=requireAstUtils();function isConstructorFunction(node){return node.type==="FunctionExpression"&&node.parent.type==="MethodDefinition"&&node.parent.kind==="constructor"}noThisBeforeSuper={meta:{type:"problem",docs:{description:"Disallow `this`/`super` before calling `super()` in constructors",recommended:true,url:"https://eslint.org/docs/rules/no-this-before-super"},schema:[],messages:{noBeforeSuper:"'{{kind}}' is not allowed before 'super()'."}},create(context){let funcInfo=null;let segInfoMap=Object.create(null);function isCalled(segment){return!segment.reachable||segInfoMap[segment.id].superCalled}function isInConstructorOfDerivedClass(){return Boolean(funcInfo&&funcInfo.isConstructor&&funcInfo.hasExtends)}function isBeforeCallOfSuper(){return isInConstructorOfDerivedClass()&&!funcInfo.codePath.currentSegments.every(isCalled)}function setInvalid(node){const segments=funcInfo.codePath.currentSegments;for(let i=0;i<segments.length;++i){const segment=segments[i];if(segment.reachable){segInfoMap[segment.id].invalidNodes.push(node)}}}function setSuperCalled(){const segments=funcInfo.codePath.currentSegments;for(let i=0;i<segments.length;++i){const segment=segments[i];if(segment.reachable){segInfoMap[segment.id].superCalled=true}}}return{onCodePathStart(codePath,node){if(isConstructorFunction(node)){const classNode=node.parent.parent.parent;funcInfo={upper:funcInfo,isConstructor:true,hasExtends:Boolean(classNode.superClass&&!astUtils.isNullOrUndefined(classNode.superClass)),codePath:codePath}}else{funcInfo={upper:funcInfo,isConstructor:false,hasExtends:false,codePath:codePath}}},onCodePathEnd(codePath){const isDerivedClass=funcInfo.hasExtends;funcInfo=funcInfo.upper;if(!isDerivedClass){return}codePath.traverseSegments(((segment,controller)=>{const info=segInfoMap[segment.id];for(let i=0;i<info.invalidNodes.length;++i){const invalidNode=info.invalidNodes[i];context.report({messageId:"noBeforeSuper",node:invalidNode,data:{kind:invalidNode.type==="Super"?"super":"this"}})}if(info.superCalled){controller.skip()}}))},onCodePathSegmentStart(segment){if(!isInConstructorOfDerivedClass()){return}segInfoMap[segment.id]={superCalled:segment.prevSegments.length>0&&segment.prevSegments.every(isCalled),invalidNodes:[]}},onCodePathSegmentLoop(fromSegment,toSegment){if(!isInConstructorOfDerivedClass()){return}funcInfo.codePath.traverseSegments({first:toSegment,last:fromSegment},((segment,controller)=>{const info=segInfoMap[segment.id];if(info.superCalled){info.invalidNodes=[];controller.skip()}else if(segment.prevSegments.length>0&&segment.prevSegments.every(isCalled)){info.superCalled=true;info.invalidNodes=[]}}))},ThisExpression(node){if(isBeforeCallOfSuper()){setInvalid(node)}},Super(node){if(!astUtils.isCallee(node)&&isBeforeCallOfSuper()){setInvalid(node)}},"CallExpression:exit"(node){if(node.callee.type==="Super"&&isBeforeCallOfSuper()){setSuperCalled()}},"Program:exit"(){segInfoMap=Object.create(null)}}}};return noThisBeforeSuper}var noThrowLiteral;var hasRequiredNoThrowLiteral;function requireNoThrowLiteral(){if(hasRequiredNoThrowLiteral)return noThrowLiteral;hasRequiredNoThrowLiteral=1;const astUtils=requireAstUtils();noThrowLiteral={meta:{type:"suggestion",docs:{description:"Disallow throwing literals as exceptions",recommended:false,url:"https://eslint.org/docs/rules/no-throw-literal"},schema:[],messages:{object:"Expected an error object to be thrown.",undef:"Do not throw undefined."}},create(context){return{ThrowStatement(node){if(!astUtils.couldBeError(node.argument)){context.report({node:node,messageId:"object"})}else if(node.argument.type==="Identifier"){if(node.argument.name==="undefined"){context.report({node:node,messageId:"undef"})}}}}}};return noThrowLiteral}var noTrailingSpaces;var hasRequiredNoTrailingSpaces;function requireNoTrailingSpaces(){if(hasRequiredNoTrailingSpaces)return noTrailingSpaces;hasRequiredNoTrailingSpaces=1;const astUtils=requireAstUtils();noTrailingSpaces={meta:{type:"layout",docs:{description:"Disallow trailing whitespace at the end of lines",recommended:false,url:"https://eslint.org/docs/rules/no-trailing-spaces"},fixable:"whitespace",schema:[{type:"object",properties:{skipBlankLines:{type:"boolean",default:false},ignoreComments:{type:"boolean",default:false}},additionalProperties:false}],messages:{trailingSpace:"Trailing spaces not allowed."}},create(context){const sourceCode=context.getSourceCode();const BLANK_CLASS="[ \t  -​　]",SKIP_BLANK=`^${BLANK_CLASS}*$`,NONBLANK=`${BLANK_CLASS}+$`;const options=context.options[0]||{},skipBlankLines=options.skipBlankLines||false,ignoreComments=options.ignoreComments||false;function report(node,location,fixRange){context.report({node:node,loc:location,messageId:"trailingSpace",fix(fixer){return fixer.removeRange(fixRange)}})}function getCommentLineNumbers(comments){const lines=new Set;comments.forEach((comment=>{const endLine=comment.type==="Block"?comment.loc.end.line-1:comment.loc.end.line;for(let i=comment.loc.start.line;i<=endLine;i++){lines.add(i)}}));return lines}return{Program:function checkTrailingSpaces(node){const re=new RegExp(NONBLANK,"u"),skipMatch=new RegExp(SKIP_BLANK,"u"),lines=sourceCode.lines,linebreaks=sourceCode.getText().match(astUtils.createGlobalLinebreakMatcher()),comments=sourceCode.getAllComments(),commentLineNumbers=getCommentLineNumbers(comments);let totalLength=0,fixRange=[];for(let i=0,ii=lines.length;i<ii;i++){const lineNumber=i+1;const linebreakLength=linebreaks&&linebreaks[i]?linebreaks[i].length:1;const lineLength=lines[i].length+linebreakLength;const matches=re.exec(lines[i]);if(matches){const location={start:{line:lineNumber,column:matches.index},end:{line:lineNumber,column:lineLength-linebreakLength}};const rangeStart=totalLength+location.start.column;const rangeEnd=totalLength+location.end.column;const containingNode=sourceCode.getNodeByRangeIndex(rangeStart);if(containingNode&&containingNode.type==="TemplateElement"&&rangeStart>containingNode.parent.range[0]&&rangeEnd<containingNode.parent.range[1]){totalLength+=lineLength;continue}if(skipBlankLines&&skipMatch.test(lines[i])){totalLength+=lineLength;continue}fixRange=[rangeStart,rangeEnd];if(!ignoreComments||!commentLineNumbers.has(lineNumber)){report(node,location,fixRange)}}totalLength+=lineLength}}}}};return noTrailingSpaces}var noUndef;var hasRequiredNoUndef;function requireNoUndef(){if(hasRequiredNoUndef)return noUndef;hasRequiredNoUndef=1;function hasTypeOfOperator(node){const parent=node.parent;return parent.type==="UnaryExpression"&&parent.operator==="typeof"}noUndef={meta:{type:"problem",docs:{description:"Disallow the use of undeclared variables unless mentioned in `/*global */` comments",recommended:true,url:"https://eslint.org/docs/rules/no-undef"},schema:[{type:"object",properties:{typeof:{type:"boolean",default:false}},additionalProperties:false}],messages:{undef:"'{{name}}' is not defined."}},create(context){const options=context.options[0];const considerTypeOf=options&&options.typeof===true||false;return{"Program:exit"(){const globalScope=context.getScope();globalScope.through.forEach((ref=>{const identifier=ref.identifier;if(!considerTypeOf&&hasTypeOfOperator(identifier)){return}context.report({node:identifier,messageId:"undef",data:identifier})}))}}}};return noUndef}var noUndefInit;var hasRequiredNoUndefInit;function requireNoUndefInit(){if(hasRequiredNoUndefInit)return noUndefInit;hasRequiredNoUndefInit=1;const astUtils=requireAstUtils();noUndefInit={meta:{type:"suggestion",docs:{description:"Disallow initializing variables to `undefined`",recommended:false,url:"https://eslint.org/docs/rules/no-undef-init"},schema:[],fixable:"code",messages:{unnecessaryUndefinedInit:"It's not necessary to initialize '{{name}}' to undefined."}},create(context){const sourceCode=context.getSourceCode();return{VariableDeclarator(node){const name=sourceCode.getText(node.id),init=node.init&&node.init.name,scope=context.getScope(),undefinedVar=astUtils.getVariableByName(scope,"undefined"),shadowed=undefinedVar&&undefinedVar.defs.length>0,lastToken=sourceCode.getLastToken(node);if(init==="undefined"&&node.parent.kind!=="const"&&!shadowed){context.report({node:node,messageId:"unnecessaryUndefinedInit",data:{name:name},fix(fixer){if(node.parent.kind==="var"){return null}if(node.id.type==="ArrayPattern"||node.id.type==="ObjectPattern"){return null}if(sourceCode.commentsExistBetween(node.id,lastToken)){return null}return fixer.removeRange([node.id.range[1],node.range[1]])}})}}}}};return noUndefInit}var noUndefined;var hasRequiredNoUndefined;function requireNoUndefined(){if(hasRequiredNoUndefined)return noUndefined;hasRequiredNoUndefined=1;noUndefined={meta:{type:"suggestion",docs:{description:"Disallow the use of `undefined` as an identifier",recommended:false,url:"https://eslint.org/docs/rules/no-undefined"},schema:[],messages:{unexpectedUndefined:"Unexpected use of undefined."}},create(context){function report(node){context.report({node:node,messageId:"unexpectedUndefined"})}function checkScope(scope){const undefinedVar=scope.set.get("undefined");if(!undefinedVar){return}const references=undefinedVar.references;const defs=undefinedVar.defs;references.filter((ref=>!ref.init)).forEach((ref=>report(ref.identifier)));defs.forEach((def=>report(def.name)))}return{"Program:exit"(){const globalScope=context.getScope();const stack=[globalScope];while(stack.length){const scope=stack.pop();stack.push(...scope.childScopes);checkScope(scope)}}}}};return noUndefined}var noUnderscoreDangle;var hasRequiredNoUnderscoreDangle;function requireNoUnderscoreDangle(){if(hasRequiredNoUnderscoreDangle)return noUnderscoreDangle;hasRequiredNoUnderscoreDangle=1;noUnderscoreDangle={meta:{type:"suggestion",docs:{description:"Disallow dangling underscores in identifiers",recommended:false,url:"https://eslint.org/docs/rules/no-underscore-dangle"},schema:[{type:"object",properties:{allow:{type:"array",items:{type:"string"}},allowAfterThis:{type:"boolean",default:false},allowAfterSuper:{type:"boolean",default:false},allowAfterThisConstructor:{type:"boolean",default:false},enforceInMethodNames:{type:"boolean",default:false},allowFunctionParams:{type:"boolean",default:true},enforceInClassFields:{type:"boolean",default:false}},additionalProperties:false}],messages:{unexpectedUnderscore:"Unexpected dangling '_' in '{{identifier}}'."}},create(context){const options=context.options[0]||{};const ALLOWED_VARIABLES=options.allow?options.allow:[];const allowAfterThis=typeof options.allowAfterThis!=="undefined"?options.allowAfterThis:false;const allowAfterSuper=typeof options.allowAfterSuper!=="undefined"?options.allowAfterSuper:false;const allowAfterThisConstructor=typeof options.allowAfterThisConstructor!=="undefined"?options.allowAfterThisConstructor:false;const enforceInMethodNames=typeof options.enforceInMethodNames!=="undefined"?options.enforceInMethodNames:false;const enforceInClassFields=typeof options.enforceInClassFields!=="undefined"?options.enforceInClassFields:false;const allowFunctionParams=typeof options.allowFunctionParams!=="undefined"?options.allowFunctionParams:true;function isAllowed(identifier){return ALLOWED_VARIABLES.includes(identifier)}function hasDanglingUnderscore(identifier){const len=identifier.length;return identifier!=="_"&&(identifier[0]==="_"||identifier[len-1]==="_")}function isSpecialCaseIdentifierForMemberExpression(identifier){return identifier==="__proto__"}function isSpecialCaseIdentifierInVariableExpression(identifier){return identifier==="_"}function isThisConstructorReference(node){return node.object.type==="MemberExpression"&&node.object.property.name==="constructor"&&node.object.object.type==="ThisExpression"}function checkForDanglingUnderscoreInFunctionParameters(node){if(!allowFunctionParams){node.params.forEach((param=>{const{type:type}=param;let nodeToCheck;if(type==="RestElement"){nodeToCheck=param.argument}else if(type==="AssignmentPattern"){nodeToCheck=param.left}else{nodeToCheck=param}if(nodeToCheck.type==="Identifier"){const identifier=nodeToCheck.name;if(hasDanglingUnderscore(identifier)&&!isAllowed(identifier)){context.report({node:param,messageId:"unexpectedUnderscore",data:{identifier:identifier}})}}}))}}function checkForDanglingUnderscoreInFunction(node){if(node.type==="FunctionDeclaration"&&node.id){const identifier=node.id.name;if(typeof identifier!=="undefined"&&hasDanglingUnderscore(identifier)&&!isAllowed(identifier)){context.report({node:node,messageId:"unexpectedUnderscore",data:{identifier:identifier}})}}checkForDanglingUnderscoreInFunctionParameters(node)}function checkForDanglingUnderscoreInVariableExpression(node){const identifier=node.id.name;if(typeof identifier!=="undefined"&&hasDanglingUnderscore(identifier)&&!isSpecialCaseIdentifierInVariableExpression(identifier)&&!isAllowed(identifier)){context.report({node:node,messageId:"unexpectedUnderscore",data:{identifier:identifier}})}}function checkForDanglingUnderscoreInMemberExpression(node){const identifier=node.property.name,isMemberOfThis=node.object.type==="ThisExpression",isMemberOfSuper=node.object.type==="Super",isMemberOfThisConstructor=isThisConstructorReference(node);if(typeof identifier!=="undefined"&&hasDanglingUnderscore(identifier)&&!(isMemberOfThis&&allowAfterThis)&&!(isMemberOfSuper&&allowAfterSuper)&&!(isMemberOfThisConstructor&&allowAfterThisConstructor)&&!isSpecialCaseIdentifierForMemberExpression(identifier)&&!isAllowed(identifier)){context.report({node:node,messageId:"unexpectedUnderscore",data:{identifier:identifier}})}}function checkForDanglingUnderscoreInMethod(node){const identifier=node.key.name;const isMethod=node.type==="MethodDefinition"||node.type==="Property"&&node.method;if(typeof identifier!=="undefined"&&enforceInMethodNames&&isMethod&&hasDanglingUnderscore(identifier)&&!isAllowed(identifier)){context.report({node:node,messageId:"unexpectedUnderscore",data:{identifier:node.key.type==="PrivateIdentifier"?`#${identifier}`:identifier}})}}function checkForDanglingUnderscoreInClassField(node){const identifier=node.key.name;if(typeof identifier!=="undefined"&&hasDanglingUnderscore(identifier)&&enforceInClassFields&&!isAllowed(identifier)){context.report({node:node,messageId:"unexpectedUnderscore",data:{identifier:node.key.type==="PrivateIdentifier"?`#${identifier}`:identifier}})}}return{FunctionDeclaration:checkForDanglingUnderscoreInFunction,VariableDeclarator:checkForDanglingUnderscoreInVariableExpression,MemberExpression:checkForDanglingUnderscoreInMemberExpression,MethodDefinition:checkForDanglingUnderscoreInMethod,PropertyDefinition:checkForDanglingUnderscoreInClassField,Property:checkForDanglingUnderscoreInMethod,FunctionExpression:checkForDanglingUnderscoreInFunction,ArrowFunctionExpression:checkForDanglingUnderscoreInFunction}}};return noUnderscoreDangle}var noUnexpectedMultiline;var hasRequiredNoUnexpectedMultiline;function requireNoUnexpectedMultiline(){if(hasRequiredNoUnexpectedMultiline)return noUnexpectedMultiline;hasRequiredNoUnexpectedMultiline=1;const astUtils=requireAstUtils();noUnexpectedMultiline={meta:{type:"problem",docs:{description:"Disallow confusing multiline expressions",recommended:true,url:"https://eslint.org/docs/rules/no-unexpected-multiline"},schema:[],messages:{function:"Unexpected newline between function and ( of function call.",property:"Unexpected newline between object and [ of property access.",taggedTemplate:"Unexpected newline between template tag and template literal.",division:"Unexpected newline between numerator and division operator."}},create(context){const REGEX_FLAG_MATCHER=/^[gimsuy]+$/u;const sourceCode=context.getSourceCode();function checkForBreakAfter(node,messageId){const openParen=sourceCode.getTokenAfter(node,astUtils.isNotClosingParenToken);const nodeExpressionEnd=sourceCode.getTokenBefore(openParen);if(openParen.loc.start.line!==nodeExpressionEnd.loc.end.line){context.report({node:node,loc:openParen.loc,messageId:messageId})}}return{MemberExpression(node){if(!node.computed||node.optional){return}checkForBreakAfter(node.object,"property")},TaggedTemplateExpression(node){const{quasi:quasi}=node;const tokenBefore=sourceCode.getTokenBefore(quasi);if(tokenBefore.loc.end.line!==quasi.loc.start.line){context.report({node:node,loc:{start:quasi.loc.start,end:{line:quasi.loc.start.line,column:quasi.loc.start.column+1}},messageId:"taggedTemplate"})}},CallExpression(node){if(node.arguments.length===0||node.optional){return}checkForBreakAfter(node.callee,"function")},"BinaryExpression[operator='/'] > BinaryExpression[operator='/'].left"(node){const secondSlash=sourceCode.getTokenAfter(node,(token=>token.value==="/"));const tokenAfterOperator=sourceCode.getTokenAfter(secondSlash);if(tokenAfterOperator.type==="Identifier"&&REGEX_FLAG_MATCHER.test(tokenAfterOperator.value)&&secondSlash.range[1]===tokenAfterOperator.range[0]){checkForBreakAfter(node.left,"division")}}}}};return noUnexpectedMultiline}var noUnmodifiedLoopCondition;var hasRequiredNoUnmodifiedLoopCondition;function requireNoUnmodifiedLoopCondition(){if(hasRequiredNoUnmodifiedLoopCondition)return noUnmodifiedLoopCondition;hasRequiredNoUnmodifiedLoopCondition=1;const Traverser=requireTraverser(),astUtils=requireAstUtils();const SENTINEL_PATTERN=/(?:(?:Call|Class|Function|Member|New|Yield)Expression|Statement|Declaration)$/u;const LOOP_PATTERN=/^(?:DoWhile|For|While)Statement$/u;const GROUP_PATTERN=/^(?:BinaryExpression|ConditionalExpression)$/u;const SKIP_PATTERN=/^(?:ArrowFunction|Class|Function)Expression$/u;const DYNAMIC_PATTERN=/^(?:Call|Member|New|TaggedTemplate|Yield)Expression$/u;function isWriteReference(reference){if(reference.init){const def=reference.resolved&&reference.resolved.defs[0];if(!def||def.type!=="Variable"||def.parent.kind!=="var"){return false}}return reference.isWrite()}function isUnmodified(condition){return!condition.modified}function isUnmodifiedAndNotBelongToGroup(condition){return!(condition.modified||condition.group)}function isInRange(node,reference){const or=node.range;const ir=reference.identifier.range;return or[0]<=ir[0]&&ir[1]<=or[1]}const isInLoop={WhileStatement:isInRange,DoWhileStatement:isInRange,ForStatement(node,reference){return isInRange(node,reference)&&!(node.init&&isInRange(node.init,reference))}};function getEncloseFunctionDeclaration(reference){let node=reference.identifier;while(node){if(node.type==="FunctionDeclaration"){return node.id?node:null}node=node.parent}return null}function updateModifiedFlag(conditions,modifiers){for(let i=0;i<conditions.length;++i){const condition=conditions[i];for(let j=0;!condition.modified&&j<modifiers.length;++j){const modifier=modifiers[j];let funcNode,funcVar;const inLoop=condition.isInLoop(modifier)||Boolean((funcNode=getEncloseFunctionDeclaration(modifier))&&(funcVar=astUtils.getVariableByName(modifier.from.upper,funcNode.id.name))&&funcVar.references.some(condition.isInLoop));condition.modified=inLoop}}}noUnmodifiedLoopCondition={meta:{type:"problem",docs:{description:"Disallow unmodified loop conditions",recommended:false,url:"https://eslint.org/docs/rules/no-unmodified-loop-condition"},schema:[],messages:{loopConditionNotModified:"'{{name}}' is not modified in this loop."}},create(context){const sourceCode=context.getSourceCode();let groupMap=null;function report(condition){const node=condition.reference.identifier;context.report({node:node,messageId:"loopConditionNotModified",data:node})}function registerConditionsToGroup(conditions){for(let i=0;i<conditions.length;++i){const condition=conditions[i];if(condition.group){let group=groupMap.get(condition.group);if(!group){group=[];groupMap.set(condition.group,group)}group.push(condition)}}}function checkConditionsInGroup(conditions){if(conditions.every(isUnmodified)){conditions.forEach(report)}}function hasDynamicExpressions(root){let retv=false;Traverser.traverse(root,{visitorKeys:sourceCode.visitorKeys,enter(node){if(DYNAMIC_PATTERN.test(node.type)){retv=true;this.break()}else if(SKIP_PATTERN.test(node.type)){this.skip()}}});return retv}function toLoopCondition(reference){if(reference.init){return null}let group=null;let child=reference.identifier;let node=child.parent;while(node){if(SENTINEL_PATTERN.test(node.type)){if(LOOP_PATTERN.test(node.type)&&node.test===child){return{reference:reference,group:group,isInLoop:isInLoop[node.type].bind(null,node),modified:false}}break}if(GROUP_PATTERN.test(node.type)){if(hasDynamicExpressions(node)){break}else{group=node}}child=node;node=node.parent}return null}function checkReferences(variable){const conditions=variable.references.map(toLoopCondition).filter(Boolean);if(conditions.length===0){return}registerConditionsToGroup(conditions);const modifiers=variable.references.filter(isWriteReference);if(modifiers.length>0){updateModifiedFlag(conditions,modifiers)}conditions.filter(isUnmodifiedAndNotBelongToGroup).forEach(report)}return{"Program:exit"(){const queue=[context.getScope()];groupMap=new Map;let scope;while(scope=queue.pop()){queue.push(...scope.childScopes);scope.variables.forEach(checkReferences)}groupMap.forEach(checkConditionsInGroup);groupMap=null}}}};return noUnmodifiedLoopCondition}var noUnneededTernary;var hasRequiredNoUnneededTernary;function requireNoUnneededTernary(){if(hasRequiredNoUnneededTernary)return noUnneededTernary;hasRequiredNoUnneededTernary=1;const astUtils=requireAstUtils();const BOOLEAN_OPERATORS=new Set(["==","===","!=","!==",">",">=","<","<=","in","instanceof"]);const OPERATOR_INVERSES={"==":"!=","!=":"==","===":"!==","!==":"==="};const OR_PRECEDENCE=astUtils.getPrecedence({type:"LogicalExpression",operator:"||"});noUnneededTernary={meta:{type:"suggestion",docs:{description:"Disallow ternary operators when simpler alternatives exist",recommended:false,url:"https://eslint.org/docs/rules/no-unneeded-ternary"},schema:[{type:"object",properties:{defaultAssignment:{type:"boolean",default:true}},additionalProperties:false}],fixable:"code",messages:{unnecessaryConditionalExpression:"Unnecessary use of boolean literals in conditional expression.",unnecessaryConditionalAssignment:"Unnecessary use of conditional expression for default assignment."}},create(context){const options=context.options[0]||{};const defaultAssignment=options.defaultAssignment!==false;const sourceCode=context.getSourceCode();function isBooleanLiteral(node){return node.type==="Literal"&&typeof node.value==="boolean"}function invertExpression(node){if(node.type==="BinaryExpression"&&Object.prototype.hasOwnProperty.call(OPERATOR_INVERSES,node.operator)){const operatorToken=sourceCode.getFirstTokenBetween(node.left,node.right,(token=>token.value===node.operator));const text=sourceCode.getText();return text.slice(node.range[0],operatorToken.range[0])+OPERATOR_INVERSES[node.operator]+text.slice(operatorToken.range[1],node.range[1])}if(astUtils.getPrecedence(node)<astUtils.getPrecedence({type:"UnaryExpression"})){return`!(${astUtils.getParenthesisedText(sourceCode,node)})`}return`!${astUtils.getParenthesisedText(sourceCode,node)}`}function isBooleanExpression(node){return node.type==="BinaryExpression"&&BOOLEAN_OPERATORS.has(node.operator)||node.type==="UnaryExpression"&&node.operator==="!"}function matchesDefaultAssignment(node){return node.test.type==="Identifier"&&node.consequent.type==="Identifier"&&node.test.name===node.consequent.name}return{ConditionalExpression(node){if(isBooleanLiteral(node.alternate)&&isBooleanLiteral(node.consequent)){context.report({node:node,messageId:"unnecessaryConditionalExpression",fix(fixer){if(node.consequent.value===node.alternate.value){return node.test.type==="Identifier"?fixer.replaceText(node,node.consequent.value.toString()):null}if(node.alternate.value){return fixer.replaceText(node,invertExpression(node.test))}return fixer.replaceText(node,isBooleanExpression(node.test)?astUtils.getParenthesisedText(sourceCode,node.test):`!${invertExpression(node.test)}`)}})}else if(!defaultAssignment&&matchesDefaultAssignment(node)){context.report({node:node,messageId:"unnecessaryConditionalAssignment",fix:fixer=>{const shouldParenthesizeAlternate=(astUtils.getPrecedence(node.alternate)<OR_PRECEDENCE||astUtils.isCoalesceExpression(node.alternate))&&!astUtils.isParenthesised(sourceCode,node.alternate);const alternateText=shouldParenthesizeAlternate?`(${sourceCode.getText(node.alternate)})`:astUtils.getParenthesisedText(sourceCode,node.alternate);const testText=astUtils.getParenthesisedText(sourceCode,node.test);return fixer.replaceText(node,`${testText} || ${alternateText}`)}})}}}}};return noUnneededTernary}var noUnreachable;var hasRequiredNoUnreachable;function requireNoUnreachable(){if(hasRequiredNoUnreachable)return noUnreachable;hasRequiredNoUnreachable=1;function isInitialized(node){return Boolean(node.init)}function isUnreachable(segment){return!segment.reachable}class ConsecutiveRange{constructor(sourceCode){this.sourceCode=sourceCode;this.startNode=null;this.endNode=null}get location(){return{start:this.startNode.loc.start,end:this.endNode.loc.end}}get isEmpty(){return!(this.startNode&&this.endNode)}contains(node){return node.range[0]>=this.startNode.range[0]&&node.range[1]<=this.endNode.range[1]}isConsecutive(node){return this.contains(this.sourceCode.getTokenBefore(node))}merge(node){this.endNode=node}reset(node){this.startNode=this.endNode=node}}noUnreachable={meta:{type:"problem",docs:{description:"Disallow unreachable code after `return`, `throw`, `continue`, and `break` statements",recommended:true,url:"https://eslint.org/docs/rules/no-unreachable"},schema:[],messages:{unreachableCode:"Unreachable code."}},create(context){let currentCodePath=null;let constructorInfo=null;const range=new ConsecutiveRange(context.getSourceCode());function reportIfUnreachable(node){let nextNode=null;if(node&&(node.type==="PropertyDefinition"||currentCodePath.currentSegments.every(isUnreachable))){if(range.isEmpty){range.reset(node);return}if(range.contains(node)){return}if(range.isConsecutive(node)){range.merge(node);return}nextNode=node}if(!range.isEmpty){context.report({messageId:"unreachableCode",loc:range.location,node:range.startNode})}range.reset(nextNode)}return{onCodePathStart(codePath){currentCodePath=codePath},onCodePathEnd(){currentCodePath=currentCodePath.upper},BlockStatement:reportIfUnreachable,BreakStatement:reportIfUnreachable,ClassDeclaration:reportIfUnreachable,ContinueStatement:reportIfUnreachable,DebuggerStatement:reportIfUnreachable,DoWhileStatement:reportIfUnreachable,ExpressionStatement:reportIfUnreachable,ForInStatement:reportIfUnreachable,ForOfStatement:reportIfUnreachable,ForStatement:reportIfUnreachable,IfStatement:reportIfUnreachable,ImportDeclaration:reportIfUnreachable,LabeledStatement:reportIfUnreachable,ReturnStatement:reportIfUnreachable,SwitchStatement:reportIfUnreachable,ThrowStatement:reportIfUnreachable,TryStatement:reportIfUnreachable,VariableDeclaration(node){if(node.kind!=="var"||node.declarations.some(isInitialized)){reportIfUnreachable(node)}},WhileStatement:reportIfUnreachable,WithStatement:reportIfUnreachable,ExportNamedDeclaration:reportIfUnreachable,ExportDefaultDeclaration:reportIfUnreachable,ExportAllDeclaration:reportIfUnreachable,"Program:exit"(){reportIfUnreachable()},"MethodDefinition[kind='constructor']"(){constructorInfo={upper:constructorInfo,hasSuperCall:false}},"MethodDefinition[kind='constructor']:exit"(node){const{hasSuperCall:hasSuperCall}=constructorInfo;constructorInfo=constructorInfo.upper;if(!node.value.body){return}const classDefinition=node.parent.parent;if(classDefinition.superClass&&!hasSuperCall){for(const element of classDefinition.body.body){if(element.type==="PropertyDefinition"&&!element.static){reportIfUnreachable(element)}}}},"CallExpression > Super.callee"(){if(constructorInfo){constructorInfo.hasSuperCall=true}}}}};return noUnreachable}var noUnreachableLoop;var hasRequiredNoUnreachableLoop;function requireNoUnreachableLoop(){if(hasRequiredNoUnreachableLoop)return noUnreachableLoop;hasRequiredNoUnreachableLoop=1;const allLoopTypes=["WhileStatement","DoWhileStatement","ForStatement","ForInStatement","ForOfStatement"];function isLoopingTarget(node){const parent=node.parent;if(parent){switch(parent.type){case"WhileStatement":return node===parent.test;case"DoWhileStatement":return node===parent.body;case"ForStatement":return node===(parent.update||parent.test||parent.body);case"ForInStatement":case"ForOfStatement":return node===parent.left}}return false}function getDifference(arrA,arrB){return arrA.filter((a=>!arrB.includes(a)))}noUnreachableLoop={meta:{type:"problem",docs:{description:"Disallow loops with a body that allows only one iteration",recommended:false,url:"https://eslint.org/docs/rules/no-unreachable-loop"},schema:[{type:"object",properties:{ignore:{type:"array",items:{enum:allLoopTypes},uniqueItems:true}},additionalProperties:false}],messages:{invalid:"Invalid loop. Its body allows only one iteration."}},create(context){const ignoredLoopTypes=context.options[0]&&context.options[0].ignore||[],loopTypesToCheck=getDifference(allLoopTypes,ignoredLoopTypes),loopSelector=loopTypesToCheck.join(","),loopsByTargetSegments=new Map,loopsToReport=new Set;let currentCodePath=null;return{onCodePathStart(codePath){currentCodePath=codePath},onCodePathEnd(){currentCodePath=currentCodePath.upper},[loopSelector](node){if(currentCodePath.currentSegments.some((segment=>segment.reachable))){loopsToReport.add(node)}},onCodePathSegmentStart(segment,node){if(isLoopingTarget(node)){const loop=node.parent;loopsByTargetSegments.set(segment,loop)}},onCodePathSegmentLoop(_,toSegment,node){const loop=loopsByTargetSegments.get(toSegment);if(node===loop||node.type==="ContinueStatement"){loopsToReport.delete(loop)}},"Program:exit"(){loopsToReport.forEach((node=>context.report({node:node,messageId:"invalid"})))}}}};return noUnreachableLoop}var noUnsafeFinally;var hasRequiredNoUnsafeFinally;function requireNoUnsafeFinally(){if(hasRequiredNoUnsafeFinally)return noUnsafeFinally;hasRequiredNoUnsafeFinally=1;const SENTINEL_NODE_TYPE_RETURN_THROW=/^(?:Program|(?:Function|Class)(?:Declaration|Expression)|ArrowFunctionExpression)$/u;const SENTINEL_NODE_TYPE_BREAK=/^(?:Program|(?:Function|Class)(?:Declaration|Expression)|ArrowFunctionExpression|DoWhileStatement|WhileStatement|ForOfStatement|ForInStatement|ForStatement|SwitchStatement)$/u;const SENTINEL_NODE_TYPE_CONTINUE=/^(?:Program|(?:Function|Class)(?:Declaration|Expression)|ArrowFunctionExpression|DoWhileStatement|WhileStatement|ForOfStatement|ForInStatement|ForStatement)$/u;noUnsafeFinally={meta:{type:"problem",docs:{description:"Disallow control flow statements in `finally` blocks",recommended:true,url:"https://eslint.org/docs/rules/no-unsafe-finally"},schema:[],messages:{unsafeUsage:"Unsafe usage of {{nodeType}}."}},create(context){function isFinallyBlock(node){return node.parent.type==="TryStatement"&&node.parent.finalizer===node}function isInFinallyBlock(node,label){let labelInside=false;let sentinelNodeType;if(node.type==="BreakStatement"&&!node.label){sentinelNodeType=SENTINEL_NODE_TYPE_BREAK}else if(node.type==="ContinueStatement"){sentinelNodeType=SENTINEL_NODE_TYPE_CONTINUE}else{sentinelNodeType=SENTINEL_NODE_TYPE_RETURN_THROW}for(let currentNode=node;currentNode&&!sentinelNodeType.test(currentNode.type);currentNode=currentNode.parent){if(currentNode.parent.label&&label&&currentNode.parent.label.name===label.name){labelInside=true}if(isFinallyBlock(currentNode)){if(label&&labelInside){return false}return true}}return false}function check(node){if(isInFinallyBlock(node,node.label)){context.report({messageId:"unsafeUsage",data:{nodeType:node.type},node:node,line:node.loc.line,column:node.loc.column})}}return{ReturnStatement:check,ThrowStatement:check,BreakStatement:check,ContinueStatement:check}}};return noUnsafeFinally}var noUnsafeNegation;var hasRequiredNoUnsafeNegation;function requireNoUnsafeNegation(){if(hasRequiredNoUnsafeNegation)return noUnsafeNegation;hasRequiredNoUnsafeNegation=1;const astUtils=requireAstUtils();function isInOrInstanceOfOperator(op){return op==="in"||op==="instanceof"}function isOrderingRelationalOperator(op){return op==="<"||op===">"||op===">="||op==="<="}function isNegation(node){return node.type==="UnaryExpression"&&node.operator==="!"}noUnsafeNegation={meta:{type:"problem",docs:{description:"Disallow negating the left operand of relational operators",recommended:true,url:"https://eslint.org/docs/rules/no-unsafe-negation"},hasSuggestions:true,schema:[{type:"object",properties:{enforceForOrderingRelations:{type:"boolean",default:false}},additionalProperties:false}],fixable:null,messages:{unexpected:"Unexpected negating the left operand of '{{operator}}' operator.",suggestNegatedExpression:"Negate '{{operator}}' expression instead of its left operand. This changes the current behavior.",suggestParenthesisedNegation:"Wrap negation in '()' to make the intention explicit. This preserves the current behavior."}},create(context){const sourceCode=context.getSourceCode();const options=context.options[0]||{};const enforceForOrderingRelations=options.enforceForOrderingRelations===true;return{BinaryExpression(node){const operator=node.operator;const orderingRelationRuleApplies=enforceForOrderingRelations&&isOrderingRelationalOperator(operator);if((isInOrInstanceOfOperator(operator)||orderingRelationRuleApplies)&&isNegation(node.left)&&!astUtils.isParenthesised(sourceCode,node.left)){context.report({node:node,loc:node.left.loc,messageId:"unexpected",data:{operator:operator},suggest:[{messageId:"suggestNegatedExpression",data:{operator:operator},fix(fixer){const negationToken=sourceCode.getFirstToken(node.left);const fixRange=[negationToken.range[1],node.range[1]];const text=sourceCode.text.slice(fixRange[0],fixRange[1]);return fixer.replaceTextRange(fixRange,`(${text})`)}},{messageId:"suggestParenthesisedNegation",fix(fixer){return fixer.replaceText(node.left,`(${sourceCode.getText(node.left)})`)}}]})}}}}};return noUnsafeNegation}var noUnsafeOptionalChaining;var hasRequiredNoUnsafeOptionalChaining;function requireNoUnsafeOptionalChaining(){if(hasRequiredNoUnsafeOptionalChaining)return noUnsafeOptionalChaining;hasRequiredNoUnsafeOptionalChaining=1;const UNSAFE_ARITHMETIC_OPERATORS=new Set(["+","-","/","*","%","**"]);const UNSAFE_ASSIGNMENT_OPERATORS=new Set(["+=","-=","/=","*=","%=","**="]);const UNSAFE_RELATIONAL_OPERATORS=new Set(["in","instanceof"]);function isDestructuringPattern(node){return node.type==="ObjectPattern"||node.type==="ArrayPattern"}noUnsafeOptionalChaining={meta:{type:"problem",docs:{description:"Disallow use of optional chaining in contexts where the `undefined` value is not allowed",recommended:true,url:"https://eslint.org/docs/rules/no-unsafe-optional-chaining"},schema:[{type:"object",properties:{disallowArithmeticOperators:{type:"boolean",default:false}},additionalProperties:false}],fixable:null,messages:{unsafeOptionalChain:"Unsafe usage of optional chaining. If it short-circuits with 'undefined' the evaluation will throw TypeError.",unsafeArithmetic:"Unsafe arithmetic operation on optional chaining. It can result in NaN."}},create(context){const options=context.options[0]||{};const disallowArithmeticOperators=options.disallowArithmeticOperators||false;function reportUnsafeUsage(node){context.report({messageId:"unsafeOptionalChain",node:node})}function reportUnsafeArithmetic(node){context.report({messageId:"unsafeArithmetic",node:node})}function checkUndefinedShortCircuit(node,reportFunc){if(!node){return}switch(node.type){case"LogicalExpression":if(node.operator==="||"||node.operator==="??"){checkUndefinedShortCircuit(node.right,reportFunc)}else if(node.operator==="&&"){checkUndefinedShortCircuit(node.left,reportFunc);checkUndefinedShortCircuit(node.right,reportFunc)}break;case"SequenceExpression":checkUndefinedShortCircuit(node.expressions[node.expressions.length-1],reportFunc);break;case"ConditionalExpression":checkUndefinedShortCircuit(node.consequent,reportFunc);checkUndefinedShortCircuit(node.alternate,reportFunc);break;case"AwaitExpression":checkUndefinedShortCircuit(node.argument,reportFunc);break;case"ChainExpression":reportFunc(node);break}}function checkUnsafeUsage(node){checkUndefinedShortCircuit(node,reportUnsafeUsage)}function checkUnsafeArithmetic(node){checkUndefinedShortCircuit(node,reportUnsafeArithmetic)}return{"AssignmentExpression, AssignmentPattern"(node){if(isDestructuringPattern(node.left)){checkUnsafeUsage(node.right)}},"ClassDeclaration, ClassExpression"(node){checkUnsafeUsage(node.superClass)},CallExpression(node){if(!node.optional){checkUnsafeUsage(node.callee)}},NewExpression(node){checkUnsafeUsage(node.callee)},VariableDeclarator(node){if(isDestructuringPattern(node.id)){checkUnsafeUsage(node.init)}},MemberExpression(node){if(!node.optional){checkUnsafeUsage(node.object)}},TaggedTemplateExpression(node){checkUnsafeUsage(node.tag)},ForOfStatement(node){checkUnsafeUsage(node.right)},SpreadElement(node){if(node.parent&&node.parent.type!=="ObjectExpression"){checkUnsafeUsage(node.argument)}},BinaryExpression(node){if(UNSAFE_RELATIONAL_OPERATORS.has(node.operator)){checkUnsafeUsage(node.right)}if(disallowArithmeticOperators&&UNSAFE_ARITHMETIC_OPERATORS.has(node.operator)){checkUnsafeArithmetic(node.right);checkUnsafeArithmetic(node.left)}},WithStatement(node){checkUnsafeUsage(node.object)},UnaryExpression(node){if(disallowArithmeticOperators&&UNSAFE_ARITHMETIC_OPERATORS.has(node.operator)){checkUnsafeArithmetic(node.argument)}},AssignmentExpression(node){if(disallowArithmeticOperators&&UNSAFE_ASSIGNMENT_OPERATORS.has(node.operator)){checkUnsafeArithmetic(node.right)}}}}};return noUnsafeOptionalChaining}var noUnusedExpressions;var hasRequiredNoUnusedExpressions;function requireNoUnusedExpressions(){if(hasRequiredNoUnusedExpressions)return noUnusedExpressions;hasRequiredNoUnusedExpressions=1;function alwaysTrue(){return true}function alwaysFalse(){return false}noUnusedExpressions={meta:{type:"suggestion",docs:{description:"Disallow unused expressions",recommended:false,url:"https://eslint.org/docs/rules/no-unused-expressions"},schema:[{type:"object",properties:{allowShortCircuit:{type:"boolean",default:false},allowTernary:{type:"boolean",default:false},allowTaggedTemplates:{type:"boolean",default:false},enforceForJSX:{type:"boolean",default:false}},additionalProperties:false}],messages:{unusedExpression:"Expected an assignment or function call and instead saw an expression."}},create(context){const config=context.options[0]||{},allowShortCircuit=config.allowShortCircuit||false,allowTernary=config.allowTernary||false,allowTaggedTemplates=config.allowTaggedTemplates||false,enforceForJSX=config.enforceForJSX||false;function looksLikeDirective(node){return node.type==="ExpressionStatement"&&node.expression.type==="Literal"&&typeof node.expression.value==="string"}function takeWhile(predicate,list){for(let i=0;i<list.length;++i){if(!predicate(list[i])){return list.slice(0,i)}}return list.slice()}function directives(node){return takeWhile(looksLikeDirective,node.body)}function isDirective(node,ancestors){const parent=ancestors[ancestors.length-1],grandparent=ancestors[ancestors.length-2];return(parent.type==="Program"||parent.type==="BlockStatement"&&/Function/u.test(grandparent.type))&&directives(parent).includes(node)}const Checker=Object.assign(Object.create(null),{isDisallowed(node){return(Checker[node.type]||alwaysFalse)(node)},ArrayExpression:alwaysTrue,ArrowFunctionExpression:alwaysTrue,BinaryExpression:alwaysTrue,ChainExpression(node){return Checker.isDisallowed(node.expression)},ClassExpression:alwaysTrue,ConditionalExpression(node){if(allowTernary){return Checker.isDisallowed(node.consequent)||Checker.isDisallowed(node.alternate)}return true},FunctionExpression:alwaysTrue,Identifier:alwaysTrue,JSXElement(){return enforceForJSX},JSXFragment(){return enforceForJSX},Literal:alwaysTrue,LogicalExpression(node){if(allowShortCircuit){return Checker.isDisallowed(node.right)}return true},MemberExpression:alwaysTrue,MetaProperty:alwaysTrue,ObjectExpression:alwaysTrue,SequenceExpression:alwaysTrue,TaggedTemplateExpression(){return!allowTaggedTemplates},TemplateLiteral:alwaysTrue,ThisExpression:alwaysTrue,UnaryExpression(node){return node.operator!=="void"&&node.operator!=="delete"}});return{ExpressionStatement(node){if(Checker.isDisallowed(node.expression)&&!isDirective(node,context.getAncestors())){context.report({node:node,messageId:"unusedExpression"})}}}}};return noUnusedExpressions}var noUnusedLabels;var hasRequiredNoUnusedLabels;function requireNoUnusedLabels(){if(hasRequiredNoUnusedLabels)return noUnusedLabels;hasRequiredNoUnusedLabels=1;noUnusedLabels={meta:{type:"suggestion",docs:{description:"Disallow unused labels",recommended:true,url:"https://eslint.org/docs/rules/no-unused-labels"},schema:[],fixable:"code",messages:{unused:"'{{name}}:' is defined but never used."}},create(context){const sourceCode=context.getSourceCode();let scopeInfo=null;function enterLabeledScope(node){scopeInfo={label:node.label.name,used:false,upper:scopeInfo}}function exitLabeledScope(node){if(!scopeInfo.used){context.report({node:node.label,messageId:"unused",data:node.label,fix(fixer){if(sourceCode.getTokenAfter(node.label,{includeComments:true})===sourceCode.getTokenBefore(node.body,{includeComments:true})){return fixer.removeRange([node.range[0],node.body.range[0]])}return null}})}scopeInfo=scopeInfo.upper}function markAsUsed(node){if(!node.label){return}const label=node.label.name;let info=scopeInfo;while(info){if(info.label===label){info.used=true;break}info=info.upper}}return{LabeledStatement:enterLabeledScope,"LabeledStatement:exit":exitLabeledScope,BreakStatement:markAsUsed,ContinueStatement:markAsUsed}}};return noUnusedLabels}var noUnusedPrivateClassMembers;var hasRequiredNoUnusedPrivateClassMembers;function requireNoUnusedPrivateClassMembers(){if(hasRequiredNoUnusedPrivateClassMembers)return noUnusedPrivateClassMembers;hasRequiredNoUnusedPrivateClassMembers=1;noUnusedPrivateClassMembers={meta:{type:"problem",docs:{description:"Disallow unused private class members",recommended:false,url:"https://eslint.org/docs/rules/no-unused-private-class-members"},schema:[],messages:{unusedPrivateClassMember:"'{{classMemberName}}' is defined but never used."}},create(context){const trackedClasses=[];function isWriteOnlyAssignment(privateIdentifierNode){const parentStatement=privateIdentifierNode.parent.parent;const isAssignmentExpression=parentStatement.type==="AssignmentExpression";if(!isAssignmentExpression&&parentStatement.type!=="ForInStatement"&&parentStatement.type!=="ForOfStatement"&&parentStatement.type!=="AssignmentPattern"){return false}if(parentStatement.left!==privateIdentifierNode.parent){return false}if(isAssignmentExpression&&parentStatement.operator!=="="){return parentStatement.parent.type==="ExpressionStatement"}return true}return{ClassBody(classBodyNode){const privateMembers=new Map;trackedClasses.unshift(privateMembers);for(const bodyMember of classBodyNode.body){if(bodyMember.type==="PropertyDefinition"||bodyMember.type==="MethodDefinition"){if(bodyMember.key.type==="PrivateIdentifier"){privateMembers.set(bodyMember.key.name,{declaredNode:bodyMember,isAccessor:bodyMember.type==="MethodDefinition"&&(bodyMember.kind==="set"||bodyMember.kind==="get")})}}}},PrivateIdentifier(privateIdentifierNode){const classBody=trackedClasses.find((classProperties=>classProperties.has(privateIdentifierNode.name)));if(!classBody){return}const memberDefinition=classBody.get(privateIdentifierNode.name);if(memberDefinition.isUsed){return}if(privateIdentifierNode.parent.type==="PropertyDefinition"||privateIdentifierNode.parent.type==="MethodDefinition"){return}if(memberDefinition.isAccessor){memberDefinition.isUsed=true;return}if(isWriteOnlyAssignment(privateIdentifierNode)){return}const wrappingExpressionType=privateIdentifierNode.parent.parent.type;const parentOfWrappingExpressionType=privateIdentifierNode.parent.parent.parent.type;if(wrappingExpressionType==="UpdateExpression"&&parentOfWrappingExpressionType==="ExpressionStatement"){return}if(wrappingExpressionType==="Property"&&parentOfWrappingExpressionType==="ObjectPattern"&&privateIdentifierNode.parent.parent.value===privateIdentifierNode.parent){return}if(wrappingExpressionType==="RestElement"){return}if(wrappingExpressionType==="ArrayPattern"){return}memberDefinition.isUsed=true},"ClassBody:exit"(){const unusedPrivateMembers=trackedClasses.shift();for(const[classMemberName,{declaredNode:declaredNode,isUsed:isUsed}]of unusedPrivateMembers.entries()){if(isUsed){continue}context.report({node:declaredNode,loc:declaredNode.key.loc,messageId:"unusedPrivateClassMember",data:{classMemberName:`#${classMemberName}`}})}}}}};return noUnusedPrivateClassMembers}var noUnusedVars;var hasRequiredNoUnusedVars;function requireNoUnusedVars(){if(hasRequiredNoUnusedVars)return noUnusedVars;hasRequiredNoUnusedVars=1;const astUtils=requireAstUtils();noUnusedVars={meta:{type:"problem",docs:{description:"Disallow unused variables",recommended:true,url:"https://eslint.org/docs/rules/no-unused-vars"},schema:[{oneOf:[{enum:["all","local"]},{type:"object",properties:{vars:{enum:["all","local"]},varsIgnorePattern:{type:"string"},args:{enum:["all","after-used","none"]},ignoreRestSiblings:{type:"boolean"},argsIgnorePattern:{type:"string"},caughtErrors:{enum:["all","none"]},caughtErrorsIgnorePattern:{type:"string"},destructuredArrayIgnorePattern:{type:"string"}},additionalProperties:false}]}],messages:{unusedVar:"'{{varName}}' is {{action}} but never used{{additional}}."}},create(context){const sourceCode=context.getSourceCode();const REST_PROPERTY_TYPE=/^(?:RestElement|(?:Experimental)?RestProperty)$/u;const config={vars:"all",args:"after-used",ignoreRestSiblings:false,caughtErrors:"none"};const firstOption=context.options[0];if(firstOption){if(typeof firstOption==="string"){config.vars=firstOption}else{config.vars=firstOption.vars||config.vars;config.args=firstOption.args||config.args;config.ignoreRestSiblings=firstOption.ignoreRestSiblings||config.ignoreRestSiblings;config.caughtErrors=firstOption.caughtErrors||config.caughtErrors;if(firstOption.varsIgnorePattern){config.varsIgnorePattern=new RegExp(firstOption.varsIgnorePattern,"u")}if(firstOption.argsIgnorePattern){config.argsIgnorePattern=new RegExp(firstOption.argsIgnorePattern,"u")}if(firstOption.caughtErrorsIgnorePattern){config.caughtErrorsIgnorePattern=new RegExp(firstOption.caughtErrorsIgnorePattern,"u")}if(firstOption.destructuredArrayIgnorePattern){config.destructuredArrayIgnorePattern=new RegExp(firstOption.destructuredArrayIgnorePattern,"u")}}}function getDefinedMessageData(unusedVar){const defType=unusedVar.defs&&unusedVar.defs[0]&&unusedVar.defs[0].type;let type;let pattern;if(defType==="CatchClause"&&config.caughtErrorsIgnorePattern){type="args";pattern=config.caughtErrorsIgnorePattern.toString()}else if(defType==="Parameter"&&config.argsIgnorePattern){type="args";pattern=config.argsIgnorePattern.toString()}else if(defType!=="Parameter"&&config.varsIgnorePattern){type="vars";pattern=config.varsIgnorePattern.toString()}const additional=type?`. Allowed unused ${type} must match ${pattern}`:"";return{varName:unusedVar.name,action:"defined",additional:additional}}function getAssignedMessageData(unusedVar){const def=unusedVar.defs[0];let additional="";if(config.destructuredArrayIgnorePattern&&def&&def.name.parent.type==="ArrayPattern"){additional=`. Allowed unused elements of array destructuring patterns must match ${config.destructuredArrayIgnorePattern.toString()}`}else if(config.varsIgnorePattern){additional=`. Allowed unused vars must match ${config.varsIgnorePattern.toString()}`}return{varName:unusedVar.name,action:"assigned a value",additional:additional}}const STATEMENT_TYPE=/(?:Statement|Declaration)$/u;function isExported(variable){const definition=variable.defs[0];if(definition){let node=definition.node;if(node.type==="VariableDeclarator"){node=node.parent}else if(definition.type==="Parameter"){return false}return node.parent.type.indexOf("Export")===0}return false}function hasRestSibling(node){return node.type==="Property"&&node.parent.type==="ObjectPattern"&&REST_PROPERTY_TYPE.test(node.parent.properties[node.parent.properties.length-1].type)}function hasRestSpreadSibling(variable){if(config.ignoreRestSiblings){const hasRestSiblingDefinition=variable.defs.some((def=>hasRestSibling(def.name.parent)));const hasRestSiblingReference=variable.references.some((ref=>hasRestSibling(ref.identifier.parent)));return hasRestSiblingDefinition||hasRestSiblingReference}return false}function isReadRef(ref){return ref.isRead()}function isSelfReference(ref,nodes){let scope=ref.from;while(scope){if(nodes.includes(scope.block)){return true}scope=scope.upper}return false}function getFunctionDefinitions(variable){const functionDefinitions=[];variable.defs.forEach((def=>{const{type:type,node:node}=def;if(type==="FunctionName"){functionDefinitions.push(node)}if(type==="Variable"&&node.init&&(node.init.type==="FunctionExpression"||node.init.type==="ArrowFunctionExpression")){functionDefinitions.push(node.init)}}));return functionDefinitions}function isInside(inner,outer){return inner.range[0]>=outer.range[0]&&inner.range[1]<=outer.range[1]}function isUnusedExpression(node){const parent=node.parent;if(parent.type==="ExpressionStatement"){return true}if(parent.type==="SequenceExpression"){const isLastExpression=parent.expressions[parent.expressions.length-1]===node;if(!isLastExpression){return true}return isUnusedExpression(parent)}return false}function getRhsNode(ref,prevRhsNode){const id=ref.identifier;const parent=id.parent;const refScope=ref.from.variableScope;const varScope=ref.resolved.scope.variableScope;const canBeUsedLater=refScope!==varScope||astUtils.isInLoop(id);if(prevRhsNode&&isInside(id,prevRhsNode)){return prevRhsNode}if(parent.type==="AssignmentExpression"&&isUnusedExpression(parent)&&id===parent.left&&!canBeUsedLater){return parent.right}return null}function isStorableFunction(funcNode,rhsNode){let node=funcNode;let parent=funcNode.parent;while(parent&&isInside(parent,rhsNode)){switch(parent.type){case"SequenceExpression":if(parent.expressions[parent.expressions.length-1]!==node){return false}break;case"CallExpression":case"NewExpression":return parent.callee!==node;case"AssignmentExpression":case"TaggedTemplateExpression":case"YieldExpression":return true;default:if(STATEMENT_TYPE.test(parent.type)){return true}}node=parent;parent=parent.parent}return false}function isInsideOfStorableFunction(id,rhsNode){const funcNode=astUtils.getUpperFunction(id);return funcNode&&isInside(funcNode,rhsNode)&&isStorableFunction(funcNode,rhsNode)}function isReadForItself(ref,rhsNode){const id=ref.identifier;const parent=id.parent;return ref.isRead()&&(parent.type==="AssignmentExpression"&&parent.left===id&&isUnusedExpression(parent)||parent.type==="UpdateExpression"&&isUnusedExpression(parent)||rhsNode&&isInside(id,rhsNode)&&!isInsideOfStorableFunction(id,rhsNode))}function isForInOfRef(ref){let target=ref.identifier.parent;if(target.type==="VariableDeclarator"){target=target.parent.parent}if(target.type!=="ForInStatement"&&target.type!=="ForOfStatement"){return false}if(target.body.type==="BlockStatement"){target=target.body.body[0]}else{target=target.body}if(!target){return false}return target.type==="ReturnStatement"}function isUsedVariable(variable){const functionNodes=getFunctionDefinitions(variable),isFunctionDefinition=functionNodes.length>0;let rhsNode=null;return variable.references.some((ref=>{if(isForInOfRef(ref)){return true}const forItself=isReadForItself(ref,rhsNode);rhsNode=getRhsNode(ref,rhsNode);return isReadRef(ref)&&!forItself&&!(isFunctionDefinition&&isSelfReference(ref,functionNodes))}))}function isAfterLastUsedArg(variable){const def=variable.defs[0];const params=context.getDeclaredVariables(def.node);const posteriorParams=params.slice(params.indexOf(variable)+1);return!posteriorParams.some((v=>v.references.length>0||v.eslintUsed))}function collectUnusedVariables(scope,unusedVars){const variables=scope.variables;const childScopes=scope.childScopes;let i,l;if(scope.type!=="global"||config.vars==="all"){for(i=0,l=variables.length;i<l;++i){const variable=variables[i];if(scope.type==="class"&&scope.block.id===variable.identifiers[0]){continue}if(scope.functionExpressionScope||variable.eslintUsed){continue}if(scope.type==="function"&&variable.name==="arguments"&&variable.identifiers.length===0){continue}const def=variable.defs[0];if(def){const type=def.type;const refUsedInArrayPatterns=variable.references.some((ref=>ref.identifier.parent.type==="ArrayPattern"));if((def.name.parent.type==="ArrayPattern"||refUsedInArrayPatterns)&&config.destructuredArrayIgnorePattern&&config.destructuredArrayIgnorePattern.test(def.name.name)){continue}if(type==="CatchClause"){if(config.caughtErrors==="none"){continue}if(config.caughtErrorsIgnorePattern&&config.caughtErrorsIgnorePattern.test(def.name.name)){continue}}if(type==="Parameter"){if((def.node.parent.type==="Property"||def.node.parent.type==="MethodDefinition")&&def.node.parent.kind==="set"){continue}if(config.args==="none"){continue}if(config.argsIgnorePattern&&config.argsIgnorePattern.test(def.name.name)){continue}if(config.args==="after-used"&&astUtils.isFunction(def.name.parent)&&!isAfterLastUsedArg(variable)){continue}}else{if(config.varsIgnorePattern&&config.varsIgnorePattern.test(def.name.name)){continue}}}if(!isUsedVariable(variable)&&!isExported(variable)&&!hasRestSpreadSibling(variable)){unusedVars.push(variable)}}}for(i=0,l=childScopes.length;i<l;++i){collectUnusedVariables(childScopes[i],unusedVars)}return unusedVars}return{"Program:exit"(programNode){const unusedVars=collectUnusedVariables(context.getScope(),[]);for(let i=0,l=unusedVars.length;i<l;++i){const unusedVar=unusedVars[i];if(unusedVar.defs.length>0){const writeReferences=unusedVar.references.filter((ref=>ref.isWrite()&&ref.from.variableScope===unusedVar.scope.variableScope));let referenceToReport;if(writeReferences.length>0){referenceToReport=writeReferences[writeReferences.length-1]}context.report({node:referenceToReport?referenceToReport.identifier:unusedVar.identifiers[0],messageId:"unusedVar",data:unusedVar.references.some((ref=>ref.isWrite()))?getAssignedMessageData(unusedVar):getDefinedMessageData(unusedVar)})}else if(unusedVar.eslintExplicitGlobalComments){const directiveComment=unusedVar.eslintExplicitGlobalComments[0];context.report({node:programNode,loc:astUtils.getNameLocationInGlobalDirectiveComment(sourceCode,directiveComment,unusedVar.name),messageId:"unusedVar",data:getDefinedMessageData(unusedVar)})}}}}}};return noUnusedVars}var noUseBeforeDefine;var hasRequiredNoUseBeforeDefine;function requireNoUseBeforeDefine(){if(hasRequiredNoUseBeforeDefine)return noUseBeforeDefine;hasRequiredNoUseBeforeDefine=1;const SENTINEL_TYPE=/^(?:(?:Function|Class)(?:Declaration|Expression)|ArrowFunctionExpression|CatchClause|ImportDeclaration|ExportNamedDeclaration)$/u;const FOR_IN_OF_TYPE=/^For(?:In|Of)Statement$/u;function parseOptions(options){let functions=true;let classes=true;let variables=true;let allowNamedExports=false;if(typeof options==="string"){functions=options!=="nofunc"}else if(typeof options==="object"&&options!==null){functions=options.functions!==false;classes=options.classes!==false;variables=options.variables!==false;allowNamedExports=!!options.allowNamedExports}return{functions:functions,classes:classes,variables:variables,allowNamedExports:allowNamedExports}}function isInRange(node,location){return node&&node.range[0]<=location&&location<=node.range[1]}function isInClassStaticInitializerRange(node,location){return node.body.some((classMember=>classMember.type==="StaticBlock"&&isInRange(classMember,location)||classMember.type==="PropertyDefinition"&&classMember.static&&classMember.value&&isInRange(classMember.value,location)))}function isClassStaticInitializerScope(scope){if(scope.type==="class-static-block"){return true}if(scope.type==="class-field-initializer"){const propertyDefinition=scope.block.parent;return propertyDefinition.static}return false}function isFromSeparateExecutionContext(reference){const variable=reference.resolved;let scope=reference.from;while(variable.scope.variableScope!==scope.variableScope){if(isClassStaticInitializerScope(scope.variableScope)){scope=scope.variableScope.upper}else{return true}}return false}function isEvaluatedDuringInitialization(reference){if(isFromSeparateExecutionContext(reference)){return false}const location=reference.identifier.range[1];const definition=reference.resolved.defs[0];if(definition.type==="ClassName"){const classDefinition=definition.node;return isInRange(classDefinition,location)&&!isInClassStaticInitializerRange(classDefinition.body,location)}let node=definition.name.parent;while(node){if(node.type==="VariableDeclarator"){if(isInRange(node.init,location)){return true}if(FOR_IN_OF_TYPE.test(node.parent.parent.type)&&isInRange(node.parent.parent.right,location)){return true}break}else if(node.type==="AssignmentPattern"){if(isInRange(node.right,location)){return true}}else if(SENTINEL_TYPE.test(node.type)){break}node=node.parent}return false}noUseBeforeDefine={meta:{type:"problem",docs:{description:"Disallow the use of variables before they are defined",recommended:false,url:"https://eslint.org/docs/rules/no-use-before-define"},schema:[{oneOf:[{enum:["nofunc"]},{type:"object",properties:{functions:{type:"boolean"},classes:{type:"boolean"},variables:{type:"boolean"},allowNamedExports:{type:"boolean"}},additionalProperties:false}]}],messages:{usedBeforeDefined:"'{{name}}' was used before it was defined."}},create(context){const options=parseOptions(context.options[0]);function shouldCheck(reference){if(reference.init){return false}const{identifier:identifier}=reference;if(options.allowNamedExports&&identifier.parent.type==="ExportSpecifier"&&identifier.parent.local===identifier){return false}const variable=reference.resolved;if(!variable||variable.defs.length===0){return false}const definitionType=variable.defs[0].type;if(!options.functions&&definitionType==="FunctionName"){return false}if((!options.variables&&definitionType==="Variable"||!options.classes&&definitionType==="ClassName")&&isFromSeparateExecutionContext(reference)){return false}return true}function checkReferencesInScope(scope){scope.references.filter(shouldCheck).forEach((reference=>{const variable=reference.resolved;const definitionIdentifier=variable.defs[0].name;if(reference.identifier.range[1]<definitionIdentifier.range[1]||isEvaluatedDuringInitialization(reference)){context.report({node:reference.identifier,messageId:"usedBeforeDefined",data:reference.identifier})}}));scope.childScopes.forEach(checkReferencesInScope)}return{Program(){checkReferencesInScope(context.getScope())}}}};return noUseBeforeDefine}var noUselessBackreference;var hasRequiredNoUselessBackreference;function requireNoUselessBackreference(){if(hasRequiredNoUselessBackreference)return noUselessBackreference;hasRequiredNoUselessBackreference=1;const{CALL:CALL,CONSTRUCT:CONSTRUCT,ReferenceTracker:ReferenceTracker,getStringIfConstant:getStringIfConstant}=requireEslintUtils();const{RegExpParser:RegExpParser,visitRegExpAST:visitRegExpAST}=requireRegexpp();const parser=new RegExpParser;function getPathToRoot(node){const path=[];let current=node;do{path.push(current);current=current.parent}while(current);return path}function isLookaround(node){return node.type==="Assertion"&&(node.kind==="lookahead"||node.kind==="lookbehind")}function isNegativeLookaround(node){return isLookaround(node)&&node.negate}noUselessBackreference={meta:{type:"problem",docs:{description:"Disallow useless backreferences in regular expressions",recommended:true,url:"https://eslint.org/docs/rules/no-useless-backreference"},schema:[],messages:{nested:"Backreference '{{ bref }}' will be ignored. It references group '{{ group }}' from within that group.",forward:"Backreference '{{ bref }}' will be ignored. It references group '{{ group }}' which appears later in the pattern.",backward:"Backreference '{{ bref }}' will be ignored. It references group '{{ group }}' which appears before in the same lookbehind.",disjunctive:"Backreference '{{ bref }}' will be ignored. It references group '{{ group }}' which is in another alternative.",intoNegativeLookaround:"Backreference '{{ bref }}' will be ignored. It references group '{{ group }}' which is in a negative lookaround."}},create(context){function checkRegex(node,pattern,flags){let regExpAST;try{regExpAST=parser.parsePattern(pattern,0,pattern.length,flags.includes("u"))}catch{return}visitRegExpAST(regExpAST,{onBackreferenceEnter(bref){const group=bref.resolved,brefPath=getPathToRoot(bref),groupPath=getPathToRoot(group);let messageId=null;if(brefPath.includes(group)){messageId="nested"}else{let i=brefPath.length-1,j=groupPath.length-1;do{i--;j--}while(brefPath[i]===groupPath[j]);const indexOfLowestCommonAncestor=j+1,groupCut=groupPath.slice(0,indexOfLowestCommonAncestor),commonPath=groupPath.slice(indexOfLowestCommonAncestor),lowestCommonLookaround=commonPath.find(isLookaround),isMatchingBackward=lowestCommonLookaround&&lowestCommonLookaround.kind==="lookbehind";if(!isMatchingBackward&&bref.end<=group.start){messageId="forward"}else if(isMatchingBackward&&group.end<=bref.start){messageId="backward"}else if(groupCut[groupCut.length-1].type==="Alternative"){messageId="disjunctive"}else if(groupCut.some(isNegativeLookaround)){messageId="intoNegativeLookaround"}}if(messageId){context.report({node:node,messageId:messageId,data:{bref:bref.raw,group:group.raw}})}}})}return{"Literal[regex]"(node){const{pattern:pattern,flags:flags}=node.regex;checkRegex(node,pattern,flags)},Program(){const scope=context.getScope(),tracker=new ReferenceTracker(scope),traceMap={RegExp:{[CALL]:true,[CONSTRUCT]:true}};for(const{node:node}of tracker.iterateGlobalReferences(traceMap)){const[patternNode,flagsNode]=node.arguments,pattern=getStringIfConstant(patternNode,scope),flags=getStringIfConstant(flagsNode,scope);if(typeof pattern==="string"){checkRegex(node,pattern,flags||"")}}}}}};return noUselessBackreference}var noUselessCall;var hasRequiredNoUselessCall;function requireNoUselessCall(){if(hasRequiredNoUselessCall)return noUselessCall;hasRequiredNoUselessCall=1;const astUtils=requireAstUtils();function isCallOrNonVariadicApply(node){const callee=astUtils.skipChainExpression(node.callee);return callee.type==="MemberExpression"&&callee.property.type==="Identifier"&&callee.computed===false&&(callee.property.name==="call"&&node.arguments.length>=1||callee.property.name==="apply"&&node.arguments.length===2&&node.arguments[1].type==="ArrayExpression")}function isValidThisArg(expectedThis,thisArg,sourceCode){if(!expectedThis){return astUtils.isNullOrUndefined(thisArg)}return astUtils.equalTokens(expectedThis,thisArg,sourceCode)}noUselessCall={meta:{type:"suggestion",docs:{description:"Disallow unnecessary calls to `.call()` and `.apply()`",recommended:false,url:"https://eslint.org/docs/rules/no-useless-call"},schema:[],messages:{unnecessaryCall:"Unnecessary '.{{name}}()'."}},create(context){const sourceCode=context.getSourceCode();return{CallExpression(node){if(!isCallOrNonVariadicApply(node)){return}const callee=astUtils.skipChainExpression(node.callee);const applied=astUtils.skipChainExpression(callee.object);const expectedThis=applied.type==="MemberExpression"?applied.object:null;const thisArg=node.arguments[0];if(isValidThisArg(expectedThis,thisArg,sourceCode)){context.report({node:node,messageId:"unnecessaryCall",data:{name:callee.property.name}})}}}}};return noUselessCall}var noUselessCatch;var hasRequiredNoUselessCatch;function requireNoUselessCatch(){if(hasRequiredNoUselessCatch)return noUselessCatch;hasRequiredNoUselessCatch=1;noUselessCatch={meta:{type:"suggestion",docs:{description:"Disallow unnecessary `catch` clauses",recommended:true,url:"https://eslint.org/docs/rules/no-useless-catch"},schema:[],messages:{unnecessaryCatchClause:"Unnecessary catch clause.",unnecessaryCatch:"Unnecessary try/catch wrapper."}},create(context){return{CatchClause(node){if(node.param&&node.param.type==="Identifier"&&node.body.body.length&&node.body.body[0].type==="ThrowStatement"&&node.body.body[0].argument.type==="Identifier"&&node.body.body[0].argument.name===node.param.name){if(node.parent.finalizer){context.report({node:node,messageId:"unnecessaryCatchClause"})}else{context.report({node:node.parent,messageId:"unnecessaryCatch"})}}}}}};return noUselessCatch}var noUselessComputedKey;var hasRequiredNoUselessComputedKey;function requireNoUselessComputedKey(){if(hasRequiredNoUselessComputedKey)return noUselessComputedKey;hasRequiredNoUselessComputedKey=1;const astUtils=requireAstUtils();function hasUselessComputedKey(node){if(!node.computed){return false}const{key:key}=node;if(key.type!=="Literal"){return false}const{value:value}=key;if(typeof value!=="number"&&typeof value!=="string"){return false}switch(node.type){case"Property":return value!=="__proto__";case"PropertyDefinition":if(node.static){return value!=="constructor"&&value!=="prototype"}return value!=="constructor";case"MethodDefinition":if(node.static){return value!=="prototype"}return value!=="constructor";default:throw new Error(`Unexpected node type: ${node.type}`)}}noUselessComputedKey={meta:{type:"suggestion",docs:{description:"Disallow unnecessary computed property keys in objects and classes",recommended:false,url:"https://eslint.org/docs/rules/no-useless-computed-key"},schema:[{type:"object",properties:{enforceForClassMembers:{type:"boolean",default:false}},additionalProperties:false}],fixable:"code",messages:{unnecessarilyComputedProperty:"Unnecessarily computed property [{{property}}] found."}},create(context){const sourceCode=context.getSourceCode();const enforceForClassMembers=context.options[0]&&context.options[0].enforceForClassMembers;function check(node){if(hasUselessComputedKey(node)){const{key:key}=node;context.report({node:node,messageId:"unnecessarilyComputedProperty",data:{property:sourceCode.getText(key)},fix(fixer){const leftSquareBracket=sourceCode.getTokenBefore(key,astUtils.isOpeningBracketToken);const rightSquareBracket=sourceCode.getTokenAfter(key,astUtils.isClosingBracketToken);if(sourceCode.commentsExistBetween(leftSquareBracket,rightSquareBracket)){return null}const tokenBeforeLeftBracket=sourceCode.getTokenBefore(leftSquareBracket);const needsSpaceBeforeKey=tokenBeforeLeftBracket.range[1]===leftSquareBracket.range[0]&&!astUtils.canTokensBeAdjacent(tokenBeforeLeftBracket,sourceCode.getFirstToken(key));const replacementKey=(needsSpaceBeforeKey?" ":"")+key.raw;return fixer.replaceTextRange([leftSquareBracket.range[0],rightSquareBracket.range[1]],replacementKey)}})}}function noop(){}return{Property:check,MethodDefinition:enforceForClassMembers?check:noop,PropertyDefinition:enforceForClassMembers?check:noop}}};return noUselessComputedKey}var noUselessConcat;var hasRequiredNoUselessConcat;function requireNoUselessConcat(){if(hasRequiredNoUselessConcat)return noUselessConcat;hasRequiredNoUselessConcat=1;const astUtils=requireAstUtils();function isConcatenation(node){return node.type==="BinaryExpression"&&node.operator==="+"}function isConcatOperatorToken(token){return token.value==="+"&&token.type==="Punctuator"}function getLeft(node){let left=node.left;while(isConcatenation(left)){left=left.right}return left}function getRight(node){let right=node.right;while(isConcatenation(right)){right=right.left}return right}noUselessConcat={meta:{type:"suggestion",docs:{description:"Disallow unnecessary concatenation of literals or template literals",recommended:false,url:"https://eslint.org/docs/rules/no-useless-concat"},schema:[],messages:{unexpectedConcat:"Unexpected string concatenation of literals."}},create(context){const sourceCode=context.getSourceCode();return{BinaryExpression(node){if(node.operator!=="+"){return}const left=getLeft(node);const right=getRight(node);if(astUtils.isStringLiteral(left)&&astUtils.isStringLiteral(right)&&astUtils.isTokenOnSameLine(left,right)){const operatorToken=sourceCode.getFirstTokenBetween(left,right,isConcatOperatorToken);context.report({node:node,loc:operatorToken.loc,messageId:"unexpectedConcat"})}}}}};return noUselessConcat}var noUselessConstructor;var hasRequiredNoUselessConstructor;function requireNoUselessConstructor(){if(hasRequiredNoUselessConstructor)return noUselessConstructor;hasRequiredNoUselessConstructor=1;function isSingleSuperCall(body){return body.length===1&&body[0].type==="ExpressionStatement"&&body[0].expression.type==="CallExpression"&&body[0].expression.callee.type==="Super"}function isSimple(node){return node.type==="Identifier"||node.type==="RestElement"}function isSpreadArguments(superArgs){return superArgs.length===1&&superArgs[0].type==="SpreadElement"&&superArgs[0].argument.type==="Identifier"&&superArgs[0].argument.name==="arguments"}function isValidIdentifierPair(ctorParam,superArg){return ctorParam.type==="Identifier"&&superArg.type==="Identifier"&&ctorParam.name===superArg.name}function isValidRestSpreadPair(ctorParam,superArg){return ctorParam.type==="RestElement"&&superArg.type==="SpreadElement"&&isValidIdentifierPair(ctorParam.argument,superArg.argument)}function isValidPair(ctorParam,superArg){return isValidIdentifierPair(ctorParam,superArg)||isValidRestSpreadPair(ctorParam,superArg)}function isPassingThrough(ctorParams,superArgs){if(ctorParams.length!==superArgs.length){return false}for(let i=0;i<ctorParams.length;++i){if(!isValidPair(ctorParams[i],superArgs[i])){return false}}return true}function isRedundantSuperCall(body,ctorParams){return isSingleSuperCall(body)&&ctorParams.every(isSimple)&&(isSpreadArguments(body[0].expression.arguments)||isPassingThrough(ctorParams,body[0].expression.arguments))}noUselessConstructor={meta:{type:"suggestion",docs:{description:"Disallow unnecessary constructors",recommended:false,url:"https://eslint.org/docs/rules/no-useless-constructor"},schema:[],messages:{noUselessConstructor:"Useless constructor."}},create(context){function checkForConstructor(node){if(node.kind!=="constructor"){return}if(!node.value.body){return}const body=node.value.body.body;const ctorParams=node.value.params;const superClass=node.parent.parent.superClass;if(superClass?isRedundantSuperCall(body,ctorParams):body.length===0){context.report({node:node,messageId:"noUselessConstructor"})}}return{MethodDefinition:checkForConstructor}}};return noUselessConstructor}var noUselessEscape;var hasRequiredNoUselessEscape;function requireNoUselessEscape(){if(hasRequiredNoUselessEscape)return noUselessEscape;hasRequiredNoUselessEscape=1;const astUtils=requireAstUtils();function union(setA,setB){return new Set(function*(){yield*setA;yield*setB}())}const VALID_STRING_ESCAPES=union(new Set("\\nrvtbfux"),astUtils.LINEBREAKS);const REGEX_GENERAL_ESCAPES=new Set("\\bcdDfnpPrsStvwWxu0123456789]");const REGEX_NON_CHARCLASS_ESCAPES=union(REGEX_GENERAL_ESCAPES,new Set("^/.$*+?[{}|()Bk"));function parseRegExp(regExpText){const charList=[];regExpText.split("").reduce(((state,char,index)=>{if(!state.escapeNextChar){if(char==="\\"){return Object.assign(state,{escapeNextChar:true})}if(char==="["&&!state.inCharClass){return Object.assign(state,{inCharClass:true,startingCharClass:true})}if(char==="]"&&state.inCharClass){if(charList.length&&charList[charList.length-1].inCharClass){charList[charList.length-1].endsCharClass=true}return Object.assign(state,{inCharClass:false,startingCharClass:false})}}charList.push({text:char,index:index,escaped:state.escapeNextChar,inCharClass:state.inCharClass,startsCharClass:state.startingCharClass,endsCharClass:false});return Object.assign(state,{escapeNextChar:false,startingCharClass:false})}),{escapeNextChar:false,inCharClass:false,startingCharClass:false});return charList}noUselessEscape={meta:{type:"suggestion",docs:{description:"Disallow unnecessary escape characters",recommended:true,url:"https://eslint.org/docs/rules/no-useless-escape"},hasSuggestions:true,messages:{unnecessaryEscape:"Unnecessary escape character: \\{{character}}.",removeEscape:"Remove the `\\`. This maintains the current functionality.",escapeBackslash:"Replace the `\\` with `\\\\` to include the actual backslash character."},schema:[]},create(context){const sourceCode=context.getSourceCode();function report(node,startOffset,character){const rangeStart=node.range[0]+startOffset;const range=[rangeStart,rangeStart+1];const start=sourceCode.getLocFromIndex(rangeStart);context.report({node:node,loc:{start:start,end:{line:start.line,column:start.column+1}},messageId:"unnecessaryEscape",data:{character:character},suggest:[{messageId:"removeEscape",fix(fixer){return fixer.removeRange(range)}},{messageId:"escapeBackslash",fix(fixer){return fixer.insertTextBeforeRange(range,"\\")}}]})}function validateString(node,match){const isTemplateElement=node.type==="TemplateElement";const escapedChar=match[0][1];let isUnnecessaryEscape=!VALID_STRING_ESCAPES.has(escapedChar);let isQuoteEscape;if(isTemplateElement){isQuoteEscape=escapedChar==="`";if(escapedChar==="$"){isUnnecessaryEscape=match.input[match.index+2]!=="{"}else if(escapedChar==="{"){isUnnecessaryEscape=match.input[match.index-1]!=="$"}}else{isQuoteEscape=escapedChar===node.raw[0]}if(isUnnecessaryEscape&&!isQuoteEscape){report(node,match.index,match[0].slice(1))}}function check(node){const isTemplateElement=node.type==="TemplateElement";if(isTemplateElement&&node.parent&&node.parent.parent&&node.parent.parent.type==="TaggedTemplateExpression"&&node.parent===node.parent.parent.quasi){return}if(typeof node.value==="string"||isTemplateElement){if(node.parent.type==="JSXAttribute"||node.parent.type==="JSXElement"||node.parent.type==="JSXFragment"){return}const value=isTemplateElement?sourceCode.getText(node):node.raw;const pattern=/\\[^\d]/gu;let match;while(match=pattern.exec(value)){validateString(node,match)}}else if(node.regex){parseRegExp(node.regex.pattern).filter((charInfo=>!(charInfo.text==="-"&&charInfo.inCharClass&&!charInfo.startsCharClass&&!charInfo.endsCharClass))).filter((charInfo=>!(charInfo.text==="^"&&charInfo.startsCharClass))).filter((charInfo=>charInfo.escaped)).filter((charInfo=>!(charInfo.inCharClass?REGEX_GENERAL_ESCAPES:REGEX_NON_CHARCLASS_ESCAPES).has(charInfo.text))).forEach((charInfo=>report(node,charInfo.index,charInfo.text)))}}return{Literal:check,TemplateElement:check}}};return noUselessEscape}var noUselessRename;var hasRequiredNoUselessRename;function requireNoUselessRename(){if(hasRequiredNoUselessRename)return noUselessRename;hasRequiredNoUselessRename=1;const astUtils=requireAstUtils();noUselessRename={meta:{type:"suggestion",docs:{description:"Disallow renaming import, export, and destructured assignments to the same name",recommended:false,url:"https://eslint.org/docs/rules/no-useless-rename"},fixable:"code",schema:[{type:"object",properties:{ignoreDestructuring:{type:"boolean",default:false},ignoreImport:{type:"boolean",default:false},ignoreExport:{type:"boolean",default:false}},additionalProperties:false}],messages:{unnecessarilyRenamed:"{{type}} {{name}} unnecessarily renamed."}},create(context){const sourceCode=context.getSourceCode(),options=context.options[0]||{},ignoreDestructuring=options.ignoreDestructuring===true,ignoreImport=options.ignoreImport===true,ignoreExport=options.ignoreExport===true;function reportError(node,initial,type){const name=initial.type==="Identifier"?initial.name:initial.value;return context.report({node:node,messageId:"unnecessarilyRenamed",data:{name:name,type:type},fix(fixer){const replacementNode=node.type==="Property"?node.value:node.local;if(sourceCode.getCommentsInside(node).length>sourceCode.getCommentsInside(replacementNode).length){return null}if(replacementNode.type==="AssignmentPattern"&&astUtils.isParenthesised(sourceCode,replacementNode.left)){return null}return fixer.replaceText(node,sourceCode.getText(replacementNode))}})}function checkDestructured(node){if(ignoreDestructuring){return}for(const property of node.properties){if(property.type!=="Property"||property.shorthand||property.computed){continue}const key=property.key.type==="Identifier"&&property.key.name||property.key.type==="Literal"&&property.key.value;const renamedKey=property.value.type==="AssignmentPattern"?property.value.left.name:property.value.name;if(key===renamedKey){reportError(property,property.key,"Destructuring assignment")}}}function checkImport(node){if(ignoreImport){return}if(node.imported.range[0]!==node.local.range[0]&&astUtils.getModuleExportName(node.imported)===node.local.name){reportError(node,node.imported,"Import")}}function checkExport(node){if(ignoreExport){return}if(node.local.range[0]!==node.exported.range[0]&&astUtils.getModuleExportName(node.local)===astUtils.getModuleExportName(node.exported)){reportError(node,node.local,"Export")}}return{ObjectPattern:checkDestructured,ImportSpecifier:checkImport,ExportSpecifier:checkExport}}};return noUselessRename}var noUselessReturn;var hasRequiredNoUselessReturn;function requireNoUselessReturn(){if(hasRequiredNoUselessReturn)return noUselessReturn;hasRequiredNoUselessReturn=1;const astUtils=requireAstUtils(),FixTracker=requireFixTracker();function remove(array,element){const index=array.indexOf(element);if(index!==-1){array.splice(index,1)}}function isRemovable(node){return astUtils.STATEMENT_LIST_PARENTS.has(node.parent.type)}function isInFinally(node){for(let currentNode=node;currentNode&&currentNode.parent&&!astUtils.isFunction(currentNode);currentNode=currentNode.parent){if(currentNode.parent.type==="TryStatement"&&currentNode.parent.finalizer===currentNode){return true}}return false}noUselessReturn={meta:{type:"suggestion",docs:{description:"Disallow redundant return statements",recommended:false,url:"https://eslint.org/docs/rules/no-useless-return"},fixable:"code",schema:[],messages:{unnecessaryReturn:"Unnecessary return statement."}},create(context){const segmentInfoMap=new WeakMap;const usedUnreachableSegments=new WeakSet;const sourceCode=context.getSourceCode();let scopeInfo=null;function isReturned(segment){const info=segmentInfoMap.get(segment);return!info||info.returned}function getUselessReturns(uselessReturns,prevSegments,providedTraversedSegments){const traversedSegments=providedTraversedSegments||new WeakSet;for(const segment of prevSegments){if(!segment.reachable){if(!traversedSegments.has(segment)){traversedSegments.add(segment);getUselessReturns(uselessReturns,segment.allPrevSegments.filter(isReturned),traversedSegments)}continue}uselessReturns.push(...segmentInfoMap.get(segment).uselessReturns)}return uselessReturns}function markReturnStatementsOnSegmentAsUsed(segment){if(!segment.reachable){usedUnreachableSegments.add(segment);segment.allPrevSegments.filter(isReturned).filter((prevSegment=>!usedUnreachableSegments.has(prevSegment))).forEach(markReturnStatementsOnSegmentAsUsed);return}const info=segmentInfoMap.get(segment);for(const node of info.uselessReturns){remove(scopeInfo.uselessReturns,node)}info.uselessReturns=[]}function markReturnStatementsOnCurrentSegmentsAsUsed(){scopeInfo.codePath.currentSegments.forEach(markReturnStatementsOnSegmentAsUsed)}return{onCodePathStart(codePath){scopeInfo={upper:scopeInfo,uselessReturns:[],codePath:codePath}},onCodePathEnd(){for(const node of scopeInfo.uselessReturns){context.report({node:node,loc:node.loc,messageId:"unnecessaryReturn",fix(fixer){if(isRemovable(node)&&!sourceCode.getCommentsInside(node).length){return new FixTracker(fixer,sourceCode).retainEnclosingFunction(node).remove(node)}return null}})}scopeInfo=scopeInfo.upper},onCodePathSegmentStart(segment){const info={uselessReturns:getUselessReturns([],segment.allPrevSegments),returned:false};segmentInfoMap.set(segment,info)},ReturnStatement(node){if(node.argument){markReturnStatementsOnCurrentSegmentsAsUsed()}if(node.argument||astUtils.isInLoop(node)||isInFinally(node)||!scopeInfo.codePath.currentSegments.some((s=>s.reachable))){return}for(const segment of scopeInfo.codePath.currentSegments){const info=segmentInfoMap.get(segment);if(info){info.uselessReturns.push(node);info.returned=true}}scopeInfo.uselessReturns.push(node)},ClassDeclaration:markReturnStatementsOnCurrentSegmentsAsUsed,ContinueStatement:markReturnStatementsOnCurrentSegmentsAsUsed,DebuggerStatement:markReturnStatementsOnCurrentSegmentsAsUsed,DoWhileStatement:markReturnStatementsOnCurrentSegmentsAsUsed,EmptyStatement:markReturnStatementsOnCurrentSegmentsAsUsed,ExpressionStatement:markReturnStatementsOnCurrentSegmentsAsUsed,ForInStatement:markReturnStatementsOnCurrentSegmentsAsUsed,ForOfStatement:markReturnStatementsOnCurrentSegmentsAsUsed,ForStatement:markReturnStatementsOnCurrentSegmentsAsUsed,IfStatement:markReturnStatementsOnCurrentSegmentsAsUsed,ImportDeclaration:markReturnStatementsOnCurrentSegmentsAsUsed,LabeledStatement:markReturnStatementsOnCurrentSegmentsAsUsed,SwitchStatement:markReturnStatementsOnCurrentSegmentsAsUsed,ThrowStatement:markReturnStatementsOnCurrentSegmentsAsUsed,TryStatement:markReturnStatementsOnCurrentSegmentsAsUsed,VariableDeclaration:markReturnStatementsOnCurrentSegmentsAsUsed,WhileStatement:markReturnStatementsOnCurrentSegmentsAsUsed,WithStatement:markReturnStatementsOnCurrentSegmentsAsUsed,ExportNamedDeclaration:markReturnStatementsOnCurrentSegmentsAsUsed,ExportDefaultDeclaration:markReturnStatementsOnCurrentSegmentsAsUsed,ExportAllDeclaration:markReturnStatementsOnCurrentSegmentsAsUsed}}};return noUselessReturn}var noVar;var hasRequiredNoVar;function requireNoVar(){if(hasRequiredNoVar)return noVar;hasRequiredNoVar=1;const astUtils=requireAstUtils();function isGlobal(variable){return Boolean(variable.scope)&&variable.scope.type==="global"}function getEnclosingFunctionScope(scope){let currentScope=scope;while(currentScope.type!=="function"&&currentScope.type!=="global"){currentScope=currentScope.upper}return currentScope}function isReferencedInClosure(variable){const enclosingFunctionScope=getEnclosingFunctionScope(variable.scope);return variable.references.some((reference=>getEnclosingFunctionScope(reference.from)!==enclosingFunctionScope))}function isLoopAssignee(node){return(node.parent.type==="ForOfStatement"||node.parent.type==="ForInStatement")&&node===node.parent.left}function isDeclarationInitialized(node){return node.declarations.every((declarator=>declarator.init!==null))}const SCOPE_NODE_TYPE=/^(?:Program|BlockStatement|SwitchStatement|ForStatement|ForInStatement|ForOfStatement)$/u;function getScopeNode(node){for(let currentNode=node;currentNode;currentNode=currentNode.parent){if(SCOPE_NODE_TYPE.test(currentNode.type)){return currentNode}}return null}function isRedeclared(variable){return variable.defs.length>=2}function isUsedFromOutsideOf(scopeNode){function isOutsideOfScope(reference){const scope=scopeNode.range;const id=reference.identifier.range;return id[0]<scope[0]||id[1]>scope[1]}return function(variable){return variable.references.some(isOutsideOfScope)}}function hasReferenceInTDZ(node){const initStart=node.range[0];const initEnd=node.range[1];return variable=>{const id=variable.defs[0].name;const idStart=id.range[0];const defaultValue=id.parent.type==="AssignmentPattern"?id.parent.right:null;const defaultStart=defaultValue&&defaultValue.range[0];const defaultEnd=defaultValue&&defaultValue.range[1];return variable.references.some((reference=>{const start=reference.identifier.range[0];const end=reference.identifier.range[1];return!reference.init&&(start<idStart||defaultValue!==null&&start>=defaultStart&&end<=defaultEnd||start>=initStart&&end<=initEnd)}))}}function hasNameDisallowedForLetDeclarations(variable){return variable.name==="let"}noVar={meta:{type:"suggestion",docs:{description:"Require `let` or `const` instead of `var`",recommended:false,url:"https://eslint.org/docs/rules/no-var"},schema:[],fixable:"code",messages:{unexpectedVar:"Unexpected var, use let or const instead."}},create(context){const sourceCode=context.getSourceCode();function hasSelfReferenceInTDZ(declarator){if(!declarator.init){return false}const variables=context.getDeclaredVariables(declarator);return variables.some(hasReferenceInTDZ(declarator.init))}function canFix(node){const variables=context.getDeclaredVariables(node);const scopeNode=getScopeNode(node);if(node.parent.type==="SwitchCase"||node.declarations.some(hasSelfReferenceInTDZ)||variables.some(isGlobal)||variables.some(isRedeclared)||variables.some(isUsedFromOutsideOf(scopeNode))||variables.some(hasNameDisallowedForLetDeclarations)){return false}if(astUtils.isInLoop(node)){if(variables.some(isReferencedInClosure)){return false}if(!isLoopAssignee(node)&&!isDeclarationInitialized(node)){return false}}if(!isLoopAssignee(node)&&!(node.parent.type==="ForStatement"&&node.parent.init===node)&&!astUtils.STATEMENT_LIST_PARENTS.has(node.parent.type)){return false}return true}function report(node){context.report({node:node,messageId:"unexpectedVar",fix(fixer){const varToken=sourceCode.getFirstToken(node,{filter:t=>t.value==="var"});return canFix(node)?fixer.replaceText(varToken,"let"):null}})}return{"VariableDeclaration:exit"(node){if(node.kind==="var"){report(node)}}}}};return noVar}var noVoid;var hasRequiredNoVoid;function requireNoVoid(){if(hasRequiredNoVoid)return noVoid;hasRequiredNoVoid=1;noVoid={meta:{type:"suggestion",docs:{description:"Disallow `void` operators",recommended:false,url:"https://eslint.org/docs/rules/no-void"},messages:{noVoid:"Expected 'undefined' and instead saw 'void'."},schema:[{type:"object",properties:{allowAsStatement:{type:"boolean",default:false}},additionalProperties:false}]},create(context){const allowAsStatement=context.options[0]&&context.options[0].allowAsStatement;return{'UnaryExpression[operator="void"]'(node){if(allowAsStatement&&node.parent&&node.parent.type==="ExpressionStatement"){return}context.report({node:node,messageId:"noVoid"})}}}};return noVoid}var noWarningComments;var hasRequiredNoWarningComments;function requireNoWarningComments(){if(hasRequiredNoWarningComments)return noWarningComments;hasRequiredNoWarningComments=1;const escapeRegExp=requireEscapeStringRegexp();const astUtils=requireAstUtils();const CHAR_LIMIT=40;noWarningComments={meta:{type:"suggestion",docs:{description:"Disallow specified warning terms in comments",recommended:false,url:"https://eslint.org/docs/rules/no-warning-comments"},schema:[{type:"object",properties:{terms:{type:"array",items:{type:"string"}},location:{enum:["start","anywhere"]},decoration:{type:"array",items:{type:"string",pattern:"^\\S$"},minItems:1,uniqueItems:true}},additionalProperties:false}],messages:{unexpectedComment:"Unexpected '{{matchedTerm}}' comment: '{{comment}}'."}},create(context){const sourceCode=context.getSourceCode(),configuration=context.options[0]||{},warningTerms=configuration.terms||["todo","fixme","xxx"],location=configuration.location||"start",decoration=[...configuration.decoration||[]].join(""),selfConfigRegEx=/\bno-warning-comments\b/u;function convertToRegExp(term){const escaped=escapeRegExp(term);const escapedDecoration=escapeRegExp(decoration);const wordBoundary="\\b";let prefix="";if(location==="start"){prefix=`^[\\s${escapedDecoration}]*`}else if(/^\w/u.test(term)){prefix=wordBoundary}const suffix=/\w$/u.test(term)?wordBoundary:"";const flags="iu";return new RegExp(`${prefix}${escaped}${suffix}`,flags)}const warningRegExps=warningTerms.map(convertToRegExp);function commentContainsWarningTerm(comment){const matches=[];warningRegExps.forEach(((regex,index)=>{if(regex.test(comment)){matches.push(warningTerms[index])}}));return matches}function checkComment(node){const comment=node.value;if(astUtils.isDirectiveComment(node)&&selfConfigRegEx.test(comment)){return}const matches=commentContainsWarningTerm(comment);matches.forEach((matchedTerm=>{let commentToDisplay="";let truncated=false;for(const c of comment.trim().split(/\s+/u)){const tmp=commentToDisplay?`${commentToDisplay} ${c}`:c;if(tmp.length<=CHAR_LIMIT){commentToDisplay=tmp}else{truncated=true;break}}context.report({node:node,messageId:"unexpectedComment",data:{matchedTerm:matchedTerm,comment:`${commentToDisplay}${truncated?"...":""}`}})}))}return{Program(){const comments=sourceCode.getAllComments();comments.filter((token=>token.type!=="Shebang")).forEach(checkComment)}}}};return noWarningComments}var noWhitespaceBeforeProperty;var hasRequiredNoWhitespaceBeforeProperty;function requireNoWhitespaceBeforeProperty(){if(hasRequiredNoWhitespaceBeforeProperty)return noWhitespaceBeforeProperty;hasRequiredNoWhitespaceBeforeProperty=1;const astUtils=requireAstUtils();noWhitespaceBeforeProperty={meta:{type:"layout",docs:{description:"Disallow whitespace before properties",recommended:false,url:"https://eslint.org/docs/rules/no-whitespace-before-property"},fixable:"whitespace",schema:[],messages:{unexpectedWhitespace:"Unexpected whitespace before property {{propName}}."}},create(context){const sourceCode=context.getSourceCode();function reportError(node,leftToken,rightToken){context.report({node:node,messageId:"unexpectedWhitespace",data:{propName:sourceCode.getText(node.property)},fix(fixer){let replacementText="";if(!node.computed&&!node.optional&&astUtils.isDecimalInteger(node.object)){return null}if(sourceCode.commentsExistBetween(leftToken,rightToken)){return null}if(node.optional){replacementText="?."}else if(!node.computed){replacementText="."}return fixer.replaceTextRange([leftToken.range[1],rightToken.range[0]],replacementText)}})}return{MemberExpression(node){let rightToken;let leftToken;if(!astUtils.isTokenOnSameLine(node.object,node.property)){return}if(node.computed){rightToken=sourceCode.getTokenBefore(node.property,astUtils.isOpeningBracketToken);leftToken=sourceCode.getTokenBefore(rightToken,node.optional?1:0)}else{rightToken=sourceCode.getFirstToken(node.property);leftToken=sourceCode.getTokenBefore(rightToken,1)}if(sourceCode.isSpaceBetweenTokens(leftToken,rightToken)){reportError(node,leftToken,rightToken)}}}}};return noWhitespaceBeforeProperty}var noWith;var hasRequiredNoWith;function requireNoWith(){if(hasRequiredNoWith)return noWith;hasRequiredNoWith=1;noWith={meta:{type:"suggestion",docs:{description:"Disallow `with` statements",recommended:true,url:"https://eslint.org/docs/rules/no-with"},schema:[],messages:{unexpectedWith:"Unexpected use of 'with' statement."}},create(context){return{WithStatement(node){context.report({node:node,messageId:"unexpectedWith"})}}}};return noWith}var nonblockStatementBodyPosition;var hasRequiredNonblockStatementBodyPosition;function requireNonblockStatementBodyPosition(){if(hasRequiredNonblockStatementBodyPosition)return nonblockStatementBodyPosition;hasRequiredNonblockStatementBodyPosition=1;const POSITION_SCHEMA={enum:["beside","below","any"]};nonblockStatementBodyPosition={meta:{type:"layout",docs:{description:"Enforce the location of single-line statements",recommended:false,url:"https://eslint.org/docs/rules/nonblock-statement-body-position"},fixable:"whitespace",schema:[POSITION_SCHEMA,{properties:{overrides:{properties:{if:POSITION_SCHEMA,else:POSITION_SCHEMA,while:POSITION_SCHEMA,do:POSITION_SCHEMA,for:POSITION_SCHEMA},additionalProperties:false}},additionalProperties:false}],messages:{expectNoLinebreak:"Expected no linebreak before this statement.",expectLinebreak:"Expected a linebreak before this statement."}},create(context){const sourceCode=context.getSourceCode();function getOption(keywordName){return context.options[1]&&context.options[1].overrides&&context.options[1].overrides[keywordName]||context.options[0]||"beside"}function validateStatement(node,keywordName){const option=getOption(keywordName);if(node.type==="BlockStatement"||option==="any"){return}const tokenBefore=sourceCode.getTokenBefore(node);if(tokenBefore.loc.end.line===node.loc.start.line&&option==="below"){context.report({node:node,messageId:"expectLinebreak",fix:fixer=>fixer.insertTextBefore(node,"\n")})}else if(tokenBefore.loc.end.line!==node.loc.start.line&&option==="beside"){context.report({node:node,messageId:"expectNoLinebreak",fix(fixer){if(sourceCode.getText().slice(tokenBefore.range[1],node.range[0]).trim()){return null}return fixer.replaceTextRange([tokenBefore.range[1],node.range[0]]," ")}})}}return{IfStatement(node){validateStatement(node.consequent,"if");if(node.alternate&&node.alternate.type!=="IfStatement"){validateStatement(node.alternate,"else")}},WhileStatement:node=>validateStatement(node.body,"while"),DoWhileStatement:node=>validateStatement(node.body,"do"),ForStatement:node=>validateStatement(node.body,"for"),ForInStatement:node=>validateStatement(node.body,"for"),ForOfStatement:node=>validateStatement(node.body,"for")}}};return nonblockStatementBodyPosition}var objectCurlyNewline;var hasRequiredObjectCurlyNewline;function requireObjectCurlyNewline(){if(hasRequiredObjectCurlyNewline)return objectCurlyNewline;hasRequiredObjectCurlyNewline=1;const astUtils=requireAstUtils();const OPTION_VALUE={oneOf:[{enum:["always","never"]},{type:"object",properties:{multiline:{type:"boolean"},minProperties:{type:"integer",minimum:0},consistent:{type:"boolean"}},additionalProperties:false,minProperties:1}]};function normalizeOptionValue(value){let multiline=false;let minProperties=Number.POSITIVE_INFINITY;let consistent=false;if(value){if(value==="always"){minProperties=0}else if(value==="never"){minProperties=Number.POSITIVE_INFINITY}else{multiline=Boolean(value.multiline);minProperties=value.minProperties||Number.POSITIVE_INFINITY;consistent=Boolean(value.consistent)}}else{consistent=true}return{multiline:multiline,minProperties:minProperties,consistent:consistent}}function isObject(value){return typeof value==="object"&&value!==null}function isNodeSpecificOption(option){return isObject(option)||typeof option==="string"}function normalizeOptions(options){if(isObject(options)&&Object.values(options).some(isNodeSpecificOption)){return{ObjectExpression:normalizeOptionValue(options.ObjectExpression),ObjectPattern:normalizeOptionValue(options.ObjectPattern),ImportDeclaration:normalizeOptionValue(options.ImportDeclaration),ExportNamedDeclaration:normalizeOptionValue(options.ExportDeclaration)}}const value=normalizeOptionValue(options);return{ObjectExpression:value,ObjectPattern:value,ImportDeclaration:value,ExportNamedDeclaration:value}}function areLineBreaksRequired(node,options,first,last){let objectProperties;if(node.type==="ObjectExpression"||node.type==="ObjectPattern"){objectProperties=node.properties}else{objectProperties=node.specifiers.filter((s=>s.type==="ImportSpecifier"||s.type==="ExportSpecifier"))}return objectProperties.length>=options.minProperties||options.multiline&&objectProperties.length>0&&first.loc.start.line!==last.loc.end.line}objectCurlyNewline={meta:{type:"layout",docs:{description:"Enforce consistent line breaks after opening and before closing braces",recommended:false,url:"https://eslint.org/docs/rules/object-curly-newline"},fixable:"whitespace",schema:[{oneOf:[OPTION_VALUE,{type:"object",properties:{ObjectExpression:OPTION_VALUE,ObjectPattern:OPTION_VALUE,ImportDeclaration:OPTION_VALUE,ExportDeclaration:OPTION_VALUE},additionalProperties:false,minProperties:1}]}],messages:{unexpectedLinebreakBeforeClosingBrace:"Unexpected line break before this closing brace.",unexpectedLinebreakAfterOpeningBrace:"Unexpected line break after this opening brace.",expectedLinebreakBeforeClosingBrace:"Expected a line break before this closing brace.",expectedLinebreakAfterOpeningBrace:"Expected a line break after this opening brace."}},create(context){const sourceCode=context.getSourceCode();const normalizedOptions=normalizeOptions(context.options[0]);function check(node){const options=normalizedOptions[node.type];if(node.type==="ImportDeclaration"&&!node.specifiers.some((specifier=>specifier.type==="ImportSpecifier"))||node.type==="ExportNamedDeclaration"&&!node.specifiers.some((specifier=>specifier.type==="ExportSpecifier"))){return}const openBrace=sourceCode.getFirstToken(node,(token=>token.value==="{"));let closeBrace;if(node.typeAnnotation){closeBrace=sourceCode.getTokenBefore(node.typeAnnotation)}else{closeBrace=sourceCode.getLastToken(node,(token=>token.value==="}"))}let first=sourceCode.getTokenAfter(openBrace,{includeComments:true});let last=sourceCode.getTokenBefore(closeBrace,{includeComments:true});const needsLineBreaks=areLineBreaksRequired(node,options,first,last);const hasCommentsFirstToken=astUtils.isCommentToken(first);const hasCommentsLastToken=astUtils.isCommentToken(last);first=sourceCode.getTokenAfter(openBrace);last=sourceCode.getTokenBefore(closeBrace);if(needsLineBreaks){if(astUtils.isTokenOnSameLine(openBrace,first)){context.report({messageId:"expectedLinebreakAfterOpeningBrace",node:node,loc:openBrace.loc,fix(fixer){if(hasCommentsFirstToken){return null}return fixer.insertTextAfter(openBrace,"\n")}})}if(astUtils.isTokenOnSameLine(last,closeBrace)){context.report({messageId:"expectedLinebreakBeforeClosingBrace",node:node,loc:closeBrace.loc,fix(fixer){if(hasCommentsLastToken){return null}return fixer.insertTextBefore(closeBrace,"\n")}})}}else{const consistent=options.consistent;const hasLineBreakBetweenOpenBraceAndFirst=!astUtils.isTokenOnSameLine(openBrace,first);const hasLineBreakBetweenCloseBraceAndLast=!astUtils.isTokenOnSameLine(last,closeBrace);if(!consistent&&hasLineBreakBetweenOpenBraceAndFirst||consistent&&hasLineBreakBetweenOpenBraceAndFirst&&!hasLineBreakBetweenCloseBraceAndLast){context.report({messageId:"unexpectedLinebreakAfterOpeningBrace",node:node,loc:openBrace.loc,fix(fixer){if(hasCommentsFirstToken){return null}return fixer.removeRange([openBrace.range[1],first.range[0]])}})}if(!consistent&&hasLineBreakBetweenCloseBraceAndLast||consistent&&!hasLineBreakBetweenOpenBraceAndFirst&&hasLineBreakBetweenCloseBraceAndLast){context.report({messageId:"unexpectedLinebreakBeforeClosingBrace",node:node,loc:closeBrace.loc,fix(fixer){if(hasCommentsLastToken){return null}return fixer.removeRange([last.range[1],closeBrace.range[0]])}})}}}return{ObjectExpression:check,ObjectPattern:check,ImportDeclaration:check,ExportNamedDeclaration:check}}};return objectCurlyNewline}var objectCurlySpacing;var hasRequiredObjectCurlySpacing;function requireObjectCurlySpacing(){if(hasRequiredObjectCurlySpacing)return objectCurlySpacing;hasRequiredObjectCurlySpacing=1;const astUtils=requireAstUtils();objectCurlySpacing={meta:{type:"layout",docs:{description:"Enforce consistent spacing inside braces",recommended:false,url:"https://eslint.org/docs/rules/object-curly-spacing"},fixable:"whitespace",schema:[{enum:["always","never"]},{type:"object",properties:{arraysInObjects:{type:"boolean"},objectsInObjects:{type:"boolean"}},additionalProperties:false}],messages:{requireSpaceBefore:"A space is required before '{{token}}'.",requireSpaceAfter:"A space is required after '{{token}}'.",unexpectedSpaceBefore:"There should be no space before '{{token}}'.",unexpectedSpaceAfter:"There should be no space after '{{token}}'."}},create(context){const spaced=context.options[0]==="always",sourceCode=context.getSourceCode();function isOptionSet(option){return context.options[1]?context.options[1][option]===!spaced:false}const options={spaced:spaced,arraysInObjectsException:isOptionSet("arraysInObjects"),objectsInObjectsException:isOptionSet("objectsInObjects")};function reportNoBeginningSpace(node,token){const nextToken=context.getSourceCode().getTokenAfter(token,{includeComments:true});context.report({node:node,loc:{start:token.loc.end,end:nextToken.loc.start},messageId:"unexpectedSpaceAfter",data:{token:token.value},fix(fixer){return fixer.removeRange([token.range[1],nextToken.range[0]])}})}function reportNoEndingSpace(node,token){const previousToken=context.getSourceCode().getTokenBefore(token,{includeComments:true});context.report({node:node,loc:{start:previousToken.loc.end,end:token.loc.start},messageId:"unexpectedSpaceBefore",data:{token:token.value},fix(fixer){return fixer.removeRange([previousToken.range[1],token.range[0]])}})}function reportRequiredBeginningSpace(node,token){context.report({node:node,loc:token.loc,messageId:"requireSpaceAfter",data:{token:token.value},fix(fixer){return fixer.insertTextAfter(token," ")}})}function reportRequiredEndingSpace(node,token){context.report({node:node,loc:token.loc,messageId:"requireSpaceBefore",data:{token:token.value},fix(fixer){return fixer.insertTextBefore(token," ")}})}function validateBraceSpacing(node,first,second,penultimate,last){if(astUtils.isTokenOnSameLine(first,second)){const firstSpaced=sourceCode.isSpaceBetweenTokens(first,second);if(options.spaced&&!firstSpaced){reportRequiredBeginningSpace(node,first)}if(!options.spaced&&firstSpaced&&second.type!=="Line"){reportNoBeginningSpace(node,first)}}if(astUtils.isTokenOnSameLine(penultimate,last)){const shouldCheckPenultimate=options.arraysInObjectsException&&astUtils.isClosingBracketToken(penultimate)||options.objectsInObjectsException&&astUtils.isClosingBraceToken(penultimate);const penultimateType=shouldCheckPenultimate&&sourceCode.getNodeByRangeIndex(penultimate.range[0]).type;const closingCurlyBraceMustBeSpaced=options.arraysInObjectsException&&penultimateType==="ArrayExpression"||options.objectsInObjectsException&&(penultimateType==="ObjectExpression"||penultimateType==="ObjectPattern")?!options.spaced:options.spaced;const lastSpaced=sourceCode.isSpaceBetweenTokens(penultimate,last);if(closingCurlyBraceMustBeSpaced&&!lastSpaced){reportRequiredEndingSpace(node,last)}if(!closingCurlyBraceMustBeSpaced&&lastSpaced){reportNoEndingSpace(node,last)}}}function getClosingBraceOfObject(node){const lastProperty=node.properties[node.properties.length-1];return sourceCode.getTokenAfter(lastProperty,astUtils.isClosingBraceToken)}function checkForObject(node){if(node.properties.length===0){return}const first=sourceCode.getFirstToken(node),last=getClosingBraceOfObject(node),second=sourceCode.getTokenAfter(first,{includeComments:true}),penultimate=sourceCode.getTokenBefore(last,{includeComments:true});validateBraceSpacing(node,first,second,penultimate,last)}function checkForImport(node){if(node.specifiers.length===0){return}let firstSpecifier=node.specifiers[0];const lastSpecifier=node.specifiers[node.specifiers.length-1];if(lastSpecifier.type!=="ImportSpecifier"){return}if(firstSpecifier.type!=="ImportSpecifier"){firstSpecifier=node.specifiers[1]}const first=sourceCode.getTokenBefore(firstSpecifier),last=sourceCode.getTokenAfter(lastSpecifier,astUtils.isNotCommaToken),second=sourceCode.getTokenAfter(first,{includeComments:true}),penultimate=sourceCode.getTokenBefore(last,{includeComments:true});validateBraceSpacing(node,first,second,penultimate,last)}function checkForExport(node){if(node.specifiers.length===0){return}const firstSpecifier=node.specifiers[0],lastSpecifier=node.specifiers[node.specifiers.length-1],first=sourceCode.getTokenBefore(firstSpecifier),last=sourceCode.getTokenAfter(lastSpecifier,astUtils.isNotCommaToken),second=sourceCode.getTokenAfter(first,{includeComments:true}),penultimate=sourceCode.getTokenBefore(last,{includeComments:true});validateBraceSpacing(node,first,second,penultimate,last)}return{ObjectPattern:checkForObject,ObjectExpression:checkForObject,ImportDeclaration:checkForImport,ExportNamedDeclaration:checkForExport}}};return objectCurlySpacing}var objectPropertyNewline;var hasRequiredObjectPropertyNewline;function requireObjectPropertyNewline(){if(hasRequiredObjectPropertyNewline)return objectPropertyNewline;hasRequiredObjectPropertyNewline=1;objectPropertyNewline={meta:{type:"layout",docs:{description:"Enforce placing object properties on separate lines",recommended:false,url:"https://eslint.org/docs/rules/object-property-newline"},schema:[{type:"object",properties:{allowAllPropertiesOnSameLine:{type:"boolean",default:false},allowMultiplePropertiesPerLine:{type:"boolean",default:false}},additionalProperties:false}],fixable:"whitespace",messages:{propertiesOnNewlineAll:"Object properties must go on a new line if they aren't all on the same line.",propertiesOnNewline:"Object properties must go on a new line."}},create(context){const allowSameLine=context.options[0]&&(context.options[0].allowAllPropertiesOnSameLine||context.options[0].allowMultiplePropertiesPerLine);const messageId=allowSameLine?"propertiesOnNewlineAll":"propertiesOnNewline";const sourceCode=context.getSourceCode();return{ObjectExpression(node){if(allowSameLine){if(node.properties.length>1){const firstTokenOfFirstProperty=sourceCode.getFirstToken(node.properties[0]);const lastTokenOfLastProperty=sourceCode.getLastToken(node.properties[node.properties.length-1]);if(firstTokenOfFirstProperty.loc.end.line===lastTokenOfLastProperty.loc.start.line){return}}}for(let i=1;i<node.properties.length;i++){const lastTokenOfPreviousProperty=sourceCode.getLastToken(node.properties[i-1]);const firstTokenOfCurrentProperty=sourceCode.getFirstToken(node.properties[i]);if(lastTokenOfPreviousProperty.loc.end.line===firstTokenOfCurrentProperty.loc.start.line){context.report({node:node,loc:firstTokenOfCurrentProperty.loc,messageId:messageId,fix(fixer){const comma=sourceCode.getTokenBefore(firstTokenOfCurrentProperty);const rangeAfterComma=[comma.range[1],firstTokenOfCurrentProperty.range[0]];if(sourceCode.text.slice(rangeAfterComma[0],rangeAfterComma[1]).trim()){return null}return fixer.replaceTextRange(rangeAfterComma,"\n")}})}}}}}};return objectPropertyNewline}var objectShorthand;var hasRequiredObjectShorthand;function requireObjectShorthand(){if(hasRequiredObjectShorthand)return objectShorthand;hasRequiredObjectShorthand=1;const OPTIONS={always:"always",never:"never",methods:"methods",properties:"properties",consistent:"consistent",consistentAsNeeded:"consistent-as-needed"};const astUtils=requireAstUtils();objectShorthand={meta:{type:"suggestion",docs:{description:"Require or disallow method and property shorthand syntax for object literals",recommended:false,url:"https://eslint.org/docs/rules/object-shorthand"},fixable:"code",schema:{anyOf:[{type:"array",items:[{enum:["always","methods","properties","never","consistent","consistent-as-needed"]}],minItems:0,maxItems:1},{type:"array",items:[{enum:["always","methods","properties"]},{type:"object",properties:{avoidQuotes:{type:"boolean"}},additionalProperties:false}],minItems:0,maxItems:2},{type:"array",items:[{enum:["always","methods"]},{type:"object",properties:{ignoreConstructors:{type:"boolean"},methodsIgnorePattern:{type:"string"},avoidQuotes:{type:"boolean"},avoidExplicitReturnArrows:{type:"boolean"}},additionalProperties:false}],minItems:0,maxItems:2}]},messages:{expectedAllPropertiesShorthanded:"Expected shorthand for all properties.",expectedLiteralMethodLongform:"Expected longform method syntax for string literal keys.",expectedPropertyShorthand:"Expected property shorthand.",expectedPropertyLongform:"Expected longform property syntax.",expectedMethodShorthand:"Expected method shorthand.",expectedMethodLongform:"Expected longform method syntax.",unexpectedMix:"Unexpected mix of shorthand and non-shorthand properties."}},create(context){const APPLY=context.options[0]||OPTIONS.always;const APPLY_TO_METHODS=APPLY===OPTIONS.methods||APPLY===OPTIONS.always;const APPLY_TO_PROPS=APPLY===OPTIONS.properties||APPLY===OPTIONS.always;const APPLY_NEVER=APPLY===OPTIONS.never;const APPLY_CONSISTENT=APPLY===OPTIONS.consistent;const APPLY_CONSISTENT_AS_NEEDED=APPLY===OPTIONS.consistentAsNeeded;const PARAMS=context.options[1]||{};const IGNORE_CONSTRUCTORS=PARAMS.ignoreConstructors;const METHODS_IGNORE_PATTERN=PARAMS.methodsIgnorePattern?new RegExp(PARAMS.methodsIgnorePattern,"u"):null;const AVOID_QUOTES=PARAMS.avoidQuotes;const AVOID_EXPLICIT_RETURN_ARROWS=!!PARAMS.avoidExplicitReturnArrows;const sourceCode=context.getSourceCode();const CTOR_PREFIX_REGEX=/[^_$0-9]/u;function isConstructor(name){const match=CTOR_PREFIX_REGEX.exec(name);if(!match){return false}const firstChar=name.charAt(match.index);return firstChar===firstChar.toUpperCase()}function canHaveShorthand(property){return property.kind!=="set"&&property.kind!=="get"&&property.type!=="SpreadElement"&&property.type!=="SpreadProperty"&&property.type!=="ExperimentalSpreadProperty"}function isStringLiteral(node){return node.type==="Literal"&&typeof node.value==="string"}function isShorthand(property){return property.shorthand||property.method}function isRedundant(property){const value=property.value;if(value.type==="FunctionExpression"){return!value.id}if(value.type==="Identifier"){return astUtils.getStaticPropertyName(property)===value.name}return false}function checkConsistency(node,checkRedundancy){const properties=node.properties.filter(canHaveShorthand);if(properties.length>0){const shorthandProperties=properties.filter(isShorthand);if(shorthandProperties.length!==properties.length){if(shorthandProperties.length>0){context.report({node:node,messageId:"unexpectedMix"})}else if(checkRedundancy){const canAlwaysUseShorthand=properties.every(isRedundant);if(canAlwaysUseShorthand){context.report({node:node,messageId:"expectedAllPropertiesShorthanded"})}}}}}function makeFunctionShorthand(fixer,node){const firstKeyToken=node.computed?sourceCode.getFirstToken(node,astUtils.isOpeningBracketToken):sourceCode.getFirstToken(node.key);const lastKeyToken=node.computed?sourceCode.getFirstTokenBetween(node.key,node.value,astUtils.isClosingBracketToken):sourceCode.getLastToken(node.key);const keyText=sourceCode.text.slice(firstKeyToken.range[0],lastKeyToken.range[1]);let keyPrefix="";if(sourceCode.commentsExistBetween(lastKeyToken,node.value)){return null}if(node.value.async){keyPrefix+="async "}if(node.value.generator){keyPrefix+="*"}const fixRange=[firstKeyToken.range[0],node.range[1]];const methodPrefix=keyPrefix+keyText;if(node.value.type==="FunctionExpression"){const functionToken=sourceCode.getTokens(node.value).find((token=>token.type==="Keyword"&&token.value==="function"));const tokenBeforeParams=node.value.generator?sourceCode.getTokenAfter(functionToken):functionToken;return fixer.replaceTextRange(fixRange,methodPrefix+sourceCode.text.slice(tokenBeforeParams.range[1],node.value.range[1]))}const arrowToken=sourceCode.getTokenBefore(node.value.body,astUtils.isArrowToken);const fnBody=sourceCode.text.slice(arrowToken.range[1],node.value.range[1]);let shouldAddParensAroundParameters=false;let tokenBeforeParams;if(node.value.params.length===0){tokenBeforeParams=sourceCode.getFirstToken(node.value,astUtils.isOpeningParenToken)}else{tokenBeforeParams=sourceCode.getTokenBefore(node.value.params[0])}if(node.value.params.length===1){const hasParen=astUtils.isOpeningParenToken(tokenBeforeParams);const isTokenOutsideNode=tokenBeforeParams.range[0]<node.range[0];shouldAddParensAroundParameters=!hasParen||isTokenOutsideNode}const sliceStart=shouldAddParensAroundParameters?node.value.params[0].range[0]:tokenBeforeParams.range[0];const sliceEnd=sourceCode.getTokenBefore(arrowToken).range[1];const oldParamText=sourceCode.text.slice(sliceStart,sliceEnd);const newParamText=shouldAddParensAroundParameters?`(${oldParamText})`:oldParamText;return fixer.replaceTextRange(fixRange,methodPrefix+newParamText+fnBody)}function makeFunctionLongform(fixer,node){const firstKeyToken=node.computed?sourceCode.getTokens(node).find((token=>token.value==="[")):sourceCode.getFirstToken(node.key);const lastKeyToken=node.computed?sourceCode.getTokensBetween(node.key,node.value).find((token=>token.value==="]")):sourceCode.getLastToken(node.key);const keyText=sourceCode.text.slice(firstKeyToken.range[0],lastKeyToken.range[1]);let functionHeader="function";if(node.value.async){functionHeader=`async ${functionHeader}`}if(node.value.generator){functionHeader=`${functionHeader}*`}return fixer.replaceTextRange([node.range[0],lastKeyToken.range[1]],`${keyText}: ${functionHeader}`)}const lexicalScopeStack=[];const arrowsWithLexicalIdentifiers=new WeakSet;const argumentsIdentifiers=new WeakSet;function enterFunction(){lexicalScopeStack.unshift(new Set);context.getScope().variables.filter((variable=>variable.name==="arguments")).forEach((variable=>{variable.references.map((ref=>ref.identifier)).forEach((identifier=>argumentsIdentifiers.add(identifier)))}))}function exitFunction(){lexicalScopeStack.shift()}function reportLexicalIdentifier(){lexicalScopeStack[0].forEach((arrowFunction=>arrowsWithLexicalIdentifiers.add(arrowFunction)))}return{Program:enterFunction,FunctionDeclaration:enterFunction,FunctionExpression:enterFunction,"Program:exit":exitFunction,"FunctionDeclaration:exit":exitFunction,"FunctionExpression:exit":exitFunction,ArrowFunctionExpression(node){lexicalScopeStack[0].add(node)},"ArrowFunctionExpression:exit"(node){lexicalScopeStack[0].delete(node)},ThisExpression:reportLexicalIdentifier,Super:reportLexicalIdentifier,MetaProperty(node){if(node.meta.name==="new"&&node.property.name==="target"){reportLexicalIdentifier()}},Identifier(node){if(argumentsIdentifiers.has(node)){reportLexicalIdentifier()}},ObjectExpression(node){if(APPLY_CONSISTENT){checkConsistency(node,false)}else if(APPLY_CONSISTENT_AS_NEEDED){checkConsistency(node,true)}},"Property:exit"(node){const isConciseProperty=node.method||node.shorthand;if(node.parent.type==="ObjectPattern"){return}if(node.kind==="get"||node.kind==="set"){return}if(node.computed&&node.value.type!=="FunctionExpression"&&node.value.type!=="ArrowFunctionExpression"){return}if(isConciseProperty){if(node.method&&(APPLY_NEVER||AVOID_QUOTES&&isStringLiteral(node.key))){const messageId=APPLY_NEVER?"expectedMethodLongform":"expectedLiteralMethodLongform";context.report({node:node,messageId:messageId,fix:fixer=>makeFunctionLongform(fixer,node)})}else if(APPLY_NEVER){context.report({node:node,messageId:"expectedPropertyLongform",fix:fixer=>fixer.insertTextAfter(node.key,`: ${node.key.name}`)})}}else if(APPLY_TO_METHODS&&!node.value.id&&(node.value.type==="FunctionExpression"||node.value.type==="ArrowFunctionExpression")){if(IGNORE_CONSTRUCTORS&&node.key.type==="Identifier"&&isConstructor(node.key.name)){return}if(METHODS_IGNORE_PATTERN){const propertyName=astUtils.getStaticPropertyName(node);if(propertyName!==null&&METHODS_IGNORE_PATTERN.test(propertyName)){return}}if(AVOID_QUOTES&&isStringLiteral(node.key)){return}if(node.value.type==="FunctionExpression"||node.value.type==="ArrowFunctionExpression"&&node.value.body.type==="BlockStatement"&&AVOID_EXPLICIT_RETURN_ARROWS&&!arrowsWithLexicalIdentifiers.has(node.value)){context.report({node:node,messageId:"expectedMethodShorthand",fix:fixer=>makeFunctionShorthand(fixer,node)})}}else if(node.value.type==="Identifier"&&node.key.name===node.value.name&&APPLY_TO_PROPS){context.report({node:node,messageId:"expectedPropertyShorthand",fix(fixer){return fixer.replaceText(node,node.value.name)}})}else if(node.value.type==="Identifier"&&node.key.type==="Literal"&&node.key.value===node.value.name&&APPLY_TO_PROPS){if(AVOID_QUOTES){return}context.report({node:node,messageId:"expectedPropertyShorthand",fix(fixer){return fixer.replaceText(node,node.value.name)}})}}}}};return objectShorthand}var oneVar;var hasRequiredOneVar;function requireOneVar(){if(hasRequiredOneVar)return oneVar;hasRequiredOneVar=1;const astUtils=requireAstUtils();function isInStatementList(node){return astUtils.STATEMENT_LIST_PARENTS.has(node.parent.type)}oneVar={meta:{type:"suggestion",docs:{description:"Enforce variables to be declared either together or separately in functions",recommended:false,url:"https://eslint.org/docs/rules/one-var"},fixable:"code",schema:[{oneOf:[{enum:["always","never","consecutive"]},{type:"object",properties:{separateRequires:{type:"boolean"},var:{enum:["always","never","consecutive"]},let:{enum:["always","never","consecutive"]},const:{enum:["always","never","consecutive"]}},additionalProperties:false},{type:"object",properties:{initialized:{enum:["always","never","consecutive"]},uninitialized:{enum:["always","never","consecutive"]}},additionalProperties:false}]}],messages:{combineUninitialized:"Combine this with the previous '{{type}}' statement with uninitialized variables.",combineInitialized:"Combine this with the previous '{{type}}' statement with initialized variables.",splitUninitialized:"Split uninitialized '{{type}}' declarations into multiple statements.",splitInitialized:"Split initialized '{{type}}' declarations into multiple statements.",splitRequires:"Split requires to be separated into a single block.",combine:"Combine this with the previous '{{type}}' statement.",split:"Split '{{type}}' declarations into multiple statements."}},create(context){const MODE_ALWAYS="always";const MODE_NEVER="never";const MODE_CONSECUTIVE="consecutive";const mode=context.options[0]||MODE_ALWAYS;const options={};if(typeof mode==="string"){options.var={uninitialized:mode,initialized:mode};options.let={uninitialized:mode,initialized:mode};options.const={uninitialized:mode,initialized:mode}}else if(typeof mode==="object"){options.separateRequires=!!mode.separateRequires;options.var={uninitialized:mode.var,initialized:mode.var};options.let={uninitialized:mode.let,initialized:mode.let};options.const={uninitialized:mode.const,initialized:mode.const};if(Object.prototype.hasOwnProperty.call(mode,"uninitialized")){options.var.uninitialized=mode.uninitialized;options.let.uninitialized=mode.uninitialized;options.const.uninitialized=mode.uninitialized}if(Object.prototype.hasOwnProperty.call(mode,"initialized")){options.var.initialized=mode.initialized;options.let.initialized=mode.initialized;options.const.initialized=mode.initialized}}const sourceCode=context.getSourceCode();const functionStack=[];const blockStack=[];function startBlock(){blockStack.push({let:{initialized:false,uninitialized:false},const:{initialized:false,uninitialized:false}})}function startFunction(){functionStack.push({initialized:false,uninitialized:false});startBlock()}function endBlock(){blockStack.pop()}function endFunction(){functionStack.pop();endBlock()}function isRequire(decl){return decl.init&&decl.init.type==="CallExpression"&&decl.init.callee.name==="require"}function recordTypes(statementType,declarations,currentScope){for(let i=0;i<declarations.length;i++){if(declarations[i].init===null){if(options[statementType]&&options[statementType].uninitialized===MODE_ALWAYS){currentScope.uninitialized=true}}else{if(options[statementType]&&options[statementType].initialized===MODE_ALWAYS){if(options.separateRequires&&isRequire(declarations[i])){currentScope.required=true}else{currentScope.initialized=true}}}}}function getCurrentScope(statementType){let currentScope;if(statementType==="var"){currentScope=functionStack[functionStack.length-1]}else if(statementType==="let"){currentScope=blockStack[blockStack.length-1].let}else if(statementType==="const"){currentScope=blockStack[blockStack.length-1].const}return currentScope}function countDeclarations(declarations){const counts={uninitialized:0,initialized:0};for(let i=0;i<declarations.length;i++){if(declarations[i].init===null){counts.uninitialized++}else{counts.initialized++}}return counts}function hasOnlyOneStatement(statementType,declarations){const declarationCounts=countDeclarations(declarations);const currentOptions=options[statementType]||{};const currentScope=getCurrentScope(statementType);const hasRequires=declarations.some(isRequire);if(currentOptions.uninitialized===MODE_ALWAYS&&currentOptions.initialized===MODE_ALWAYS){if(currentScope.uninitialized||currentScope.initialized){if(!hasRequires){return false}}}if(declarationCounts.uninitialized>0){if(currentOptions.uninitialized===MODE_ALWAYS&&currentScope.uninitialized){return false}}if(declarationCounts.initialized>0){if(currentOptions.initialized===MODE_ALWAYS&&currentScope.initialized){if(!hasRequires){return false}}}if(currentScope.required&&hasRequires){return false}recordTypes(statementType,declarations,currentScope);return true}function joinDeclarations(declarations){const declaration=declarations[0];const body=Array.isArray(declaration.parent.parent.body)?declaration.parent.parent.body:[];const currentIndex=body.findIndex((node=>node.range[0]===declaration.parent.range[0]));const previousNode=body[currentIndex-1];return fixer=>{const type=sourceCode.getTokenBefore(declaration);const prevSemi=sourceCode.getTokenBefore(type);const res=[];if(previousNode&&previousNode.kind===sourceCode.getText(type)){if(prevSemi.value===";"){res.push(fixer.replaceText(prevSemi,","))}else{res.push(fixer.insertTextAfter(prevSemi,","))}res.push(fixer.replaceText(type,""))}return res}}function splitDeclarations(declaration){const{parent:parent}=declaration;if(!isInStatementList(parent.type==="ExportNamedDeclaration"?parent:declaration)){return null}return fixer=>declaration.declarations.map((declarator=>{const tokenAfterDeclarator=sourceCode.getTokenAfter(declarator);if(tokenAfterDeclarator===null){return null}const afterComma=sourceCode.getTokenAfter(tokenAfterDeclarator,{includeComments:true});if(tokenAfterDeclarator.value!==","){return null}const exportPlacement=declaration.parent.type==="ExportNamedDeclaration"?"export ":"";if(afterComma.range[0]===tokenAfterDeclarator.range[1]){return fixer.replaceText(tokenAfterDeclarator,`; ${exportPlacement}${declaration.kind} `)}if(afterComma.loc.start.line>tokenAfterDeclarator.loc.end.line||afterComma.type==="Line"||afterComma.type==="Block"){let lastComment=afterComma;while(lastComment.type==="Line"||lastComment.type==="Block"){lastComment=sourceCode.getTokenAfter(lastComment,{includeComments:true})}return fixer.replaceTextRange([tokenAfterDeclarator.range[0],lastComment.range[0]],`;${sourceCode.text.slice(tokenAfterDeclarator.range[1],lastComment.range[0])}${exportPlacement}${declaration.kind} `)}return fixer.replaceText(tokenAfterDeclarator,`; ${exportPlacement}${declaration.kind}`)})).filter((x=>x))}function checkVariableDeclaration(node){const parent=node.parent;const type=node.kind;if(!options[type]){return}const declarations=node.declarations;const declarationCounts=countDeclarations(declarations);const mixedRequires=declarations.some(isRequire)&&!declarations.every(isRequire);if(options[type].initialized===MODE_ALWAYS){if(options.separateRequires&&mixedRequires){context.report({node:node,messageId:"splitRequires"})}}const nodeIndex=parent.body&&parent.body.length>0&&parent.body.indexOf(node)||0;if(nodeIndex>0){const previousNode=parent.body[nodeIndex-1];const isPreviousNodeDeclaration=previousNode.type==="VariableDeclaration";const declarationsWithPrevious=declarations.concat(previousNode.declarations||[]);if(isPreviousNodeDeclaration&&previousNode.kind===type&&!(declarationsWithPrevious.some(isRequire)&&!declarationsWithPrevious.every(isRequire))){const previousDeclCounts=countDeclarations(previousNode.declarations);if(options[type].initialized===MODE_CONSECUTIVE&&options[type].uninitialized===MODE_CONSECUTIVE){context.report({node:node,messageId:"combine",data:{type:type},fix:joinDeclarations(declarations)})}else if(options[type].initialized===MODE_CONSECUTIVE&&declarationCounts.initialized>0&&previousDeclCounts.initialized>0){context.report({node:node,messageId:"combineInitialized",data:{type:type},fix:joinDeclarations(declarations)})}else if(options[type].uninitialized===MODE_CONSECUTIVE&&declarationCounts.uninitialized>0&&previousDeclCounts.uninitialized>0){context.report({node:node,messageId:"combineUninitialized",data:{type:type},fix:joinDeclarations(declarations)})}}}if(!hasOnlyOneStatement(type,declarations)){if(options[type].initialized===MODE_ALWAYS&&options[type].uninitialized===MODE_ALWAYS){context.report({node:node,messageId:"combine",data:{type:type},fix:joinDeclarations(declarations)})}else{if(options[type].initialized===MODE_ALWAYS&&declarationCounts.initialized>0){context.report({node:node,messageId:"combineInitialized",data:{type:type},fix:joinDeclarations(declarations)})}if(options[type].uninitialized===MODE_ALWAYS&&declarationCounts.uninitialized>0){if(node.parent.left===node&&(node.parent.type==="ForInStatement"||node.parent.type==="ForOfStatement")){return}context.report({node:node,messageId:"combineUninitialized",data:{type:type},fix:joinDeclarations(declarations)})}}}if(parent.type!=="ForStatement"||parent.init!==node){const totalDeclarations=declarationCounts.uninitialized+declarationCounts.initialized;if(totalDeclarations>1){if(options[type].initialized===MODE_NEVER&&options[type].uninitialized===MODE_NEVER){context.report({node:node,messageId:"split",data:{type:type},fix:splitDeclarations(node)})}else if(options[type].initialized===MODE_NEVER&&declarationCounts.initialized>0){context.report({node:node,messageId:"splitInitialized",data:{type:type},fix:splitDeclarations(node)})}else if(options[type].uninitialized===MODE_NEVER&&declarationCounts.uninitialized>0){context.report({node:node,messageId:"splitUninitialized",data:{type:type},fix:splitDeclarations(node)})}}}}return{Program:startFunction,FunctionDeclaration:startFunction,FunctionExpression:startFunction,ArrowFunctionExpression:startFunction,StaticBlock:startFunction,BlockStatement:startBlock,ForStatement:startBlock,ForInStatement:startBlock,ForOfStatement:startBlock,SwitchStatement:startBlock,VariableDeclaration:checkVariableDeclaration,"ForStatement:exit":endBlock,"ForOfStatement:exit":endBlock,"ForInStatement:exit":endBlock,"SwitchStatement:exit":endBlock,"BlockStatement:exit":endBlock,"Program:exit":endFunction,"FunctionDeclaration:exit":endFunction,"FunctionExpression:exit":endFunction,"ArrowFunctionExpression:exit":endFunction,"StaticBlock:exit":endFunction}}};return oneVar}var oneVarDeclarationPerLine;var hasRequiredOneVarDeclarationPerLine;function requireOneVarDeclarationPerLine(){if(hasRequiredOneVarDeclarationPerLine)return oneVarDeclarationPerLine;hasRequiredOneVarDeclarationPerLine=1;oneVarDeclarationPerLine={meta:{type:"suggestion",docs:{description:"Require or disallow newlines around variable declarations",recommended:false,url:"https://eslint.org/docs/rules/one-var-declaration-per-line"},schema:[{enum:["always","initializations"]}],fixable:"whitespace",messages:{expectVarOnNewline:"Expected variable declaration to be on a new line."}},create(context){const always=context.options[0]==="always";function isForTypeSpecifier(keyword){return keyword==="ForStatement"||keyword==="ForInStatement"||keyword==="ForOfStatement"}function checkForNewLine(node){if(isForTypeSpecifier(node.parent.type)){return}const declarations=node.declarations;let prev;declarations.forEach((current=>{if(prev&&prev.loc.end.line===current.loc.start.line){if(always||prev.init||current.init){context.report({node:node,messageId:"expectVarOnNewline",loc:current.loc,fix:fixer=>fixer.insertTextBefore(current,"\n")})}}prev=current}))}return{VariableDeclaration:checkForNewLine}}};return oneVarDeclarationPerLine}var operatorAssignment;var hasRequiredOperatorAssignment;function requireOperatorAssignment(){if(hasRequiredOperatorAssignment)return operatorAssignment;hasRequiredOperatorAssignment=1;const astUtils=requireAstUtils();function isCommutativeOperatorWithShorthand(operator){return["*","&","^","|"].includes(operator)}function isNonCommutativeOperatorWithShorthand(operator){return["+","-","/","%","<<",">>",">>>","**"].includes(operator)}function canBeFixed(node){return node.type==="Identifier"||node.type==="MemberExpression"&&(node.object.type==="Identifier"||node.object.type==="ThisExpression")&&(!node.computed||node.property.type==="Literal")}operatorAssignment={meta:{type:"suggestion",docs:{description:"Require or disallow assignment operator shorthand where possible",recommended:false,url:"https://eslint.org/docs/rules/operator-assignment"},schema:[{enum:["always","never"]}],fixable:"code",messages:{replaced:"Assignment (=) can be replaced with operator assignment ({{operator}}).",unexpected:"Unexpected operator assignment ({{operator}}) shorthand."}},create(context){const sourceCode=context.getSourceCode();function getOperatorToken(node){return sourceCode.getFirstTokenBetween(node.left,node.right,(token=>token.value===node.operator))}function verify(node){if(node.operator!=="="||node.right.type!=="BinaryExpression"){return}const left=node.left;const expr=node.right;const operator=expr.operator;if(isCommutativeOperatorWithShorthand(operator)||isNonCommutativeOperatorWithShorthand(operator)){const replacementOperator=`${operator}=`;if(astUtils.isSameReference(left,expr.left,true)){context.report({node:node,messageId:"replaced",data:{operator:replacementOperator},fix(fixer){if(canBeFixed(left)&&canBeFixed(expr.left)){const equalsToken=getOperatorToken(node);const operatorToken=getOperatorToken(expr);const leftText=sourceCode.getText().slice(node.range[0],equalsToken.range[0]);const rightText=sourceCode.getText().slice(operatorToken.range[1],node.right.range[1]);if(sourceCode.commentsExistBetween(equalsToken,operatorToken)){return null}return fixer.replaceText(node,`${leftText}${replacementOperator}${rightText}`)}return null}})}else if(astUtils.isSameReference(left,expr.right,true)&&isCommutativeOperatorWithShorthand(operator)){context.report({node:node,messageId:"replaced",data:{operator:replacementOperator}})}}}function prohibit(node){if(node.operator!=="="&&!astUtils.isLogicalAssignmentOperator(node.operator)){context.report({node:node,messageId:"unexpected",data:{operator:node.operator},fix(fixer){if(canBeFixed(node.left)){const firstToken=sourceCode.getFirstToken(node);const operatorToken=getOperatorToken(node);const leftText=sourceCode.getText().slice(node.range[0],operatorToken.range[0]);const newOperator=node.operator.slice(0,-1);let rightText;if(sourceCode.commentsExistBetween(firstToken,operatorToken)){return null}if(astUtils.getPrecedence(node.right)<=astUtils.getPrecedence({type:"BinaryExpression",operator:newOperator})&&!astUtils.isParenthesised(sourceCode,node.right)){rightText=`${sourceCode.text.slice(operatorToken.range[1],node.right.range[0])}(${sourceCode.getText(node.right)})`}else{const tokenAfterOperator=sourceCode.getTokenAfter(operatorToken,{includeComments:true});let rightTextPrefix="";if(operatorToken.range[1]===tokenAfterOperator.range[0]&&!astUtils.canTokensBeAdjacent({type:"Punctuator",value:newOperator},tokenAfterOperator)){rightTextPrefix=" "}rightText=`${rightTextPrefix}${sourceCode.text.slice(operatorToken.range[1],node.range[1])}`}return fixer.replaceText(node,`${leftText}= ${leftText}${newOperator}${rightText}`)}return null}})}}return{AssignmentExpression:context.options[0]!=="never"?verify:prohibit}}};return operatorAssignment}var operatorLinebreak;var hasRequiredOperatorLinebreak;function requireOperatorLinebreak(){if(hasRequiredOperatorLinebreak)return operatorLinebreak;hasRequiredOperatorLinebreak=1;const astUtils=requireAstUtils();operatorLinebreak={meta:{type:"layout",docs:{description:"Enforce consistent linebreak style for operators",recommended:false,url:"https://eslint.org/docs/rules/operator-linebreak"},schema:[{enum:["after","before","none",null]},{type:"object",properties:{overrides:{type:"object",additionalProperties:{enum:["after","before","none","ignore"]}}},additionalProperties:false}],fixable:"code",messages:{operatorAtBeginning:"'{{operator}}' should be placed at the beginning of the line.",operatorAtEnd:"'{{operator}}' should be placed at the end of the line.",badLinebreak:"Bad line breaking before and after '{{operator}}'.",noLinebreak:"There should be no line break before or after '{{operator}}'."}},create(context){const usedDefaultGlobal=!context.options[0];const globalStyle=context.options[0]||"after";const options=context.options[1]||{};const styleOverrides=options.overrides?Object.assign({},options.overrides):{};if(usedDefaultGlobal&&!styleOverrides["?"]){styleOverrides["?"]="before"}if(usedDefaultGlobal&&!styleOverrides[":"]){styleOverrides[":"]="before"}const sourceCode=context.getSourceCode();function getFixer(operatorToken,desiredStyle){return fixer=>{const tokenBefore=sourceCode.getTokenBefore(operatorToken);const tokenAfter=sourceCode.getTokenAfter(operatorToken);const textBefore=sourceCode.text.slice(tokenBefore.range[1],operatorToken.range[0]);const textAfter=sourceCode.text.slice(operatorToken.range[1],tokenAfter.range[0]);const hasLinebreakBefore=!astUtils.isTokenOnSameLine(tokenBefore,operatorToken);const hasLinebreakAfter=!astUtils.isTokenOnSameLine(operatorToken,tokenAfter);let newTextBefore,newTextAfter;if(hasLinebreakBefore!==hasLinebreakAfter&&desiredStyle!=="none"){if(sourceCode.getTokenBefore(operatorToken,{includeComments:true})!==tokenBefore&&sourceCode.getTokenAfter(operatorToken,{includeComments:true})!==tokenAfter){return null}newTextBefore=textAfter;newTextAfter=textBefore}else{const LINEBREAK_REGEX=astUtils.createGlobalLinebreakMatcher();newTextBefore=desiredStyle==="before"||textBefore.trim()?textBefore:textBefore.replace(LINEBREAK_REGEX,"");newTextAfter=desiredStyle==="after"||textAfter.trim()?textAfter:textAfter.replace(LINEBREAK_REGEX,"");if(newTextBefore===textBefore&&newTextAfter===textAfter){return null}}if(newTextAfter===""&&tokenAfter.type==="Punctuator"&&"+-".includes(operatorToken.value)&&tokenAfter.value===operatorToken.value){newTextAfter+=" "}return fixer.replaceTextRange([tokenBefore.range[1],tokenAfter.range[0]],newTextBefore+operatorToken.value+newTextAfter)}}function validateNode(node,rightSide,operator){const operatorToken=sourceCode.getTokenBefore(rightSide,(token=>token.value===operator));const leftToken=sourceCode.getTokenBefore(operatorToken);const rightToken=sourceCode.getTokenAfter(operatorToken);const operatorStyleOverride=styleOverrides[operator];const style=operatorStyleOverride||globalStyle;const fix=getFixer(operatorToken,style);if(astUtils.isTokenOnSameLine(leftToken,operatorToken)&&astUtils.isTokenOnSameLine(operatorToken,rightToken));else if(operatorStyleOverride!=="ignore"&&!astUtils.isTokenOnSameLine(leftToken,operatorToken)&&!astUtils.isTokenOnSameLine(operatorToken,rightToken)){context.report({node:node,loc:operatorToken.loc,messageId:"badLinebreak",data:{operator:operator},fix:fix})}else if(style==="before"&&astUtils.isTokenOnSameLine(leftToken,operatorToken)){context.report({node:node,loc:operatorToken.loc,messageId:"operatorAtBeginning",data:{operator:operator},fix:fix})}else if(style==="after"&&astUtils.isTokenOnSameLine(operatorToken,rightToken)){context.report({node:node,loc:operatorToken.loc,messageId:"operatorAtEnd",data:{operator:operator},fix:fix})}else if(style==="none"){context.report({node:node,loc:operatorToken.loc,messageId:"noLinebreak",data:{operator:operator},fix:fix})}}function validateBinaryExpression(node){validateNode(node,node.right,node.operator)}return{BinaryExpression:validateBinaryExpression,LogicalExpression:validateBinaryExpression,AssignmentExpression:validateBinaryExpression,VariableDeclarator(node){if(node.init){validateNode(node,node.init,"=")}},PropertyDefinition(node){if(node.value){validateNode(node,node.value,"=")}},ConditionalExpression(node){validateNode(node,node.consequent,"?");validateNode(node,node.alternate,":")}}}};return operatorLinebreak}var paddedBlocks;var hasRequiredPaddedBlocks;function requirePaddedBlocks(){if(hasRequiredPaddedBlocks)return paddedBlocks;hasRequiredPaddedBlocks=1;const astUtils=requireAstUtils();paddedBlocks={meta:{type:"layout",docs:{description:"Require or disallow padding within blocks",recommended:false,url:"https://eslint.org/docs/rules/padded-blocks"},fixable:"whitespace",schema:[{oneOf:[{enum:["always","never"]},{type:"object",properties:{blocks:{enum:["always","never"]},switches:{enum:["always","never"]},classes:{enum:["always","never"]}},additionalProperties:false,minProperties:1}]},{type:"object",properties:{allowSingleLineBlocks:{type:"boolean"}},additionalProperties:false}],messages:{alwaysPadBlock:"Block must be padded by blank lines.",neverPadBlock:"Block must not be padded by blank lines."}},create(context){const options={};const typeOptions=context.options[0]||"always";const exceptOptions=context.options[1]||{};if(typeof typeOptions==="string"){const shouldHavePadding=typeOptions==="always";options.blocks=shouldHavePadding;options.switches=shouldHavePadding;options.classes=shouldHavePadding}else{if(Object.prototype.hasOwnProperty.call(typeOptions,"blocks")){options.blocks=typeOptions.blocks==="always"}if(Object.prototype.hasOwnProperty.call(typeOptions,"switches")){options.switches=typeOptions.switches==="always"}if(Object.prototype.hasOwnProperty.call(typeOptions,"classes")){options.classes=typeOptions.classes==="always"}}if(Object.prototype.hasOwnProperty.call(exceptOptions,"allowSingleLineBlocks")){options.allowSingleLineBlocks=exceptOptions.allowSingleLineBlocks===true}const sourceCode=context.getSourceCode();function getOpenBrace(node){if(node.type==="SwitchStatement"){return sourceCode.getTokenBefore(node.cases[0])}if(node.type==="StaticBlock"){return sourceCode.getFirstToken(node,{skip:1})}return sourceCode.getFirstToken(node)}function isComment(node){return node.type==="Line"||node.type==="Block"}function isPaddingBetweenTokens(first,second){return second.loc.start.line-first.loc.end.line>=2}function getFirstBlockToken(token){let prev,first=token;do{prev=first;first=sourceCode.getTokenAfter(first,{includeComments:true})}while(isComment(first)&&first.loc.start.line===prev.loc.end.line);return first}function getLastBlockToken(token){let last=token,next;do{next=last;last=sourceCode.getTokenBefore(last,{includeComments:true})}while(isComment(last)&&last.loc.end.line===next.loc.start.line);return last}function requirePaddingFor(node){switch(node.type){case"BlockStatement":case"StaticBlock":return options.blocks;case"SwitchStatement":return options.switches;case"ClassBody":return options.classes;default:throw new Error("unreachable")}}function checkPadding(node){const openBrace=getOpenBrace(node),firstBlockToken=getFirstBlockToken(openBrace),tokenBeforeFirst=sourceCode.getTokenBefore(firstBlockToken,{includeComments:true}),closeBrace=sourceCode.getLastToken(node),lastBlockToken=getLastBlockToken(closeBrace),tokenAfterLast=sourceCode.getTokenAfter(lastBlockToken,{includeComments:true}),blockHasTopPadding=isPaddingBetweenTokens(tokenBeforeFirst,firstBlockToken),blockHasBottomPadding=isPaddingBetweenTokens(lastBlockToken,tokenAfterLast);if(options.allowSingleLineBlocks&&astUtils.isTokenOnSameLine(tokenBeforeFirst,tokenAfterLast)){return}if(requirePaddingFor(node)){if(!blockHasTopPadding){context.report({node:node,loc:{start:tokenBeforeFirst.loc.start,end:firstBlockToken.loc.start},fix(fixer){return fixer.insertTextAfter(tokenBeforeFirst,"\n")},messageId:"alwaysPadBlock"})}if(!blockHasBottomPadding){context.report({node:node,loc:{end:tokenAfterLast.loc.start,start:lastBlockToken.loc.end},fix(fixer){return fixer.insertTextBefore(tokenAfterLast,"\n")},messageId:"alwaysPadBlock"})}}else{if(blockHasTopPadding){context.report({node:node,loc:{start:tokenBeforeFirst.loc.start,end:firstBlockToken.loc.start},fix(fixer){return fixer.replaceTextRange([tokenBeforeFirst.range[1],firstBlockToken.range[0]-firstBlockToken.loc.start.column],"\n")},messageId:"neverPadBlock"})}if(blockHasBottomPadding){context.report({node:node,loc:{end:tokenAfterLast.loc.start,start:lastBlockToken.loc.end},messageId:"neverPadBlock",fix(fixer){return fixer.replaceTextRange([lastBlockToken.range[1],tokenAfterLast.range[0]-tokenAfterLast.loc.start.column],"\n")}})}}}const rule={};if(Object.prototype.hasOwnProperty.call(options,"switches")){rule.SwitchStatement=function(node){if(node.cases.length===0){return}checkPadding(node)}}if(Object.prototype.hasOwnProperty.call(options,"blocks")){rule.BlockStatement=function(node){if(node.body.length===0){return}checkPadding(node)};rule.StaticBlock=rule.BlockStatement}if(Object.prototype.hasOwnProperty.call(options,"classes")){rule.ClassBody=function(node){if(node.body.length===0){return}checkPadding(node)}}return rule}};return paddedBlocks}var paddingLineBetweenStatements;var hasRequiredPaddingLineBetweenStatements;function requirePaddingLineBetweenStatements(){if(hasRequiredPaddingLineBetweenStatements)return paddingLineBetweenStatements;hasRequiredPaddingLineBetweenStatements=1;const astUtils=requireAstUtils();const LT=`[${Array.from(astUtils.LINEBREAKS).join("")}]`;const PADDING_LINE_SEQUENCE=new RegExp(String.raw`^(\s*?${LT})\s*${LT}(\s*;?)$`,"u");const CJS_EXPORT=/^(?:module\s*\.\s*)?exports(?:\s*\.|\s*\[|$)/u;const CJS_IMPORT=/^require\(/u;function newKeywordTester(keyword){return{test:(node,sourceCode)=>sourceCode.getFirstToken(node).value===keyword}}function newSinglelineKeywordTester(keyword){return{test:(node,sourceCode)=>node.loc.start.line===node.loc.end.line&&sourceCode.getFirstToken(node).value===keyword}}function newMultilineKeywordTester(keyword){return{test:(node,sourceCode)=>node.loc.start.line!==node.loc.end.line&&sourceCode.getFirstToken(node).value===keyword}}function newNodeTypeTester(type){return{test:node=>node.type===type}}function isIIFEStatement(node){if(node.type==="ExpressionStatement"){let call=astUtils.skipChainExpression(node.expression);if(call.type==="UnaryExpression"){call=astUtils.skipChainExpression(call.argument)}return call.type==="CallExpression"&&astUtils.isFunction(call.callee)}return false}function isBlockLikeStatement(sourceCode,node){if(node.type==="DoWhileStatement"&&node.body.type==="BlockStatement"){return true}if(isIIFEStatement(node)){return true}const lastToken=sourceCode.getLastToken(node,astUtils.isNotSemicolonToken);const belongingNode=lastToken&&astUtils.isClosingBraceToken(lastToken)?sourceCode.getNodeByRangeIndex(lastToken.range[0]):null;return Boolean(belongingNode)&&(belongingNode.type==="BlockStatement"||belongingNode.type==="SwitchStatement")}function isDirective(node,sourceCode){return node.type==="ExpressionStatement"&&(node.parent.type==="Program"||node.parent.type==="BlockStatement"&&astUtils.isFunction(node.parent.parent))&&node.expression.type==="Literal"&&typeof node.expression.value==="string"&&!astUtils.isParenthesised(sourceCode,node.expression)}function isDirectivePrologue(node,sourceCode){if(isDirective(node,sourceCode)){for(const sibling of node.parent.body){if(sibling===node){break}if(!isDirective(sibling,sourceCode)){return false}}return true}return false}function getActualLastToken(sourceCode,node){const semiToken=sourceCode.getLastToken(node);const prevToken=sourceCode.getTokenBefore(semiToken);const nextToken=sourceCode.getTokenAfter(semiToken);const isSemicolonLessStyle=Boolean(prevToken&&nextToken&&prevToken.range[0]>=node.range[0]&&astUtils.isSemicolonToken(semiToken)&&semiToken.loc.start.line!==prevToken.loc.end.line&&semiToken.loc.end.line===nextToken.loc.start.line);return isSemicolonLessStyle?prevToken:semiToken}function replacerToRemovePaddingLines(_,trailingSpaces,indentSpaces){return trailingSpaces+indentSpaces}function verifyForAny(){}function verifyForNever(context,_,nextNode,paddingLines){if(paddingLines.length===0){return}context.report({node:nextNode,messageId:"unexpectedBlankLine",fix(fixer){if(paddingLines.length>=2){return null}const prevToken=paddingLines[0][0];const nextToken=paddingLines[0][1];const start=prevToken.range[1];const end=nextToken.range[0];const text=context.getSourceCode().text.slice(start,end).replace(PADDING_LINE_SEQUENCE,replacerToRemovePaddingLines);return fixer.replaceTextRange([start,end],text)}})}function verifyForAlways(context,prevNode,nextNode,paddingLines){if(paddingLines.length>0){return}context.report({node:nextNode,messageId:"expectedBlankLine",fix(fixer){const sourceCode=context.getSourceCode();let prevToken=getActualLastToken(sourceCode,prevNode);const nextToken=sourceCode.getFirstTokenBetween(prevToken,nextNode,{includeComments:true,filter(token){if(astUtils.isTokenOnSameLine(prevToken,token)){prevToken=token;return false}return true}})||nextNode;const insertText=astUtils.isTokenOnSameLine(prevToken,nextToken)?"\n\n":"\n";return fixer.insertTextAfter(prevToken,insertText)}})}const PaddingTypes={any:{verify:verifyForAny},never:{verify:verifyForNever},always:{verify:verifyForAlways}};const StatementTypes={"*":{test:()=>true},"block-like":{test:(node,sourceCode)=>isBlockLikeStatement(sourceCode,node)},"cjs-export":{test:(node,sourceCode)=>node.type==="ExpressionStatement"&&node.expression.type==="AssignmentExpression"&&CJS_EXPORT.test(sourceCode.getText(node.expression.left))},"cjs-import":{test:(node,sourceCode)=>node.type==="VariableDeclaration"&&node.declarations.length>0&&Boolean(node.declarations[0].init)&&CJS_IMPORT.test(sourceCode.getText(node.declarations[0].init))},directive:{test:isDirectivePrologue},expression:{test:(node,sourceCode)=>node.type==="ExpressionStatement"&&!isDirectivePrologue(node,sourceCode)},iife:{test:isIIFEStatement},"multiline-block-like":{test:(node,sourceCode)=>node.loc.start.line!==node.loc.end.line&&isBlockLikeStatement(sourceCode,node)},"multiline-expression":{test:(node,sourceCode)=>node.loc.start.line!==node.loc.end.line&&node.type==="ExpressionStatement"&&!isDirectivePrologue(node,sourceCode)},"multiline-const":newMultilineKeywordTester("const"),"multiline-let":newMultilineKeywordTester("let"),"multiline-var":newMultilineKeywordTester("var"),"singleline-const":newSinglelineKeywordTester("const"),"singleline-let":newSinglelineKeywordTester("let"),"singleline-var":newSinglelineKeywordTester("var"),block:newNodeTypeTester("BlockStatement"),empty:newNodeTypeTester("EmptyStatement"),function:newNodeTypeTester("FunctionDeclaration"),break:newKeywordTester("break"),case:newKeywordTester("case"),class:newKeywordTester("class"),const:newKeywordTester("const"),continue:newKeywordTester("continue"),debugger:newKeywordTester("debugger"),default:newKeywordTester("default"),do:newKeywordTester("do"),export:newKeywordTester("export"),for:newKeywordTester("for"),if:newKeywordTester("if"),import:newKeywordTester("import"),let:newKeywordTester("let"),return:newKeywordTester("return"),switch:newKeywordTester("switch"),throw:newKeywordTester("throw"),try:newKeywordTester("try"),var:newKeywordTester("var"),while:newKeywordTester("while"),with:newKeywordTester("with")};paddingLineBetweenStatements={meta:{type:"layout",docs:{description:"Require or disallow padding lines between statements",recommended:false,url:"https://eslint.org/docs/rules/padding-line-between-statements"},fixable:"whitespace",schema:{definitions:{paddingType:{enum:Object.keys(PaddingTypes)},statementType:{anyOf:[{enum:Object.keys(StatementTypes)},{type:"array",items:{enum:Object.keys(StatementTypes)},minItems:1,uniqueItems:true}]}},type:"array",items:{type:"object",properties:{blankLine:{$ref:"#/definitions/paddingType"},prev:{$ref:"#/definitions/statementType"},next:{$ref:"#/definitions/statementType"}},additionalProperties:false,required:["blankLine","prev","next"]}},messages:{unexpectedBlankLine:"Unexpected blank line before this statement.",expectedBlankLine:"Expected blank line before this statement."}},create(context){const sourceCode=context.getSourceCode();const configureList=context.options||[];let scopeInfo=null;function enterScope(){scopeInfo={upper:scopeInfo,prevNode:null}}function exitScope(){scopeInfo=scopeInfo.upper}function match(node,type){let innerStatementNode=node;while(innerStatementNode.type==="LabeledStatement"){innerStatementNode=innerStatementNode.body}if(Array.isArray(type)){return type.some(match.bind(null,innerStatementNode))}return StatementTypes[type].test(innerStatementNode,sourceCode)}function getPaddingType(prevNode,nextNode){for(let i=configureList.length-1;i>=0;--i){const configure=configureList[i];const matched=match(prevNode,configure.prev)&&match(nextNode,configure.next);if(matched){return PaddingTypes[configure.blankLine]}}return PaddingTypes.any}function getPaddingLineSequences(prevNode,nextNode){const pairs=[];let prevToken=getActualLastToken(sourceCode,prevNode);if(nextNode.loc.start.line-prevToken.loc.end.line>=2){do{const token=sourceCode.getTokenAfter(prevToken,{includeComments:true});if(token.loc.start.line-prevToken.loc.end.line>=2){pairs.push([prevToken,token])}prevToken=token}while(prevToken.range[0]<nextNode.range[0])}return pairs}function verify(node){const parentType=node.parent.type;const validParent=astUtils.STATEMENT_LIST_PARENTS.has(parentType)||parentType==="SwitchStatement";if(!validParent){return}const prevNode=scopeInfo.prevNode;if(prevNode){const type=getPaddingType(prevNode,node);const paddingLines=getPaddingLineSequences(prevNode,node);type.verify(context,prevNode,node,paddingLines)}scopeInfo.prevNode=node}function verifyThenEnterScope(node){verify(node);enterScope()}return{Program:enterScope,BlockStatement:enterScope,SwitchStatement:enterScope,StaticBlock:enterScope,"Program:exit":exitScope,"BlockStatement:exit":exitScope,"SwitchStatement:exit":exitScope,"StaticBlock:exit":exitScope,":statement":verify,SwitchCase:verifyThenEnterScope,"SwitchCase:exit":exitScope}}};return paddingLineBetweenStatements}var preferArrowCallback;var hasRequiredPreferArrowCallback;function requirePreferArrowCallback(){if(hasRequiredPreferArrowCallback)return preferArrowCallback;hasRequiredPreferArrowCallback=1;const astUtils=requireAstUtils();function isFunctionName(variable){return variable&&variable.defs[0].type==="FunctionName"}function checkMetaProperty(node,metaName,propertyName){return node.meta.name===metaName&&node.property.name===propertyName}function getVariableOfArguments(scope){const variables=scope.variables;for(let i=0;i<variables.length;++i){const variable=variables[i];if(variable.name==="arguments"){return variable.identifiers.length===0?variable:null}}return null}function getCallbackInfo(node){const retv={isCallback:false,isLexicalThis:false};let currentNode=node;let parent=node.parent;let bound=false;while(currentNode){switch(parent.type){case"LogicalExpression":case"ChainExpression":case"ConditionalExpression":break;case"MemberExpression":if(parent.object===currentNode&&!parent.property.computed&&parent.property.type==="Identifier"&&parent.property.name==="bind"){const maybeCallee=parent.parent.type==="ChainExpression"?parent.parent:parent;if(astUtils.isCallee(maybeCallee)){if(!bound){bound=true;retv.isLexicalThis=maybeCallee.parent.arguments.length===1&&maybeCallee.parent.arguments[0].type==="ThisExpression"}parent=maybeCallee.parent}else{return retv}}else{return retv}break;case"CallExpression":case"NewExpression":if(parent.callee!==currentNode){retv.isCallback=true}return retv;default:return retv}currentNode=parent;parent=parent.parent}throw new Error("unreachable")}function hasDuplicateParams(paramsList){return paramsList.every((param=>param.type==="Identifier"))&&paramsList.length!==new Set(paramsList.map((param=>param.name))).size}preferArrowCallback={meta:{type:"suggestion",docs:{description:"Require using arrow functions for callbacks",recommended:false,url:"https://eslint.org/docs/rules/prefer-arrow-callback"},schema:[{type:"object",properties:{allowNamedFunctions:{type:"boolean",default:false},allowUnboundThis:{type:"boolean",default:true}},additionalProperties:false}],fixable:"code",messages:{preferArrowCallback:"Unexpected function expression."}},create(context){const options=context.options[0]||{};const allowUnboundThis=options.allowUnboundThis!==false;const allowNamedFunctions=options.allowNamedFunctions;const sourceCode=context.getSourceCode();let stack=[];function enterScope(){stack.push({this:false,super:false,meta:false})}function exitScope(){return stack.pop()}return{Program(){stack=[]},ThisExpression(){const info=stack[stack.length-1];if(info){info.this=true}},Super(){const info=stack[stack.length-1];if(info){info.super=true}},MetaProperty(node){const info=stack[stack.length-1];if(info&&checkMetaProperty(node,"new","target")){info.meta=true}},FunctionDeclaration:enterScope,"FunctionDeclaration:exit":exitScope,FunctionExpression:enterScope,"FunctionExpression:exit"(node){const scopeInfo=exitScope();if(allowNamedFunctions&&node.id&&node.id.name){return}if(node.generator){return}const nameVar=context.getDeclaredVariables(node)[0];if(isFunctionName(nameVar)&&nameVar.references.length>0){return}const variable=getVariableOfArguments(context.getScope());if(variable&&variable.references.length>0){return}const callbackInfo=getCallbackInfo(node);if(callbackInfo.isCallback&&(!allowUnboundThis||!scopeInfo.this||callbackInfo.isLexicalThis)&&!scopeInfo.super&&!scopeInfo.meta){context.report({node:node,messageId:"preferArrowCallback",*fix(fixer){if(!callbackInfo.isLexicalThis&&scopeInfo.this||hasDuplicateParams(node.params)){return}if(callbackInfo.isLexicalThis){const memberNode=node.parent;if(memberNode.type!=="MemberExpression"){return}const callNode=memberNode.parent;const firstTokenToRemove=sourceCode.getTokenAfter(memberNode.object,astUtils.isNotClosingParenToken);const lastTokenToRemove=sourceCode.getLastToken(callNode);if(astUtils.isParenthesised(sourceCode,memberNode)){return}if(sourceCode.commentsExistBetween(firstTokenToRemove,lastTokenToRemove)){return}yield fixer.removeRange([firstTokenToRemove.range[0],lastTokenToRemove.range[1]])}const functionToken=sourceCode.getFirstToken(node,node.async?1:0);const leftParenToken=sourceCode.getTokenAfter(functionToken,astUtils.isOpeningParenToken);if(sourceCode.commentsExistBetween(functionToken,leftParenToken)){yield fixer.remove(functionToken);if(node.id){yield fixer.remove(node.id)}}else{yield fixer.removeRange([functionToken.range[0],leftParenToken.range[0]])}yield fixer.insertTextBefore(node.body,"=> ");let replacedNode=callbackInfo.isLexicalThis?node.parent.parent:node;if(replacedNode.type==="ChainExpression"){replacedNode=replacedNode.parent}if(replacedNode.parent.type!=="CallExpression"&&replacedNode.parent.type!=="ConditionalExpression"&&!astUtils.isParenthesised(sourceCode,replacedNode)&&!astUtils.isParenthesised(sourceCode,node)){yield fixer.insertTextBefore(replacedNode,"(");yield fixer.insertTextAfter(replacedNode,")")}}})}}}}};return preferArrowCallback}var preferConst;var hasRequiredPreferConst;function requirePreferConst(){if(hasRequiredPreferConst)return preferConst;hasRequiredPreferConst=1;const FixTracker=requireFixTracker();const astUtils=requireAstUtils();const PATTERN_TYPE=/^(?:.+?Pattern|RestElement|SpreadProperty|ExperimentalRestProperty|Property)$/u;const DECLARATION_HOST_TYPE=/^(?:Program|BlockStatement|StaticBlock|SwitchCase)$/u;const DESTRUCTURING_HOST_TYPE=/^(?:VariableDeclarator|AssignmentExpression)$/u;function isInitOfForStatement(node){return node.parent.type==="ForStatement"&&node.parent.init===node}function canBecomeVariableDeclaration(identifier){let node=identifier.parent;while(PATTERN_TYPE.test(node.type)){node=node.parent}return node.type==="VariableDeclarator"||node.type==="AssignmentExpression"&&node.parent.type==="ExpressionStatement"&&DECLARATION_HOST_TYPE.test(node.parent.parent.type)}function isOuterVariableInDestructing(name,initScope){if(initScope.through.some((ref=>ref.resolved&&ref.resolved.name===name))){return true}const variable=astUtils.getVariableByName(initScope,name);if(variable!==null){return variable.defs.some((def=>def.type==="Parameter"))}return false}function getDestructuringHost(reference){if(!reference.isWrite()){return null}let node=reference.identifier.parent;while(PATTERN_TYPE.test(node.type)){node=node.parent}if(!DESTRUCTURING_HOST_TYPE.test(node.type)){return null}return node}function hasMemberExpressionAssignment(node){switch(node.type){case"ObjectPattern":return node.properties.some((prop=>{if(prop){return hasMemberExpressionAssignment(prop.argument||prop.value)}return false}));case"ArrayPattern":return node.elements.some((element=>{if(element){return hasMemberExpressionAssignment(element)}return false}));case"AssignmentPattern":return hasMemberExpressionAssignment(node.left);case"MemberExpression":return true}return false}function getIdentifierIfShouldBeConst(variable,ignoreReadBeforeAssign){if(variable.eslintUsed&&variable.scope.type==="global"){return null}let writer=null;let isReadBeforeInit=false;const references=variable.references;for(let i=0;i<references.length;++i){const reference=references[i];if(reference.isWrite()){const isReassigned=writer!==null&&writer.identifier!==reference.identifier;if(isReassigned){return null}const destructuringHost=getDestructuringHost(reference);if(destructuringHost!==null&&destructuringHost.left!==void 0){const leftNode=destructuringHost.left;let hasOuterVariables=false,hasNonIdentifiers=false;if(leftNode.type==="ObjectPattern"){const properties=leftNode.properties;hasOuterVariables=properties.filter((prop=>prop.value)).map((prop=>prop.value.name)).some((name=>isOuterVariableInDestructing(name,variable.scope)));hasNonIdentifiers=hasMemberExpressionAssignment(leftNode)}else if(leftNode.type==="ArrayPattern"){const elements=leftNode.elements;hasOuterVariables=elements.map((element=>element&&element.name)).some((name=>isOuterVariableInDestructing(name,variable.scope)));hasNonIdentifiers=hasMemberExpressionAssignment(leftNode)}if(hasOuterVariables||hasNonIdentifiers){return null}}writer=reference}else if(reference.isRead()&&writer===null){if(ignoreReadBeforeAssign){return null}isReadBeforeInit=true}}const shouldBeConst=writer!==null&&writer.from===variable.scope&&canBecomeVariableDeclaration(writer.identifier);if(!shouldBeConst){return null}if(isReadBeforeInit){return variable.defs[0].name}return writer.identifier}function groupByDestructuring(variables,ignoreReadBeforeAssign){const identifierMap=new Map;for(let i=0;i<variables.length;++i){const variable=variables[i];const references=variable.references;const identifier=getIdentifierIfShouldBeConst(variable,ignoreReadBeforeAssign);let prevId=null;for(let j=0;j<references.length;++j){const reference=references[j];const id=reference.identifier;if(id===prevId){continue}prevId=id;const group=getDestructuringHost(reference);if(group){if(identifierMap.has(group)){identifierMap.get(group).push(identifier)}else{identifierMap.set(group,[identifier])}}}}return identifierMap}function findUp(node,type,shouldStop){if(!node||shouldStop(node)){return null}if(node.type===type){return node}return findUp(node.parent,type,shouldStop)}preferConst={meta:{type:"suggestion",docs:{description:"Require `const` declarations for variables that are never reassigned after declared",recommended:false,url:"https://eslint.org/docs/rules/prefer-const"},fixable:"code",schema:[{type:"object",properties:{destructuring:{enum:["any","all"],default:"any"},ignoreReadBeforeAssign:{type:"boolean",default:false}},additionalProperties:false}],messages:{useConst:"'{{name}}' is never reassigned. Use 'const' instead."}},create(context){const options=context.options[0]||{};const sourceCode=context.getSourceCode();const shouldMatchAnyDestructuredVariable=options.destructuring!=="all";const ignoreReadBeforeAssign=options.ignoreReadBeforeAssign===true;const variables=[];let reportCount=0;let checkedId=null;let checkedName="";function checkGroup(nodes){const nodesToReport=nodes.filter(Boolean);if(nodes.length&&(shouldMatchAnyDestructuredVariable||nodesToReport.length===nodes.length)){const varDeclParent=findUp(nodes[0],"VariableDeclaration",(parentNode=>parentNode.type.endsWith("Statement")));const isVarDecParentNull=varDeclParent===null;if(!isVarDecParentNull&&varDeclParent.declarations.length>0){const firstDeclaration=varDeclParent.declarations[0];if(firstDeclaration.init){const firstDecParent=firstDeclaration.init.parent;if(firstDecParent.type==="VariableDeclarator"){if(firstDecParent.id.name!==checkedName){checkedName=firstDecParent.id.name;reportCount=0}if(firstDecParent.id.type==="ObjectPattern"){if(firstDecParent.init.name!==checkedName){checkedName=firstDecParent.init.name;reportCount=0}}if(firstDecParent.id!==checkedId){checkedId=firstDecParent.id;reportCount=0}}}}let shouldFix=varDeclParent&&(varDeclParent.parent.type==="ForInStatement"||varDeclParent.parent.type==="ForOfStatement"||varDeclParent.declarations.every((declaration=>declaration.init)))&&nodesToReport.length===nodes.length;if(!isVarDecParentNull&&varDeclParent.declarations&&varDeclParent.declarations.length!==1){if(varDeclParent&&varDeclParent.declarations&&varDeclParent.declarations.length>=1){reportCount+=nodesToReport.length;let totalDeclarationsCount=0;varDeclParent.declarations.forEach((declaration=>{if(declaration.id.type==="ObjectPattern"){totalDeclarationsCount+=declaration.id.properties.length}else if(declaration.id.type==="ArrayPattern"){totalDeclarationsCount+=declaration.id.elements.length}else{totalDeclarationsCount+=1}}));shouldFix=shouldFix&&reportCount===totalDeclarationsCount}}nodesToReport.forEach((node=>{context.report({node:node,messageId:"useConst",data:node,fix:shouldFix?fixer=>{const letKeywordToken=sourceCode.getFirstToken(varDeclParent,(t=>t.value===varDeclParent.kind));return new FixTracker(fixer,sourceCode).retainRange(varDeclParent.range).replaceTextRange(letKeywordToken.range,"const")}:null})}))}}return{"Program:exit"(){groupByDestructuring(variables,ignoreReadBeforeAssign).forEach(checkGroup)},VariableDeclaration(node){if(node.kind==="let"&&!isInitOfForStatement(node)){variables.push(...context.getDeclaredVariables(node))}}}}};return preferConst}var preferDestructuring;var hasRequiredPreferDestructuring;function requirePreferDestructuring(){if(hasRequiredPreferDestructuring)return preferDestructuring;hasRequiredPreferDestructuring=1;const astUtils=requireAstUtils();const PRECEDENCE_OF_ASSIGNMENT_EXPR=astUtils.getPrecedence({type:"AssignmentExpression"});preferDestructuring={meta:{type:"suggestion",docs:{description:"Require destructuring from arrays and/or objects",recommended:false,url:"https://eslint.org/docs/rules/prefer-destructuring"},fixable:"code",schema:[{oneOf:[{type:"object",properties:{VariableDeclarator:{type:"object",properties:{array:{type:"boolean"},object:{type:"boolean"}},additionalProperties:false},AssignmentExpression:{type:"object",properties:{array:{type:"boolean"},object:{type:"boolean"}},additionalProperties:false}},additionalProperties:false},{type:"object",properties:{array:{type:"boolean"},object:{type:"boolean"}},additionalProperties:false}]},{type:"object",properties:{enforceForRenamedProperties:{type:"boolean"}},additionalProperties:false}],messages:{preferDestructuring:"Use {{type}} destructuring."}},create(context){const enabledTypes=context.options[0];const enforceForRenamedProperties=context.options[1]&&context.options[1].enforceForRenamedProperties;let normalizedOptions={VariableDeclarator:{array:true,object:true},AssignmentExpression:{array:true,object:true}};if(enabledTypes){normalizedOptions=typeof enabledTypes.array!=="undefined"||typeof enabledTypes.object!=="undefined"?{VariableDeclarator:enabledTypes,AssignmentExpression:enabledTypes}:enabledTypes}function shouldCheck(nodeType,destructuringType){return normalizedOptions&&normalizedOptions[nodeType]&&normalizedOptions[nodeType][destructuringType]}function isArrayIndexAccess(node){return Number.isInteger(node.property.value)}function report(reportNode,type,fix){context.report({node:reportNode,messageId:"preferDestructuring",data:{type:type},fix:fix})}function shouldFix(node){return node.type==="VariableDeclarator"&&node.id.type==="Identifier"&&node.init.type==="MemberExpression"&&!node.init.computed&&node.init.property.type==="Identifier"&&node.id.name===node.init.property.name}function fixIntoObjectDestructuring(fixer,node){const rightNode=node.init;const sourceCode=context.getSourceCode();if(sourceCode.getCommentsInside(node).length>sourceCode.getCommentsInside(rightNode.object).length){return null}let objectText=sourceCode.getText(rightNode.object);if(astUtils.getPrecedence(rightNode.object)<PRECEDENCE_OF_ASSIGNMENT_EXPR){objectText=`(${objectText})`}return fixer.replaceText(node,`{${rightNode.property.name}} = ${objectText}`)}function performCheck(leftNode,rightNode,reportNode){if(rightNode.type!=="MemberExpression"||rightNode.object.type==="Super"||rightNode.property.type==="PrivateIdentifier"){return}if(isArrayIndexAccess(rightNode)){if(shouldCheck(reportNode.type,"array")){report(reportNode,"array",null)}return}const fix=shouldFix(reportNode)?fixer=>fixIntoObjectDestructuring(fixer,reportNode):null;if(shouldCheck(reportNode.type,"object")&&enforceForRenamedProperties){report(reportNode,"object",fix);return}if(shouldCheck(reportNode.type,"object")){const property=rightNode.property;if(property.type==="Literal"&&leftNode.name===property.value||property.type==="Identifier"&&leftNode.name===property.name&&!rightNode.computed){report(reportNode,"object",fix)}}}function checkVariableDeclarator(node){if(!node.init){return}if(node.init.type!=="MemberExpression"){return}performCheck(node.id,node.init,node)}function checkAssignmentExpression(node){if(node.operator==="="){performCheck(node.left,node.right,node)}}return{VariableDeclarator:checkVariableDeclarator,AssignmentExpression:checkAssignmentExpression}}};return preferDestructuring}var preferExponentiationOperator;var hasRequiredPreferExponentiationOperator;function requirePreferExponentiationOperator(){if(hasRequiredPreferExponentiationOperator)return preferExponentiationOperator;hasRequiredPreferExponentiationOperator=1;const astUtils=requireAstUtils();const{CALL:CALL,ReferenceTracker:ReferenceTracker}=requireEslintUtils();const PRECEDENCE_OF_EXPONENTIATION_EXPR=astUtils.getPrecedence({type:"BinaryExpression",operator:"**"});function doesBaseNeedParens(base){return astUtils.getPrecedence(base)<=PRECEDENCE_OF_EXPONENTIATION_EXPR||base.type==="AwaitExpression"||base.type==="UnaryExpression"}function doesExponentNeedParens(exponent){return astUtils.getPrecedence(exponent)<PRECEDENCE_OF_EXPONENTIATION_EXPR}function doesExponentiationExpressionNeedParens(node,sourceCode){const parent=node.parent.type==="ChainExpression"?node.parent.parent:node.parent;const needsParens=parent.type==="ClassDeclaration"||parent.type.endsWith("Expression")&&astUtils.getPrecedence(parent)>=PRECEDENCE_OF_EXPONENTIATION_EXPR&&!(parent.type==="BinaryExpression"&&parent.operator==="**"&&parent.right===node)&&!((parent.type==="CallExpression"||parent.type==="NewExpression")&&parent.arguments.includes(node))&&!(parent.type==="MemberExpression"&&parent.computed&&parent.property===node)&&!(parent.type==="ArrayExpression");return needsParens&&!astUtils.isParenthesised(sourceCode,node)}function parenthesizeIfShould(text,shouldParenthesize){return shouldParenthesize?`(${text})`:text}preferExponentiationOperator={meta:{type:"suggestion",docs:{description:"Disallow the use of `Math.pow` in favor of the `**` operator",recommended:false,url:"https://eslint.org/docs/rules/prefer-exponentiation-operator"},schema:[],fixable:"code",messages:{useExponentiation:"Use the '**' operator instead of 'Math.pow'."}},create(context){const sourceCode=context.getSourceCode();function report(node){context.report({node:node,messageId:"useExponentiation",fix(fixer){if(node.arguments.length!==2||node.arguments.some((arg=>arg.type==="SpreadElement"))||sourceCode.getCommentsInside(node).length>0){return null}const base=node.arguments[0],exponent=node.arguments[1],baseText=sourceCode.getText(base),exponentText=sourceCode.getText(exponent),shouldParenthesizeBase=doesBaseNeedParens(base),shouldParenthesizeExponent=doesExponentNeedParens(exponent),shouldParenthesizeAll=doesExponentiationExpressionNeedParens(node,sourceCode);let prefix="",suffix="";if(!shouldParenthesizeAll){if(!shouldParenthesizeBase){const firstReplacementToken=sourceCode.getFirstToken(base),tokenBefore=sourceCode.getTokenBefore(node);if(tokenBefore&&tokenBefore.range[1]===node.range[0]&&!astUtils.canTokensBeAdjacent(tokenBefore,firstReplacementToken)){prefix=" "}}if(!shouldParenthesizeExponent){const lastReplacementToken=sourceCode.getLastToken(exponent),tokenAfter=sourceCode.getTokenAfter(node);if(tokenAfter&&node.range[1]===tokenAfter.range[0]&&!astUtils.canTokensBeAdjacent(lastReplacementToken,tokenAfter)){suffix=" "}}}const baseReplacement=parenthesizeIfShould(baseText,shouldParenthesizeBase),exponentReplacement=parenthesizeIfShould(exponentText,shouldParenthesizeExponent),replacement=parenthesizeIfShould(`${baseReplacement}**${exponentReplacement}`,shouldParenthesizeAll);return fixer.replaceText(node,`${prefix}${replacement}${suffix}`)}})}return{Program(){const scope=context.getScope();const tracker=new ReferenceTracker(scope);const trackMap={Math:{pow:{[CALL]:true}}};for(const{node:node}of tracker.iterateGlobalReferences(trackMap)){report(node)}}}}};return preferExponentiationOperator}var preferNamedCaptureGroup;var hasRequiredPreferNamedCaptureGroup;function requirePreferNamedCaptureGroup(){if(hasRequiredPreferNamedCaptureGroup)return preferNamedCaptureGroup;hasRequiredPreferNamedCaptureGroup=1;const{CALL:CALL,CONSTRUCT:CONSTRUCT,ReferenceTracker:ReferenceTracker,getStringIfConstant:getStringIfConstant}=requireEslintUtils();const regexpp=requireRegexpp();const parser=new regexpp.RegExpParser;function suggestIfPossible(groupStart,pattern,rawText,regexNode){switch(regexNode.type){case"Literal":if(typeof regexNode.value==="string"&&rawText.includes("\\")){return null}break;case"TemplateLiteral":if(regexNode.expressions.length||rawText.slice(1,-1)!==pattern){return null}break;default:return null}const start=regexNode.range[0]+groupStart+2;return[{fix(fixer){const existingTemps=pattern.match(/temp\d+/gu)||[];const highestTempCount=existingTemps.reduce(((previous,next)=>Math.max(previous,Number(next.slice("temp".length)))),0);return fixer.insertTextBeforeRange([start,start],`?<temp${highestTempCount+1}>`)},messageId:"addGroupName"},{fix(fixer){return fixer.insertTextBeforeRange([start,start],"?:")},messageId:"addNonCapture"}]}preferNamedCaptureGroup={meta:{type:"suggestion",docs:{description:"Enforce using named capture group in regular expression",recommended:false,url:"https://eslint.org/docs/rules/prefer-named-capture-group"},hasSuggestions:true,schema:[],messages:{addGroupName:"Add name to capture group.",addNonCapture:"Convert group to non-capturing.",required:"Capture group '{{group}}' should be converted to a named or non-capturing group."}},create(context){const sourceCode=context.getSourceCode();function checkRegex(pattern,node,regexNode,uFlag){let ast;try{ast=parser.parsePattern(pattern,0,pattern.length,uFlag)}catch{return}regexpp.visitRegExpAST(ast,{onCapturingGroupEnter(group){if(!group.name){const rawText=sourceCode.getText(regexNode);const suggest=suggestIfPossible(group.start,pattern,rawText,regexNode);context.report({node:node,messageId:"required",data:{group:group.raw},suggest:suggest})}}})}return{Literal(node){if(node.regex){checkRegex(node.regex.pattern,node,node,node.regex.flags.includes("u"))}},Program(){const scope=context.getScope();const tracker=new ReferenceTracker(scope);const traceMap={RegExp:{[CALL]:true,[CONSTRUCT]:true}};for(const{node:node}of tracker.iterateGlobalReferences(traceMap)){const regex=getStringIfConstant(node.arguments[0]);const flags=getStringIfConstant(node.arguments[1]);if(regex){checkRegex(regex,node,node.arguments[0],flags&&flags.includes("u"))}}}}}};return preferNamedCaptureGroup}var preferNumericLiterals;var hasRequiredPreferNumericLiterals;function requirePreferNumericLiterals(){if(hasRequiredPreferNumericLiterals)return preferNumericLiterals;hasRequiredPreferNumericLiterals=1;const astUtils=requireAstUtils();const radixMap=new Map([[2,{system:"binary",literalPrefix:"0b"}],[8,{system:"octal",literalPrefix:"0o"}],[16,{system:"hexadecimal",literalPrefix:"0x"}]]);function isParseInt(calleeNode){return astUtils.isSpecificId(calleeNode,"parseInt")||astUtils.isSpecificMemberAccess(calleeNode,"Number","parseInt")}preferNumericLiterals={meta:{type:"suggestion",docs:{description:"Disallow `parseInt()` and `Number.parseInt()` in favor of binary, octal, and hexadecimal literals",recommended:false,url:"https://eslint.org/docs/rules/prefer-numeric-literals"},schema:[],messages:{useLiteral:"Use {{system}} literals instead of {{functionName}}()."},fixable:"code"},create(context){const sourceCode=context.getSourceCode();return{"CallExpression[arguments.length=2]"(node){const[strNode,radixNode]=node.arguments,str=astUtils.getStaticStringValue(strNode),radix=radixNode.value;if(str!==null&&astUtils.isStringLiteral(strNode)&&radixNode.type==="Literal"&&typeof radix==="number"&&radixMap.has(radix)&&isParseInt(node.callee)){const{system:system,literalPrefix:literalPrefix}=radixMap.get(radix);context.report({node:node,messageId:"useLiteral",data:{system:system,functionName:sourceCode.getText(node.callee)},fix(fixer){if(sourceCode.getCommentsInside(node).length){return null}const replacement=`${literalPrefix}${str}`;if(+replacement!==parseInt(str,radix)){return null}const tokenBefore=sourceCode.getTokenBefore(node),tokenAfter=sourceCode.getTokenAfter(node);let prefix="",suffix="";if(tokenBefore&&tokenBefore.range[1]===node.range[0]&&!astUtils.canTokensBeAdjacent(tokenBefore,replacement)){prefix=" "}if(tokenAfter&&node.range[1]===tokenAfter.range[0]&&!astUtils.canTokensBeAdjacent(replacement,tokenAfter)){suffix=" "}return fixer.replaceText(node,`${prefix}${replacement}${suffix}`)}})}}}}};return preferNumericLiterals}var preferObjectHasOwn;var hasRequiredPreferObjectHasOwn;function requirePreferObjectHasOwn(){if(hasRequiredPreferObjectHasOwn)return preferObjectHasOwn;hasRequiredPreferObjectHasOwn=1;const astUtils=requireAstUtils();function hasLeftHandObject(node){if(node.object.type==="ObjectExpression"&&node.object.properties.length===0){return true}const objectNodeToCheck=node.object.type==="MemberExpression"&&astUtils.getStaticPropertyName(node.object)==="prototype"?node.object.object:node.object;if(objectNodeToCheck.type==="Identifier"&&objectNodeToCheck.name==="Object"){return true}return false}preferObjectHasOwn={meta:{type:"suggestion",docs:{description:"Disallow use of `Object.prototype.hasOwnProperty.call()` and prefer use of `Object.hasOwn()`",recommended:false,url:"https://eslint.org/docs/rules/prefer-object-has-own"},schema:[],messages:{useHasOwn:"Use 'Object.hasOwn()' instead of 'Object.prototype.hasOwnProperty.call()'."},fixable:"code"},create(context){return{CallExpression(node){if(!(node.callee.type==="MemberExpression"&&node.callee.object.type==="MemberExpression")){return}const calleePropertyName=astUtils.getStaticPropertyName(node.callee);const objectPropertyName=astUtils.getStaticPropertyName(node.callee.object);const isObject=hasLeftHandObject(node.callee.object);const scope=context.getScope();const variable=astUtils.getVariableByName(scope,"Object");if(calleePropertyName==="call"&&objectPropertyName==="hasOwnProperty"&&isObject&&variable&&variable.scope.type==="global"){context.report({node:node,messageId:"useHasOwn",fix(fixer){const sourceCode=context.getSourceCode();if(sourceCode.getCommentsInside(node.callee).length>0){return null}const tokenJustBeforeNode=sourceCode.getTokenBefore(node.callee,{includeComments:true});if(tokenJustBeforeNode&&tokenJustBeforeNode.range[1]===node.callee.range[0]&&!astUtils.canTokensBeAdjacent(tokenJustBeforeNode,"Object.hasOwn")){return fixer.replaceText(node.callee," Object.hasOwn")}return fixer.replaceText(node.callee,"Object.hasOwn")}})}}}}};return preferObjectHasOwn}var preferObjectSpread;var hasRequiredPreferObjectSpread;function requirePreferObjectSpread(){if(hasRequiredPreferObjectSpread)return preferObjectSpread;hasRequiredPreferObjectSpread=1;const{CALL:CALL,ReferenceTracker:ReferenceTracker}=requireEslintUtils();const{isCommaToken:isCommaToken,isOpeningParenToken:isOpeningParenToken,isClosingParenToken:isClosingParenToken,isParenthesised:isParenthesised}=requireAstUtils();const ANY_SPACE=/\s/u;function hasArraySpread(node){return node.arguments.some((arg=>arg.type==="SpreadElement"))}function isAccessorProperty(node){return node.type==="Property"&&(node.kind==="get"||node.kind==="set")}function hasAccessors(node){return node.properties.some(isAccessorProperty)}function hasArgumentsWithAccessors(node){return node.arguments.filter((arg=>arg.type==="ObjectExpression")).some(hasAccessors)}function needsParens(node,sourceCode){const parent=node.parent;switch(parent.type){case"VariableDeclarator":case"ArrayExpression":case"ReturnStatement":case"CallExpression":case"Property":return false;case"AssignmentExpression":return parent.left===node&&!isParenthesised(sourceCode,node);default:return!isParenthesised(sourceCode,node)}}function argNeedsParens(node,sourceCode){switch(node.type){case"AssignmentExpression":case"ArrowFunctionExpression":case"ConditionalExpression":return!isParenthesised(sourceCode,node);default:return false}}function getParenTokens(node,leftArgumentListParen,sourceCode){const parens=[sourceCode.getFirstToken(node),sourceCode.getLastToken(node)];let leftNext=sourceCode.getTokenBefore(node);let rightNext=sourceCode.getTokenAfter(node);while(leftNext&&rightNext&&leftNext.range[0]>leftArgumentListParen.range[0]&&isOpeningParenToken(leftNext)&&isClosingParenToken(rightNext)){parens.push(leftNext,rightNext);leftNext=sourceCode.getTokenBefore(leftNext);rightNext=sourceCode.getTokenAfter(rightNext)}return parens.sort(((a,b)=>a.range[0]-b.range[0]))}function getStartWithSpaces(token,sourceCode){const text=sourceCode.text;let start=token.range[0];{const prevToken=sourceCode.getTokenBefore(token,{includeComments:true});if(prevToken&&prevToken.type==="Line"){return start}}while(ANY_SPACE.test(text[start-1]||"")){start-=1}return start}function getEndWithSpaces(token,sourceCode){const text=sourceCode.text;let end=token.range[1];while(ANY_SPACE.test(text[end]||"")){end+=1}return end}function defineFixer(node,sourceCode){return function*(fixer){const leftParen=sourceCode.getTokenAfter(node.callee,isOpeningParenToken);const rightParen=sourceCode.getLastToken(node);yield fixer.removeRange([node.range[0],leftParen.range[0]]);if(needsParens(node,sourceCode)){yield fixer.replaceText(leftParen,"({");yield fixer.replaceText(rightParen,"})")}else{yield fixer.replaceText(leftParen,"{");yield fixer.replaceText(rightParen,"}")}for(const argNode of node.arguments){const innerParens=getParenTokens(argNode,leftParen,sourceCode);const left=innerParens.shift();const right=innerParens.pop();if(argNode.type==="ObjectExpression"){const maybeTrailingComma=sourceCode.getLastToken(argNode,1);const maybeArgumentComma=sourceCode.getTokenAfter(right);for(const innerParen of innerParens){yield fixer.remove(innerParen)}const leftRange=[left.range[0],getEndWithSpaces(left,sourceCode)];const rightRange=[Math.max(getStartWithSpaces(right,sourceCode),leftRange[1]),right.range[1]];yield fixer.removeRange(leftRange);yield fixer.removeRange(rightRange);if((argNode.properties.length===0||isCommaToken(maybeTrailingComma))&&isCommaToken(maybeArgumentComma)){yield fixer.remove(maybeArgumentComma)}}else{if(argNeedsParens(argNode,sourceCode)){yield fixer.insertTextBefore(left,"...(");yield fixer.insertTextAfter(right,")")}else{yield fixer.insertTextBefore(left,"...")}}}}}preferObjectSpread={meta:{type:"suggestion",docs:{description:"Disallow using Object.assign with an object literal as the first argument and prefer the use of object spread instead",recommended:false,url:"https://eslint.org/docs/rules/prefer-object-spread"},schema:[],fixable:"code",messages:{useSpreadMessage:"Use an object spread instead of `Object.assign` eg: `{ ...foo }`.",useLiteralMessage:"Use an object literal instead of `Object.assign`. eg: `{ foo: bar }`."}},create(context){const sourceCode=context.getSourceCode();return{Program(){const scope=context.getScope();const tracker=new ReferenceTracker(scope);const trackMap={Object:{assign:{[CALL]:true}}};for(const{node:node}of tracker.iterateGlobalReferences(trackMap)){if(node.arguments.length>=1&&node.arguments[0].type==="ObjectExpression"&&!hasArraySpread(node)&&!(node.arguments.length>1&&hasArgumentsWithAccessors(node))){const messageId=node.arguments.length===1?"useLiteralMessage":"useSpreadMessage";const fix=defineFixer(node,sourceCode);context.report({node:node,messageId:messageId,fix:fix})}}}}}};return preferObjectSpread}var preferPromiseRejectErrors;var hasRequiredPreferPromiseRejectErrors;function requirePreferPromiseRejectErrors(){if(hasRequiredPreferPromiseRejectErrors)return preferPromiseRejectErrors;hasRequiredPreferPromiseRejectErrors=1;const astUtils=requireAstUtils();preferPromiseRejectErrors={meta:{type:"suggestion",docs:{description:"Require using Error objects as Promise rejection reasons",recommended:false,url:"https://eslint.org/docs/rules/prefer-promise-reject-errors"},fixable:null,schema:[{type:"object",properties:{allowEmptyReject:{type:"boolean",default:false}},additionalProperties:false}],messages:{rejectAnError:"Expected the Promise rejection reason to be an Error."}},create(context){const ALLOW_EMPTY_REJECT=context.options.length&&context.options[0].allowEmptyReject;function checkRejectCall(callExpression){if(!callExpression.arguments.length&&ALLOW_EMPTY_REJECT){return}if(!callExpression.arguments.length||!astUtils.couldBeError(callExpression.arguments[0])||callExpression.arguments[0].type==="Identifier"&&callExpression.arguments[0].name==="undefined"){context.report({node:callExpression,messageId:"rejectAnError"})}}function isPromiseRejectCall(node){return astUtils.isSpecificMemberAccess(node.callee,"Promise","reject")}return{CallExpression(node){if(isPromiseRejectCall(node)){checkRejectCall(node)}},"NewExpression:exit"(node){if(node.callee.type==="Identifier"&&node.callee.name==="Promise"&&node.arguments.length&&astUtils.isFunction(node.arguments[0])&&node.arguments[0].params.length>1&&node.arguments[0].params[1].type==="Identifier"){context.getDeclaredVariables(node.arguments[0]).find((variable=>variable.name===node.arguments[0].params[1].name)).references.filter((ref=>ref.isRead())).filter((ref=>ref.identifier.parent.type==="CallExpression"&&ref.identifier===ref.identifier.parent.callee)).forEach((ref=>checkRejectCall(ref.identifier.parent)))}}}}};return preferPromiseRejectErrors}var preferReflect;var hasRequiredPreferReflect;function requirePreferReflect(){if(hasRequiredPreferReflect)return preferReflect;hasRequiredPreferReflect=1;preferReflect={meta:{type:"suggestion",docs:{description:"Require `Reflect` methods where applicable",recommended:false,url:"https://eslint.org/docs/rules/prefer-reflect"},deprecated:true,replacedBy:[],schema:[{type:"object",properties:{exceptions:{type:"array",items:{enum:["apply","call","delete","defineProperty","getOwnPropertyDescriptor","getPrototypeOf","setPrototypeOf","isExtensible","getOwnPropertyNames","preventExtensions"]},uniqueItems:true}},additionalProperties:false}],messages:{preferReflect:"Avoid using {{existing}}, instead use {{substitute}}."}},create(context){const existingNames={apply:"Function.prototype.apply",call:"Function.prototype.call",defineProperty:"Object.defineProperty",getOwnPropertyDescriptor:"Object.getOwnPropertyDescriptor",getPrototypeOf:"Object.getPrototypeOf",setPrototypeOf:"Object.setPrototypeOf",isExtensible:"Object.isExtensible",getOwnPropertyNames:"Object.getOwnPropertyNames",preventExtensions:"Object.preventExtensions"};const reflectSubstitutes={apply:"Reflect.apply",call:"Reflect.apply",defineProperty:"Reflect.defineProperty",getOwnPropertyDescriptor:"Reflect.getOwnPropertyDescriptor",getPrototypeOf:"Reflect.getPrototypeOf",setPrototypeOf:"Reflect.setPrototypeOf",isExtensible:"Reflect.isExtensible",getOwnPropertyNames:"Reflect.getOwnPropertyNames",preventExtensions:"Reflect.preventExtensions"};const exceptions=(context.options[0]||{}).exceptions||[];function report(node,existing,substitute){context.report({node:node,messageId:"preferReflect",data:{existing:existing,substitute:substitute}})}return{CallExpression(node){const methodName=(node.callee.property||{}).name;const isReflectCall=(node.callee.object||{}).name==="Reflect";const hasReflectSubstitute=Object.prototype.hasOwnProperty.call(reflectSubstitutes,methodName);const userConfiguredException=exceptions.includes(methodName);if(hasReflectSubstitute&&!isReflectCall&&!userConfiguredException){report(node,existingNames[methodName],reflectSubstitutes[methodName])}},UnaryExpression(node){const isDeleteOperator=node.operator==="delete";const targetsIdentifier=node.argument.type==="Identifier";const userConfiguredException=exceptions.includes("delete");if(isDeleteOperator&&!targetsIdentifier&&!userConfiguredException){report(node,"the delete keyword","Reflect.deleteProperty")}}}}};return preferReflect}var preferRegexLiterals;var hasRequiredPreferRegexLiterals;function requirePreferRegexLiterals(){if(hasRequiredPreferRegexLiterals)return preferRegexLiterals;hasRequiredPreferRegexLiterals=1;const astUtils=requireAstUtils();const{CALL:CALL,CONSTRUCT:CONSTRUCT,ReferenceTracker:ReferenceTracker,findVariable:findVariable}=requireEslintUtils();const{RegExpValidator:RegExpValidator,visitRegExpAST:visitRegExpAST,RegExpParser:RegExpParser}=requireRegexpp();const{canTokensBeAdjacent:canTokensBeAdjacent}=requireAstUtils();const REGEXPP_LATEST_ECMA_VERSION=2022;function isStringLiteral(node){return node.type==="Literal"&&typeof node.value==="string"}function isRegexLiteral(node){return node.type==="Literal"&&Object.prototype.hasOwnProperty.call(node,"regex")}function isStaticTemplateLiteral(node){return node.type==="TemplateLiteral"&&node.expressions.length===0}const validPrecedingTokens=new Set(["(",";","[",",","=","+","*","-","?","~","%","**","!","typeof","instanceof","&&","||","??","return","...","delete","void","in","<",">","<=",">=","==","===","!=","!==","<<",">>",">>>","&","|","^",":","{","=>","*=","<<=",">>=",">>>=","^=","|=","&=","??=","||=","&&=","**=","+=","-=","/=","%=","/","do","break","continue","debugger","case","throw"]);preferRegexLiterals={meta:{type:"suggestion",docs:{description:"Disallow use of the `RegExp` constructor in favor of regular expression literals",recommended:false,url:"https://eslint.org/docs/rules/prefer-regex-literals"},hasSuggestions:true,schema:[{type:"object",properties:{disallowRedundantWrapping:{type:"boolean",default:false}},additionalProperties:false}],messages:{unexpectedRegExp:"Use a regular expression literal instead of the 'RegExp' constructor.",replaceWithLiteral:"Replace with an equivalent regular expression literal.",unexpectedRedundantRegExp:"Regular expression literal is unnecessarily wrapped within a 'RegExp' constructor.",unexpectedRedundantRegExpWithFlags:"Use regular expression literal with flags instead of the 'RegExp' constructor."}},create(context){const[{disallowRedundantWrapping:disallowRedundantWrapping=false}={}]=context.options;const sourceCode=context.getSourceCode();function isGlobalReference(node){const scope=context.getScope();const variable=findVariable(scope,node);return variable!==null&&variable.scope.type==="global"&&variable.defs.length===0}function isStringRawTaggedStaticTemplateLiteral(node){return node.type==="TaggedTemplateExpression"&&astUtils.isSpecificMemberAccess(node.tag,"String","raw")&&isGlobalReference(astUtils.skipChainExpression(node.tag).object)&&isStaticTemplateLiteral(node.quasi)}function getStringValue(node){if(isStringLiteral(node)){return node.value}if(isStaticTemplateLiteral(node)){return node.quasis[0].value.cooked}if(isStringRawTaggedStaticTemplateLiteral(node)){return node.quasi.quasis[0].value.raw}return null}function isStaticString(node){return isStringLiteral(node)||isStaticTemplateLiteral(node)||isStringRawTaggedStaticTemplateLiteral(node)}function hasOnlyStaticStringArguments(node){const args=node.arguments;if((args.length===1||args.length===2)&&args.every(isStaticString)){return true}return false}function isUnnecessarilyWrappedRegexLiteral(node){const args=node.arguments;if(args.length===1&&isRegexLiteral(args[0])){return true}if(args.length===2&&isRegexLiteral(args[0])&&isStaticString(args[1])){return true}return false}function getRegexppEcmaVersion(ecmaVersion){if(ecmaVersion<=5){return 5}return Math.min(ecmaVersion,REGEXPP_LATEST_ECMA_VERSION)}function resolveEscapes(character){switch(character){case"\n":case"\\\n":return"\\n";case"\r":case"\\\r":return"\\r";case"\t":case"\\\t":return"\\t";case"\v":case"\\\v":return"\\v";case"\f":case"\\\f":return"\\f";case"/":return"\\/";default:return null}}return{Program(){const scope=context.getScope();const tracker=new ReferenceTracker(scope);const traceMap={RegExp:{[CALL]:true,[CONSTRUCT]:true}};for(const{node:node}of tracker.iterateGlobalReferences(traceMap)){if(disallowRedundantWrapping&&isUnnecessarilyWrappedRegexLiteral(node)){if(node.arguments.length===2){context.report({node:node,messageId:"unexpectedRedundantRegExpWithFlags"})}else{context.report({node:node,messageId:"unexpectedRedundantRegExp"})}}else if(hasOnlyStaticStringArguments(node)){let regexContent=getStringValue(node.arguments[0]);let noFix=false;let flags;if(node.arguments[1]){flags=getStringValue(node.arguments[1])}const regexppEcmaVersion=getRegexppEcmaVersion(context.languageOptions.ecmaVersion);const RegExpValidatorInstance=new RegExpValidator({ecmaVersion:regexppEcmaVersion});try{RegExpValidatorInstance.validatePattern(regexContent,0,regexContent.length,flags?flags.includes("u"):false);if(flags){RegExpValidatorInstance.validateFlags(flags)}}catch{noFix=true}const tokenBefore=sourceCode.getTokenBefore(node);if(tokenBefore&&!validPrecedingTokens.has(tokenBefore.value)){noFix=true}if(!/^[-a-zA-Z0-9\\[\](){} \t\r\n\v\f!@#$%^&*+^_=/~`.><?,'"|:;]*$/u.test(regexContent)){noFix=true}if(sourceCode.getCommentsInside(node).length>0){noFix=true}if(regexContent&&!noFix){let charIncrease=0;const ast=new RegExpParser({ecmaVersion:regexppEcmaVersion}).parsePattern(regexContent,0,regexContent.length,flags?flags.includes("u"):false);visitRegExpAST(ast,{onCharacterEnter(characterNode){const escaped=resolveEscapes(characterNode.raw);if(escaped){regexContent=regexContent.slice(0,characterNode.start+charIncrease)+escaped+regexContent.slice(characterNode.end+charIncrease);if(characterNode.raw.length===1){charIncrease+=1}}}})}const newRegExpValue=`/${regexContent||"(?:)"}/${flags||""}`;context.report({node:node,messageId:"unexpectedRegExp",suggest:noFix?[]:[{messageId:"replaceWithLiteral",fix(fixer){const tokenAfter=sourceCode.getTokenAfter(node);return fixer.replaceText(node,(tokenBefore&&!canTokensBeAdjacent(tokenBefore,newRegExpValue)&&tokenBefore.range[1]===node.range[0]?" ":"")+newRegExpValue+(tokenAfter&&!canTokensBeAdjacent(newRegExpValue,tokenAfter)&&node.range[1]===tokenAfter.range[0]?" ":""))}}]})}}}}}};return preferRegexLiterals}var preferRestParams;var hasRequiredPreferRestParams;function requirePreferRestParams(){if(hasRequiredPreferRestParams)return preferRestParams;hasRequiredPreferRestParams=1;function getVariableOfArguments(scope){const variables=scope.variables;for(let i=0;i<variables.length;++i){const variable=variables[i];if(variable.name==="arguments"){return variable.identifiers.length===0?variable:null}}return null}function isNotNormalMemberAccess(reference){const id=reference.identifier;const parent=id.parent;return!(parent.type==="MemberExpression"&&parent.object===id&&!parent.computed)}preferRestParams={meta:{type:"suggestion",docs:{description:"Require rest parameters instead of `arguments`",recommended:false,url:"https://eslint.org/docs/rules/prefer-rest-params"},schema:[],messages:{preferRestParams:"Use the rest parameters instead of 'arguments'."}},create(context){function report(reference){context.report({node:reference.identifier,loc:reference.identifier.loc,messageId:"preferRestParams"})}function checkForArguments(){const argumentsVar=getVariableOfArguments(context.getScope());if(argumentsVar){argumentsVar.references.filter(isNotNormalMemberAccess).forEach(report)}}return{"FunctionDeclaration:exit":checkForArguments,"FunctionExpression:exit":checkForArguments}}};return preferRestParams}var preferSpread;var hasRequiredPreferSpread;function requirePreferSpread(){if(hasRequiredPreferSpread)return preferSpread;hasRequiredPreferSpread=1;const astUtils=requireAstUtils();function isVariadicApplyCalling(node){return astUtils.isSpecificMemberAccess(node.callee,null,"apply")&&node.arguments.length===2&&node.arguments[1].type!=="ArrayExpression"&&node.arguments[1].type!=="SpreadElement"}function isValidThisArg(expectedThis,thisArg,context){if(!expectedThis){return astUtils.isNullOrUndefined(thisArg)}return astUtils.equalTokens(expectedThis,thisArg,context)}preferSpread={meta:{type:"suggestion",docs:{description:"Require spread operators instead of `.apply()`",recommended:false,url:"https://eslint.org/docs/rules/prefer-spread"},schema:[],fixable:null,messages:{preferSpread:"Use the spread operator instead of '.apply()'."}},create(context){const sourceCode=context.getSourceCode();return{CallExpression(node){if(!isVariadicApplyCalling(node)){return}const applied=astUtils.skipChainExpression(astUtils.skipChainExpression(node.callee).object);const expectedThis=applied.type==="MemberExpression"?applied.object:null;const thisArg=node.arguments[0];if(isValidThisArg(expectedThis,thisArg,sourceCode)){context.report({node:node,messageId:"preferSpread"})}}}}};return preferSpread}var preferTemplate;var hasRequiredPreferTemplate;function requirePreferTemplate(){if(hasRequiredPreferTemplate)return preferTemplate;hasRequiredPreferTemplate=1;const astUtils=requireAstUtils();function isConcatenation(node){return node.type==="BinaryExpression"&&node.operator==="+"}function getTopConcatBinaryExpression(node){let currentNode=node;while(isConcatenation(currentNode.parent)){currentNode=currentNode.parent}return currentNode}function hasOctalOrNonOctalDecimalEscapeSequence(node){if(isConcatenation(node)){return hasOctalOrNonOctalDecimalEscapeSequence(node.left)||hasOctalOrNonOctalDecimalEscapeSequence(node.right)}if(node.type==="Literal"&&typeof node.value==="string"){return astUtils.hasOctalOrNonOctalDecimalEscapeSequence(node.raw)}return false}function hasStringLiteral(node){if(isConcatenation(node)){return hasStringLiteral(node.right)||hasStringLiteral(node.left)}return astUtils.isStringLiteral(node)}function hasNonStringLiteral(node){if(isConcatenation(node)){return hasNonStringLiteral(node.right)||hasNonStringLiteral(node.left)}return!astUtils.isStringLiteral(node)}function startsWithTemplateCurly(node){if(node.type==="BinaryExpression"){return startsWithTemplateCurly(node.left)}if(node.type==="TemplateLiteral"){return node.expressions.length&&node.quasis.length&&node.quasis[0].range[0]===node.quasis[0].range[1]}return node.type!=="Literal"||typeof node.value!=="string"}function endsWithTemplateCurly(node){if(node.type==="BinaryExpression"){return startsWithTemplateCurly(node.right)}if(node.type==="TemplateLiteral"){return node.expressions.length&&node.quasis.length&&node.quasis[node.quasis.length-1].range[0]===node.quasis[node.quasis.length-1].range[1]}return node.type!=="Literal"||typeof node.value!=="string"}preferTemplate={meta:{type:"suggestion",docs:{description:"Require template literals instead of string concatenation",recommended:false,url:"https://eslint.org/docs/rules/prefer-template"},schema:[],fixable:"code",messages:{unexpectedStringConcatenation:"Unexpected string concatenation."}},create(context){const sourceCode=context.getSourceCode();let done=Object.create(null);function getTextBetween(node1,node2){const allTokens=[node1].concat(sourceCode.getTokensBetween(node1,node2)).concat(node2);const sourceText=sourceCode.getText();return allTokens.slice(0,-1).reduce(((accumulator,token,index)=>accumulator+sourceText.slice(token.range[1],allTokens[index+1].range[0])),"")}function getTemplateLiteral(currentNode,textBeforeNode,textAfterNode){if(currentNode.type==="Literal"&&typeof currentNode.value==="string"){return`\`${currentNode.raw.slice(1,-1).replace(/\\*(\$\{|`)/gu,(matched=>{if(matched.lastIndexOf("\\")%2){return`\\${matched}`}return matched})).replace(new RegExp(`\\\\${currentNode.raw[0]}`,"gu"),currentNode.raw[0])}\``}if(currentNode.type==="TemplateLiteral"){return sourceCode.getText(currentNode)}if(isConcatenation(currentNode)&&hasStringLiteral(currentNode)){const plusSign=sourceCode.getFirstTokenBetween(currentNode.left,currentNode.right,(token=>token.value==="+"));const textBeforePlus=getTextBetween(currentNode.left,plusSign);const textAfterPlus=getTextBetween(plusSign,currentNode.right);const leftEndsWithCurly=endsWithTemplateCurly(currentNode.left);const rightStartsWithCurly=startsWithTemplateCurly(currentNode.right);if(leftEndsWithCurly){return getTemplateLiteral(currentNode.left,textBeforeNode,textBeforePlus+textAfterPlus).slice(0,-1)+getTemplateLiteral(currentNode.right,null,textAfterNode).slice(1)}if(rightStartsWithCurly){return getTemplateLiteral(currentNode.left,textBeforeNode,null).slice(0,-1)+getTemplateLiteral(currentNode.right,textBeforePlus+textAfterPlus,textAfterNode).slice(1)}return`${getTemplateLiteral(currentNode.left,textBeforeNode,null)}${textBeforePlus}+${textAfterPlus}${getTemplateLiteral(currentNode.right,textAfterNode,null)}`}return`\`\${${textBeforeNode||""}${sourceCode.getText(currentNode)}${textAfterNode||""}}\``}function fixNonStringBinaryExpression(fixer,node){const topBinaryExpr=getTopConcatBinaryExpression(node.parent);if(hasOctalOrNonOctalDecimalEscapeSequence(topBinaryExpr)){return null}return fixer.replaceText(topBinaryExpr,getTemplateLiteral(topBinaryExpr,null,null))}function checkForStringConcat(node){if(!astUtils.isStringLiteral(node)||!isConcatenation(node.parent)){return}const topBinaryExpr=getTopConcatBinaryExpression(node.parent);if(done[topBinaryExpr.range[0]]){return}done[topBinaryExpr.range[0]]=true;if(hasNonStringLiteral(topBinaryExpr)){context.report({node:topBinaryExpr,messageId:"unexpectedStringConcatenation",fix:fixer=>fixNonStringBinaryExpression(fixer,node)})}}return{Program(){done=Object.create(null)},Literal:checkForStringConcat,TemplateLiteral:checkForStringConcat}}};return preferTemplate}var quoteProps;var hasRequiredQuoteProps;function requireQuoteProps(){if(hasRequiredQuoteProps)return quoteProps;hasRequiredQuoteProps=1;const espree=requireEspree();const astUtils=requireAstUtils();const keywords=requireKeywords();quoteProps={meta:{type:"suggestion",docs:{description:"Require quotes around object literal property names",recommended:false,url:"https://eslint.org/docs/rules/quote-props"},schema:{anyOf:[{type:"array",items:[{enum:["always","as-needed","consistent","consistent-as-needed"]}],minItems:0,maxItems:1},{type:"array",items:[{enum:["always","as-needed","consistent","consistent-as-needed"]},{type:"object",properties:{keywords:{type:"boolean"},unnecessary:{type:"boolean"},numbers:{type:"boolean"}},additionalProperties:false}],minItems:0,maxItems:2}]},fixable:"code",messages:{requireQuotesDueToReservedWord:"Properties should be quoted as '{{property}}' is a reserved word.",inconsistentlyQuotedProperty:"Inconsistently quoted property '{{key}}' found.",unnecessarilyQuotedProperty:"Unnecessarily quoted property '{{property}}' found.",unquotedReservedProperty:"Unquoted reserved word '{{property}}' used as key.",unquotedNumericProperty:"Unquoted number literal '{{property}}' used as key.",unquotedPropertyFound:"Unquoted property '{{property}}' found.",redundantQuoting:"Properties shouldn't be quoted as all quotes are redundant."}},create(context){const MODE=context.options[0],KEYWORDS=context.options[1]&&context.options[1].keywords,CHECK_UNNECESSARY=!context.options[1]||context.options[1].unnecessary!==false,NUMBERS=context.options[1]&&context.options[1].numbers,sourceCode=context.getSourceCode();function isKeyword(tokenStr){return keywords.includes(tokenStr)}function areQuotesRedundant(rawKey,tokens,skipNumberLiterals){return tokens.length===1&&tokens[0].start===0&&tokens[0].end===rawKey.length&&(["Identifier","Keyword","Null","Boolean"].includes(tokens[0].type)||tokens[0].type==="Numeric"&&!skipNumberLiterals&&String(+tokens[0].value)===tokens[0].value)}function getUnquotedKey(key){return key.type==="Identifier"?key.name:key.value}function getQuotedKey(key){if(key.type==="Literal"&&typeof key.value==="string"){return sourceCode.getText(key)}return`"${key.type==="Identifier"?key.name:key.value}"`}function checkUnnecessaryQuotes(node){const key=node.key;if(node.method||node.computed||node.shorthand){return}if(key.type==="Literal"&&typeof key.value==="string"){let tokens;try{tokens=espree.tokenize(key.value)}catch{return}if(tokens.length!==1){return}const isKeywordToken=isKeyword(tokens[0].value);if(isKeywordToken&&KEYWORDS){return}if(CHECK_UNNECESSARY&&areQuotesRedundant(key.value,tokens,NUMBERS)){context.report({node:node,messageId:"unnecessarilyQuotedProperty",data:{property:key.value},fix:fixer=>fixer.replaceText(key,getUnquotedKey(key))})}}else if(KEYWORDS&&key.type==="Identifier"&&isKeyword(key.name)){context.report({node:node,messageId:"unquotedReservedProperty",data:{property:key.name},fix:fixer=>fixer.replaceText(key,getQuotedKey(key))})}else if(NUMBERS&&key.type==="Literal"&&astUtils.isNumericLiteral(key)){context.report({node:node,messageId:"unquotedNumericProperty",data:{property:key.value},fix:fixer=>fixer.replaceText(key,getQuotedKey(key))})}}function checkOmittedQuotes(node){const key=node.key;if(!node.method&&!node.computed&&!node.shorthand&&!(key.type==="Literal"&&typeof key.value==="string")){context.report({node:node,messageId:"unquotedPropertyFound",data:{property:key.name||key.value},fix:fixer=>fixer.replaceText(key,getQuotedKey(key))})}}function checkConsistency(node,checkQuotesRedundancy){const quotedProps=[],unquotedProps=[];let keywordKeyName=null,necessaryQuotes=false;node.properties.forEach((property=>{const key=property.key;if(!key||property.method||property.computed||property.shorthand){return}if(key.type==="Literal"&&typeof key.value==="string"){quotedProps.push(property);if(checkQuotesRedundancy){let tokens;try{tokens=espree.tokenize(key.value)}catch{necessaryQuotes=true;return}necessaryQuotes=necessaryQuotes||!areQuotesRedundant(key.value,tokens)||KEYWORDS&&isKeyword(tokens[0].value)}}else if(KEYWORDS&&checkQuotesRedundancy&&key.type==="Identifier"&&isKeyword(key.name)){unquotedProps.push(property);necessaryQuotes=true;keywordKeyName=key.name}else{unquotedProps.push(property)}}));if(checkQuotesRedundancy&&quotedProps.length&&!necessaryQuotes){quotedProps.forEach((property=>{context.report({node:property,messageId:"redundantQuoting",fix:fixer=>fixer.replaceText(property.key,getUnquotedKey(property.key))})}))}else if(unquotedProps.length&&keywordKeyName){unquotedProps.forEach((property=>{context.report({node:property,messageId:"requireQuotesDueToReservedWord",data:{property:keywordKeyName},fix:fixer=>fixer.replaceText(property.key,getQuotedKey(property.key))})}))}else if(quotedProps.length&&unquotedProps.length){unquotedProps.forEach((property=>{context.report({node:property,messageId:"inconsistentlyQuotedProperty",data:{key:property.key.name||property.key.value},fix:fixer=>fixer.replaceText(property.key,getQuotedKey(property.key))})}))}}return{Property(node){if(MODE==="always"||!MODE){checkOmittedQuotes(node)}if(MODE==="as-needed"){checkUnnecessaryQuotes(node)}},ObjectExpression(node){if(MODE==="consistent"){checkConsistency(node,false)}if(MODE==="consistent-as-needed"){checkConsistency(node,true)}}}}};return quoteProps}var quotes;var hasRequiredQuotes;function requireQuotes(){if(hasRequiredQuotes)return quotes;hasRequiredQuotes=1;const astUtils=requireAstUtils();const QUOTE_SETTINGS={double:{quote:'"',alternateQuote:"'",description:"doublequote"},single:{quote:"'",alternateQuote:'"',description:"singlequote"},backtick:{quote:"`",alternateQuote:'"',description:"backtick"}};const UNESCAPED_LINEBREAK_PATTERN=new RegExp(String.raw`(^|[^\\])(\\\\)*[${Array.from(astUtils.LINEBREAKS).join("")}]`,"u");QUOTE_SETTINGS.double.convert=QUOTE_SETTINGS.single.convert=QUOTE_SETTINGS.backtick.convert=function(str){const newQuote=this.quote;const oldQuote=str[0];if(newQuote===oldQuote){return str}return newQuote+str.slice(1,-1).replace(/\\(\$\{|\r\n?|\n|.)|["'`]|\$\{|(\r\n?|\n)/gu,((match,escaped,newline)=>{if(escaped===oldQuote||oldQuote==="`"&&escaped==="${"){return escaped}if(match===newQuote||newQuote==="`"&&match==="${"){return`\\${match}`}if(newline&&oldQuote==="`"){return"\\n"}return match}))+newQuote};const AVOID_ESCAPE="avoid-escape";quotes={meta:{type:"layout",docs:{description:"Enforce the consistent use of either backticks, double, or single quotes",recommended:false,url:"https://eslint.org/docs/rules/quotes"},fixable:"code",schema:[{enum:["single","double","backtick"]},{anyOf:[{enum:["avoid-escape"]},{type:"object",properties:{avoidEscape:{type:"boolean"},allowTemplateLiterals:{type:"boolean"}},additionalProperties:false}]}],messages:{wrongQuotes:"Strings must use {{description}}."}},create(context){const quoteOption=context.options[0],settings=QUOTE_SETTINGS[quoteOption||"double"],options=context.options[1],allowTemplateLiterals=options&&options.allowTemplateLiterals===true,sourceCode=context.getSourceCode();let avoidEscape=options&&options.avoidEscape===true;if(options===AVOID_ESCAPE){avoidEscape=true}function isJSXLiteral(node){return node.parent.type==="JSXAttribute"||node.parent.type==="JSXElement"||node.parent.type==="JSXFragment"}function isDirective(node){return node.type==="ExpressionStatement"&&node.expression.type==="Literal"&&typeof node.expression.value==="string"}function isPartOfDirectivePrologue(node){const block=node.parent.parent;if(block.type!=="Program"&&(block.type!=="BlockStatement"||!astUtils.isFunction(block.parent))){return false}for(let i=0;i<block.body.length;++i){const statement=block.body[i];if(statement===node.parent){return true}if(!isDirective(statement)){break}}return false}function isAllowedAsNonBacktick(node){const parent=node.parent;switch(parent.type){case"ExpressionStatement":return isPartOfDirectivePrologue(node);case"Property":case"PropertyDefinition":case"MethodDefinition":return parent.key===node&&!parent.computed;case"ImportDeclaration":case"ExportNamedDeclaration":return parent.source===node;case"ExportAllDeclaration":return parent.exported===node||parent.source===node;case"ImportSpecifier":return parent.imported===node;case"ExportSpecifier":return parent.local===node||parent.exported===node;default:return false}}function isUsingFeatureOfTemplateLiteral(node){const hasTag=node.parent.type==="TaggedTemplateExpression"&&node===node.parent.quasi;if(hasTag){return true}const hasStringInterpolation=node.expressions.length>0;if(hasStringInterpolation){return true}const isMultilineString=node.quasis.length>=1&&UNESCAPED_LINEBREAK_PATTERN.test(node.quasis[0].value.raw);if(isMultilineString){return true}return false}return{Literal(node){const val=node.value,rawVal=node.raw;if(settings&&typeof val==="string"){let isValid=quoteOption==="backtick"&&isAllowedAsNonBacktick(node)||isJSXLiteral(node)||astUtils.isSurroundedBy(rawVal,settings.quote);if(!isValid&&avoidEscape){isValid=astUtils.isSurroundedBy(rawVal,settings.alternateQuote)&&rawVal.includes(settings.quote)}if(!isValid){context.report({node:node,messageId:"wrongQuotes",data:{description:settings.description},fix(fixer){if(quoteOption==="backtick"&&astUtils.hasOctalOrNonOctalDecimalEscapeSequence(rawVal)){return null}return fixer.replaceText(node,settings.convert(node.raw))}})}}},TemplateLiteral(node){if(allowTemplateLiterals||quoteOption==="backtick"||isUsingFeatureOfTemplateLiteral(node)){return}context.report({node:node,messageId:"wrongQuotes",data:{description:settings.description},fix(fixer){if(isPartOfDirectivePrologue(node)){return null}return fixer.replaceText(node,settings.convert(sourceCode.getText(node)))}})}}}};return quotes}var radix;var hasRequiredRadix;function requireRadix(){if(hasRequiredRadix)return radix;hasRequiredRadix=1;const astUtils=requireAstUtils();const MODE_ALWAYS="always",MODE_AS_NEEDED="as-needed";const validRadixValues=new Set(Array.from({length:37-2},((_,index)=>index+2)));function isShadowed(variable){return variable.defs.length>=1}function isParseIntMethod(node){return node.type==="MemberExpression"&&!node.computed&&node.property.type==="Identifier"&&node.property.name==="parseInt"}function isValidRadix(radix){return!(radix.type==="Literal"&&!validRadixValues.has(radix.value)||radix.type==="Identifier"&&radix.name==="undefined")}function isDefaultRadix(radix){return radix.type==="Literal"&&radix.value===10}radix={meta:{type:"suggestion",docs:{description:"Enforce the consistent use of the radix argument when using `parseInt()`",recommended:false,url:"https://eslint.org/docs/rules/radix"},hasSuggestions:true,schema:[{enum:["always","as-needed"]}],messages:{missingParameters:"Missing parameters.",redundantRadix:"Redundant radix parameter.",missingRadix:"Missing radix parameter.",invalidRadix:"Invalid radix parameter, must be an integer between 2 and 36.",addRadixParameter10:"Add radix parameter `10` for parsing decimal numbers."}},create(context){const mode=context.options[0]||MODE_ALWAYS;function checkArguments(node){const args=node.arguments;switch(args.length){case 0:context.report({node:node,messageId:"missingParameters"});break;case 1:if(mode===MODE_ALWAYS){context.report({node:node,messageId:"missingRadix",suggest:[{messageId:"addRadixParameter10",fix(fixer){const sourceCode=context.getSourceCode();const tokens=sourceCode.getTokens(node);const lastToken=tokens[tokens.length-1];const secondToLastToken=tokens[tokens.length-2];const hasTrailingComma=secondToLastToken.type==="Punctuator"&&secondToLastToken.value===",";return fixer.insertTextBefore(lastToken,hasTrailingComma?" 10,":", 10")}}]})}break;default:if(mode===MODE_AS_NEEDED&&isDefaultRadix(args[1])){context.report({node:node,messageId:"redundantRadix"})}else if(!isValidRadix(args[1])){context.report({node:node,messageId:"invalidRadix"})}break}}return{"Program:exit"(){const scope=context.getScope();let variable;variable=astUtils.getVariableByName(scope,"parseInt");if(variable&&!isShadowed(variable)){variable.references.forEach((reference=>{const node=reference.identifier;if(astUtils.isCallee(node)){checkArguments(node.parent)}}))}variable=astUtils.getVariableByName(scope,"Number");if(variable&&!isShadowed(variable)){variable.references.forEach((reference=>{const node=reference.identifier.parent;const maybeCallee=node.parent.type==="ChainExpression"?node.parent:node;if(isParseIntMethod(node)&&astUtils.isCallee(maybeCallee)){checkArguments(maybeCallee.parent)}}))}}}}};return radix}var requireAtomicUpdates;var hasRequiredRequireAtomicUpdates;function requireRequireAtomicUpdates(){if(hasRequiredRequireAtomicUpdates)return requireAtomicUpdates;hasRequiredRequireAtomicUpdates=1;function createReferenceMap(scope,outReferenceMap=new Map){for(const reference of scope.references){if(reference.resolved===null){continue}outReferenceMap.set(reference.identifier,reference)}for(const childScope of scope.childScopes){if(childScope.type!=="function"){createReferenceMap(childScope,outReferenceMap)}}return outReferenceMap}function getWriteExpr(reference){if(reference.writeExpr){return reference.writeExpr}let node=reference.identifier;while(node){const t=node.parent.type;if(t==="AssignmentExpression"&&node.parent.left===node){return node.parent.right}if(t==="MemberExpression"&&node.parent.object===node){node=node.parent;continue}break}return null}function isLocalVariableWithoutEscape(variable,isMemberAccess){if(!variable){return false}if(isMemberAccess&&variable.defs.some((d=>d.type==="Parameter"))){return false}const functionScope=variable.scope.variableScope;return variable.references.every((reference=>reference.from.variableScope===functionScope))}class SegmentInfo{constructor(){this.info=new WeakMap}initialize(segment){const outdatedReadVariables=new Set;const freshReadVariables=new Set;for(const prevSegment of segment.prevSegments){const info=this.info.get(prevSegment);if(info){info.outdatedReadVariables.forEach(Set.prototype.add,outdatedReadVariables);info.freshReadVariables.forEach(Set.prototype.add,freshReadVariables)}}this.info.set(segment,{outdatedReadVariables:outdatedReadVariables,freshReadVariables:freshReadVariables})}markAsRead(segments,variable){for(const segment of segments){const info=this.info.get(segment);if(info){info.freshReadVariables.add(variable);info.outdatedReadVariables.delete(variable)}}}makeOutdated(segments){for(const segment of segments){const info=this.info.get(segment);if(info){info.freshReadVariables.forEach(Set.prototype.add,info.outdatedReadVariables);info.freshReadVariables.clear()}}}isOutdated(segments,variable){for(const segment of segments){const info=this.info.get(segment);if(info&&info.outdatedReadVariables.has(variable)){return true}}return false}}requireAtomicUpdates={meta:{type:"problem",docs:{description:"Disallow assignments that can lead to race conditions due to usage of `await` or `yield`",recommended:false,url:"https://eslint.org/docs/rules/require-atomic-updates"},fixable:null,schema:[{type:"object",properties:{allowProperties:{type:"boolean",default:false}},additionalProperties:false}],messages:{nonAtomicUpdate:"Possible race condition: `{{value}}` might be reassigned based on an outdated value of `{{value}}`.",nonAtomicObjectUpdate:"Possible race condition: `{{value}}` might be assigned based on an outdated state of `{{object}}`."}},create(context){const allowProperties=!!context.options[0]&&context.options[0].allowProperties;const sourceCode=context.getSourceCode();const assignmentReferences=new Map;const segmentInfo=new SegmentInfo;let stack=null;return{onCodePathStart(codePath){const scope=context.getScope();const shouldVerify=scope.type==="function"&&(scope.block.async||scope.block.generator);stack={upper:stack,codePath:codePath,referenceMap:shouldVerify?createReferenceMap(scope):null}},onCodePathEnd(){stack=stack.upper},onCodePathSegmentStart(segment){segmentInfo.initialize(segment)},Identifier(node){const{codePath:codePath,referenceMap:referenceMap}=stack;const reference=referenceMap&&referenceMap.get(node);if(!reference){return}const variable=reference.resolved;const writeExpr=getWriteExpr(reference);const isMemberAccess=reference.identifier.parent.type==="MemberExpression";if(reference.isRead()&&!(writeExpr&&writeExpr.parent.operator==="=")){segmentInfo.markAsRead(codePath.currentSegments,variable)}if(writeExpr&&writeExpr.parent.right===writeExpr&&!isLocalVariableWithoutEscape(variable,isMemberAccess)){let refs=assignmentReferences.get(writeExpr);if(!refs){refs=[];assignmentReferences.set(writeExpr,refs)}refs.push(reference)}},":expression:exit"(node){const{codePath:codePath,referenceMap:referenceMap}=stack;if(!referenceMap){return}if(node.type==="AwaitExpression"||node.type==="YieldExpression"){segmentInfo.makeOutdated(codePath.currentSegments)}const references=assignmentReferences.get(node);if(references){assignmentReferences.delete(node);for(const reference of references){const variable=reference.resolved;if(segmentInfo.isOutdated(codePath.currentSegments,variable)){if(node.parent.left===reference.identifier){context.report({node:node.parent,messageId:"nonAtomicUpdate",data:{value:variable.name}})}else if(!allowProperties){context.report({node:node.parent,messageId:"nonAtomicObjectUpdate",data:{value:sourceCode.getText(node.parent.left),object:variable.name}})}}}}}}}};return requireAtomicUpdates}var requireAwait;var hasRequiredRequireAwait;function requireRequireAwait(){if(hasRequiredRequireAwait)return requireAwait;hasRequiredRequireAwait=1;const astUtils=requireAstUtils();function capitalizeFirstLetter(text){return text[0].toUpperCase()+text.slice(1)}requireAwait={meta:{type:"suggestion",docs:{description:"Disallow async functions which have no `await` expression",recommended:false,url:"https://eslint.org/docs/rules/require-await"},schema:[],messages:{missingAwait:"{{name}} has no 'await' expression."}},create(context){const sourceCode=context.getSourceCode();let scopeInfo=null;function enterFunction(){scopeInfo={upper:scopeInfo,hasAwait:false}}function exitFunction(node){if(!node.generator&&node.async&&!scopeInfo.hasAwait&&!astUtils.isEmptyFunction(node)){context.report({node:node,loc:astUtils.getFunctionHeadLoc(node,sourceCode),messageId:"missingAwait",data:{name:capitalizeFirstLetter(astUtils.getFunctionNameWithKind(node))}})}scopeInfo=scopeInfo.upper}return{FunctionDeclaration:enterFunction,FunctionExpression:enterFunction,ArrowFunctionExpression:enterFunction,"FunctionDeclaration:exit":exitFunction,"FunctionExpression:exit":exitFunction,"ArrowFunctionExpression:exit":exitFunction,AwaitExpression(){if(!scopeInfo){return}scopeInfo.hasAwait=true},ForOfStatement(node){if(!scopeInfo){return}if(node.await){scopeInfo.hasAwait=true}}}}};return requireAwait}var requireJsdoc;var hasRequiredRequireJsdoc;function requireRequireJsdoc(){if(hasRequiredRequireJsdoc)return requireJsdoc;hasRequiredRequireJsdoc=1;requireJsdoc={meta:{type:"suggestion",docs:{description:"Require JSDoc comments",recommended:false,url:"https://eslint.org/docs/rules/require-jsdoc"},schema:[{type:"object",properties:{require:{type:"object",properties:{ClassDeclaration:{type:"boolean",default:false},MethodDefinition:{type:"boolean",default:false},FunctionDeclaration:{type:"boolean",default:true},ArrowFunctionExpression:{type:"boolean",default:false},FunctionExpression:{type:"boolean",default:false}},additionalProperties:false,default:{}}},additionalProperties:false}],deprecated:true,replacedBy:[],messages:{missingJSDocComment:"Missing JSDoc comment."}},create(context){const source=context.getSourceCode();const DEFAULT_OPTIONS={FunctionDeclaration:true,MethodDefinition:false,ClassDeclaration:false,ArrowFunctionExpression:false,FunctionExpression:false};const options=Object.assign(DEFAULT_OPTIONS,context.options[0]&&context.options[0].require);function report(node){context.report({node:node,messageId:"missingJSDocComment"})}function checkJsDoc(node){const jsdocComment=source.getJSDocComment(node);if(!jsdocComment){report(node)}}return{FunctionDeclaration(node){if(options.FunctionDeclaration){checkJsDoc(node)}},FunctionExpression(node){if(options.MethodDefinition&&node.parent.type==="MethodDefinition"||options.FunctionExpression&&(node.parent.type==="VariableDeclarator"||node.parent.type==="Property"&&node===node.parent.value)){checkJsDoc(node)}},ClassDeclaration(node){if(options.ClassDeclaration){checkJsDoc(node)}},ArrowFunctionExpression(node){if(options.ArrowFunctionExpression&&node.parent.type==="VariableDeclarator"){checkJsDoc(node)}}}}};return requireJsdoc}var requireUnicodeRegexp;var hasRequiredRequireUnicodeRegexp;function requireRequireUnicodeRegexp(){if(hasRequiredRequireUnicodeRegexp)return requireUnicodeRegexp;hasRequiredRequireUnicodeRegexp=1;const{CALL:CALL,CONSTRUCT:CONSTRUCT,ReferenceTracker:ReferenceTracker,getStringIfConstant:getStringIfConstant}=requireEslintUtils();requireUnicodeRegexp={meta:{type:"suggestion",docs:{description:"Enforce the use of `u` flag on RegExp",recommended:false,url:"https://eslint.org/docs/rules/require-unicode-regexp"},messages:{requireUFlag:"Use the 'u' flag."},schema:[]},create(context){return{"Literal[regex]"(node){const flags=node.regex.flags||"";if(!flags.includes("u")){context.report({node:node,messageId:"requireUFlag"})}},Program(){const scope=context.getScope();const tracker=new ReferenceTracker(scope);const trackMap={RegExp:{[CALL]:true,[CONSTRUCT]:true}};for(const{node:node}of tracker.iterateGlobalReferences(trackMap)){const flagsNode=node.arguments[1];const flags=getStringIfConstant(flagsNode,scope);if(!flagsNode||typeof flags==="string"&&!flags.includes("u")){context.report({node:node,messageId:"requireUFlag"})}}}}}};return requireUnicodeRegexp}var requireYield;var hasRequiredRequireYield;function requireRequireYield(){if(hasRequiredRequireYield)return requireYield;hasRequiredRequireYield=1;requireYield={meta:{type:"suggestion",docs:{description:"Require generator functions to contain `yield`",recommended:true,url:"https://eslint.org/docs/rules/require-yield"},schema:[],messages:{missingYield:"This generator function does not have 'yield'."}},create(context){const stack=[];function beginChecking(node){if(node.generator){stack.push(0)}}function endChecking(node){if(!node.generator){return}const countYield=stack.pop();if(countYield===0&&node.body.body.length>0){context.report({node:node,messageId:"missingYield"})}}return{FunctionDeclaration:beginChecking,"FunctionDeclaration:exit":endChecking,FunctionExpression:beginChecking,"FunctionExpression:exit":endChecking,YieldExpression(){if(stack.length>0){stack[stack.length-1]+=1}}}}};return requireYield}var restSpreadSpacing;var hasRequiredRestSpreadSpacing;function requireRestSpreadSpacing(){if(hasRequiredRestSpreadSpacing)return restSpreadSpacing;hasRequiredRestSpreadSpacing=1;restSpreadSpacing={meta:{type:"layout",docs:{description:"Enforce spacing between rest and spread operators and their expressions",recommended:false,url:"https://eslint.org/docs/rules/rest-spread-spacing"},fixable:"whitespace",schema:[{enum:["always","never"]}],messages:{unexpectedWhitespace:"Unexpected whitespace after {{type}} operator.",expectedWhitespace:"Expected whitespace after {{type}} operator."}},create(context){const sourceCode=context.getSourceCode(),alwaysSpace=context.options[0]==="always";function checkWhiteSpace(node){const operator=sourceCode.getFirstToken(node),nextToken=sourceCode.getTokenAfter(operator),hasWhitespace=sourceCode.isSpaceBetweenTokens(operator,nextToken);let type;switch(node.type){case"SpreadElement":type="spread";if(node.parent.type==="ObjectExpression"){type+=" property"}break;case"RestElement":type="rest";if(node.parent.type==="ObjectPattern"){type+=" property"}break;case"ExperimentalSpreadProperty":type="spread property";break;case"ExperimentalRestProperty":type="rest property";break;default:return}if(alwaysSpace&&!hasWhitespace){context.report({node:node,loc:operator.loc,messageId:"expectedWhitespace",data:{type:type},fix(fixer){return fixer.replaceTextRange([operator.range[1],nextToken.range[0]]," ")}})}else if(!alwaysSpace&&hasWhitespace){context.report({node:node,loc:{start:operator.loc.end,end:nextToken.loc.start},messageId:"unexpectedWhitespace",data:{type:type},fix(fixer){return fixer.removeRange([operator.range[1],nextToken.range[0]])}})}}return{SpreadElement:checkWhiteSpace,RestElement:checkWhiteSpace,ExperimentalSpreadProperty:checkWhiteSpace,ExperimentalRestProperty:checkWhiteSpace}}};return restSpreadSpacing}var semi;var hasRequiredSemi;function requireSemi(){if(hasRequiredSemi)return semi;hasRequiredSemi=1;const FixTracker=requireFixTracker();const astUtils=requireAstUtils();semi={meta:{type:"layout",docs:{description:"Require or disallow semicolons instead of ASI",recommended:false,url:"https://eslint.org/docs/rules/semi"},fixable:"code",schema:{anyOf:[{type:"array",items:[{enum:["never"]},{type:"object",properties:{beforeStatementContinuationChars:{enum:["always","any","never"]}},additionalProperties:false}],minItems:0,maxItems:2},{type:"array",items:[{enum:["always"]},{type:"object",properties:{omitLastInOneLineBlock:{type:"boolean"}},additionalProperties:false}],minItems:0,maxItems:2}]},messages:{missingSemi:"Missing semicolon.",extraSemi:"Extra semicolon."}},create(context){const OPT_OUT_PATTERN=/^[-[(/+`]/u;const unsafeClassFieldNames=new Set(["get","set","static"]);const unsafeClassFieldFollowers=new Set(["*","in","instanceof"]);const options=context.options[1];const never=context.options[0]==="never";const exceptOneLine=Boolean(options&&options.omitLastInOneLineBlock);const beforeStatementContinuationChars=options&&options.beforeStatementContinuationChars||"any";const sourceCode=context.getSourceCode();function report(node,missing){const lastToken=sourceCode.getLastToken(node);let messageId,fix,loc;if(!missing){messageId="missingSemi";loc={start:lastToken.loc.end,end:astUtils.getNextLocation(sourceCode,lastToken.loc.end)};fix=function(fixer){return fixer.insertTextAfter(lastToken,";")}}else{messageId="extraSemi";loc=lastToken.loc;fix=function(fixer){return new FixTracker(fixer,sourceCode).retainSurroundingTokens(lastToken).remove(lastToken)}}context.report({node:node,loc:loc,messageId:messageId,fix:fix})}function isRedundantSemi(semiToken){const nextToken=sourceCode.getTokenAfter(semiToken);return!nextToken||astUtils.isClosingBraceToken(nextToken)||astUtils.isSemicolonToken(nextToken)}function isEndOfArrowBlock(lastToken){if(!astUtils.isClosingBraceToken(lastToken)){return false}const node=sourceCode.getNodeByRangeIndex(lastToken.range[0]);return node.type==="BlockStatement"&&node.parent.type==="ArrowFunctionExpression"}function maybeClassFieldAsiHazard(node){if(node.type!=="PropertyDefinition"){return false}const needsNameCheck=!node.computed&&node.key.type==="Identifier";if(needsNameCheck&&unsafeClassFieldNames.has(node.key.name)){const isStaticStatic=node.static&&node.key.name==="static";if(!isStaticStatic&&!node.value){return true}}const followingToken=sourceCode.getTokenAfter(node);return unsafeClassFieldFollowers.has(followingToken.value)}function isOnSameLineWithNextToken(node){const prevToken=sourceCode.getLastToken(node,1);const nextToken=sourceCode.getTokenAfter(node);return!!nextToken&&astUtils.isTokenOnSameLine(prevToken,nextToken)}function maybeAsiHazardAfter(node){const t=node.type;if(t==="DoWhileStatement"||t==="BreakStatement"||t==="ContinueStatement"||t==="DebuggerStatement"||t==="ImportDeclaration"||t==="ExportAllDeclaration"){return false}if(t==="ReturnStatement"){return Boolean(node.argument)}if(t==="ExportNamedDeclaration"){return Boolean(node.declaration)}if(isEndOfArrowBlock(sourceCode.getLastToken(node,1))){return false}return true}function maybeAsiHazardBefore(token){return Boolean(token)&&OPT_OUT_PATTERN.test(token.value)&&token.value!=="++"&&token.value!=="--"}function canRemoveSemicolon(node){if(isRedundantSemi(sourceCode.getLastToken(node))){return true}if(maybeClassFieldAsiHazard(node)){return false}if(isOnSameLineWithNextToken(node)){return false}if(node.type!=="PropertyDefinition"&&beforeStatementContinuationChars==="never"&&!maybeAsiHazardAfter(node)){return true}if(!maybeAsiHazardBefore(sourceCode.getTokenAfter(node))){return true}return false}function isLastInOneLinerBlock(node){const parent=node.parent;const nextToken=sourceCode.getTokenAfter(node);if(!nextToken||nextToken.value!=="}"){return false}if(parent.type==="BlockStatement"){return parent.loc.start.line===parent.loc.end.line}if(parent.type==="StaticBlock"){const openingBrace=sourceCode.getFirstToken(parent,{skip:1});return openingBrace.loc.start.line===parent.loc.end.line}return false}function checkForSemicolon(node){const isSemi=astUtils.isSemicolonToken(sourceCode.getLastToken(node));if(never){if(isSemi&&canRemoveSemicolon(node)){report(node,true)}else if(!isSemi&&beforeStatementContinuationChars==="always"&&node.type!=="PropertyDefinition"&&maybeAsiHazardBefore(sourceCode.getTokenAfter(node))){report(node)}}else{const oneLinerBlock=exceptOneLine&&isLastInOneLinerBlock(node);if(isSemi&&oneLinerBlock){report(node,true)}else if(!isSemi&&!oneLinerBlock){report(node)}}}function checkForSemicolonForVariableDeclaration(node){const parent=node.parent;if((parent.type!=="ForStatement"||parent.init!==node)&&(!/^For(?:In|Of)Statement/u.test(parent.type)||parent.left!==node)){checkForSemicolon(node)}}return{VariableDeclaration:checkForSemicolonForVariableDeclaration,ExpressionStatement:checkForSemicolon,ReturnStatement:checkForSemicolon,ThrowStatement:checkForSemicolon,DoWhileStatement:checkForSemicolon,DebuggerStatement:checkForSemicolon,BreakStatement:checkForSemicolon,ContinueStatement:checkForSemicolon,ImportDeclaration:checkForSemicolon,ExportAllDeclaration:checkForSemicolon,ExportNamedDeclaration(node){if(!node.declaration){checkForSemicolon(node)}},ExportDefaultDeclaration(node){if(!/(?:Class|Function)Declaration/u.test(node.declaration.type)){checkForSemicolon(node)}},PropertyDefinition:checkForSemicolon}}};return semi}var semiSpacing;var hasRequiredSemiSpacing;function requireSemiSpacing(){if(hasRequiredSemiSpacing)return semiSpacing;hasRequiredSemiSpacing=1;const astUtils=requireAstUtils();semiSpacing={meta:{type:"layout",docs:{description:"Enforce consistent spacing before and after semicolons",recommended:false,url:"https://eslint.org/docs/rules/semi-spacing"},fixable:"whitespace",schema:[{type:"object",properties:{before:{type:"boolean",default:false},after:{type:"boolean",default:true}},additionalProperties:false}],messages:{unexpectedWhitespaceBefore:"Unexpected whitespace before semicolon.",unexpectedWhitespaceAfter:"Unexpected whitespace after semicolon.",missingWhitespaceBefore:"Missing whitespace before semicolon.",missingWhitespaceAfter:"Missing whitespace after semicolon."}},create(context){const config=context.options[0],sourceCode=context.getSourceCode();let requireSpaceBefore=false,requireSpaceAfter=true;if(typeof config==="object"){requireSpaceBefore=config.before;requireSpaceAfter=config.after}function hasLeadingSpace(token){const tokenBefore=sourceCode.getTokenBefore(token);return tokenBefore&&astUtils.isTokenOnSameLine(tokenBefore,token)&&sourceCode.isSpaceBetweenTokens(tokenBefore,token)}function hasTrailingSpace(token){const tokenAfter=sourceCode.getTokenAfter(token);return tokenAfter&&astUtils.isTokenOnSameLine(token,tokenAfter)&&sourceCode.isSpaceBetweenTokens(token,tokenAfter)}function isLastTokenInCurrentLine(token){const tokenAfter=sourceCode.getTokenAfter(token);return!(tokenAfter&&astUtils.isTokenOnSameLine(token,tokenAfter))}function isFirstTokenInCurrentLine(token){const tokenBefore=sourceCode.getTokenBefore(token);return!(tokenBefore&&astUtils.isTokenOnSameLine(token,tokenBefore))}function isBeforeClosingParen(token){const nextToken=sourceCode.getTokenAfter(token);return nextToken&&astUtils.isClosingBraceToken(nextToken)||astUtils.isClosingParenToken(nextToken)}function checkSemicolonSpacing(token,node){if(astUtils.isSemicolonToken(token)){if(hasLeadingSpace(token)){if(!requireSpaceBefore){const tokenBefore=sourceCode.getTokenBefore(token);const loc={start:tokenBefore.loc.end,end:token.loc.start};context.report({node:node,loc:loc,messageId:"unexpectedWhitespaceBefore",fix(fixer){return fixer.removeRange([tokenBefore.range[1],token.range[0]])}})}}else{if(requireSpaceBefore){const loc=token.loc;context.report({node:node,loc:loc,messageId:"missingWhitespaceBefore",fix(fixer){return fixer.insertTextBefore(token," ")}})}}if(!isFirstTokenInCurrentLine(token)&&!isLastTokenInCurrentLine(token)&&!isBeforeClosingParen(token)){if(hasTrailingSpace(token)){if(!requireSpaceAfter){const tokenAfter=sourceCode.getTokenAfter(token);const loc={start:token.loc.end,end:tokenAfter.loc.start};context.report({node:node,loc:loc,messageId:"unexpectedWhitespaceAfter",fix(fixer){return fixer.removeRange([token.range[1],tokenAfter.range[0]])}})}}else{if(requireSpaceAfter){const loc=token.loc;context.report({node:node,loc:loc,messageId:"missingWhitespaceAfter",fix(fixer){return fixer.insertTextAfter(token," ")}})}}}}}function checkNode(node){const token=sourceCode.getLastToken(node);checkSemicolonSpacing(token,node)}return{VariableDeclaration:checkNode,ExpressionStatement:checkNode,BreakStatement:checkNode,ContinueStatement:checkNode,DebuggerStatement:checkNode,DoWhileStatement:checkNode,ReturnStatement:checkNode,ThrowStatement:checkNode,ImportDeclaration:checkNode,ExportNamedDeclaration:checkNode,ExportAllDeclaration:checkNode,ExportDefaultDeclaration:checkNode,ForStatement(node){if(node.init){checkSemicolonSpacing(sourceCode.getTokenAfter(node.init),node)}if(node.test){checkSemicolonSpacing(sourceCode.getTokenAfter(node.test),node)}},PropertyDefinition:checkNode}}};return semiSpacing}var semiStyle;var hasRequiredSemiStyle;function requireSemiStyle(){if(hasRequiredSemiStyle)return semiStyle;hasRequiredSemiStyle=1;const astUtils=requireAstUtils();const SELECTOR=["BreakStatement","ContinueStatement","DebuggerStatement","DoWhileStatement","ExportAllDeclaration","ExportDefaultDeclaration","ExportNamedDeclaration","ExpressionStatement","ImportDeclaration","ReturnStatement","ThrowStatement","VariableDeclaration","PropertyDefinition"].join(",");function getChildren(node){const t=node.type;if(t==="BlockStatement"||t==="StaticBlock"||t==="Program"||t==="ClassBody"){return node.body}if(t==="SwitchCase"){return node.consequent}return null}function isLastChild(node){const t=node.parent.type;if(t==="IfStatement"&&node.parent.consequent===node&&node.parent.alternate){return true}if(t==="DoWhileStatement"){return true}const nodeList=getChildren(node.parent);return nodeList!==null&&nodeList[nodeList.length-1]===node}semiStyle={meta:{type:"layout",docs:{description:"Enforce location of semicolons",recommended:false,url:"https://eslint.org/docs/rules/semi-style"},schema:[{enum:["last","first"]}],fixable:"whitespace",messages:{expectedSemiColon:"Expected this semicolon to be at {{pos}}."}},create(context){const sourceCode=context.getSourceCode();const option=context.options[0]||"last";function check(semiToken,expected){const prevToken=sourceCode.getTokenBefore(semiToken);const nextToken=sourceCode.getTokenAfter(semiToken);const prevIsSameLine=!prevToken||astUtils.isTokenOnSameLine(prevToken,semiToken);const nextIsSameLine=!nextToken||astUtils.isTokenOnSameLine(semiToken,nextToken);if(expected==="last"&&!prevIsSameLine||expected==="first"&&!nextIsSameLine){context.report({loc:semiToken.loc,messageId:"expectedSemiColon",data:{pos:expected==="last"?"the end of the previous line":"the beginning of the next line"},fix(fixer){if(prevToken&&nextToken&&sourceCode.commentsExistBetween(prevToken,nextToken)){return null}const start=prevToken?prevToken.range[1]:semiToken.range[0];const end=nextToken?nextToken.range[0]:semiToken.range[1];const text=expected==="last"?";\n":"\n;";return fixer.replaceTextRange([start,end],text)}})}}return{[SELECTOR](node){if(option==="first"&&isLastChild(node)){return}const lastToken=sourceCode.getLastToken(node);if(astUtils.isSemicolonToken(lastToken)){check(lastToken,option)}},ForStatement(node){const firstSemi=node.init&&sourceCode.getTokenAfter(node.init,astUtils.isSemicolonToken);const secondSemi=node.test&&sourceCode.getTokenAfter(node.test,astUtils.isSemicolonToken);if(firstSemi){check(firstSemi,"last")}if(secondSemi){check(secondSemi,"last")}}}}};return semiStyle}var sortImports;var hasRequiredSortImports;function requireSortImports(){if(hasRequiredSortImports)return sortImports;hasRequiredSortImports=1;sortImports={meta:{type:"suggestion",docs:{description:"Enforce sorted import declarations within modules",recommended:false,url:"https://eslint.org/docs/rules/sort-imports"},schema:[{type:"object",properties:{ignoreCase:{type:"boolean",default:false},memberSyntaxSortOrder:{type:"array",items:{enum:["none","all","multiple","single"]},uniqueItems:true,minItems:4,maxItems:4},ignoreDeclarationSort:{type:"boolean",default:false},ignoreMemberSort:{type:"boolean",default:false},allowSeparatedGroups:{type:"boolean",default:false}},additionalProperties:false}],fixable:"code",messages:{sortImportsAlphabetically:"Imports should be sorted alphabetically.",sortMembersAlphabetically:"Member '{{memberName}}' of the import declaration should be sorted alphabetically.",unexpectedSyntaxOrder:"Expected '{{syntaxA}}' syntax before '{{syntaxB}}' syntax."}},create(context){const configuration=context.options[0]||{},ignoreCase=configuration.ignoreCase||false,ignoreDeclarationSort=configuration.ignoreDeclarationSort||false,ignoreMemberSort=configuration.ignoreMemberSort||false,memberSyntaxSortOrder=configuration.memberSyntaxSortOrder||["none","all","multiple","single"],allowSeparatedGroups=configuration.allowSeparatedGroups||false,sourceCode=context.getSourceCode();let previousDeclaration=null;function usedMemberSyntax(node){if(node.specifiers.length===0){return"none"}if(node.specifiers[0].type==="ImportNamespaceSpecifier"){return"all"}if(node.specifiers.length===1){return"single"}return"multiple"}function getMemberParameterGroupIndex(node){return memberSyntaxSortOrder.indexOf(usedMemberSyntax(node))}function getFirstLocalMemberName(node){if(node.specifiers[0]){return node.specifiers[0].local.name}return null}function getNumberOfLinesBetween(left,right){return Math.max(right.loc.start.line-left.loc.end.line-1,0)}return{ImportDeclaration(node){if(!ignoreDeclarationSort){if(previousDeclaration&&allowSeparatedGroups&&getNumberOfLinesBetween(previousDeclaration,node)>0){previousDeclaration=null}if(previousDeclaration){const currentMemberSyntaxGroupIndex=getMemberParameterGroupIndex(node),previousMemberSyntaxGroupIndex=getMemberParameterGroupIndex(previousDeclaration);let currentLocalMemberName=getFirstLocalMemberName(node),previousLocalMemberName=getFirstLocalMemberName(previousDeclaration);if(ignoreCase){previousLocalMemberName=previousLocalMemberName&&previousLocalMemberName.toLowerCase();currentLocalMemberName=currentLocalMemberName&&currentLocalMemberName.toLowerCase()}if(currentMemberSyntaxGroupIndex!==previousMemberSyntaxGroupIndex){if(currentMemberSyntaxGroupIndex<previousMemberSyntaxGroupIndex){context.report({node:node,messageId:"unexpectedSyntaxOrder",data:{syntaxA:memberSyntaxSortOrder[currentMemberSyntaxGroupIndex],syntaxB:memberSyntaxSortOrder[previousMemberSyntaxGroupIndex]}})}}else{if(previousLocalMemberName&&currentLocalMemberName&&currentLocalMemberName<previousLocalMemberName){context.report({node:node,messageId:"sortImportsAlphabetically"})}}}previousDeclaration=node}if(!ignoreMemberSort){const importSpecifiers=node.specifiers.filter((specifier=>specifier.type==="ImportSpecifier"));const getSortableName=ignoreCase?specifier=>specifier.local.name.toLowerCase():specifier=>specifier.local.name;const firstUnsortedIndex=importSpecifiers.map(getSortableName).findIndex(((name,index,array)=>array[index-1]>name));if(firstUnsortedIndex!==-1){context.report({node:importSpecifiers[firstUnsortedIndex],messageId:"sortMembersAlphabetically",data:{memberName:importSpecifiers[firstUnsortedIndex].local.name},fix(fixer){if(importSpecifiers.some((specifier=>sourceCode.getCommentsBefore(specifier).length||sourceCode.getCommentsAfter(specifier).length))){return null}return fixer.replaceTextRange([importSpecifiers[0].range[0],importSpecifiers[importSpecifiers.length-1].range[1]],importSpecifiers.slice().sort(((specifierA,specifierB)=>{const aName=getSortableName(specifierA);const bName=getSortableName(specifierB);return aName>bName?1:-1})).reduce(((sourceText,specifier,index)=>{const textAfterSpecifier=index===importSpecifiers.length-1?"":sourceCode.getText().slice(importSpecifiers[index].range[1],importSpecifiers[index+1].range[0]);return sourceText+sourceCode.getText(specifier)+textAfterSpecifier}),""))}})}}}}}};return sortImports}var naturalCompare={exports:{}};var hasRequiredNaturalCompare;function requireNaturalCompare(){if(hasRequiredNaturalCompare)return naturalCompare.exports;hasRequiredNaturalCompare=1;
/*
       	 * @version    1.4.0
       	 * @date       2015-10-26
       	 * @stability  3 - Stable
       	 * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
       	 * @license    MIT License
       	 */var naturalCompare$1=function(a,b){var i,codeA,codeB=1,posA=0,posB=0,alphabet=String.alphabet;function getCode(str,pos,code){if(code){for(i=pos;code=getCode(str,i),code<76&&code>65;)++i;return+str.slice(pos-1,i)}code=alphabet&&alphabet.indexOf(str.charAt(pos));return code>-1?code+76:(code=str.charCodeAt(pos)||0,code<45||code>127)?code:code<46?65:code<48?code-1:code<58?code+18:code<65?code-11:code<91?code+11:code<97?code-37:code<123?code+5:code-63}if((a+="")!=(b+=""))for(;codeB;){codeA=getCode(a,posA++);codeB=getCode(b,posB++);if(codeA<76&&codeB<76&&codeA>66&&codeB>66){codeA=getCode(a,posA,posA);codeB=getCode(b,posB,posA=i);posB=i}if(codeA!=codeB)return codeA<codeB?-1:1}return 0};try{naturalCompare.exports=naturalCompare$1}catch(e){String.naturalCompare=naturalCompare$1}return naturalCompare.exports}var sortKeys;var hasRequiredSortKeys;function requireSortKeys(){if(hasRequiredSortKeys)return sortKeys;hasRequiredSortKeys=1;const astUtils=requireAstUtils(),naturalCompare=requireNaturalCompare();function getPropertyName(node){const staticName=astUtils.getStaticPropertyName(node);if(staticName!==null){return staticName}return node.key.name||null}const isValidOrders={asc(a,b){return a<=b},ascI(a,b){return a.toLowerCase()<=b.toLowerCase()},ascN(a,b){return naturalCompare(a,b)<=0},ascIN(a,b){return naturalCompare(a.toLowerCase(),b.toLowerCase())<=0},desc(a,b){return isValidOrders.asc(b,a)},descI(a,b){return isValidOrders.ascI(b,a)},descN(a,b){return isValidOrders.ascN(b,a)},descIN(a,b){return isValidOrders.ascIN(b,a)}};sortKeys={meta:{type:"suggestion",docs:{description:"Require object keys to be sorted",recommended:false,url:"https://eslint.org/docs/rules/sort-keys"},schema:[{enum:["asc","desc"]},{type:"object",properties:{caseSensitive:{type:"boolean",default:true},natural:{type:"boolean",default:false},minKeys:{type:"integer",minimum:2,default:2},allowLineSeparatedGroups:{type:"boolean",default:false}},additionalProperties:false}],messages:{sortKeys:"Expected object keys to be in {{natural}}{{insensitive}}{{order}}ending order. '{{thisName}}' should be before '{{prevName}}'."}},create(context){const order=context.options[0]||"asc";const options=context.options[1];const insensitive=options&&options.caseSensitive===false;const natural=options&&options.natural;const minKeys=options&&options.minKeys;const allowLineSeparatedGroups=options&&options.allowLineSeparatedGroups||false;const isValidOrder=isValidOrders[order+(insensitive?"I":"")+(natural?"N":"")];let stack=null;const sourceCode=context.getSourceCode();return{ObjectExpression(node){stack={upper:stack,prevNode:null,prevBlankLine:false,prevName:null,numKeys:node.properties.length}},"ObjectExpression:exit"(){stack=stack.upper},SpreadElement(node){if(node.parent.type==="ObjectExpression"){stack.prevName=null}},Property(node){if(node.parent.type==="ObjectPattern"){return}const prevName=stack.prevName;const numKeys=stack.numKeys;const thisName=getPropertyName(node);const tokens=stack.prevNode&&sourceCode.getTokensBetween(stack.prevNode,node,{includeComments:true});let isBlankLineBetweenNodes=stack.prevBlankLine;if(tokens){tokens.forEach(((token,index)=>{const previousToken=tokens[index-1];if(previousToken&&token.loc.start.line-previousToken.loc.end.line>1){isBlankLineBetweenNodes=true}}));if(!isBlankLineBetweenNodes&&node.loc.start.line-tokens[tokens.length-1].loc.end.line>1){isBlankLineBetweenNodes=true}if(!isBlankLineBetweenNodes&&tokens[0].loc.start.line-stack.prevNode.loc.end.line>1){isBlankLineBetweenNodes=true}}stack.prevNode=node;if(thisName!==null){stack.prevName=thisName}if(allowLineSeparatedGroups&&isBlankLineBetweenNodes){stack.prevBlankLine=thisName===null;return}if(prevName===null||thisName===null||numKeys<minKeys){return}if(!isValidOrder(prevName,thisName)){context.report({node:node,loc:node.key.loc,messageId:"sortKeys",data:{thisName:thisName,prevName:prevName,order:order,insensitive:insensitive?"insensitive ":"",natural:natural?"natural ":""}})}}}}};return sortKeys}var sortVars;var hasRequiredSortVars;function requireSortVars(){if(hasRequiredSortVars)return sortVars;hasRequiredSortVars=1;sortVars={meta:{type:"suggestion",docs:{description:"Require variables within the same declaration block to be sorted",recommended:false,url:"https://eslint.org/docs/rules/sort-vars"},schema:[{type:"object",properties:{ignoreCase:{type:"boolean",default:false}},additionalProperties:false}],fixable:"code",messages:{sortVars:"Variables within the same declaration block should be sorted alphabetically."}},create(context){const configuration=context.options[0]||{},ignoreCase=configuration.ignoreCase||false,sourceCode=context.getSourceCode();return{VariableDeclaration(node){const idDeclarations=node.declarations.filter((decl=>decl.id.type==="Identifier"));const getSortableName=ignoreCase?decl=>decl.id.name.toLowerCase():decl=>decl.id.name;const unfixable=idDeclarations.some((decl=>decl.init!==null&&decl.init.type!=="Literal"));let fixed=false;idDeclarations.slice(1).reduce(((memo,decl)=>{const lastVariableName=getSortableName(memo),currentVariableName=getSortableName(decl);if(currentVariableName<lastVariableName){context.report({node:decl,messageId:"sortVars",fix(fixer){if(unfixable||fixed){return null}return fixer.replaceTextRange([idDeclarations[0].range[0],idDeclarations[idDeclarations.length-1].range[1]],idDeclarations.slice().sort(((declA,declB)=>{const aName=getSortableName(declA);const bName=getSortableName(declB);return aName>bName?1:-1})).reduce(((sourceText,identifier,index)=>{const textAfterIdentifier=index===idDeclarations.length-1?"":sourceCode.getText().slice(idDeclarations[index].range[1],idDeclarations[index+1].range[0]);return sourceText+sourceCode.getText(identifier)+textAfterIdentifier}),""))}});fixed=true;return memo}return decl}),idDeclarations[0])}}}};return sortVars}var spaceBeforeBlocks;var hasRequiredSpaceBeforeBlocks;function requireSpaceBeforeBlocks(){if(hasRequiredSpaceBeforeBlocks)return spaceBeforeBlocks;hasRequiredSpaceBeforeBlocks=1;const astUtils=requireAstUtils();function isFunctionBody(node){const parent=node.parent;return node.type==="BlockStatement"&&astUtils.isFunction(parent)&&parent.body===node}spaceBeforeBlocks={meta:{type:"layout",docs:{description:"Enforce consistent spacing before blocks",recommended:false,url:"https://eslint.org/docs/rules/space-before-blocks"},fixable:"whitespace",schema:[{oneOf:[{enum:["always","never"]},{type:"object",properties:{keywords:{enum:["always","never","off"]},functions:{enum:["always","never","off"]},classes:{enum:["always","never","off"]}},additionalProperties:false}]}],messages:{unexpectedSpace:"Unexpected space before opening brace.",missingSpace:"Missing space before opening brace."}},create(context){const config=context.options[0],sourceCode=context.getSourceCode();let alwaysFunctions=true,alwaysKeywords=true,alwaysClasses=true,neverFunctions=false,neverKeywords=false,neverClasses=false;if(typeof config==="object"){alwaysFunctions=config.functions==="always";alwaysKeywords=config.keywords==="always";alwaysClasses=config.classes==="always";neverFunctions=config.functions==="never";neverKeywords=config.keywords==="never";neverClasses=config.classes==="never"}else if(config==="never"){alwaysFunctions=false;alwaysKeywords=false;alwaysClasses=false;neverFunctions=true;neverKeywords=true;neverClasses=true}function isConflicted(precedingToken,node){return astUtils.isArrowToken(precedingToken)||astUtils.isKeywordToken(precedingToken)&&!isFunctionBody(node)||astUtils.isColonToken(precedingToken)&&node.parent&&node.parent.type==="SwitchCase"&&precedingToken===astUtils.getSwitchCaseColonToken(node.parent,sourceCode)}function checkPrecedingSpace(node){const precedingToken=sourceCode.getTokenBefore(node);if(precedingToken&&!isConflicted(precedingToken,node)&&astUtils.isTokenOnSameLine(precedingToken,node)){const hasSpace=sourceCode.isSpaceBetweenTokens(precedingToken,node);let requireSpace;let requireNoSpace;if(isFunctionBody(node)){requireSpace=alwaysFunctions;requireNoSpace=neverFunctions}else if(node.type==="ClassBody"){requireSpace=alwaysClasses;requireNoSpace=neverClasses}else{requireSpace=alwaysKeywords;requireNoSpace=neverKeywords}if(requireSpace&&!hasSpace){context.report({node:node,messageId:"missingSpace",fix(fixer){return fixer.insertTextBefore(node," ")}})}else if(requireNoSpace&&hasSpace){context.report({node:node,messageId:"unexpectedSpace",fix(fixer){return fixer.removeRange([precedingToken.range[1],node.range[0]])}})}}}function checkSpaceBeforeCaseBlock(node){const cases=node.cases;let openingBrace;if(cases.length>0){openingBrace=sourceCode.getTokenBefore(cases[0])}else{openingBrace=sourceCode.getLastToken(node,1)}checkPrecedingSpace(openingBrace)}return{BlockStatement:checkPrecedingSpace,ClassBody:checkPrecedingSpace,SwitchStatement:checkSpaceBeforeCaseBlock}}};return spaceBeforeBlocks}var spaceBeforeFunctionParen;var hasRequiredSpaceBeforeFunctionParen;function requireSpaceBeforeFunctionParen(){if(hasRequiredSpaceBeforeFunctionParen)return spaceBeforeFunctionParen;hasRequiredSpaceBeforeFunctionParen=1;const astUtils=requireAstUtils();spaceBeforeFunctionParen={meta:{type:"layout",docs:{description:"Enforce consistent spacing before `function` definition opening parenthesis",recommended:false,url:"https://eslint.org/docs/rules/space-before-function-paren"},fixable:"whitespace",schema:[{oneOf:[{enum:["always","never"]},{type:"object",properties:{anonymous:{enum:["always","never","ignore"]},named:{enum:["always","never","ignore"]},asyncArrow:{enum:["always","never","ignore"]}},additionalProperties:false}]}],messages:{unexpectedSpace:"Unexpected space before function parentheses.",missingSpace:"Missing space before function parentheses."}},create(context){const sourceCode=context.getSourceCode();const baseConfig=typeof context.options[0]==="string"?context.options[0]:"always";const overrideConfig=typeof context.options[0]==="object"?context.options[0]:{};function isNamedFunction(node){if(node.id){return true}const parent=node.parent;return parent.type==="MethodDefinition"||parent.type==="Property"&&(parent.kind==="get"||parent.kind==="set"||parent.method)}function getConfigForFunction(node){if(node.type==="ArrowFunctionExpression"){if(node.async&&astUtils.isOpeningParenToken(sourceCode.getFirstToken(node,{skip:1}))){return overrideConfig.asyncArrow||baseConfig}}else if(isNamedFunction(node)){return overrideConfig.named||baseConfig}else if(!node.generator){return overrideConfig.anonymous||baseConfig}return"ignore"}function checkFunction(node){const functionConfig=getConfigForFunction(node);if(functionConfig==="ignore"){return}const rightToken=sourceCode.getFirstToken(node,astUtils.isOpeningParenToken);const leftToken=sourceCode.getTokenBefore(rightToken);const hasSpacing=sourceCode.isSpaceBetweenTokens(leftToken,rightToken);if(hasSpacing&&functionConfig==="never"){context.report({node:node,loc:{start:leftToken.loc.end,end:rightToken.loc.start},messageId:"unexpectedSpace",fix(fixer){const comments=sourceCode.getCommentsBefore(rightToken);if(comments.some((comment=>comment.type==="Line"))){return null}return fixer.replaceTextRange([leftToken.range[1],rightToken.range[0]],comments.reduce(((text,comment)=>text+sourceCode.getText(comment)),""))}})}else if(!hasSpacing&&functionConfig==="always"){context.report({node:node,loc:rightToken.loc,messageId:"missingSpace",fix:fixer=>fixer.insertTextAfter(leftToken," ")})}}return{ArrowFunctionExpression:checkFunction,FunctionDeclaration:checkFunction,FunctionExpression:checkFunction}}};return spaceBeforeFunctionParen}var spaceInParens;var hasRequiredSpaceInParens;function requireSpaceInParens(){if(hasRequiredSpaceInParens)return spaceInParens;hasRequiredSpaceInParens=1;const astUtils=requireAstUtils();spaceInParens={meta:{type:"layout",docs:{description:"Enforce consistent spacing inside parentheses",recommended:false,url:"https://eslint.org/docs/rules/space-in-parens"},fixable:"whitespace",schema:[{enum:["always","never"]},{type:"object",properties:{exceptions:{type:"array",items:{enum:["{}","[]","()","empty"]},uniqueItems:true}},additionalProperties:false}],messages:{missingOpeningSpace:"There must be a space after this paren.",missingClosingSpace:"There must be a space before this paren.",rejectedOpeningSpace:"There should be no space after this paren.",rejectedClosingSpace:"There should be no space before this paren."}},create(context){const ALWAYS=context.options[0]==="always",exceptionsArrayOptions=context.options[1]&&context.options[1].exceptions||[],options={};let exceptions;if(exceptionsArrayOptions.length){options.braceException=exceptionsArrayOptions.includes("{}");options.bracketException=exceptionsArrayOptions.includes("[]");options.parenException=exceptionsArrayOptions.includes("()");options.empty=exceptionsArrayOptions.includes("empty")}function getExceptions(){const openers=[],closers=[];if(options.braceException){openers.push("{");closers.push("}")}if(options.bracketException){openers.push("[");closers.push("]")}if(options.parenException){openers.push("(");closers.push(")")}if(options.empty){openers.push(")");closers.push("(")}return{openers:openers,closers:closers}}const sourceCode=context.getSourceCode();function isOpenerException(token){return exceptions.openers.includes(token.value)}function isCloserException(token){return exceptions.closers.includes(token.value)}function openerMissingSpace(openingParenToken,tokenAfterOpeningParen){if(sourceCode.isSpaceBetweenTokens(openingParenToken,tokenAfterOpeningParen)){return false}if(!options.empty&&astUtils.isClosingParenToken(tokenAfterOpeningParen)){return false}if(ALWAYS){return!isOpenerException(tokenAfterOpeningParen)}return isOpenerException(tokenAfterOpeningParen)}function openerRejectsSpace(openingParenToken,tokenAfterOpeningParen){if(!astUtils.isTokenOnSameLine(openingParenToken,tokenAfterOpeningParen)){return false}if(tokenAfterOpeningParen.type==="Line"){return false}if(!sourceCode.isSpaceBetweenTokens(openingParenToken,tokenAfterOpeningParen)){return false}if(ALWAYS){return isOpenerException(tokenAfterOpeningParen)}return!isOpenerException(tokenAfterOpeningParen)}function closerMissingSpace(tokenBeforeClosingParen,closingParenToken){if(sourceCode.isSpaceBetweenTokens(tokenBeforeClosingParen,closingParenToken)){return false}if(!options.empty&&astUtils.isOpeningParenToken(tokenBeforeClosingParen)){return false}if(ALWAYS){return!isCloserException(tokenBeforeClosingParen)}return isCloserException(tokenBeforeClosingParen)}function closerRejectsSpace(tokenBeforeClosingParen,closingParenToken){if(!astUtils.isTokenOnSameLine(tokenBeforeClosingParen,closingParenToken)){return false}if(!sourceCode.isSpaceBetweenTokens(tokenBeforeClosingParen,closingParenToken)){return false}if(ALWAYS){return isCloserException(tokenBeforeClosingParen)}return!isCloserException(tokenBeforeClosingParen)}return{Program:function checkParenSpaces(node){exceptions=getExceptions();const tokens=sourceCode.tokensAndComments;tokens.forEach(((token,i)=>{const prevToken=tokens[i-1];const nextToken=tokens[i+1];if(!astUtils.isOpeningParenToken(token)&&!astUtils.isClosingParenToken(token)){return}if(token.value==="("&&openerMissingSpace(token,nextToken)){context.report({node:node,loc:token.loc,messageId:"missingOpeningSpace",fix(fixer){return fixer.insertTextAfter(token," ")}})}if(token.value==="("&&openerRejectsSpace(token,nextToken)){context.report({node:node,loc:{start:token.loc.end,end:nextToken.loc.start},messageId:"rejectedOpeningSpace",fix(fixer){return fixer.removeRange([token.range[1],nextToken.range[0]])}})}if(token.value===")"&&closerMissingSpace(prevToken,token)){context.report({node:node,loc:token.loc,messageId:"missingClosingSpace",fix(fixer){return fixer.insertTextBefore(token," ")}})}if(token.value===")"&&closerRejectsSpace(prevToken,token)){context.report({node:node,loc:{start:prevToken.loc.end,end:token.loc.start},messageId:"rejectedClosingSpace",fix(fixer){return fixer.removeRange([prevToken.range[1],token.range[0]])}})}}))}}}};return spaceInParens}var spaceInfixOps;var hasRequiredSpaceInfixOps;function requireSpaceInfixOps(){if(hasRequiredSpaceInfixOps)return spaceInfixOps;hasRequiredSpaceInfixOps=1;const{isEqToken:isEqToken}=requireAstUtils();spaceInfixOps={meta:{type:"layout",docs:{description:"Require spacing around infix operators",recommended:false,url:"https://eslint.org/docs/rules/space-infix-ops"},fixable:"whitespace",schema:[{type:"object",properties:{int32Hint:{type:"boolean",default:false}},additionalProperties:false}],messages:{missingSpace:"Operator '{{operator}}' must be spaced."}},create(context){const int32Hint=context.options[0]?context.options[0].int32Hint===true:false;const sourceCode=context.getSourceCode();function getFirstNonSpacedToken(left,right,op){const operator=sourceCode.getFirstTokenBetween(left,right,(token=>token.value===op));const prev=sourceCode.getTokenBefore(operator);const next=sourceCode.getTokenAfter(operator);if(!sourceCode.isSpaceBetweenTokens(prev,operator)||!sourceCode.isSpaceBetweenTokens(operator,next)){return operator}return null}function report(mainNode,culpritToken){context.report({node:mainNode,loc:culpritToken.loc,messageId:"missingSpace",data:{operator:culpritToken.value},fix(fixer){const previousToken=sourceCode.getTokenBefore(culpritToken);const afterToken=sourceCode.getTokenAfter(culpritToken);let fixString="";if(culpritToken.range[0]-previousToken.range[1]===0){fixString=" "}fixString+=culpritToken.value;if(afterToken.range[0]-culpritToken.range[1]===0){fixString+=" "}return fixer.replaceText(culpritToken,fixString)}})}function checkBinary(node){const leftNode=node.left.typeAnnotation?node.left.typeAnnotation:node.left;const rightNode=node.right;const operator=node.operator||"=";const nonSpacedNode=getFirstNonSpacedToken(leftNode,rightNode,operator);if(nonSpacedNode){if(!(int32Hint&&sourceCode.getText(node).endsWith("|0"))){report(node,nonSpacedNode)}}}function checkConditional(node){const nonSpacedConsequentNode=getFirstNonSpacedToken(node.test,node.consequent,"?");const nonSpacedAlternateNode=getFirstNonSpacedToken(node.consequent,node.alternate,":");if(nonSpacedConsequentNode){report(node,nonSpacedConsequentNode)}if(nonSpacedAlternateNode){report(node,nonSpacedAlternateNode)}}function checkVar(node){const leftNode=node.id.typeAnnotation?node.id.typeAnnotation:node.id;const rightNode=node.init;if(rightNode){const nonSpacedNode=getFirstNonSpacedToken(leftNode,rightNode,"=");if(nonSpacedNode){report(node,nonSpacedNode)}}}return{AssignmentExpression:checkBinary,AssignmentPattern:checkBinary,BinaryExpression:checkBinary,LogicalExpression:checkBinary,ConditionalExpression:checkConditional,VariableDeclarator:checkVar,PropertyDefinition(node){if(!node.value){return}const operatorToken=sourceCode.getTokenBefore(node.value,isEqToken);const leftToken=sourceCode.getTokenBefore(operatorToken);const rightToken=sourceCode.getTokenAfter(operatorToken);if(!sourceCode.isSpaceBetweenTokens(leftToken,operatorToken)||!sourceCode.isSpaceBetweenTokens(operatorToken,rightToken)){report(node,operatorToken)}}}}};return spaceInfixOps}var spaceUnaryOps;var hasRequiredSpaceUnaryOps;function requireSpaceUnaryOps(){if(hasRequiredSpaceUnaryOps)return spaceUnaryOps;hasRequiredSpaceUnaryOps=1;const astUtils=requireAstUtils();spaceUnaryOps={meta:{type:"layout",docs:{description:"Enforce consistent spacing before or after unary operators",recommended:false,url:"https://eslint.org/docs/rules/space-unary-ops"},fixable:"whitespace",schema:[{type:"object",properties:{words:{type:"boolean",default:true},nonwords:{type:"boolean",default:false},overrides:{type:"object",additionalProperties:{type:"boolean"}}},additionalProperties:false}],messages:{unexpectedBefore:"Unexpected space before unary operator '{{operator}}'.",unexpectedAfter:"Unexpected space after unary operator '{{operator}}'.",unexpectedAfterWord:"Unexpected space after unary word operator '{{word}}'.",wordOperator:"Unary word operator '{{word}}' must be followed by whitespace.",operator:"Unary operator '{{operator}}' must be followed by whitespace.",beforeUnaryExpressions:"Space is required before unary expressions '{{token}}'."}},create(context){const options=context.options[0]||{words:true,nonwords:false};const sourceCode=context.getSourceCode();function isFirstBangInBangBangExpression(node){return node&&node.type==="UnaryExpression"&&node.argument.operator==="!"&&node.argument&&node.argument.type==="UnaryExpression"&&node.argument.operator==="!"}function overrideExistsForOperator(operator){return options.overrides&&Object.prototype.hasOwnProperty.call(options.overrides,operator)}function overrideEnforcesSpaces(operator){return options.overrides[operator]}function verifyWordHasSpaces(node,firstToken,secondToken,word){if(secondToken.range[0]===firstToken.range[1]){context.report({node:node,messageId:"wordOperator",data:{word:word},fix(fixer){return fixer.insertTextAfter(firstToken," ")}})}}function verifyWordDoesntHaveSpaces(node,firstToken,secondToken,word){if(astUtils.canTokensBeAdjacent(firstToken,secondToken)){if(secondToken.range[0]>firstToken.range[1]){context.report({node:node,messageId:"unexpectedAfterWord",data:{word:word},fix(fixer){return fixer.removeRange([firstToken.range[1],secondToken.range[0]])}})}}}function checkUnaryWordOperatorForSpaces(node,firstToken,secondToken,word){if(overrideExistsForOperator(word)){if(overrideEnforcesSpaces(word)){verifyWordHasSpaces(node,firstToken,secondToken,word)}else{verifyWordDoesntHaveSpaces(node,firstToken,secondToken,word)}}else if(options.words){verifyWordHasSpaces(node,firstToken,secondToken,word)}else{verifyWordDoesntHaveSpaces(node,firstToken,secondToken,word)}}function checkForSpacesAfterYield(node){const tokens=sourceCode.getFirstTokens(node,3),word="yield";if(!node.argument||node.delegate){return}checkUnaryWordOperatorForSpaces(node,tokens[0],tokens[1],word)}function checkForSpacesAfterAwait(node){const tokens=sourceCode.getFirstTokens(node,3);checkUnaryWordOperatorForSpaces(node,tokens[0],tokens[1],"await")}function verifyNonWordsHaveSpaces(node,firstToken,secondToken){if(node.prefix){if(isFirstBangInBangBangExpression(node)){return}if(firstToken.range[1]===secondToken.range[0]){context.report({node:node,messageId:"operator",data:{operator:firstToken.value},fix(fixer){return fixer.insertTextAfter(firstToken," ")}})}}else{if(firstToken.range[1]===secondToken.range[0]){context.report({node:node,messageId:"beforeUnaryExpressions",data:{token:secondToken.value},fix(fixer){return fixer.insertTextBefore(secondToken," ")}})}}}function verifyNonWordsDontHaveSpaces(node,firstToken,secondToken){if(node.prefix){if(secondToken.range[0]>firstToken.range[1]){context.report({node:node,messageId:"unexpectedAfter",data:{operator:firstToken.value},fix(fixer){if(astUtils.canTokensBeAdjacent(firstToken,secondToken)){return fixer.removeRange([firstToken.range[1],secondToken.range[0]])}return null}})}}else{if(secondToken.range[0]>firstToken.range[1]){context.report({node:node,messageId:"unexpectedBefore",data:{operator:secondToken.value},fix(fixer){return fixer.removeRange([firstToken.range[1],secondToken.range[0]])}})}}}function checkForSpaces(node){const tokens=node.type==="UpdateExpression"&&!node.prefix?sourceCode.getLastTokens(node,2):sourceCode.getFirstTokens(node,2);const firstToken=tokens[0];const secondToken=tokens[1];if((node.type==="NewExpression"||node.prefix)&&firstToken.type==="Keyword"){checkUnaryWordOperatorForSpaces(node,firstToken,secondToken,firstToken.value);return}const operator=node.prefix?tokens[0].value:tokens[1].value;if(overrideExistsForOperator(operator)){if(overrideEnforcesSpaces(operator)){verifyNonWordsHaveSpaces(node,firstToken,secondToken)}else{verifyNonWordsDontHaveSpaces(node,firstToken,secondToken)}}else if(options.nonwords){verifyNonWordsHaveSpaces(node,firstToken,secondToken)}else{verifyNonWordsDontHaveSpaces(node,firstToken,secondToken)}}return{UnaryExpression:checkForSpaces,UpdateExpression:checkForSpaces,NewExpression:checkForSpaces,YieldExpression:checkForSpacesAfterYield,AwaitExpression:checkForSpacesAfterAwait}}};return spaceUnaryOps}var spacedComment;var hasRequiredSpacedComment;function requireSpacedComment(){if(hasRequiredSpacedComment)return spacedComment;hasRequiredSpacedComment=1;const escapeRegExp=requireEscapeStringRegexp();const astUtils=requireAstUtils();function escape(s){return`(?:${escapeRegExp(s)})`}function escapeAndRepeat(s){return`${escape(s)}+`}function parseMarkersOption(markers){if(!markers.includes("*")){return markers.concat("*")}return markers}function createExceptionsPattern(exceptions){let pattern="";if(exceptions.length===0){pattern+="\\s"}else{pattern+="(?:\\s|";if(exceptions.length===1){pattern+=escapeAndRepeat(exceptions[0])}else{pattern+="(?:";pattern+=exceptions.map(escapeAndRepeat).join("|");pattern+=")"}pattern+=`(?:$|[${Array.from(astUtils.LINEBREAKS).join("")}]))`}return pattern}function createAlwaysStylePattern(markers,exceptions){let pattern="^";if(markers.length===1){pattern+=escape(markers[0])}else{pattern+="(?:";pattern+=markers.map(escape).join("|");pattern+=")"}pattern+="?";pattern+=createExceptionsPattern(exceptions);return new RegExp(pattern,"u")}function createNeverStylePattern(markers){const pattern=`^(${markers.map(escape).join("|")})?[ \t]+`;return new RegExp(pattern,"u")}spacedComment={meta:{type:"suggestion",docs:{description:"Enforce consistent spacing after the `//` or `/*` in a comment",recommended:false,url:"https://eslint.org/docs/rules/spaced-comment"},fixable:"whitespace",schema:[{enum:["always","never"]},{type:"object",properties:{exceptions:{type:"array",items:{type:"string"}},markers:{type:"array",items:{type:"string"}},line:{type:"object",properties:{exceptions:{type:"array",items:{type:"string"}},markers:{type:"array",items:{type:"string"}}},additionalProperties:false},block:{type:"object",properties:{exceptions:{type:"array",items:{type:"string"}},markers:{type:"array",items:{type:"string"}},balanced:{type:"boolean",default:false}},additionalProperties:false}},additionalProperties:false}],messages:{unexpectedSpaceAfterMarker:"Unexpected space or tab after marker ({{refChar}}) in comment.",expectedExceptionAfter:"Expected exception block, space or tab after '{{refChar}}' in comment.",unexpectedSpaceBefore:"Unexpected space or tab before '*/' in comment.",unexpectedSpaceAfter:"Unexpected space or tab after '{{refChar}}' in comment.",expectedSpaceBefore:"Expected space or tab before '*/' in comment.",expectedSpaceAfter:"Expected space or tab after '{{refChar}}' in comment."}},create(context){const sourceCode=context.getSourceCode();const requireSpace=context.options[0]!=="never";const config=context.options[1]||{};const balanced=config.block&&config.block.balanced;const styleRules=["block","line"].reduce(((rule,type)=>{const markers=parseMarkersOption(config[type]&&config[type].markers||config.markers||[]);const exceptions=config[type]&&config[type].exceptions||config.exceptions||[];const endNeverPattern="[ \t]+$";rule[type]={beginRegex:requireSpace?createAlwaysStylePattern(markers,exceptions):createNeverStylePattern(markers),endRegex:balanced&&requireSpace?new RegExp(`${createExceptionsPattern(exceptions)}$`,"u"):new RegExp(endNeverPattern,"u"),hasExceptions:exceptions.length>0,captureMarker:new RegExp(`^(${markers.map(escape).join("|")})`,"u"),markers:new Set(markers)};return rule}),{});function reportBegin(node,messageId,match,refChar){const type=node.type.toLowerCase(),commentIdentifier=type==="block"?"/*":"//";context.report({node:node,fix(fixer){const start=node.range[0];let end=start+2;if(requireSpace){if(match){end+=match[0].length}return fixer.insertTextAfterRange([start,end]," ")}end+=match[0].length;return fixer.replaceTextRange([start,end],commentIdentifier+(match[1]?match[1]:""))},messageId:messageId,data:{refChar:refChar}})}function reportEnd(node,messageId,match){context.report({node:node,fix(fixer){if(requireSpace){return fixer.insertTextAfterRange([node.range[0],node.range[1]-2]," ")}const end=node.range[1]-2,start=end-match[0].length;return fixer.replaceTextRange([start,end],"")},messageId:messageId})}function checkCommentForSpace(node){const type=node.type.toLowerCase(),rule=styleRules[type],commentIdentifier=type==="block"?"/*":"//";if(node.value.length===0||rule.markers.has(node.value)){return}const beginMatch=rule.beginRegex.exec(node.value);const endMatch=rule.endRegex.exec(node.value);if(requireSpace){if(!beginMatch){const hasMarker=rule.captureMarker.exec(node.value);const marker=hasMarker?commentIdentifier+hasMarker[0]:commentIdentifier;if(rule.hasExceptions){reportBegin(node,"expectedExceptionAfter",hasMarker,marker)}else{reportBegin(node,"expectedSpaceAfter",hasMarker,marker)}}if(balanced&&type==="block"&&!endMatch){reportEnd(node,"expectedSpaceBefore")}}else{if(beginMatch){if(!beginMatch[1]){reportBegin(node,"unexpectedSpaceAfter",beginMatch,commentIdentifier)}else{reportBegin(node,"unexpectedSpaceAfterMarker",beginMatch,beginMatch[1])}}if(balanced&&type==="block"&&endMatch){reportEnd(node,"unexpectedSpaceBefore",endMatch)}}}return{Program(){const comments=sourceCode.getAllComments();comments.filter((token=>token.type!=="Shebang")).forEach(checkCommentForSpace)}}}};return spacedComment}var strict;var hasRequiredStrict;function requireStrict(){if(hasRequiredStrict)return strict;hasRequiredStrict=1;const astUtils=requireAstUtils();function getUseStrictDirectives(statements){const directives=[];for(let i=0;i<statements.length;i++){const statement=statements[i];if(statement.type==="ExpressionStatement"&&statement.expression.type==="Literal"&&statement.expression.value==="use strict"){directives[i]=statement}else{break}}return directives}function isSimpleParameter(node){return node.type==="Identifier"}function isSimpleParameterList(params){return params.every(isSimpleParameter)}strict={meta:{type:"suggestion",docs:{description:"Require or disallow strict mode directives",recommended:false,url:"https://eslint.org/docs/rules/strict"},schema:[{enum:["never","global","function","safe"]}],fixable:"code",messages:{function:"Use the function form of 'use strict'.",global:"Use the global form of 'use strict'.",multiple:"Multiple 'use strict' directives.",never:"Strict mode is not permitted.",unnecessary:"Unnecessary 'use strict' directive.",module:"'use strict' is unnecessary inside of modules.",implied:"'use strict' is unnecessary when implied strict mode is enabled.",unnecessaryInClasses:"'use strict' is unnecessary inside of classes.",nonSimpleParameterList:"'use strict' directive inside a function with non-simple parameter list throws a syntax error since ES2016.",wrap:"Wrap {{name}} in a function with 'use strict' directive."}},create(context){const ecmaFeatures=context.parserOptions.ecmaFeatures||{},scopes=[],classScopes=[];let mode=context.options[0]||"safe";if(ecmaFeatures.impliedStrict){mode="implied"}else if(mode==="safe"){mode=ecmaFeatures.globalReturn||context.languageOptions.sourceType==="commonjs"?"global":"function"}function shouldFix(errorType){return errorType==="multiple"||errorType==="unnecessary"||errorType==="module"||errorType==="implied"||errorType==="unnecessaryInClasses"}function getFixFunction(node){return fixer=>fixer.remove(node)}function reportSlice(nodes,start,end,messageId,fix){nodes.slice(start,end).forEach((node=>{context.report({node:node,messageId:messageId,fix:fix?getFixFunction(node):null})}))}function reportAll(nodes,messageId,fix){reportSlice(nodes,0,nodes.length,messageId,fix)}function reportAllExceptFirst(nodes,messageId,fix){reportSlice(nodes,1,nodes.length,messageId,fix)}function enterFunctionInFunctionMode(node,useStrictDirectives){const isInClass=classScopes.length>0,isParentGlobal=scopes.length===0&&classScopes.length===0,isParentStrict=scopes.length>0&&scopes[scopes.length-1],isStrict=useStrictDirectives.length>0;if(isStrict){if(!isSimpleParameterList(node.params)){context.report({node:useStrictDirectives[0],messageId:"nonSimpleParameterList"})}else if(isParentStrict){context.report({node:useStrictDirectives[0],messageId:"unnecessary",fix:getFixFunction(useStrictDirectives[0])})}else if(isInClass){context.report({node:useStrictDirectives[0],messageId:"unnecessaryInClasses",fix:getFixFunction(useStrictDirectives[0])})}reportAllExceptFirst(useStrictDirectives,"multiple",true)}else if(isParentGlobal){if(isSimpleParameterList(node.params)){context.report({node:node,messageId:"function"})}else{context.report({node:node,messageId:"wrap",data:{name:astUtils.getFunctionNameWithKind(node)}})}}scopes.push(isParentStrict||isStrict)}function exitFunctionInFunctionMode(){scopes.pop()}function enterFunction(node){const isBlock=node.body.type==="BlockStatement",useStrictDirectives=isBlock?getUseStrictDirectives(node.body.body):[];if(mode==="function"){enterFunctionInFunctionMode(node,useStrictDirectives)}else if(useStrictDirectives.length>0){if(isSimpleParameterList(node.params)){reportAll(useStrictDirectives,mode,shouldFix(mode))}else{context.report({node:useStrictDirectives[0],messageId:"nonSimpleParameterList"});reportAllExceptFirst(useStrictDirectives,"multiple",true)}}}const rule={Program(node){const useStrictDirectives=getUseStrictDirectives(node.body);if(node.sourceType==="module"){mode="module"}if(mode==="global"){if(node.body.length>0&&useStrictDirectives.length===0){context.report({node:node,messageId:"global"})}reportAllExceptFirst(useStrictDirectives,"multiple",true)}else{reportAll(useStrictDirectives,mode,shouldFix(mode))}},FunctionDeclaration:enterFunction,FunctionExpression:enterFunction,ArrowFunctionExpression:enterFunction};if(mode==="function"){Object.assign(rule,{ClassBody(){classScopes.push(true)},"ClassBody:exit"(){classScopes.pop()},"FunctionDeclaration:exit":exitFunctionInFunctionMode,"FunctionExpression:exit":exitFunctionInFunctionMode,"ArrowFunctionExpression:exit":exitFunctionInFunctionMode})}return rule}};return strict}var switchColonSpacing;var hasRequiredSwitchColonSpacing;function requireSwitchColonSpacing(){if(hasRequiredSwitchColonSpacing)return switchColonSpacing;hasRequiredSwitchColonSpacing=1;const astUtils=requireAstUtils();switchColonSpacing={meta:{type:"layout",docs:{description:"Enforce spacing around colons of switch statements",recommended:false,url:"https://eslint.org/docs/rules/switch-colon-spacing"},schema:[{type:"object",properties:{before:{type:"boolean",default:false},after:{type:"boolean",default:true}},additionalProperties:false}],fixable:"whitespace",messages:{expectedBefore:"Expected space(s) before this colon.",expectedAfter:"Expected space(s) after this colon.",unexpectedBefore:"Unexpected space(s) before this colon.",unexpectedAfter:"Unexpected space(s) after this colon."}},create(context){const sourceCode=context.getSourceCode();const options=context.options[0]||{};const beforeSpacing=options.before===true;const afterSpacing=options.after!==false;function isValidSpacing(left,right,expected){return astUtils.isClosingBraceToken(right)||!astUtils.isTokenOnSameLine(left,right)||sourceCode.isSpaceBetweenTokens(left,right)===expected}function commentsExistBetween(left,right){return sourceCode.getFirstTokenBetween(left,right,{includeComments:true,filter:astUtils.isCommentToken})!==null}function fix(fixer,left,right,spacing){if(commentsExistBetween(left,right)){return null}if(spacing){return fixer.insertTextAfter(left," ")}return fixer.removeRange([left.range[1],right.range[0]])}return{SwitchCase(node){const colonToken=astUtils.getSwitchCaseColonToken(node,sourceCode);const beforeToken=sourceCode.getTokenBefore(colonToken);const afterToken=sourceCode.getTokenAfter(colonToken);if(!isValidSpacing(beforeToken,colonToken,beforeSpacing)){context.report({node:node,loc:colonToken.loc,messageId:beforeSpacing?"expectedBefore":"unexpectedBefore",fix:fixer=>fix(fixer,beforeToken,colonToken,beforeSpacing)})}if(!isValidSpacing(colonToken,afterToken,afterSpacing)){context.report({node:node,loc:colonToken.loc,messageId:afterSpacing?"expectedAfter":"unexpectedAfter",fix:fixer=>fix(fixer,colonToken,afterToken,afterSpacing)})}}}}};return switchColonSpacing}var symbolDescription;var hasRequiredSymbolDescription;function requireSymbolDescription(){if(hasRequiredSymbolDescription)return symbolDescription;hasRequiredSymbolDescription=1;const astUtils=requireAstUtils();symbolDescription={meta:{type:"suggestion",docs:{description:"Require symbol descriptions",recommended:false,url:"https://eslint.org/docs/rules/symbol-description"},fixable:null,schema:[],messages:{expected:"Expected Symbol to have a description."}},create(context){function checkArgument(node){if(node.arguments.length===0){context.report({node:node,messageId:"expected"})}}return{"Program:exit"(){const scope=context.getScope();const variable=astUtils.getVariableByName(scope,"Symbol");if(variable&&variable.defs.length===0){variable.references.forEach((reference=>{const node=reference.identifier;if(astUtils.isCallee(node)){checkArgument(node.parent)}}))}}}}};return symbolDescription}var templateCurlySpacing;var hasRequiredTemplateCurlySpacing;function requireTemplateCurlySpacing(){if(hasRequiredTemplateCurlySpacing)return templateCurlySpacing;hasRequiredTemplateCurlySpacing=1;const astUtils=requireAstUtils();templateCurlySpacing={meta:{type:"layout",docs:{description:"Require or disallow spacing around embedded expressions of template strings",recommended:false,url:"https://eslint.org/docs/rules/template-curly-spacing"},fixable:"whitespace",schema:[{enum:["always","never"]}],messages:{expectedBefore:"Expected space(s) before '}'.",expectedAfter:"Expected space(s) after '${'.",unexpectedBefore:"Unexpected space(s) before '}'.",unexpectedAfter:"Unexpected space(s) after '${'."}},create(context){const sourceCode=context.getSourceCode();const always=context.options[0]==="always";function checkSpacingBefore(token){if(!token.value.startsWith("}")){return}const prevToken=sourceCode.getTokenBefore(token,{includeComments:true}),hasSpace=sourceCode.isSpaceBetween(prevToken,token);if(!astUtils.isTokenOnSameLine(prevToken,token)){return}if(always&&!hasSpace){context.report({loc:{start:token.loc.start,end:{line:token.loc.start.line,column:token.loc.start.column+1}},messageId:"expectedBefore",fix:fixer=>fixer.insertTextBefore(token," ")})}if(!always&&hasSpace){context.report({loc:{start:prevToken.loc.end,end:token.loc.start},messageId:"unexpectedBefore",fix:fixer=>fixer.removeRange([prevToken.range[1],token.range[0]])})}}function checkSpacingAfter(token){if(!token.value.endsWith("${")){return}const nextToken=sourceCode.getTokenAfter(token,{includeComments:true}),hasSpace=sourceCode.isSpaceBetween(token,nextToken);if(!astUtils.isTokenOnSameLine(token,nextToken)){return}if(always&&!hasSpace){context.report({loc:{start:{line:token.loc.end.line,column:token.loc.end.column-2},end:token.loc.end},messageId:"expectedAfter",fix:fixer=>fixer.insertTextAfter(token," ")})}if(!always&&hasSpace){context.report({loc:{start:token.loc.end,end:nextToken.loc.start},messageId:"unexpectedAfter",fix:fixer=>fixer.removeRange([token.range[1],nextToken.range[0]])})}}return{TemplateElement(node){const token=sourceCode.getFirstToken(node);checkSpacingBefore(token);checkSpacingAfter(token)}}}};return templateCurlySpacing}var templateTagSpacing;var hasRequiredTemplateTagSpacing;function requireTemplateTagSpacing(){if(hasRequiredTemplateTagSpacing)return templateTagSpacing;hasRequiredTemplateTagSpacing=1;templateTagSpacing={meta:{type:"layout",docs:{description:"Require or disallow spacing between template tags and their literals",recommended:false,url:"https://eslint.org/docs/rules/template-tag-spacing"},fixable:"whitespace",schema:[{enum:["always","never"]}],messages:{unexpected:"Unexpected space between template tag and template literal.",missing:"Missing space between template tag and template literal."}},create(context){const never=context.options[0]!=="always";const sourceCode=context.getSourceCode();function checkSpacing(node){const tagToken=sourceCode.getTokenBefore(node.quasi);const literalToken=sourceCode.getFirstToken(node.quasi);const hasWhitespace=sourceCode.isSpaceBetweenTokens(tagToken,literalToken);if(never&&hasWhitespace){context.report({node:node,loc:{start:tagToken.loc.end,end:literalToken.loc.start},messageId:"unexpected",fix(fixer){const comments=sourceCode.getCommentsBefore(node.quasi);if(comments.some((comment=>comment.type==="Line"))){return null}return fixer.replaceTextRange([tagToken.range[1],literalToken.range[0]],comments.reduce(((text,comment)=>text+sourceCode.getText(comment)),""))}})}else if(!never&&!hasWhitespace){context.report({node:node,loc:{start:node.loc.start,end:literalToken.loc.start},messageId:"missing",fix(fixer){return fixer.insertTextAfter(tagToken," ")}})}}return{TaggedTemplateExpression:checkSpacing}}};return templateTagSpacing}var unicodeBom;var hasRequiredUnicodeBom;function requireUnicodeBom(){if(hasRequiredUnicodeBom)return unicodeBom;hasRequiredUnicodeBom=1;unicodeBom={meta:{type:"layout",docs:{description:"Require or disallow Unicode byte order mark (BOM)",recommended:false,url:"https://eslint.org/docs/rules/unicode-bom"},fixable:"whitespace",schema:[{enum:["always","never"]}],messages:{expected:"Expected Unicode BOM (Byte Order Mark).",unexpected:"Unexpected Unicode BOM (Byte Order Mark)."}},create(context){return{Program:function checkUnicodeBOM(node){const sourceCode=context.getSourceCode(),location={column:0,line:1},requireBOM=context.options[0]||"never";if(!sourceCode.hasBOM&&requireBOM==="always"){context.report({node:node,loc:location,messageId:"expected",fix(fixer){return fixer.insertTextBeforeRange([0,1],"\ufeff")}})}else if(sourceCode.hasBOM&&requireBOM==="never"){context.report({node:node,loc:location,messageId:"unexpected",fix(fixer){return fixer.removeRange([-1,0])}})}}}}};return unicodeBom}var useIsnan;var hasRequiredUseIsnan;function requireUseIsnan(){if(hasRequiredUseIsnan)return useIsnan;hasRequiredUseIsnan=1;const astUtils=requireAstUtils();function isNaNIdentifier(node){return Boolean(node)&&(astUtils.isSpecificId(node,"NaN")||astUtils.isSpecificMemberAccess(node,"Number","NaN"))}useIsnan={meta:{type:"problem",docs:{description:"Require calls to `isNaN()` when checking for `NaN`",recommended:true,url:"https://eslint.org/docs/rules/use-isnan"},schema:[{type:"object",properties:{enforceForSwitchCase:{type:"boolean",default:true},enforceForIndexOf:{type:"boolean",default:false}},additionalProperties:false}],messages:{comparisonWithNaN:"Use the isNaN function to compare with NaN.",switchNaN:"'switch(NaN)' can never match a case clause. Use Number.isNaN instead of the switch.",caseNaN:"'case NaN' can never match. Use Number.isNaN before the switch.",indexOfNaN:"Array prototype method '{{ methodName }}' cannot find NaN."}},create(context){const enforceForSwitchCase=!context.options[0]||context.options[0].enforceForSwitchCase;const enforceForIndexOf=context.options[0]&&context.options[0].enforceForIndexOf;function checkBinaryExpression(node){if(/^(?:[<>]|[!=]=)=?$/u.test(node.operator)&&(isNaNIdentifier(node.left)||isNaNIdentifier(node.right))){context.report({node:node,messageId:"comparisonWithNaN"})}}function checkSwitchStatement(node){if(isNaNIdentifier(node.discriminant)){context.report({node:node,messageId:"switchNaN"})}for(const switchCase of node.cases){if(isNaNIdentifier(switchCase.test)){context.report({node:switchCase,messageId:"caseNaN"})}}}function checkCallExpression(node){const callee=astUtils.skipChainExpression(node.callee);if(callee.type==="MemberExpression"){const methodName=astUtils.getStaticPropertyName(callee);if((methodName==="indexOf"||methodName==="lastIndexOf")&&node.arguments.length===1&&isNaNIdentifier(node.arguments[0])){context.report({node:node,messageId:"indexOfNaN",data:{methodName:methodName}})}}}const listeners={BinaryExpression:checkBinaryExpression};if(enforceForSwitchCase){listeners.SwitchStatement=checkSwitchStatement}if(enforceForIndexOf){listeners.CallExpression=checkCallExpression}return listeners}};return useIsnan}var doctrine={};var typed={};var utility={};var name="doctrine";var description$1="JSDoc parser";var homepage="https://github.com/eslint/doctrine";var main="lib/doctrine.js";var version="3.0.0";var engines={node:">=6.0.0"};var directories={lib:"./lib"};var files=["lib"];var maintainers=[{name:"Nicholas C. Zakas",email:"nicholas+npm@nczconsulting.com",web:"https://www.nczonline.net"},{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"https://github.com/Constellation"}];var repository="eslint/doctrine";var devDependencies={coveralls:"^3.0.1",dateformat:"^1.0.11",eslint:"^1.10.3","eslint-release":"^1.0.0",linefix:"^0.1.1",mocha:"^3.4.2","npm-license":"^0.3.1",nyc:"^10.3.2",semver:"^5.0.3",shelljs:"^0.5.3","shelljs-nodecli":"^0.1.1",should:"^5.0.1"};var license="Apache-2.0";var scripts={pretest:"npm run lint",test:"nyc mocha",coveralls:"nyc report --reporter=text-lcov | coveralls",lint:"eslint lib/","generate-release":"eslint-generate-release","generate-alpharelease":"eslint-generate-prerelease alpha","generate-betarelease":"eslint-generate-prerelease beta","generate-rcrelease":"eslint-generate-prerelease rc","publish-release":"eslint-publish-release"};var dependencies$1={esutils:"^2.0.2"};var require$$0={name:name,description:description$1,homepage:homepage,main:main,version:version,engines:engines,directories:directories,files:files,maintainers:maintainers,repository:repository,devDependencies:devDependencies,license:license,scripts:scripts,dependencies:dependencies$1};var hasRequiredUtility;function requireUtility(){if(hasRequiredUtility)return utility;hasRequiredUtility=1;(function(){var VERSION;VERSION=require$$0.version;utility.VERSION=VERSION;function DoctrineError(message){this.name="DoctrineError";this.message=message}DoctrineError.prototype=function(){var Middle=function(){};Middle.prototype=Error.prototype;return new Middle}();DoctrineError.prototype.constructor=DoctrineError;utility.DoctrineError=DoctrineError;function throwError(message){throw new DoctrineError(message)}utility.throwError=throwError;utility.assert=assert})();return utility}var hasRequiredTyped;function requireTyped(){if(hasRequiredTyped)return typed;hasRequiredTyped=1;(function(){var Syntax,Token,source,length,index,previous,token,value,esutils,utility,rangeOffset,addRange;esutils=requireUtils();utility=requireUtility();Syntax={NullableLiteral:"NullableLiteral",AllLiteral:"AllLiteral",NullLiteral:"NullLiteral",UndefinedLiteral:"UndefinedLiteral",VoidLiteral:"VoidLiteral",UnionType:"UnionType",ArrayType:"ArrayType",RecordType:"RecordType",FieldType:"FieldType",FunctionType:"FunctionType",ParameterType:"ParameterType",RestType:"RestType",NonNullableType:"NonNullableType",OptionalType:"OptionalType",NullableType:"NullableType",NameExpression:"NameExpression",TypeApplication:"TypeApplication",StringLiteralType:"StringLiteralType",NumericLiteralType:"NumericLiteralType",BooleanLiteralType:"BooleanLiteralType"};Token={ILLEGAL:0,DOT_LT:1,REST:2,LT:3,GT:4,LPAREN:5,RPAREN:6,LBRACE:7,RBRACE:8,LBRACK:9,RBRACK:10,COMMA:11,COLON:12,STAR:13,PIPE:14,QUESTION:15,BANG:16,EQUAL:17,NAME:18,STRING:19,NUMBER:20,EOF:21};function isTypeName(ch){return"><(){}[],:*|?!=".indexOf(String.fromCharCode(ch))===-1&&!esutils.code.isWhiteSpace(ch)&&!esutils.code.isLineTerminator(ch)}function Context(previous,index,token,value){this._previous=previous;this._index=index;this._token=token;this._value=value}Context.prototype.restore=function(){previous=this._previous;index=this._index;token=this._token;value=this._value};Context.save=function(){return new Context(previous,index,token,value)};function maybeAddRange(node,range){if(addRange){node.range=[range[0]+rangeOffset,range[1]+rangeOffset]}return node}function advance(){var ch=source.charAt(index);index+=1;return ch}function scanHexEscape(prefix){var i,len,ch,code=0;len=prefix==="u"?4:2;for(i=0;i<len;++i){if(index<length&&esutils.code.isHexDigit(source.charCodeAt(index))){ch=advance();code=code*16+"0123456789abcdef".indexOf(ch.toLowerCase())}else{return""}}return String.fromCharCode(code)}function scanString(){var str="",quote,ch,code,unescaped,restore;quote=source.charAt(index);++index;while(index<length){ch=advance();if(ch===quote){quote="";break}else if(ch==="\\"){ch=advance();if(!esutils.code.isLineTerminator(ch.charCodeAt(0))){switch(ch){case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="\t";break;case"u":case"x":restore=index;unescaped=scanHexEscape(ch);if(unescaped){str+=unescaped}else{index=restore;str+=ch}break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="\v";break;default:if(esutils.code.isOctalDigit(ch.charCodeAt(0))){code="01234567".indexOf(ch);if(index<length&&esutils.code.isOctalDigit(source.charCodeAt(index))){code=code*8+"01234567".indexOf(advance());if("0123".indexOf(ch)>=0&&index<length&&esutils.code.isOctalDigit(source.charCodeAt(index))){code=code*8+"01234567".indexOf(advance())}}str+=String.fromCharCode(code)}else{str+=ch}break}}else{if(ch==="\r"&&source.charCodeAt(index)===10){++index}}}else if(esutils.code.isLineTerminator(ch.charCodeAt(0))){break}else{str+=ch}}if(quote!==""){utility.throwError("unexpected quote")}value=str;return Token.STRING}function scanNumber(){var number,ch;number="";ch=source.charCodeAt(index);if(ch!==46){number=advance();ch=source.charCodeAt(index);if(number==="0"){if(ch===120||ch===88){number+=advance();while(index<length){ch=source.charCodeAt(index);if(!esutils.code.isHexDigit(ch)){break}number+=advance()}if(number.length<=2){utility.throwError("unexpected token")}if(index<length){ch=source.charCodeAt(index);if(esutils.code.isIdentifierStartES5(ch)){utility.throwError("unexpected token")}}value=parseInt(number,16);return Token.NUMBER}if(esutils.code.isOctalDigit(ch)){number+=advance();while(index<length){ch=source.charCodeAt(index);if(!esutils.code.isOctalDigit(ch)){break}number+=advance()}if(index<length){ch=source.charCodeAt(index);if(esutils.code.isIdentifierStartES5(ch)||esutils.code.isDecimalDigit(ch)){utility.throwError("unexpected token")}}value=parseInt(number,8);return Token.NUMBER}if(esutils.code.isDecimalDigit(ch)){utility.throwError("unexpected token")}}while(index<length){ch=source.charCodeAt(index);if(!esutils.code.isDecimalDigit(ch)){break}number+=advance()}}if(ch===46){number+=advance();while(index<length){ch=source.charCodeAt(index);if(!esutils.code.isDecimalDigit(ch)){break}number+=advance()}}if(ch===101||ch===69){number+=advance();ch=source.charCodeAt(index);if(ch===43||ch===45){number+=advance()}ch=source.charCodeAt(index);if(esutils.code.isDecimalDigit(ch)){number+=advance();while(index<length){ch=source.charCodeAt(index);if(!esutils.code.isDecimalDigit(ch)){break}number+=advance()}}else{utility.throwError("unexpected token")}}if(index<length){ch=source.charCodeAt(index);if(esutils.code.isIdentifierStartES5(ch)){utility.throwError("unexpected token")}}value=parseFloat(number);return Token.NUMBER}function scanTypeName(){var ch,ch2;value=advance();while(index<length&&isTypeName(source.charCodeAt(index))){ch=source.charCodeAt(index);if(ch===46){if(index+1>=length){return Token.ILLEGAL}ch2=source.charCodeAt(index+1);if(ch2===60){break}}value+=advance()}return Token.NAME}function next(){var ch;previous=index;while(index<length&&esutils.code.isWhiteSpace(source.charCodeAt(index))){advance()}if(index>=length){token=Token.EOF;return token}ch=source.charCodeAt(index);switch(ch){case 39:case 34:token=scanString();return token;case 58:advance();token=Token.COLON;return token;case 44:advance();token=Token.COMMA;return token;case 40:advance();token=Token.LPAREN;return token;case 41:advance();token=Token.RPAREN;return token;case 91:advance();token=Token.LBRACK;return token;case 93:advance();token=Token.RBRACK;return token;case 123:advance();token=Token.LBRACE;return token;case 125:advance();token=Token.RBRACE;return token;case 46:if(index+1<length){ch=source.charCodeAt(index+1);if(ch===60){advance();advance();token=Token.DOT_LT;return token}if(ch===46&&index+2<length&&source.charCodeAt(index+2)===46){advance();advance();advance();token=Token.REST;return token}if(esutils.code.isDecimalDigit(ch)){token=scanNumber();return token}}token=Token.ILLEGAL;return token;case 60:advance();token=Token.LT;return token;case 62:advance();token=Token.GT;return token;case 42:advance();token=Token.STAR;return token;case 124:advance();token=Token.PIPE;return token;case 63:advance();token=Token.QUESTION;return token;case 33:advance();token=Token.BANG;return token;case 61:advance();token=Token.EQUAL;return token;case 45:token=scanNumber();return token;default:if(esutils.code.isDecimalDigit(ch)){token=scanNumber();return token}utility.assert(isTypeName(ch));token=scanTypeName();return token}}function consume(target,text){utility.assert(token===target,text||"consumed token not matched");next()}function expect(target,message){if(token!==target){utility.throwError(message||"unexpected token")}next()}function parseUnionType(){var elements,startIndex=index-1;consume(Token.LPAREN,"UnionType should start with (");elements=[];if(token!==Token.RPAREN){while(true){elements.push(parseTypeExpression());if(token===Token.RPAREN){break}expect(Token.PIPE)}}consume(Token.RPAREN,"UnionType should end with )");return maybeAddRange({type:Syntax.UnionType,elements:elements},[startIndex,previous])}function parseArrayType(){var elements,startIndex=index-1,restStartIndex;consume(Token.LBRACK,"ArrayType should start with [");elements=[];while(token!==Token.RBRACK){if(token===Token.REST){restStartIndex=index-3;consume(Token.REST);elements.push(maybeAddRange({type:Syntax.RestType,expression:parseTypeExpression()},[restStartIndex,previous]));break}else{elements.push(parseTypeExpression())}if(token!==Token.RBRACK){expect(Token.COMMA)}}expect(Token.RBRACK);return maybeAddRange({type:Syntax.ArrayType,elements:elements},[startIndex,previous])}function parseFieldName(){var v=value;if(token===Token.NAME||token===Token.STRING){next();return v}if(token===Token.NUMBER){consume(Token.NUMBER);return String(v)}utility.throwError("unexpected token")}function parseFieldType(){var key,rangeStart=previous;key=parseFieldName();if(token===Token.COLON){consume(Token.COLON);return maybeAddRange({type:Syntax.FieldType,key:key,value:parseTypeExpression()},[rangeStart,previous])}return maybeAddRange({type:Syntax.FieldType,key:key,value:null},[rangeStart,previous])}function parseRecordType(){var fields,rangeStart=index-1,rangeEnd;consume(Token.LBRACE,"RecordType should start with {");fields=[];if(token===Token.COMMA){consume(Token.COMMA)}else{while(token!==Token.RBRACE){fields.push(parseFieldType());if(token!==Token.RBRACE){expect(Token.COMMA)}}}rangeEnd=index;expect(Token.RBRACE);return maybeAddRange({type:Syntax.RecordType,fields:fields},[rangeStart,rangeEnd])}function parseNameExpression(){var name=value,rangeStart=index-name.length;expect(Token.NAME);if(token===Token.COLON&&(name==="module"||name==="external"||name==="event")){consume(Token.COLON);name+=":"+value;expect(Token.NAME)}return maybeAddRange({type:Syntax.NameExpression,name:name},[rangeStart,previous])}function parseTypeExpressionList(){var elements=[];elements.push(parseTop());while(token===Token.COMMA){consume(Token.COMMA);elements.push(parseTop())}return elements}function parseTypeName(){var expr,applications,startIndex=index-value.length;expr=parseNameExpression();if(token===Token.DOT_LT||token===Token.LT){next();applications=parseTypeExpressionList();expect(Token.GT);return maybeAddRange({type:Syntax.TypeApplication,expression:expr,applications:applications},[startIndex,previous])}return expr}function parseResultType(){consume(Token.COLON,"ResultType should start with :");if(token===Token.NAME&&value==="void"){consume(Token.NAME);return{type:Syntax.VoidLiteral}}return parseTypeExpression()}function parseParametersType(){var params=[],optionalSequence=false,expr,rest=false,startIndex,restStartIndex=index-3,nameStartIndex;while(token!==Token.RPAREN){if(token===Token.REST){consume(Token.REST);rest=true}startIndex=previous;expr=parseTypeExpression();if(expr.type===Syntax.NameExpression&&token===Token.COLON){nameStartIndex=previous-expr.name.length;consume(Token.COLON);expr=maybeAddRange({type:Syntax.ParameterType,name:expr.name,expression:parseTypeExpression()},[nameStartIndex,previous])}if(token===Token.EQUAL){consume(Token.EQUAL);expr=maybeAddRange({type:Syntax.OptionalType,expression:expr},[startIndex,previous]);optionalSequence=true}else{if(optionalSequence){utility.throwError("unexpected token")}}if(rest){expr=maybeAddRange({type:Syntax.RestType,expression:expr},[restStartIndex,previous])}params.push(expr);if(token!==Token.RPAREN){expect(Token.COMMA)}}return params}function parseFunctionType(){var isNew,thisBinding,params,result,fnType,startIndex=index-value.length;utility.assert(token===Token.NAME&&value==="function","FunctionType should start with 'function'");consume(Token.NAME);expect(Token.LPAREN);isNew=false;params=[];thisBinding=null;if(token!==Token.RPAREN){if(token===Token.NAME&&(value==="this"||value==="new")){isNew=value==="new";consume(Token.NAME);expect(Token.COLON);thisBinding=parseTypeName();if(token===Token.COMMA){consume(Token.COMMA);params=parseParametersType()}}else{params=parseParametersType()}}expect(Token.RPAREN);result=null;if(token===Token.COLON){result=parseResultType()}fnType=maybeAddRange({type:Syntax.FunctionType,params:params,result:result},[startIndex,previous]);if(thisBinding){fnType["this"]=thisBinding;if(isNew){fnType["new"]=true}}return fnType}function parseBasicTypeExpression(){var context,startIndex;switch(token){case Token.STAR:consume(Token.STAR);return maybeAddRange({type:Syntax.AllLiteral},[previous-1,previous]);case Token.LPAREN:return parseUnionType();case Token.LBRACK:return parseArrayType();case Token.LBRACE:return parseRecordType();case Token.NAME:startIndex=index-value.length;if(value==="null"){consume(Token.NAME);return maybeAddRange({type:Syntax.NullLiteral},[startIndex,previous])}if(value==="undefined"){consume(Token.NAME);return maybeAddRange({type:Syntax.UndefinedLiteral},[startIndex,previous])}if(value==="true"||value==="false"){consume(Token.NAME);return maybeAddRange({type:Syntax.BooleanLiteralType,value:value==="true"},[startIndex,previous])}context=Context.save();if(value==="function"){try{return parseFunctionType()}catch(e){context.restore()}}return parseTypeName();case Token.STRING:next();return maybeAddRange({type:Syntax.StringLiteralType,value:value},[previous-value.length-2,previous]);case Token.NUMBER:next();return maybeAddRange({type:Syntax.NumericLiteralType,value:value},[previous-String(value).length,previous]);default:utility.throwError("unexpected token")}}function parseTypeExpression(){var expr,rangeStart;if(token===Token.QUESTION){rangeStart=index-1;consume(Token.QUESTION);if(token===Token.COMMA||token===Token.EQUAL||token===Token.RBRACE||token===Token.RPAREN||token===Token.PIPE||token===Token.EOF||token===Token.RBRACK||token===Token.GT){return maybeAddRange({type:Syntax.NullableLiteral},[rangeStart,previous])}return maybeAddRange({type:Syntax.NullableType,expression:parseBasicTypeExpression(),prefix:true},[rangeStart,previous])}else if(token===Token.BANG){rangeStart=index-1;consume(Token.BANG);return maybeAddRange({type:Syntax.NonNullableType,expression:parseBasicTypeExpression(),prefix:true},[rangeStart,previous])}else{rangeStart=previous}expr=parseBasicTypeExpression();if(token===Token.BANG){consume(Token.BANG);return maybeAddRange({type:Syntax.NonNullableType,expression:expr,prefix:false},[rangeStart,previous])}if(token===Token.QUESTION){consume(Token.QUESTION);return maybeAddRange({type:Syntax.NullableType,expression:expr,prefix:false},[rangeStart,previous])}if(token===Token.LBRACK){consume(Token.LBRACK);expect(Token.RBRACK,"expected an array-style type declaration ("+value+"[])");return maybeAddRange({type:Syntax.TypeApplication,expression:maybeAddRange({type:Syntax.NameExpression,name:"Array"},[rangeStart,previous]),applications:[expr]},[rangeStart,previous])}return expr}function parseTop(){var expr,elements;expr=parseTypeExpression();if(token!==Token.PIPE){return expr}elements=[expr];consume(Token.PIPE);while(true){elements.push(parseTypeExpression());if(token!==Token.PIPE){break}consume(Token.PIPE)}return maybeAddRange({type:Syntax.UnionType,elements:elements},[0,index])}function parseTopParamType(){var expr;if(token===Token.REST){consume(Token.REST);return maybeAddRange({type:Syntax.RestType,expression:parseTop()},[0,index])}expr=parseTop();if(token===Token.EQUAL){consume(Token.EQUAL);return maybeAddRange({type:Syntax.OptionalType,expression:expr},[0,index])}return expr}function parseType(src,opt){var expr;source=src;length=source.length;index=0;previous=0;addRange=opt&&opt.range;rangeOffset=opt&&opt.startIndex||0;next();expr=parseTop();if(opt&&opt.midstream){return{expression:expr,index:previous}}if(token!==Token.EOF){utility.throwError("not reach to EOF")}return expr}function parseParamType(src,opt){var expr;source=src;length=source.length;index=0;previous=0;addRange=opt&&opt.range;rangeOffset=opt&&opt.startIndex||0;next();expr=parseTopParamType();if(opt&&opt.midstream){return{expression:expr,index:previous}}if(token!==Token.EOF){utility.throwError("not reach to EOF")}return expr}function stringifyImpl(node,compact,topLevel){var result,i,iz;switch(node.type){case Syntax.NullableLiteral:result="?";break;case Syntax.AllLiteral:result="*";break;case Syntax.NullLiteral:result="null";break;case Syntax.UndefinedLiteral:result="undefined";break;case Syntax.VoidLiteral:result="void";break;case Syntax.UnionType:if(!topLevel){result="("}else{result=""}for(i=0,iz=node.elements.length;i<iz;++i){result+=stringifyImpl(node.elements[i],compact);if(i+1!==iz){result+=compact?"|":" | "}}if(!topLevel){result+=")"}break;case Syntax.ArrayType:result="[";for(i=0,iz=node.elements.length;i<iz;++i){result+=stringifyImpl(node.elements[i],compact);if(i+1!==iz){result+=compact?",":", "}}result+="]";break;case Syntax.RecordType:result="{";for(i=0,iz=node.fields.length;i<iz;++i){result+=stringifyImpl(node.fields[i],compact);if(i+1!==iz){result+=compact?",":", "}}result+="}";break;case Syntax.FieldType:if(node.value){result=node.key+(compact?":":": ")+stringifyImpl(node.value,compact)}else{result=node.key}break;case Syntax.FunctionType:result=compact?"function(":"function (";if(node["this"]){if(node["new"]){result+=compact?"new:":"new: "}else{result+=compact?"this:":"this: "}result+=stringifyImpl(node["this"],compact);if(node.params.length!==0){result+=compact?",":", "}}for(i=0,iz=node.params.length;i<iz;++i){result+=stringifyImpl(node.params[i],compact);if(i+1!==iz){result+=compact?",":", "}}result+=")";if(node.result){result+=(compact?":":": ")+stringifyImpl(node.result,compact)}break;case Syntax.ParameterType:result=node.name+(compact?":":": ")+stringifyImpl(node.expression,compact);break;case Syntax.RestType:result="...";if(node.expression){result+=stringifyImpl(node.expression,compact)}break;case Syntax.NonNullableType:if(node.prefix){result="!"+stringifyImpl(node.expression,compact)}else{result=stringifyImpl(node.expression,compact)+"!"}break;case Syntax.OptionalType:result=stringifyImpl(node.expression,compact)+"=";break;case Syntax.NullableType:if(node.prefix){result="?"+stringifyImpl(node.expression,compact)}else{result=stringifyImpl(node.expression,compact)+"?"}break;case Syntax.NameExpression:result=node.name;break;case Syntax.TypeApplication:result=stringifyImpl(node.expression,compact)+".<";for(i=0,iz=node.applications.length;i<iz;++i){result+=stringifyImpl(node.applications[i],compact);if(i+1!==iz){result+=compact?",":", "}}result+=">";break;case Syntax.StringLiteralType:result='"'+node.value+'"';break;case Syntax.NumericLiteralType:result=String(node.value);break;case Syntax.BooleanLiteralType:result=String(node.value);break;default:utility.throwError("Unknown type "+node.type)}return result}function stringify(node,options){if(options==null){options={}}return stringifyImpl(node,options.compact,options.topLevel)}typed.parseType=parseType;typed.parseParamType=parseParamType;typed.stringify=stringify;typed.Syntax=Syntax})();return typed}var hasRequiredDoctrine;function requireDoctrine(){if(hasRequiredDoctrine)return doctrine;hasRequiredDoctrine=1;(function(exports){(function(){var typed,utility,jsdoc,esutils,hasOwnProperty;esutils=requireUtils();typed=requireTyped();utility=requireUtility();function sliceSource(source,index,last){return source.slice(index,last)}hasOwnProperty=function(){var func=Object.prototype.hasOwnProperty;return function hasOwnProperty(obj,name){return func.call(obj,name)}}();function shallowCopy(obj){var ret={},key;for(key in obj){if(obj.hasOwnProperty(key)){ret[key]=obj[key]}}return ret}function isASCIIAlphanumeric(ch){return ch>=97&&ch<=122||ch>=65&&ch<=90||ch>=48&&ch<=57}function isParamTitle(title){return title==="param"||title==="argument"||title==="arg"}function isReturnTitle(title){return title==="return"||title==="returns"}function isProperty(title){return title==="property"||title==="prop"}function isNameParameterRequired(title){return isParamTitle(title)||isProperty(title)||title==="alias"||title==="this"||title==="mixes"||title==="requires"}function isAllowedName(title){return isNameParameterRequired(title)||title==="const"||title==="constant"}function isAllowedNested(title){return isProperty(title)||isParamTitle(title)}function isAllowedOptional(title){return isProperty(title)||isParamTitle(title)}function isTypeParameterRequired(title){return isParamTitle(title)||isReturnTitle(title)||title==="define"||title==="enum"||title==="implements"||title==="this"||title==="type"||title==="typedef"||isProperty(title)}function isAllowedType(title){return isTypeParameterRequired(title)||title==="throws"||title==="const"||title==="constant"||title==="namespace"||title==="member"||title==="var"||title==="module"||title==="constructor"||title==="class"||title==="extends"||title==="augments"||title==="public"||title==="private"||title==="protected"}var WHITESPACE="[ \\f\\t\\v\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]";var STAR_MATCHER="("+WHITESPACE+"*(?:\\*"+WHITESPACE+"?)?)(.+|[\r\n\u2028\u2029])";function unwrapComment(doc){return doc.replace(/^\/\*\*?/,"").replace(/\*\/$/,"").replace(new RegExp(STAR_MATCHER,"g"),"$2").replace(/\s*$/,"")}function convertUnwrappedCommentIndex(originalSource,unwrappedIndex){var replacedSource=originalSource.replace(/^\/\*\*?/,"");var numSkippedChars=0;var matcher=new RegExp(STAR_MATCHER,"g");var match;while(match=matcher.exec(replacedSource)){numSkippedChars+=match[1].length;if(match.index+match[0].length>unwrappedIndex+numSkippedChars){return unwrappedIndex+numSkippedChars+originalSource.length-replacedSource.length}}return originalSource.replace(/\*\/$/,"").replace(/\s*$/,"").length}(function(exports){var Rules,index,lineNumber,length,source,originalSource,recoverable,sloppy,strict;function advance(){var ch=source.charCodeAt(index);index+=1;if(esutils.code.isLineTerminator(ch)&&!(ch===13&&source.charCodeAt(index)===10)){lineNumber+=1}return String.fromCharCode(ch)}function scanTitle(){var title="";advance();while(index<length&&isASCIIAlphanumeric(source.charCodeAt(index))){title+=advance()}return title}function seekContent(){var ch,waiting,last=index;waiting=false;while(last<length){ch=source.charCodeAt(last);if(esutils.code.isLineTerminator(ch)&&!(ch===13&&source.charCodeAt(last+1)===10)){waiting=true}else if(waiting){if(ch===64){break}if(!esutils.code.isWhiteSpace(ch)){waiting=false}}last+=1}return last}function parseType(title,last,addRange){var ch,brace,type,startIndex,direct=false;while(index<last){ch=source.charCodeAt(index);if(esutils.code.isWhiteSpace(ch)){advance()}else if(ch===123){advance();break}else{direct=true;break}}if(direct){return null}brace=1;type="";while(index<last){ch=source.charCodeAt(index);if(esutils.code.isLineTerminator(ch)){advance()}else{if(ch===125){brace-=1;if(brace===0){advance();break}}else if(ch===123){brace+=1}if(type===""){startIndex=index}type+=advance()}}if(brace!==0){return utility.throwError("Braces are not balanced")}if(isAllowedOptional(title)){return typed.parseParamType(type,{startIndex:convertIndex(startIndex),range:addRange})}return typed.parseType(type,{startIndex:convertIndex(startIndex),range:addRange})}function scanIdentifier(last){var identifier;if(!esutils.code.isIdentifierStartES5(source.charCodeAt(index))&&!source[index].match(/[0-9]/)){return null}identifier=advance();while(index<last&&esutils.code.isIdentifierPartES5(source.charCodeAt(index))){identifier+=advance()}return identifier}function skipWhiteSpace(last){while(index<last&&(esutils.code.isWhiteSpace(source.charCodeAt(index))||esutils.code.isLineTerminator(source.charCodeAt(index)))){advance()}}function parseName(last,allowBrackets,allowNestedParams){var name="",useBrackets,insideString;skipWhiteSpace(last);if(index>=last){return null}if(source.charCodeAt(index)===91){if(allowBrackets){useBrackets=true;name=advance()}else{return null}}name+=scanIdentifier(last);if(allowNestedParams){if(source.charCodeAt(index)===58&&(name==="module"||name==="external"||name==="event")){name+=advance();name+=scanIdentifier(last)}if(source.charCodeAt(index)===91&&source.charCodeAt(index+1)===93){name+=advance();name+=advance()}while(source.charCodeAt(index)===46||source.charCodeAt(index)===47||source.charCodeAt(index)===35||source.charCodeAt(index)===45||source.charCodeAt(index)===126){name+=advance();name+=scanIdentifier(last)}}if(useBrackets){skipWhiteSpace(last);if(source.charCodeAt(index)===61){name+=advance();skipWhiteSpace(last);var ch;var bracketDepth=1;while(index<last){ch=source.charCodeAt(index);if(esutils.code.isWhiteSpace(ch)){if(!insideString){skipWhiteSpace(last);ch=source.charCodeAt(index)}}if(ch===39){if(!insideString){insideString="'"}else{if(insideString==="'"){insideString=""}}}if(ch===34){if(!insideString){insideString='"'}else{if(insideString==='"'){insideString=""}}}if(ch===91){bracketDepth++}else if(ch===93&&--bracketDepth===0){break}name+=advance()}}skipWhiteSpace(last);if(index>=last||source.charCodeAt(index)!==93){return null}name+=advance()}return name}function skipToTag(){while(index<length&&source.charCodeAt(index)!==64){advance()}if(index>=length){return false}utility.assert(source.charCodeAt(index)===64);return true}function convertIndex(rangeIndex){if(source===originalSource){return rangeIndex}return convertUnwrappedCommentIndex(originalSource,rangeIndex)}function TagParser(options,title){this._options=options;this._title=title.toLowerCase();this._tag={title:title,description:null};if(this._options.lineNumbers){this._tag.lineNumber=lineNumber}this._first=index-title.length-1;this._last=0;this._extra={}}TagParser.prototype.addError=function addError(errorText){var args=Array.prototype.slice.call(arguments,1),msg=errorText.replace(/%(\d)/g,(function(whole,index){utility.assert(index<args.length,"Message reference must be in range");return args[index]}));if(!this._tag.errors){this._tag.errors=[]}if(strict){utility.throwError(msg)}this._tag.errors.push(msg);return recoverable};TagParser.prototype.parseType=function(){if(isTypeParameterRequired(this._title)){try{this._tag.type=parseType(this._title,this._last,this._options.range);if(!this._tag.type){if(!isParamTitle(this._title)&&!isReturnTitle(this._title)){if(!this.addError("Missing or invalid tag type")){return false}}}}catch(error){this._tag.type=null;if(!this.addError(error.message)){return false}}}else if(isAllowedType(this._title)){try{this._tag.type=parseType(this._title,this._last,this._options.range)}catch(e){}}return true};TagParser.prototype._parseNamePath=function(optional){var name;name=parseName(this._last,sloppy&&isAllowedOptional(this._title),true);if(!name){if(!optional){if(!this.addError("Missing or invalid tag name")){return false}}}this._tag.name=name;return true};TagParser.prototype.parseNamePath=function(){return this._parseNamePath(false)};TagParser.prototype.parseNamePathOptional=function(){return this._parseNamePath(true)};TagParser.prototype.parseName=function(){var assign,name;if(isAllowedName(this._title)){this._tag.name=parseName(this._last,sloppy&&isAllowedOptional(this._title),isAllowedNested(this._title));if(!this._tag.name){if(!isNameParameterRequired(this._title)){return true}if(isParamTitle(this._title)&&this._tag.type&&this._tag.type.name){this._extra.name=this._tag.type;this._tag.name=this._tag.type.name;this._tag.type=null}else{if(!this.addError("Missing or invalid tag name")){return false}}}else{name=this._tag.name;if(name.charAt(0)==="["&&name.charAt(name.length-1)==="]"){assign=name.substring(1,name.length-1).split("=");if(assign.length>1){this._tag["default"]=assign.slice(1).join("=")}this._tag.name=assign[0];if(this._tag.type&&this._tag.type.type!=="OptionalType"){this._tag.type={type:"OptionalType",expression:this._tag.type}}}}}return true};TagParser.prototype.parseDescription=function parseDescription(){var description=sliceSource(source,index,this._last).trim();if(description){if(/^-\s+/.test(description)){description=description.substring(2)}this._tag.description=description}return true};TagParser.prototype.parseCaption=function parseDescription(){var description=sliceSource(source,index,this._last).trim();var captionStartTag="<caption>";var captionEndTag="</caption>";var captionStart=description.indexOf(captionStartTag);var captionEnd=description.indexOf(captionEndTag);if(captionStart>=0&&captionEnd>=0){this._tag.caption=description.substring(captionStart+captionStartTag.length,captionEnd).trim();this._tag.description=description.substring(captionEnd+captionEndTag.length).trim()}else{this._tag.description=description}return true};TagParser.prototype.parseKind=function parseKind(){var kind,kinds;kinds={class:true,constant:true,event:true,external:true,file:true,function:true,member:true,mixin:true,module:true,namespace:true,typedef:true};kind=sliceSource(source,index,this._last).trim();this._tag.kind=kind;if(!hasOwnProperty(kinds,kind)){if(!this.addError("Invalid kind name '%0'",kind)){return false}}return true};TagParser.prototype.parseAccess=function parseAccess(){var access;access=sliceSource(source,index,this._last).trim();this._tag.access=access;if(access!=="private"&&access!=="protected"&&access!=="public"){if(!this.addError("Invalid access name '%0'",access)){return false}}return true};TagParser.prototype.parseThis=function parseThis(){var value=sliceSource(source,index,this._last).trim();if(value&&value.charAt(0)==="{"){var gotType=this.parseType();if(gotType&&this._tag.type.type==="NameExpression"||this._tag.type.type==="UnionType"){this._tag.name=this._tag.type.name;return true}else{return this.addError("Invalid name for this")}}else{return this.parseNamePath()}};TagParser.prototype.parseVariation=function parseVariation(){var variation,text;text=sliceSource(source,index,this._last).trim();variation=parseFloat(text,10);this._tag.variation=variation;if(isNaN(variation)){if(!this.addError("Invalid variation '%0'",text)){return false}}return true};TagParser.prototype.ensureEnd=function(){var shouldBeEmpty=sliceSource(source,index,this._last).trim();if(shouldBeEmpty){if(!this.addError("Unknown content '%0'",shouldBeEmpty)){return false}}return true};TagParser.prototype.epilogue=function epilogue(){var description;description=this._tag.description;if(isAllowedOptional(this._title)&&!this._tag.type&&description&&description.charAt(0)==="["){this._tag.type=this._extra.name;if(!this._tag.name){this._tag.name=undefined}if(!sloppy){if(!this.addError("Missing or invalid tag name")){return false}}}return true};Rules={access:["parseAccess"],alias:["parseNamePath","ensureEnd"],augments:["parseType","parseNamePathOptional","ensureEnd"],constructor:["parseType","parseNamePathOptional","ensureEnd"],class:["parseType","parseNamePathOptional","ensureEnd"],extends:["parseType","parseNamePathOptional","ensureEnd"],example:["parseCaption"],deprecated:["parseDescription"],global:["ensureEnd"],inner:["ensureEnd"],instance:["ensureEnd"],kind:["parseKind"],mixes:["parseNamePath","ensureEnd"],mixin:["parseNamePathOptional","ensureEnd"],member:["parseType","parseNamePathOptional","ensureEnd"],method:["parseNamePathOptional","ensureEnd"],module:["parseType","parseNamePathOptional","ensureEnd"],func:["parseNamePathOptional","ensureEnd"],function:["parseNamePathOptional","ensureEnd"],var:["parseType","parseNamePathOptional","ensureEnd"],name:["parseNamePath","ensureEnd"],namespace:["parseType","parseNamePathOptional","ensureEnd"],private:["parseType","parseDescription"],protected:["parseType","parseDescription"],public:["parseType","parseDescription"],readonly:["ensureEnd"],requires:["parseNamePath","ensureEnd"],since:["parseDescription"],static:["ensureEnd"],summary:["parseDescription"],this:["parseThis","ensureEnd"],todo:["parseDescription"],typedef:["parseType","parseNamePathOptional"],variation:["parseVariation"],version:["parseDescription"]};TagParser.prototype.parse=function parse(){var i,iz,sequences,method;if(!this._title){if(!this.addError("Missing or invalid title")){return null}}this._last=seekContent(this._title);if(this._options.range){this._tag.range=[this._first,source.slice(0,this._last).replace(/\s*$/,"").length].map(convertIndex)}if(hasOwnProperty(Rules,this._title)){sequences=Rules[this._title]}else{sequences=["parseType","parseName","parseDescription","epilogue"]}for(i=0,iz=sequences.length;i<iz;++i){method=sequences[i];if(!this[method]()){return null}}return this._tag};function parseTag(options){var title,parser,tag;if(!skipToTag()){return null}title=scanTitle();parser=new TagParser(options,title);tag=parser.parse();while(index<parser._last){advance()}return tag}function scanJSDocDescription(preserveWhitespace){var description="",ch,atAllowed;atAllowed=true;while(index<length){ch=source.charCodeAt(index);if(atAllowed&&ch===64){break}if(esutils.code.isLineTerminator(ch)){atAllowed=true}else if(atAllowed&&!esutils.code.isWhiteSpace(ch)){atAllowed=false}description+=advance()}return preserveWhitespace?description:description.trim()}function parse(comment,options){var tags=[],tag,description,interestingTags,i,iz;if(options===undefined){options={}}if(typeof options.unwrap==="boolean"&&options.unwrap){source=unwrapComment(comment)}else{source=comment}originalSource=comment;if(options.tags){if(Array.isArray(options.tags)){interestingTags={};for(i=0,iz=options.tags.length;i<iz;i++){if(typeof options.tags[i]==="string"){interestingTags[options.tags[i]]=true}else{utility.throwError('Invalid "tags" parameter: '+options.tags)}}}else{utility.throwError('Invalid "tags" parameter: '+options.tags)}}length=source.length;index=0;lineNumber=0;recoverable=options.recoverable;sloppy=options.sloppy;strict=options.strict;description=scanJSDocDescription(options.preserveWhitespace);while(true){tag=parseTag(options);if(!tag){break}if(!interestingTags||interestingTags.hasOwnProperty(tag.title)){tags.push(tag)}}return{description:description,tags:tags}}exports.parse=parse})(jsdoc={});exports.version=utility.VERSION;exports.parse=jsdoc.parse;exports.parseType=typed.parseType;exports.parseParamType=typed.parseParamType;exports.unwrapComment=unwrapComment;exports.Syntax=shallowCopy(typed.Syntax);exports.Error=utility.DoctrineError;exports.type={Syntax:exports.Syntax,parseType:typed.parseType,parseParamType:typed.parseParamType,stringify:typed.stringify}})()})(doctrine);return doctrine}var validJsdoc;var hasRequiredValidJsdoc;function requireValidJsdoc(){if(hasRequiredValidJsdoc)return validJsdoc;hasRequiredValidJsdoc=1;const doctrine=requireDoctrine();validJsdoc={meta:{type:"suggestion",docs:{description:"Enforce valid JSDoc comments",recommended:false,url:"https://eslint.org/docs/rules/valid-jsdoc"},schema:[{type:"object",properties:{prefer:{type:"object",additionalProperties:{type:"string"}},preferType:{type:"object",additionalProperties:{type:"string"}},requireReturn:{type:"boolean",default:true},requireParamDescription:{type:"boolean",default:true},requireReturnDescription:{type:"boolean",default:true},matchDescription:{type:"string"},requireReturnType:{type:"boolean",default:true},requireParamType:{type:"boolean",default:true}},additionalProperties:false}],fixable:"code",messages:{unexpectedTag:"Unexpected @{{title}} tag; function has no return statement.",expected:"Expected JSDoc for '{{name}}' but found '{{jsdocName}}'.",use:"Use @{{name}} instead.",useType:"Use '{{expectedTypeName}}' instead of '{{currentTypeName}}'.",syntaxError:"JSDoc syntax error.",missingBrace:"JSDoc type missing brace.",missingParamDesc:"Missing JSDoc parameter description for '{{name}}'.",missingParamType:"Missing JSDoc parameter type for '{{name}}'.",missingReturnType:"Missing JSDoc return type.",missingReturnDesc:"Missing JSDoc return description.",missingReturn:"Missing JSDoc @{{returns}} for function.",missingParam:"Missing JSDoc for parameter '{{name}}'.",duplicateParam:"Duplicate JSDoc parameter '{{name}}'.",unsatisfiedDesc:"JSDoc description does not satisfy the regex pattern."},deprecated:true,replacedBy:[]},create(context){const options=context.options[0]||{},prefer=options.prefer||{},sourceCode=context.getSourceCode(),requireReturn=options.requireReturn!==false,requireParamDescription=options.requireParamDescription!==false,requireReturnDescription=options.requireReturnDescription!==false,requireReturnType=options.requireReturnType!==false,requireParamType=options.requireParamType!==false,preferType=options.preferType||{},checkPreferType=Object.keys(preferType).length!==0;const fns=[];function isTypeClass(node){return node.type==="ClassExpression"||node.type==="ClassDeclaration"}function startFunction(node){fns.push({returnPresent:node.type==="ArrowFunctionExpression"&&node.body.type!=="BlockStatement"||isTypeClass(node)||node.async})}function addReturn(node){const functionState=fns[fns.length-1];if(functionState&&node.argument!==null){functionState.returnPresent=true}}function isValidReturnType(tag){return tag.type===null||tag.type.name==="void"||tag.type.type==="UndefinedLiteral"}function canTypeBeValidated(type){return type!=="UndefinedLiteral"&&type!=="NullLiteral"&&type!=="NullableLiteral"&&type!=="FunctionType"&&type!=="AllLiteral"}function getCurrentExpectedTypes(type){let currentType;if(type.name){currentType=type}else if(type.expression){currentType=type.expression}return{currentType:currentType,expectedTypeName:currentType&&preferType[currentType.name]}}function getAbsoluteRange(jsdocComment,parsedJsdocNode){return{start:sourceCode.getLocFromIndex(jsdocComment.range[0]+2+parsedJsdocNode.range[0]),end:sourceCode.getLocFromIndex(jsdocComment.range[0]+2+parsedJsdocNode.range[1])}}function validateType(jsdocNode,type){if(!type||!canTypeBeValidated(type.type)){return}const typesToCheck=[];let elements=[];switch(type.type){case"TypeApplication":elements=type.applications[0].type==="UnionType"?type.applications[0].elements:type.applications;typesToCheck.push(getCurrentExpectedTypes(type));break;case"RecordType":elements=type.fields;break;case"UnionType":case"ArrayType":elements=type.elements;break;case"FieldType":if(type.value){typesToCheck.push(getCurrentExpectedTypes(type.value))}break;default:typesToCheck.push(getCurrentExpectedTypes(type))}elements.forEach(validateType.bind(null,jsdocNode));typesToCheck.forEach((typeToCheck=>{if(typeToCheck.expectedTypeName&&typeToCheck.expectedTypeName!==typeToCheck.currentType.name){context.report({node:jsdocNode,messageId:"useType",loc:getAbsoluteRange(jsdocNode,typeToCheck.currentType),data:{currentTypeName:typeToCheck.currentType.name,expectedTypeName:typeToCheck.expectedTypeName},fix(fixer){return fixer.replaceTextRange(typeToCheck.currentType.range.map((indexInComment=>jsdocNode.range[0]+2+indexInComment)),typeToCheck.expectedTypeName)}})}}))}function checkJSDoc(node){const jsdocNode=sourceCode.getJSDocComment(node),functionData=fns.pop(),paramTagsByName=Object.create(null),paramTags=[];let hasReturns=false,returnsTag,hasConstructor=false,isInterface=false,isOverride=false,isAbstract=false;if(jsdocNode){let jsdoc;try{jsdoc=doctrine.parse(jsdocNode.value,{strict:true,unwrap:true,sloppy:true,range:true})}catch(ex){if(/braces/iu.test(ex.message)){context.report({node:jsdocNode,messageId:"missingBrace"})}else{context.report({node:jsdocNode,messageId:"syntaxError"})}return}jsdoc.tags.forEach((tag=>{switch(tag.title.toLowerCase()){case"param":case"arg":case"argument":paramTags.push(tag);break;case"return":case"returns":hasReturns=true;returnsTag=tag;break;case"constructor":case"class":hasConstructor=true;break;case"override":case"inheritdoc":isOverride=true;break;case"abstract":case"virtual":isAbstract=true;break;case"interface":isInterface=true;break}if(Object.prototype.hasOwnProperty.call(prefer,tag.title)&&tag.title!==prefer[tag.title]){const entireTagRange=getAbsoluteRange(jsdocNode,tag);context.report({node:jsdocNode,messageId:"use",loc:{start:entireTagRange.start,end:{line:entireTagRange.start.line,column:entireTagRange.start.column+`@${tag.title}`.length}},data:{name:prefer[tag.title]},fix(fixer){return fixer.replaceTextRange([jsdocNode.range[0]+tag.range[0]+3,jsdocNode.range[0]+tag.range[0]+tag.title.length+3],prefer[tag.title])}})}if(checkPreferType&&tag.type){validateType(jsdocNode,tag.type)}}));paramTags.forEach((param=>{if(requireParamType&&!param.type){context.report({node:jsdocNode,messageId:"missingParamType",loc:getAbsoluteRange(jsdocNode,param),data:{name:param.name}})}if(!param.description&&requireParamDescription){context.report({node:jsdocNode,messageId:"missingParamDesc",loc:getAbsoluteRange(jsdocNode,param),data:{name:param.name}})}if(paramTagsByName[param.name]){context.report({node:jsdocNode,messageId:"duplicateParam",loc:getAbsoluteRange(jsdocNode,param),data:{name:param.name}})}else if(!param.name.includes(".")){paramTagsByName[param.name]=param}}));if(hasReturns){if(!requireReturn&&!functionData.returnPresent&&(returnsTag.type===null||!isValidReturnType(returnsTag))&&!isAbstract){context.report({node:jsdocNode,messageId:"unexpectedTag",loc:getAbsoluteRange(jsdocNode,returnsTag),data:{title:returnsTag.title}})}else{if(requireReturnType&&!returnsTag.type){context.report({node:jsdocNode,messageId:"missingReturnType"})}if(!isValidReturnType(returnsTag)&&!returnsTag.description&&requireReturnDescription){context.report({node:jsdocNode,messageId:"missingReturnDesc"})}}}if(!isOverride&&!hasReturns&&!hasConstructor&&!isInterface&&node.parent.kind!=="get"&&node.parent.kind!=="constructor"&&node.parent.kind!=="set"&&!isTypeClass(node)){if(requireReturn||functionData.returnPresent&&!node.async){context.report({node:jsdocNode,messageId:"missingReturn",data:{returns:prefer.returns||"returns"}})}}const jsdocParamNames=Object.keys(paramTagsByName);if(node.params){node.params.forEach(((param,paramsIndex)=>{const bindingParam=param.type==="AssignmentPattern"?param.left:param;if(bindingParam.type==="Identifier"){const name=bindingParam.name;if(jsdocParamNames[paramsIndex]&&name!==jsdocParamNames[paramsIndex]){context.report({node:jsdocNode,messageId:"expected",loc:getAbsoluteRange(jsdocNode,paramTagsByName[jsdocParamNames[paramsIndex]]),data:{name:name,jsdocName:jsdocParamNames[paramsIndex]}})}else if(!paramTagsByName[name]&&!isOverride){context.report({node:jsdocNode,messageId:"missingParam",data:{name:name}})}}}))}if(options.matchDescription){const regex=new RegExp(options.matchDescription,"u");if(!regex.test(jsdoc.description)){context.report({node:jsdocNode,messageId:"unsatisfiedDesc"})}}}}return{ArrowFunctionExpression:startFunction,FunctionExpression:startFunction,FunctionDeclaration:startFunction,ClassExpression:startFunction,ClassDeclaration:startFunction,"ArrowFunctionExpression:exit":checkJSDoc,"FunctionExpression:exit":checkJSDoc,"FunctionDeclaration:exit":checkJSDoc,"ClassExpression:exit":checkJSDoc,"ClassDeclaration:exit":checkJSDoc,ReturnStatement:addReturn}}};return validJsdoc}var validTypeof;var hasRequiredValidTypeof;function requireValidTypeof(){if(hasRequiredValidTypeof)return validTypeof;hasRequiredValidTypeof=1;validTypeof={meta:{type:"problem",docs:{description:"Enforce comparing `typeof` expressions against valid strings",recommended:true,url:"https://eslint.org/docs/rules/valid-typeof"},hasSuggestions:true,schema:[{type:"object",properties:{requireStringLiterals:{type:"boolean",default:false}},additionalProperties:false}],messages:{invalidValue:"Invalid typeof comparison value.",notString:"Typeof comparisons should be to string literals.",suggestString:'Use `"{{type}}"` instead of `{{type}}`.'}},create(context){const VALID_TYPES=new Set(["symbol","undefined","object","boolean","number","string","function","bigint"]),OPERATORS=new Set(["==","===","!=","!=="]);const requireStringLiterals=context.options[0]&&context.options[0].requireStringLiterals;let globalScope;function isReferenceToGlobalVariable(node){const variable=globalScope.set.get(node.name);return variable&&variable.defs.length===0&&variable.references.some((ref=>ref.identifier===node))}function isTypeofExpression(node){return node.type==="UnaryExpression"&&node.operator==="typeof"}return{Program(){globalScope=context.getScope()},UnaryExpression(node){if(isTypeofExpression(node)){const parent=context.getAncestors().pop();if(parent.type==="BinaryExpression"&&OPERATORS.has(parent.operator)){const sibling=parent.left===node?parent.right:parent.left;if(sibling.type==="Literal"||sibling.type==="TemplateLiteral"&&!sibling.expressions.length){const value=sibling.type==="Literal"?sibling.value:sibling.quasis[0].value.cooked;if(!VALID_TYPES.has(value)){context.report({node:sibling,messageId:"invalidValue"})}}else if(sibling.type==="Identifier"&&sibling.name==="undefined"&&isReferenceToGlobalVariable(sibling)){context.report({node:sibling,messageId:requireStringLiterals?"notString":"invalidValue",suggest:[{messageId:"suggestString",data:{type:"undefined"},fix(fixer){return fixer.replaceText(sibling,'"undefined"')}}]})}else if(requireStringLiterals&&!isTypeofExpression(sibling)){context.report({node:sibling,messageId:"notString"})}}}}}}};return validTypeof}var varsOnTop;var hasRequiredVarsOnTop;function requireVarsOnTop(){if(hasRequiredVarsOnTop)return varsOnTop;hasRequiredVarsOnTop=1;varsOnTop={meta:{type:"suggestion",docs:{description:"Require `var` declarations be placed at the top of their containing scope",recommended:false,url:"https://eslint.org/docs/rules/vars-on-top"},schema:[],messages:{top:"All 'var' declarations must be at the top of the function scope."}},create(context){function looksLikeDirective(node){return node.type==="ExpressionStatement"&&node.expression.type==="Literal"&&typeof node.expression.value==="string"}function looksLikeImport(node){return node.type==="ImportDeclaration"||node.type==="ImportSpecifier"||node.type==="ImportDefaultSpecifier"||node.type==="ImportNamespaceSpecifier"}function isVariableDeclaration(node){return node.type==="VariableDeclaration"||node.type==="ExportNamedDeclaration"&&node.declaration&&node.declaration.type==="VariableDeclaration"}function isVarOnTop(node,statements){const l=statements.length;let i=0;if(node.parent.type!=="StaticBlock"){for(;i<l;++i){if(!looksLikeDirective(statements[i])&&!looksLikeImport(statements[i])){break}}}for(;i<l;++i){if(!isVariableDeclaration(statements[i])){return false}if(statements[i]===node){return true}}return false}function globalVarCheck(node,parent){if(!isVarOnTop(node,parent.body)){context.report({node:node,messageId:"top"})}}function blockScopeVarCheck(node){const{parent:parent}=node;if(parent.type==="BlockStatement"&&/Function/u.test(parent.parent.type)&&isVarOnTop(node,parent.body)){return}if(parent.type==="StaticBlock"&&isVarOnTop(node,parent.body)){return}context.report({node:node,messageId:"top"})}return{"VariableDeclaration[kind='var']"(node){if(node.parent.type==="ExportNamedDeclaration"){globalVarCheck(node.parent,node.parent.parent)}else if(node.parent.type==="Program"){globalVarCheck(node,node.parent)}else{blockScopeVarCheck(node)}}}}};return varsOnTop}var wrapIife;var hasRequiredWrapIife;function requireWrapIife(){if(hasRequiredWrapIife)return wrapIife;hasRequiredWrapIife=1;const astUtils=requireAstUtils();const eslintUtils=requireEslintUtils();function isCalleeOfNewExpression(node){const maybeCallee=node.parent.type==="ChainExpression"?node.parent:node;return maybeCallee.parent.type==="NewExpression"&&maybeCallee.parent.callee===maybeCallee}wrapIife={meta:{type:"layout",docs:{description:"Require parentheses around immediate `function` invocations",recommended:false,url:"https://eslint.org/docs/rules/wrap-iife"},schema:[{enum:["outside","inside","any"]},{type:"object",properties:{functionPrototypeMethods:{type:"boolean",default:false}},additionalProperties:false}],fixable:"code",messages:{wrapInvocation:"Wrap an immediate function invocation in parentheses.",wrapExpression:"Wrap only the function expression in parens.",moveInvocation:"Move the invocation into the parens that contain the function."}},create(context){const style=context.options[0]||"outside";const includeFunctionPrototypeMethods=context.options[1]&&context.options[1].functionPrototypeMethods;const sourceCode=context.getSourceCode();function isWrappedInAnyParens(node){return astUtils.isParenthesised(sourceCode,node)}function isWrappedInGroupingParens(node){return eslintUtils.isParenthesized(1,node,sourceCode)}function getFunctionNodeFromIIFE(node){const callee=astUtils.skipChainExpression(node.callee);if(callee.type==="FunctionExpression"){return callee}if(includeFunctionPrototypeMethods&&callee.type==="MemberExpression"&&callee.object.type==="FunctionExpression"&&(astUtils.getStaticPropertyName(callee)==="call"||astUtils.getStaticPropertyName(callee)==="apply")){return callee.object}return null}return{CallExpression(node){const innerNode=getFunctionNodeFromIIFE(node);if(!innerNode){return}const isCallExpressionWrapped=isWrappedInAnyParens(node),isFunctionExpressionWrapped=isWrappedInAnyParens(innerNode);if(!isCallExpressionWrapped&&!isFunctionExpressionWrapped){context.report({node:node,messageId:"wrapInvocation",fix(fixer){const nodeToSurround=style==="inside"?innerNode:node;return fixer.replaceText(nodeToSurround,`(${sourceCode.getText(nodeToSurround)})`)}})}else if(style==="inside"&&!isFunctionExpressionWrapped){context.report({node:node,messageId:"wrapExpression",fix(fixer){if(isWrappedInGroupingParens(node)&&!isCalleeOfNewExpression(node)){const parenAfter=sourceCode.getTokenAfter(node);return fixer.replaceTextRange([innerNode.range[1],parenAfter.range[1]],`)${sourceCode.getText().slice(innerNode.range[1],parenAfter.range[0])}`)}return fixer.replaceText(innerNode,`(${sourceCode.getText(innerNode)})`)}})}else if(style==="outside"&&!isCallExpressionWrapped){context.report({node:node,messageId:"moveInvocation",fix(fixer){const parenAfter=sourceCode.getTokenAfter(innerNode);return fixer.replaceTextRange([parenAfter.range[0],node.range[1]],`${sourceCode.getText().slice(parenAfter.range[1],node.range[1])})`)}})}}}}};return wrapIife}var wrapRegex;var hasRequiredWrapRegex;function requireWrapRegex(){if(hasRequiredWrapRegex)return wrapRegex;hasRequiredWrapRegex=1;wrapRegex={meta:{type:"layout",docs:{description:"Require parenthesis around regex literals",recommended:false,url:"https://eslint.org/docs/rules/wrap-regex"},schema:[],fixable:"code",messages:{requireParens:"Wrap the regexp literal in parens to disambiguate the slash."}},create(context){const sourceCode=context.getSourceCode();return{Literal(node){const token=sourceCode.getFirstToken(node),nodeType=token.type;if(nodeType==="RegularExpression"){const beforeToken=sourceCode.getTokenBefore(node);const afterToken=sourceCode.getTokenAfter(node);const ancestors=context.getAncestors();const grandparent=ancestors[ancestors.length-1];if(grandparent.type==="MemberExpression"&&grandparent.object===node&&!(beforeToken&&beforeToken.value==="("&&afterToken&&afterToken.value===")")){context.report({node:node,messageId:"requireParens",fix:fixer=>fixer.replaceText(node,`(${sourceCode.getText(node)})`)})}}}}}};return wrapRegex}var yieldStarSpacing;var hasRequiredYieldStarSpacing;function requireYieldStarSpacing(){if(hasRequiredYieldStarSpacing)return yieldStarSpacing;hasRequiredYieldStarSpacing=1;yieldStarSpacing={meta:{type:"layout",docs:{description:"Require or disallow spacing around the `*` in `yield*` expressions",recommended:false,url:"https://eslint.org/docs/rules/yield-star-spacing"},fixable:"whitespace",schema:[{oneOf:[{enum:["before","after","both","neither"]},{type:"object",properties:{before:{type:"boolean"},after:{type:"boolean"}},additionalProperties:false}]}],messages:{missingBefore:"Missing space before *.",missingAfter:"Missing space after *.",unexpectedBefore:"Unexpected space before *.",unexpectedAfter:"Unexpected space after *."}},create(context){const sourceCode=context.getSourceCode();const mode=function(option){if(!option||typeof option==="string"){return{before:{before:true,after:false},after:{before:false,after:true},both:{before:true,after:true},neither:{before:false,after:false}}[option||"after"]}return option}(context.options[0]);function checkSpacing(side,leftToken,rightToken){if(sourceCode.isSpaceBetweenTokens(leftToken,rightToken)!==mode[side]){const after=leftToken.value==="*";const spaceRequired=mode[side];const node=after?leftToken:rightToken;let messageId="";if(spaceRequired){messageId=side==="before"?"missingBefore":"missingAfter"}else{messageId=side==="before"?"unexpectedBefore":"unexpectedAfter"}context.report({node:node,messageId:messageId,fix(fixer){if(spaceRequired){if(after){return fixer.insertTextAfter(node," ")}return fixer.insertTextBefore(node," ")}return fixer.removeRange([leftToken.range[1],rightToken.range[0]])}})}}function checkExpression(node){if(!node.delegate){return}const tokens=sourceCode.getFirstTokens(node,3);const yieldToken=tokens[0];const starToken=tokens[1];const nextToken=tokens[2];checkSpacing("before",yieldToken,starToken);checkSpacing("after",starToken,nextToken)}return{YieldExpression:checkExpression}}};return yieldStarSpacing}var yoda;var hasRequiredYoda;function requireYoda(){if(hasRequiredYoda)return yoda;hasRequiredYoda=1;const astUtils=requireAstUtils();function isComparisonOperator(operator){return/^(==|===|!=|!==|<|>|<=|>=)$/u.test(operator)}function isEqualityOperator(operator){return/^(==|===)$/u.test(operator)}function isRangeTestOperator(operator){return["<","<="].includes(operator)}function isNegativeNumericLiteral(node){return node.type==="UnaryExpression"&&node.operator==="-"&&node.prefix&&astUtils.isNumericLiteral(node.argument)}function isStaticTemplateLiteral(node){return node.type==="TemplateLiteral"&&node.expressions.length===0}function looksLikeLiteral(node){return isNegativeNumericLiteral(node)||isStaticTemplateLiteral(node)}function getNormalizedLiteral(node){if(node.type==="Literal"){return node}if(isNegativeNumericLiteral(node)){return{type:"Literal",value:-node.argument.value,raw:`-${node.argument.value}`}}if(isStaticTemplateLiteral(node)){return{type:"Literal",value:node.quasis[0].value.cooked,raw:node.quasis[0].value.raw}}return null}yoda={meta:{type:"suggestion",docs:{description:'Require or disallow "Yoda" conditions',recommended:false,url:"https://eslint.org/docs/rules/yoda"},schema:[{enum:["always","never"]},{type:"object",properties:{exceptRange:{type:"boolean",default:false},onlyEquality:{type:"boolean",default:false}},additionalProperties:false}],fixable:"code",messages:{expected:"Expected literal to be on the {{expectedSide}} side of {{operator}}."}},create(context){const always=context.options[0]==="always";const exceptRange=context.options[1]&&context.options[1].exceptRange;const onlyEquality=context.options[1]&&context.options[1].onlyEquality;const sourceCode=context.getSourceCode();function isRangeTest(node){const left=node.left,right=node.right;function isBetweenTest(){if(node.operator==="&&"&&astUtils.isSameReference(left.right,right.left)){const leftLiteral=getNormalizedLiteral(left.left);const rightLiteral=getNormalizedLiteral(right.right);if(leftLiteral===null&&rightLiteral===null){return false}if(rightLiteral===null||leftLiteral===null){return true}if(leftLiteral.value<=rightLiteral.value){return true}}return false}function isOutsideTest(){if(node.operator==="||"&&astUtils.isSameReference(left.left,right.right)){const leftLiteral=getNormalizedLiteral(left.right);const rightLiteral=getNormalizedLiteral(right.left);if(leftLiteral===null&&rightLiteral===null){return false}if(rightLiteral===null||leftLiteral===null){return true}if(leftLiteral.value<=rightLiteral.value){return true}}return false}function isParenWrapped(){return astUtils.isParenthesised(sourceCode,node)}return node.type==="LogicalExpression"&&left.type==="BinaryExpression"&&right.type==="BinaryExpression"&&isRangeTestOperator(left.operator)&&isRangeTestOperator(right.operator)&&(isBetweenTest()||isOutsideTest())&&isParenWrapped()}const OPERATOR_FLIP_MAP={"===":"===","!==":"!==","==":"==","!=":"!=","<":">",">":"<","<=":">=",">=":"<="};function getFlippedString(node){const operatorToken=sourceCode.getFirstTokenBetween(node.left,node.right,(token=>token.value===node.operator));const lastLeftToken=sourceCode.getTokenBefore(operatorToken);const firstRightToken=sourceCode.getTokenAfter(operatorToken);const source=sourceCode.getText();const leftText=source.slice(node.range[0],lastLeftToken.range[1]);const textBeforeOperator=source.slice(lastLeftToken.range[1],operatorToken.range[0]);const textAfterOperator=source.slice(operatorToken.range[1],firstRightToken.range[0]);const rightText=source.slice(firstRightToken.range[0],node.range[1]);const tokenBefore=sourceCode.getTokenBefore(node);const tokenAfter=sourceCode.getTokenAfter(node);let prefix="";let suffix="";if(tokenBefore&&tokenBefore.range[1]===node.range[0]&&!astUtils.canTokensBeAdjacent(tokenBefore,firstRightToken)){prefix=" "}if(tokenAfter&&node.range[1]===tokenAfter.range[0]&&!astUtils.canTokensBeAdjacent(lastLeftToken,tokenAfter)){suffix=" "}return prefix+rightText+textBeforeOperator+OPERATOR_FLIP_MAP[operatorToken.value]+textAfterOperator+leftText+suffix}return{BinaryExpression(node){const expectedLiteral=always?node.left:node.right;const expectedNonLiteral=always?node.right:node.left;if((expectedNonLiteral.type==="Literal"||looksLikeLiteral(expectedNonLiteral))&&!(expectedLiteral.type==="Literal"||looksLikeLiteral(expectedLiteral))&&!(!isEqualityOperator(node.operator)&&onlyEquality)&&isComparisonOperator(node.operator)&&!(exceptRange&&isRangeTest(context.getAncestors().pop()))){context.report({node:node,messageId:"expected",data:{operator:node.operator,expectedSide:always?"left":"right"},fix:fixer=>fixer.replaceText(node,getFlippedString(node))})}}}}};return yoda}var rules$2;var hasRequiredRules$1;function requireRules$1(){if(hasRequiredRules$1)return rules$2;hasRequiredRules$1=1;const{LazyLoadingRuleMap:LazyLoadingRuleMap}=requireLazyLoadingRuleMap();rules$2=new LazyLoadingRuleMap(Object.entries({"accessor-pairs":()=>requireAccessorPairs(),"array-bracket-newline":()=>requireArrayBracketNewline(),"array-bracket-spacing":()=>requireArrayBracketSpacing(),"array-callback-return":()=>requireArrayCallbackReturn(),"array-element-newline":()=>requireArrayElementNewline(),"arrow-body-style":()=>requireArrowBodyStyle(),"arrow-parens":()=>requireArrowParens(),"arrow-spacing":()=>requireArrowSpacing(),"block-scoped-var":()=>requireBlockScopedVar(),"block-spacing":()=>requireBlockSpacing(),"brace-style":()=>requireBraceStyle(),"callback-return":()=>requireCallbackReturn(),camelcase:()=>requireCamelcase(),"capitalized-comments":()=>requireCapitalizedComments(),"class-methods-use-this":()=>requireClassMethodsUseThis(),"comma-dangle":()=>requireCommaDangle(),"comma-spacing":()=>requireCommaSpacing(),"comma-style":()=>requireCommaStyle(),complexity:()=>requireComplexity(),"computed-property-spacing":()=>requireComputedPropertySpacing(),"consistent-return":()=>requireConsistentReturn(),"consistent-this":()=>requireConsistentThis(),"constructor-super":()=>requireConstructorSuper(),curly:()=>requireCurly(),"default-case":()=>requireDefaultCase(),"default-case-last":()=>requireDefaultCaseLast(),"default-param-last":()=>requireDefaultParamLast(),"dot-location":()=>requireDotLocation(),"dot-notation":()=>requireDotNotation(),"eol-last":()=>requireEolLast(),eqeqeq:()=>requireEqeqeq(),"for-direction":()=>requireForDirection(),"func-call-spacing":()=>requireFuncCallSpacing(),"func-name-matching":()=>requireFuncNameMatching(),"func-names":()=>requireFuncNames(),"func-style":()=>requireFuncStyle(),"function-call-argument-newline":()=>requireFunctionCallArgumentNewline(),"function-paren-newline":()=>requireFunctionParenNewline(),"generator-star-spacing":()=>requireGeneratorStarSpacing(),"getter-return":()=>requireGetterReturn(),"global-require":()=>requireGlobalRequire(),"grouped-accessor-pairs":()=>requireGroupedAccessorPairs(),"guard-for-in":()=>requireGuardForIn(),"handle-callback-err":()=>requireHandleCallbackErr(),"id-blacklist":()=>requireIdBlacklist(),"id-denylist":()=>requireIdDenylist(),"id-length":()=>requireIdLength(),"id-match":()=>requireIdMatch(),"implicit-arrow-linebreak":()=>requireImplicitArrowLinebreak(),indent:()=>requireIndent(),"indent-legacy":()=>requireIndentLegacy(),"init-declarations":()=>requireInitDeclarations(),"jsx-quotes":()=>requireJsxQuotes(),"key-spacing":()=>requireKeySpacing(),"keyword-spacing":()=>requireKeywordSpacing(),"line-comment-position":()=>requireLineCommentPosition(),"linebreak-style":()=>requireLinebreakStyle(),"lines-around-comment":()=>requireLinesAroundComment(),"lines-around-directive":()=>requireLinesAroundDirective(),"lines-between-class-members":()=>requireLinesBetweenClassMembers(),"logical-assignment-operators":()=>requireLogicalAssignmentOperators(),"max-classes-per-file":()=>requireMaxClassesPerFile(),"max-depth":()=>requireMaxDepth(),"max-len":()=>requireMaxLen(),"max-lines":()=>requireMaxLines(),"max-lines-per-function":()=>requireMaxLinesPerFunction(),"max-nested-callbacks":()=>requireMaxNestedCallbacks(),"max-params":()=>requireMaxParams(),"max-statements":()=>requireMaxStatements(),"max-statements-per-line":()=>requireMaxStatementsPerLine(),"multiline-comment-style":()=>requireMultilineCommentStyle(),"multiline-ternary":()=>requireMultilineTernary(),"new-cap":()=>requireNewCap(),"new-parens":()=>requireNewParens(),"newline-after-var":()=>requireNewlineAfterVar(),"newline-before-return":()=>requireNewlineBeforeReturn(),"newline-per-chained-call":()=>requireNewlinePerChainedCall(),"no-alert":()=>requireNoAlert(),"no-array-constructor":()=>requireNoArrayConstructor(),"no-async-promise-executor":()=>requireNoAsyncPromiseExecutor(),"no-await-in-loop":()=>requireNoAwaitInLoop(),"no-bitwise":()=>requireNoBitwise(),"no-buffer-constructor":()=>requireNoBufferConstructor(),"no-caller":()=>requireNoCaller(),"no-case-declarations":()=>requireNoCaseDeclarations(),"no-catch-shadow":()=>requireNoCatchShadow(),"no-class-assign":()=>requireNoClassAssign(),"no-compare-neg-zero":()=>requireNoCompareNegZero(),"no-cond-assign":()=>requireNoCondAssign(),"no-confusing-arrow":()=>requireNoConfusingArrow(),"no-console":()=>requireNoConsole(),"no-const-assign":()=>requireNoConstAssign(),"no-constant-binary-expression":()=>requireNoConstantBinaryExpression(),"no-constant-condition":()=>requireNoConstantCondition(),"no-constructor-return":()=>requireNoConstructorReturn(),"no-continue":()=>requireNoContinue(),"no-control-regex":()=>requireNoControlRegex(),"no-debugger":()=>requireNoDebugger(),"no-delete-var":()=>requireNoDeleteVar(),"no-div-regex":()=>requireNoDivRegex(),"no-dupe-args":()=>requireNoDupeArgs(),"no-dupe-class-members":()=>requireNoDupeClassMembers(),"no-dupe-else-if":()=>requireNoDupeElseIf(),"no-dupe-keys":()=>requireNoDupeKeys(),"no-duplicate-case":()=>requireNoDuplicateCase(),"no-duplicate-imports":()=>requireNoDuplicateImports(),"no-else-return":()=>requireNoElseReturn(),"no-empty":()=>requireNoEmpty(),"no-empty-character-class":()=>requireNoEmptyCharacterClass(),"no-empty-function":()=>requireNoEmptyFunction(),"no-empty-pattern":()=>requireNoEmptyPattern(),"no-empty-static-block":()=>requireNoEmptyStaticBlock(),"no-eq-null":()=>requireNoEqNull(),"no-eval":()=>requireNoEval(),"no-ex-assign":()=>requireNoExAssign(),"no-extend-native":()=>requireNoExtendNative(),"no-extra-bind":()=>requireNoExtraBind(),"no-extra-boolean-cast":()=>requireNoExtraBooleanCast(),"no-extra-label":()=>requireNoExtraLabel(),"no-extra-parens":()=>requireNoExtraParens(),"no-extra-semi":()=>requireNoExtraSemi(),"no-fallthrough":()=>requireNoFallthrough(),"no-floating-decimal":()=>requireNoFloatingDecimal(),"no-func-assign":()=>requireNoFuncAssign(),"no-global-assign":()=>requireNoGlobalAssign(),"no-implicit-coercion":()=>requireNoImplicitCoercion(),"no-implicit-globals":()=>requireNoImplicitGlobals(),"no-implied-eval":()=>requireNoImpliedEval(),"no-import-assign":()=>requireNoImportAssign(),"no-inline-comments":()=>requireNoInlineComments(),"no-inner-declarations":()=>requireNoInnerDeclarations(),"no-invalid-regexp":()=>requireNoInvalidRegexp(),"no-invalid-this":()=>requireNoInvalidThis(),"no-irregular-whitespace":()=>requireNoIrregularWhitespace(),"no-iterator":()=>requireNoIterator(),"no-label-var":()=>requireNoLabelVar(),"no-labels":()=>requireNoLabels(),"no-lone-blocks":()=>requireNoLoneBlocks(),"no-lonely-if":()=>requireNoLonelyIf(),"no-loop-func":()=>requireNoLoopFunc(),"no-loss-of-precision":()=>requireNoLossOfPrecision(),"no-magic-numbers":()=>requireNoMagicNumbers(),"no-misleading-character-class":()=>requireNoMisleadingCharacterClass(),"no-mixed-operators":()=>requireNoMixedOperators(),"no-mixed-requires":()=>requireNoMixedRequires(),"no-mixed-spaces-and-tabs":()=>requireNoMixedSpacesAndTabs(),"no-multi-assign":()=>requireNoMultiAssign(),"no-multi-spaces":()=>requireNoMultiSpaces(),"no-multi-str":()=>requireNoMultiStr(),"no-multiple-empty-lines":()=>requireNoMultipleEmptyLines(),"no-native-reassign":()=>requireNoNativeReassign(),"no-negated-condition":()=>requireNoNegatedCondition(),"no-negated-in-lhs":()=>requireNoNegatedInLhs(),"no-nested-ternary":()=>requireNoNestedTernary(),"no-new":()=>requireNoNew(),"no-new-func":()=>requireNoNewFunc(),"no-new-native-nonconstructor":()=>requireNoNewNativeNonconstructor(),"no-new-object":()=>requireNoNewObject(),"no-new-require":()=>requireNoNewRequire(),"no-new-symbol":()=>requireNoNewSymbol(),"no-new-wrappers":()=>requireNoNewWrappers(),"no-nonoctal-decimal-escape":()=>requireNoNonoctalDecimalEscape(),"no-obj-calls":()=>requireNoObjCalls(),"no-octal":()=>requireNoOctal(),"no-octal-escape":()=>requireNoOctalEscape(),"no-param-reassign":()=>requireNoParamReassign(),"no-path-concat":()=>requireNoPathConcat(),"no-plusplus":()=>requireNoPlusplus(),"no-process-env":()=>requireNoProcessEnv(),"no-process-exit":()=>requireNoProcessExit(),"no-promise-executor-return":()=>requireNoPromiseExecutorReturn(),"no-proto":()=>requireNoProto(),"no-prototype-builtins":()=>requireNoPrototypeBuiltins(),"no-redeclare":()=>requireNoRedeclare(),"no-regex-spaces":()=>requireNoRegexSpaces(),"no-restricted-exports":()=>requireNoRestrictedExports(),"no-restricted-globals":()=>requireNoRestrictedGlobals(),"no-restricted-imports":()=>requireNoRestrictedImports(),"no-restricted-modules":()=>requireNoRestrictedModules(),"no-restricted-properties":()=>requireNoRestrictedProperties(),"no-restricted-syntax":()=>requireNoRestrictedSyntax(),"no-return-assign":()=>requireNoReturnAssign(),"no-return-await":()=>requireNoReturnAwait(),"no-script-url":()=>requireNoScriptUrl(),"no-self-assign":()=>requireNoSelfAssign(),"no-self-compare":()=>requireNoSelfCompare(),"no-sequences":()=>requireNoSequences(),"no-setter-return":()=>requireNoSetterReturn(),"no-shadow":()=>requireNoShadow(),"no-shadow-restricted-names":()=>requireNoShadowRestrictedNames(),"no-spaced-func":()=>requireNoSpacedFunc(),"no-sparse-arrays":()=>requireNoSparseArrays(),"no-sync":()=>requireNoSync(),"no-tabs":()=>requireNoTabs(),"no-template-curly-in-string":()=>requireNoTemplateCurlyInString(),"no-ternary":()=>requireNoTernary(),"no-this-before-super":()=>requireNoThisBeforeSuper(),"no-throw-literal":()=>requireNoThrowLiteral(),"no-trailing-spaces":()=>requireNoTrailingSpaces(),"no-undef":()=>requireNoUndef(),"no-undef-init":()=>requireNoUndefInit(),"no-undefined":()=>requireNoUndefined(),"no-underscore-dangle":()=>requireNoUnderscoreDangle(),"no-unexpected-multiline":()=>requireNoUnexpectedMultiline(),"no-unmodified-loop-condition":()=>requireNoUnmodifiedLoopCondition(),"no-unneeded-ternary":()=>requireNoUnneededTernary(),"no-unreachable":()=>requireNoUnreachable(),"no-unreachable-loop":()=>requireNoUnreachableLoop(),"no-unsafe-finally":()=>requireNoUnsafeFinally(),"no-unsafe-negation":()=>requireNoUnsafeNegation(),"no-unsafe-optional-chaining":()=>requireNoUnsafeOptionalChaining(),"no-unused-expressions":()=>requireNoUnusedExpressions(),"no-unused-labels":()=>requireNoUnusedLabels(),"no-unused-private-class-members":()=>requireNoUnusedPrivateClassMembers(),"no-unused-vars":()=>requireNoUnusedVars(),"no-use-before-define":()=>requireNoUseBeforeDefine(),"no-useless-backreference":()=>requireNoUselessBackreference(),"no-useless-call":()=>requireNoUselessCall(),"no-useless-catch":()=>requireNoUselessCatch(),"no-useless-computed-key":()=>requireNoUselessComputedKey(),"no-useless-concat":()=>requireNoUselessConcat(),"no-useless-constructor":()=>requireNoUselessConstructor(),"no-useless-escape":()=>requireNoUselessEscape(),"no-useless-rename":()=>requireNoUselessRename(),"no-useless-return":()=>requireNoUselessReturn(),"no-var":()=>requireNoVar(),"no-void":()=>requireNoVoid(),"no-warning-comments":()=>requireNoWarningComments(),"no-whitespace-before-property":()=>requireNoWhitespaceBeforeProperty(),"no-with":()=>requireNoWith(),"nonblock-statement-body-position":()=>requireNonblockStatementBodyPosition(),"object-curly-newline":()=>requireObjectCurlyNewline(),"object-curly-spacing":()=>requireObjectCurlySpacing(),"object-property-newline":()=>requireObjectPropertyNewline(),"object-shorthand":()=>requireObjectShorthand(),"one-var":()=>requireOneVar(),"one-var-declaration-per-line":()=>requireOneVarDeclarationPerLine(),"operator-assignment":()=>requireOperatorAssignment(),"operator-linebreak":()=>requireOperatorLinebreak(),"padded-blocks":()=>requirePaddedBlocks(),"padding-line-between-statements":()=>requirePaddingLineBetweenStatements(),"prefer-arrow-callback":()=>requirePreferArrowCallback(),"prefer-const":()=>requirePreferConst(),"prefer-destructuring":()=>requirePreferDestructuring(),"prefer-exponentiation-operator":()=>requirePreferExponentiationOperator(),"prefer-named-capture-group":()=>requirePreferNamedCaptureGroup(),"prefer-numeric-literals":()=>requirePreferNumericLiterals(),"prefer-object-has-own":()=>requirePreferObjectHasOwn(),"prefer-object-spread":()=>requirePreferObjectSpread(),"prefer-promise-reject-errors":()=>requirePreferPromiseRejectErrors(),"prefer-reflect":()=>requirePreferReflect(),"prefer-regex-literals":()=>requirePreferRegexLiterals(),"prefer-rest-params":()=>requirePreferRestParams(),"prefer-spread":()=>requirePreferSpread(),"prefer-template":()=>requirePreferTemplate(),"quote-props":()=>requireQuoteProps(),quotes:()=>requireQuotes(),radix:()=>requireRadix(),"require-atomic-updates":()=>requireRequireAtomicUpdates(),"require-await":()=>requireRequireAwait(),"require-jsdoc":()=>requireRequireJsdoc(),"require-unicode-regexp":()=>requireRequireUnicodeRegexp(),"require-yield":()=>requireRequireYield(),"rest-spread-spacing":()=>requireRestSpreadSpacing(),semi:()=>requireSemi(),"semi-spacing":()=>requireSemiSpacing(),"semi-style":()=>requireSemiStyle(),"sort-imports":()=>requireSortImports(),"sort-keys":()=>requireSortKeys(),"sort-vars":()=>requireSortVars(),"space-before-blocks":()=>requireSpaceBeforeBlocks(),"space-before-function-paren":()=>requireSpaceBeforeFunctionParen(),"space-in-parens":()=>requireSpaceInParens(),"space-infix-ops":()=>requireSpaceInfixOps(),"space-unary-ops":()=>requireSpaceUnaryOps(),"spaced-comment":()=>requireSpacedComment(),strict:()=>requireStrict(),"switch-colon-spacing":()=>requireSwitchColonSpacing(),"symbol-description":()=>requireSymbolDescription(),"template-curly-spacing":()=>requireTemplateCurlySpacing(),"template-tag-spacing":()=>requireTemplateTagSpacing(),"unicode-bom":()=>requireUnicodeBom(),"use-isnan":()=>requireUseIsnan(),"valid-jsdoc":()=>requireValidJsdoc(),"valid-typeof":()=>requireValidTypeof(),"vars-on-top":()=>requireVarsOnTop(),"wrap-iife":()=>requireWrapIife(),"wrap-regex":()=>requireWrapRegex(),"yield-star-spacing":()=>requireYieldStarSpacing(),yoda:()=>requireYoda()}));return rules$2}var rules$1;var hasRequiredRules;function requireRules(){if(hasRequiredRules)return rules$1;hasRequiredRules=1;const builtInRules=requireRules$1();function normalizeRule(rule){return typeof rule==="function"?Object.assign({create:rule},rule):rule}class Rules{constructor(){this._rules=Object.create(null)}define(ruleId,ruleModule){this._rules[ruleId]=normalizeRule(ruleModule)}get(ruleId){if(typeof this._rules[ruleId]==="string"){this.define(ruleId,commonjsRequire(this._rules[ruleId]))}if(this._rules[ruleId]){return this._rules[ruleId]}if(builtInRules.has(ruleId)){return builtInRules.get(ruleId)}return null}*[Symbol.iterator](){yield*builtInRules;for(const ruleId of Object.keys(this._rules)){yield[ruleId,this.get(ruleId)]}}}rules$1=Rules;return rules$1}var safeEmitter;var hasRequiredSafeEmitter;function requireSafeEmitter(){if(hasRequiredSafeEmitter)return safeEmitter;hasRequiredSafeEmitter=1;safeEmitter=()=>{const listeners=Object.create(null);return Object.freeze({on(eventName,listener){if(eventName in listeners){listeners[eventName].push(listener)}else{listeners[eventName]=[listener]}},emit(eventName,...args){if(eventName in listeners){listeners[eventName].forEach((listener=>listener(...args)))}},eventNames(){return Object.keys(listeners)}})};return safeEmitter}var sourceCodeFixer;var hasRequiredSourceCodeFixer;function requireSourceCodeFixer(){if(hasRequiredSourceCodeFixer)return sourceCodeFixer;hasRequiredSourceCodeFixer=1;const debug=requireSrc$1()("eslint:source-code-fixer");const BOM="\ufeff";function compareMessagesByFixRange(a,b){return a.fix.range[0]-b.fix.range[0]||a.fix.range[1]-b.fix.range[1]}function compareMessagesByLocation(a,b){return a.line-b.line||a.column-b.column}function SourceCodeFixer(){Object.freeze(this)}SourceCodeFixer.applyFixes=function(sourceText,messages,shouldFix){debug("Applying fixes");if(shouldFix===false){debug("shouldFix parameter was false, not attempting fixes");return{fixed:false,messages:messages,output:sourceText}}const remainingMessages=[],fixes=[],bom=sourceText.startsWith(BOM)?BOM:"",text=bom?sourceText.slice(1):sourceText;let lastPos=Number.NEGATIVE_INFINITY,output=bom;function attemptFix(problem){const fix=problem.fix;const start=fix.range[0];const end=fix.range[1];if(lastPos>=start||start>end){remainingMessages.push(problem);return false}if(start<0&&end>=0||start===0&&fix.text.startsWith(BOM)){output=""}output+=text.slice(Math.max(0,lastPos),Math.max(0,start));output+=fix.text;lastPos=end;return true}messages.forEach((problem=>{if(Object.prototype.hasOwnProperty.call(problem,"fix")){fixes.push(problem)}else{remainingMessages.push(problem)}}));if(fixes.length){debug("Found fixes to apply");let fixesWereApplied=false;for(const problem of fixes.sort(compareMessagesByFixRange)){if(typeof shouldFix!=="function"||shouldFix(problem)){attemptFix(problem);fixesWereApplied=true}else{remainingMessages.push(problem)}}output+=text.slice(Math.max(0,lastPos));return{fixed:fixesWereApplied,messages:remainingMessages.sort(compareMessagesByLocation),output:output}}debug("No fixes to apply");return{fixed:false,messages:messages,output:bom+text}};sourceCodeFixer=SourceCodeFixer;return sourceCodeFixer}var timing;var hasRequiredTiming;function requireTiming(){if(hasRequiredTiming)return timing;hasRequiredTiming=1;function alignLeft(str,len,ch){return str+new Array(len-str.length+1).join(ch||" ")}function alignRight(str,len,ch){return new Array(len-str.length+1).join(ch||" ")+str}const enabled=!!process.env.TIMING;const HEADERS=["Rule","Time (ms)","Relative"];const ALIGN=[alignLeft,alignRight,alignRight];function getListSize(){const MINIMUM_SIZE=10;if(typeof process.env.TIMING!=="string"){return MINIMUM_SIZE}if(process.env.TIMING.toLowerCase()==="all"){return Number.POSITIVE_INFINITY}const TIMING_ENV_VAR_AS_INTEGER=Number.parseInt(process.env.TIMING,10);return TIMING_ENV_VAR_AS_INTEGER>10?TIMING_ENV_VAR_AS_INTEGER:MINIMUM_SIZE}function display(data){let total=0;const rows=Object.keys(data).map((key=>{const time=data[key];total+=time;return[key,time]})).sort(((a,b)=>b[1]-a[1])).slice(0,getListSize());rows.forEach((row=>{row.push(`${(row[1]*100/total).toFixed(1)}%`);row[1]=row[1].toFixed(3)}));rows.unshift(HEADERS);const widths=[];rows.forEach((row=>{const len=row.length;for(let i=0;i<len;i++){const n=row[i].length;if(!widths[i]||n>widths[i]){widths[i]=n}}}));const table=rows.map((row=>row.map(((cell,index)=>ALIGN[index](cell,widths[index]))).join(" | ")));table.splice(1,0,widths.map(((width,index)=>{const extraAlignment=index!==0&&index!==widths.length-1?2:1;return ALIGN[index](":",width+extraAlignment,"-")})).join("|"));console.log(table.join("\n"))}timing=function(){const data=Object.create(null);function time(key,fn){if(typeof data[key]==="undefined"){data[key]=0}return function(...args){let t=process.hrtime();const result=fn(...args);t=process.hrtime(t);data[key]+=t[0]*1e3+t[1]/1e6;return result}}if(enabled){process.on("exit",(()=>{display(data)}))}return{time:time,enabled:enabled,getListSize:getListSize}}();return timing}var rules={"generator-star":["generator-star-spacing"],"global-strict":["strict"],"no-arrow-condition":["no-confusing-arrow","no-constant-condition"],"no-comma-dangle":["comma-dangle"],"no-empty-class":["no-empty-character-class"],"no-empty-label":["no-labels"],"no-extra-strict":["strict"],"no-reserved-keys":["quote-props"],"no-space-before-semi":["semi-spacing"],"no-wrap-func":["no-extra-parens"],"space-after-function-name":["space-before-function-paren"],"space-after-keywords":["keyword-spacing"],"space-before-function-parentheses":["space-before-function-paren"],"space-before-keywords":["keyword-spacing"],"space-in-brackets":["object-curly-spacing","array-bracket-spacing","computed-property-spacing"],"space-return-throw-case":["keyword-spacing"],"space-unary-word-ops":["space-unary-ops"],"spaced-line-comment":["spaced-comment"]};var require$$19={rules:rules};var flatConfigHelpers;var hasRequiredFlatConfigHelpers;function requireFlatConfigHelpers(){if(hasRequiredFlatConfigHelpers)return flatConfigHelpers;hasRequiredFlatConfigHelpers=1;function parseRuleId(ruleId){let pluginName,ruleName;if(ruleId.includes("/")){if(ruleId.startsWith("@")){pluginName=ruleId.slice(0,ruleId.lastIndexOf("/"))}else{pluginName=ruleId.slice(0,ruleId.indexOf("/"))}ruleName=ruleId.slice(pluginName.length+1)}else{pluginName="@";ruleName=ruleId}return{pluginName:pluginName,ruleName:ruleName}}function getRuleFromConfig(ruleId,config){const{pluginName:pluginName,ruleName:ruleName}=parseRuleId(ruleId);const plugin=config.plugins&&config.plugins[pluginName];let rule=plugin&&plugin.rules&&plugin.rules[ruleName];if(rule&&typeof rule==="function"){rule={create:rule}}return rule}function getRuleOptionsSchema(rule){if(!rule){return null}const schema=rule.schema||rule.meta&&rule.meta.schema;if(Array.isArray(schema)){if(schema.length){return{type:"array",items:schema,minItems:0,maxItems:schema.length}}return{type:"array",minItems:0,maxItems:0}}return schema||null}flatConfigHelpers={parseRuleId:parseRuleId,getRuleFromConfig:getRuleFromConfig,getRuleOptionsSchema:getRuleOptionsSchema};return flatConfigHelpers}var flatConfigArray={};var api={};var concatMap;var hasRequiredConcatMap;function requireConcatMap(){if(hasRequiredConcatMap)return concatMap;hasRequiredConcatMap=1;concatMap=function(xs,fn){var res=[];for(var i=0;i<xs.length;i++){var x=fn(xs[i],i);if(isArray(x))res.push.apply(res,x);else res.push(x)}return res};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"};return concatMap}var balancedMatch;var hasRequiredBalancedMatch;function requireBalancedMatch(){if(hasRequiredBalancedMatch)return balancedMatch;hasRequiredBalancedMatch=1;balancedMatch=balanced;function balanced(a,b,str){if(a instanceof RegExp)a=maybeMatch(a,str);if(b instanceof RegExp)b=maybeMatch(b,str);var r=range(a,b,str);return r&&{start:r[0],end:r[1],pre:str.slice(0,r[0]),body:str.slice(r[0]+a.length,r[1]),post:str.slice(r[1]+b.length)}}function maybeMatch(reg,str){var m=str.match(reg);return m?m[0]:null}balanced.range=range;function range(a,b,str){var begs,beg,left,right,result;var ai=str.indexOf(a);var bi=str.indexOf(b,ai+1);var i=ai;if(ai>=0&&bi>0){begs=[];left=str.length;while(i>=0&&!result){if(i==ai){begs.push(i);ai=str.indexOf(a,i+1)}else if(begs.length==1){result=[begs.pop(),bi]}else{beg=begs.pop();if(beg<left){left=beg;right=bi}bi=str.indexOf(b,i+1)}i=ai<bi&&ai>=0?ai:bi}if(begs.length){result=[left,right]}}return result}return balancedMatch}var braceExpansion;var hasRequiredBraceExpansion;function requireBraceExpansion(){if(hasRequiredBraceExpansion)return braceExpansion;hasRequiredBraceExpansion=1;var concatMap=requireConcatMap();var balanced=requireBalancedMatch();braceExpansion=expandTop;var escSlash="\0SLASH"+Math.random()+"\0";var escOpen="\0OPEN"+Math.random()+"\0";var escClose="\0CLOSE"+Math.random()+"\0";var escComma="\0COMMA"+Math.random()+"\0";var escPeriod="\0PERIOD"+Math.random()+"\0";function numeric(str){return parseInt(str,10)==str?parseInt(str,10):str.charCodeAt(0)}function escapeBraces(str){return str.split("\\\\").join(escSlash).split("\\{").join(escOpen).split("\\}").join(escClose).split("\\,").join(escComma).split("\\.").join(escPeriod)}function unescapeBraces(str){return str.split(escSlash).join("\\").split(escOpen).join("{").split(escClose).join("}").split(escComma).join(",").split(escPeriod).join(".")}function parseCommaParts(str){if(!str)return[""];var parts=[];var m=balanced("{","}",str);if(!m)return str.split(",");var pre=m.pre;var body=m.body;var post=m.post;var p=pre.split(",");p[p.length-1]+="{"+body+"}";var postParts=parseCommaParts(post);if(post.length){p[p.length-1]+=postParts.shift();p.push.apply(p,postParts)}parts.push.apply(parts,p);return parts}function expandTop(str){if(!str)return[];if(str.substr(0,2)==="{}"){str="\\{\\}"+str.substr(2)}return expand(escapeBraces(str),true).map(unescapeBraces)}function embrace(str){return"{"+str+"}"}function isPadded(el){return/^-?0\d/.test(el)}function lte(i,y){return i<=y}function gte(i,y){return i>=y}function expand(str,isTop){var expansions=[];var m=balanced("{","}",str);if(!m||/\$$/.test(m.pre))return[str];var isNumericSequence=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(m.body);var isAlphaSequence=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(m.body);var isSequence=isNumericSequence||isAlphaSequence;var isOptions=m.body.indexOf(",")>=0;if(!isSequence&&!isOptions){if(m.post.match(/,.*\}/)){str=m.pre+"{"+m.body+escClose+m.post;return expand(str)}return[str]}var n;if(isSequence){n=m.body.split(/\.\./)}else{n=parseCommaParts(m.body);if(n.length===1){n=expand(n[0],false).map(embrace);if(n.length===1){var post=m.post.length?expand(m.post,false):[""];return post.map((function(p){return m.pre+n[0]+p}))}}}var pre=m.pre;var post=m.post.length?expand(m.post,false):[""];var N;if(isSequence){var x=numeric(n[0]);var y=numeric(n[1]);var width=Math.max(n[0].length,n[1].length);var incr=n.length==3?Math.abs(numeric(n[2])):1;var test=lte;var reverse=y<x;if(reverse){incr*=-1;test=gte}var pad=n.some(isPadded);N=[];for(var i=x;test(i,y);i+=incr){var c;if(isAlphaSequence){c=String.fromCharCode(i);if(c==="\\")c=""}else{c=String(i);if(pad){var need=width-c.length;if(need>0){var z=new Array(need+1).join("0");if(i<0)c="-"+z+c.slice(1);else c=z+c}}}N.push(c)}}else{N=concatMap(n,(function(el){return expand(el,false)}))}for(var j=0;j<N.length;j++){for(var k=0;k<post.length;k++){var expansion=pre+N[j]+post[k];if(!isTop||isSequence||expansion)expansions.push(expansion)}}return expansions}return braceExpansion}var minimatch_1;var hasRequiredMinimatch;function requireMinimatch(){if(hasRequiredMinimatch)return minimatch_1;hasRequiredMinimatch=1;minimatch_1=minimatch;minimatch.Minimatch=Minimatch;var path=function(){try{return require$$0$4}catch(e){}}()||{sep:"/"};minimatch.sep=path.sep;var GLOBSTAR=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={};var expand=requireBraceExpansion();var plTypes={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}};var qmark="[^/]";var star=qmark+"*?";var twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";var twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?";var reSpecials=charSet("().*{}+?[]^$\\!");function charSet(s){return s.split("").reduce((function(set,c){set[c]=true;return set}),{})}var slashSplit=/\/+/;minimatch.filter=filter;function filter(pattern,options){options=options||{};return function(p,i,list){return minimatch(p,pattern,options)}}function ext(a,b){b=b||{};var t={};Object.keys(a).forEach((function(k){t[k]=a[k]}));Object.keys(b).forEach((function(k){t[k]=b[k]}));return t}minimatch.defaults=function(def){if(!def||typeof def!=="object"||!Object.keys(def).length){return minimatch}var orig=minimatch;var m=function minimatch(p,pattern,options){return orig(p,pattern,ext(def,options))};m.Minimatch=function Minimatch(pattern,options){return new orig.Minimatch(pattern,ext(def,options))};m.Minimatch.defaults=function defaults(options){return orig.defaults(ext(def,options)).Minimatch};m.filter=function filter(pattern,options){return orig.filter(pattern,ext(def,options))};m.defaults=function defaults(options){return orig.defaults(ext(def,options))};m.makeRe=function makeRe(pattern,options){return orig.makeRe(pattern,ext(def,options))};m.braceExpand=function braceExpand(pattern,options){return orig.braceExpand(pattern,ext(def,options))};m.match=function(list,pattern,options){return orig.match(list,pattern,ext(def,options))};return m};Minimatch.defaults=function(def){return minimatch.defaults(def).Minimatch};function minimatch(p,pattern,options){assertValidPattern(pattern);if(!options)options={};if(!options.nocomment&&pattern.charAt(0)==="#"){return false}return new Minimatch(pattern,options).match(p)}function Minimatch(pattern,options){if(!(this instanceof Minimatch)){return new Minimatch(pattern,options)}assertValidPattern(pattern);if(!options)options={};pattern=pattern.trim();if(!options.allowWindowsEscape&&path.sep!=="/"){pattern=pattern.split(path.sep).join("/")}this.options=options;this.set=[];this.pattern=pattern;this.regexp=null;this.negate=false;this.comment=false;this.empty=false;this.partial=!!options.partial;this.make()}Minimatch.prototype.debug=function(){};Minimatch.prototype.make=make;function make(){var pattern=this.pattern;var options=this.options;if(!options.nocomment&&pattern.charAt(0)==="#"){this.comment=true;return}if(!pattern){this.empty=true;return}this.parseNegate();var set=this.globSet=this.braceExpand();if(options.debug)this.debug=function debug(){console.error.apply(console,arguments)};this.debug(this.pattern,set);set=this.globParts=set.map((function(s){return s.split(slashSplit)}));this.debug(this.pattern,set);set=set.map((function(s,si,set){return s.map(this.parse,this)}),this);this.debug(this.pattern,set);set=set.filter((function(s){return s.indexOf(false)===-1}));this.debug(this.pattern,set);this.set=set}Minimatch.prototype.parseNegate=parseNegate;function parseNegate(){var pattern=this.pattern;var negate=false;var options=this.options;var negateOffset=0;if(options.nonegate)return;for(var i=0,l=pattern.length;i<l&&pattern.charAt(i)==="!";i++){negate=!negate;negateOffset++}if(negateOffset)this.pattern=pattern.substr(negateOffset);this.negate=negate}minimatch.braceExpand=function(pattern,options){return braceExpand(pattern,options)};Minimatch.prototype.braceExpand=braceExpand;function braceExpand(pattern,options){if(!options){if(this instanceof Minimatch){options=this.options}else{options={}}}pattern=typeof pattern==="undefined"?this.pattern:pattern;assertValidPattern(pattern);if(options.nobrace||!/\{(?:(?!\{).)*\}/.test(pattern)){return[pattern]}return expand(pattern)}var MAX_PATTERN_LENGTH=1024*64;var assertValidPattern=function(pattern){if(typeof pattern!=="string"){throw new TypeError("invalid pattern")}if(pattern.length>MAX_PATTERN_LENGTH){throw new TypeError("pattern is too long")}};Minimatch.prototype.parse=parse;var SUBPARSE={};function parse(pattern,isSub){assertValidPattern(pattern);var options=this.options;if(pattern==="**"){if(!options.noglobstar)return GLOBSTAR;else pattern="*"}if(pattern==="")return"";var re="";var hasMagic=!!options.nocase;var escaping=false;var patternListStack=[];var negativeLists=[];var stateChar;var inClass=false;var reClassStart=-1;var classStart=-1;var patternStart=pattern.charAt(0)==="."?"":options.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";var self=this;function clearStateChar(){if(stateChar){switch(stateChar){case"*":re+=star;hasMagic=true;break;case"?":re+=qmark;hasMagic=true;break;default:re+="\\"+stateChar;break}self.debug("clearStateChar %j %j",stateChar,re);stateChar=false}}for(var i=0,len=pattern.length,c;i<len&&(c=pattern.charAt(i));i++){this.debug("%s\t%s %s %j",pattern,i,re,c);if(escaping&&reSpecials[c]){re+="\\"+c;escaping=false;continue}switch(c){case"/":{return false}case"\\":clearStateChar();escaping=true;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s\t%s %s %j <-- stateChar",pattern,i,re,c);if(inClass){this.debug("  in class");if(c==="!"&&i===classStart+1)c="^";re+=c;continue}self.debug("call clearStateChar %j",stateChar);clearStateChar();stateChar=c;if(options.noext)clearStateChar();continue;case"(":if(inClass){re+="(";continue}if(!stateChar){re+="\\(";continue}patternListStack.push({type:stateChar,start:i-1,reStart:re.length,open:plTypes[stateChar].open,close:plTypes[stateChar].close});re+=stateChar==="!"?"(?:(?!(?:":"(?:";this.debug("plType %j %j",stateChar,re);stateChar=false;continue;case")":if(inClass||!patternListStack.length){re+="\\)";continue}clearStateChar();hasMagic=true;var pl=patternListStack.pop();re+=pl.close;if(pl.type==="!"){negativeLists.push(pl)}pl.reEnd=re.length;continue;case"|":if(inClass||!patternListStack.length||escaping){re+="\\|";escaping=false;continue}clearStateChar();re+="|";continue;case"[":clearStateChar();if(inClass){re+="\\"+c;continue}inClass=true;classStart=i;reClassStart=re.length;re+=c;continue;case"]":if(i===classStart+1||!inClass){re+="\\"+c;escaping=false;continue}var cs=pattern.substring(classStart+1,i);try{RegExp("["+cs+"]")}catch(er){var sp=this.parse(cs,SUBPARSE);re=re.substr(0,reClassStart)+"\\["+sp[0]+"\\]";hasMagic=hasMagic||sp[1];inClass=false;continue}hasMagic=true;inClass=false;re+=c;continue;default:clearStateChar();if(escaping){escaping=false}else if(reSpecials[c]&&!(c==="^"&&inClass)){re+="\\"}re+=c}}if(inClass){cs=pattern.substr(classStart+1);sp=this.parse(cs,SUBPARSE);re=re.substr(0,reClassStart)+"\\["+sp[0];hasMagic=hasMagic||sp[1]}for(pl=patternListStack.pop();pl;pl=patternListStack.pop()){var tail=re.slice(pl.reStart+pl.open.length);this.debug("setting tail",re,pl);tail=tail.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(_,$1,$2){if(!$2){$2="\\"}return $1+$1+$2+"|"}));this.debug("tail=%j\n   %s",tail,tail,pl,re);var t=pl.type==="*"?star:pl.type==="?"?qmark:"\\"+pl.type;hasMagic=true;re=re.slice(0,pl.reStart)+t+"\\("+tail}clearStateChar();if(escaping){re+="\\\\"}var addPatternStart=false;switch(re.charAt(0)){case"[":case".":case"(":addPatternStart=true}for(var n=negativeLists.length-1;n>-1;n--){var nl=negativeLists[n];var nlBefore=re.slice(0,nl.reStart);var nlFirst=re.slice(nl.reStart,nl.reEnd-8);var nlLast=re.slice(nl.reEnd-8,nl.reEnd);var nlAfter=re.slice(nl.reEnd);nlLast+=nlAfter;var openParensBefore=nlBefore.split("(").length-1;var cleanAfter=nlAfter;for(i=0;i<openParensBefore;i++){cleanAfter=cleanAfter.replace(/\)[+*?]?/,"")}nlAfter=cleanAfter;var dollar="";if(nlAfter===""&&isSub!==SUBPARSE){dollar="$"}var newRe=nlBefore+nlFirst+nlAfter+dollar+nlLast;re=newRe}if(re!==""&&hasMagic){re="(?=.)"+re}if(addPatternStart){re=patternStart+re}if(isSub===SUBPARSE){return[re,hasMagic]}if(!hasMagic){return globUnescape(pattern)}var flags=options.nocase?"i":"";try{var regExp=new RegExp("^"+re+"$",flags)}catch(er){return new RegExp("$.")}regExp._glob=pattern;regExp._src=re;return regExp}minimatch.makeRe=function(pattern,options){return new Minimatch(pattern,options||{}).makeRe()};Minimatch.prototype.makeRe=makeRe;function makeRe(){if(this.regexp||this.regexp===false)return this.regexp;var set=this.set;if(!set.length){this.regexp=false;return this.regexp}var options=this.options;var twoStar=options.noglobstar?star:options.dot?twoStarDot:twoStarNoDot;var flags=options.nocase?"i":"";var re=set.map((function(pattern){return pattern.map((function(p){return p===GLOBSTAR?twoStar:typeof p==="string"?regExpEscape(p):p._src})).join("\\/")})).join("|");re="^(?:"+re+")$";if(this.negate)re="^(?!"+re+").*$";try{this.regexp=new RegExp(re,flags)}catch(ex){this.regexp=false}return this.regexp}minimatch.match=function(list,pattern,options){options=options||{};var mm=new Minimatch(pattern,options);list=list.filter((function(f){return mm.match(f)}));if(mm.options.nonull&&!list.length){list.push(pattern)}return list};Minimatch.prototype.match=function match(f,partial){if(typeof partial==="undefined")partial=this.partial;this.debug("match",f,this.pattern);if(this.comment)return false;if(this.empty)return f==="";if(f==="/"&&partial)return true;var options=this.options;if(path.sep!=="/"){f=f.split(path.sep).join("/")}f=f.split(slashSplit);this.debug(this.pattern,"split",f);var set=this.set;this.debug(this.pattern,"set",set);var filename;var i;for(i=f.length-1;i>=0;i--){filename=f[i];if(filename)break}for(i=0;i<set.length;i++){var pattern=set[i];var file=f;if(options.matchBase&&pattern.length===1){file=[filename]}var hit=this.matchOne(file,pattern,partial);if(hit){if(options.flipNegate)return true;return!this.negate}}if(options.flipNegate)return false;return this.negate};Minimatch.prototype.matchOne=function(file,pattern,partial){var options=this.options;this.debug("matchOne",{this:this,file:file,pattern:pattern});this.debug("matchOne",file.length,pattern.length);for(var fi=0,pi=0,fl=file.length,pl=pattern.length;fi<fl&&pi<pl;fi++,pi++){this.debug("matchOne loop");var p=pattern[pi];var f=file[fi];this.debug(pattern,p,f);if(p===false)return false;if(p===GLOBSTAR){this.debug("GLOBSTAR",[pattern,p,f]);var fr=fi;var pr=pi+1;if(pr===pl){this.debug("** at the end");for(;fi<fl;fi++){if(file[fi]==="."||file[fi]===".."||!options.dot&&file[fi].charAt(0)===".")return false}return true}while(fr<fl){var swallowee=file[fr];this.debug("\nglobstar while",file,fr,pattern,pr,swallowee);if(this.matchOne(file.slice(fr),pattern.slice(pr),partial)){this.debug("globstar found match!",fr,fl,swallowee);return true}else{if(swallowee==="."||swallowee===".."||!options.dot&&swallowee.charAt(0)==="."){this.debug("dot detected!",file,fr,pattern,pr);break}this.debug("globstar swallow a segment, and continue");fr++}}if(partial){this.debug("\n>>> no match, partial?",file,fr,pattern,pr);if(fr===fl)return true}return false}var hit;if(typeof p==="string"){hit=f===p;this.debug("string match",p,f,hit)}else{hit=f.match(p);this.debug("pattern match",p,f,hit)}if(!hit)return false}if(fi===fl&&pi===pl){return true}else if(fi===fl){return partial}else if(pi===pl){return fi===fl-1&&file[fi]===""}throw new Error("wtf?")};function globUnescape(s){return s.replace(/\\(.)/g,"$1")}function regExpEscape(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}return minimatch_1}var src={};var objectSchema={};var mergeStrategy={};var hasRequiredMergeStrategy;function requireMergeStrategy(){if(hasRequiredMergeStrategy)return mergeStrategy;hasRequiredMergeStrategy=1;class MergeStrategy{static overwrite(value1,value2){return value2}static replace(value1,value2){if(typeof value2!=="undefined"){return value2}return value1}static assign(value1,value2){return Object.assign({},value1,value2)}}mergeStrategy.MergeStrategy=MergeStrategy;return mergeStrategy}var validationStrategy={};var hasRequiredValidationStrategy;function requireValidationStrategy(){if(hasRequiredValidationStrategy)return validationStrategy;hasRequiredValidationStrategy=1;class ValidationStrategy{static array(value){if(!Array.isArray(value)){throw new TypeError("Expected an array.")}}static boolean(value){if(typeof value!=="boolean"){throw new TypeError("Expected a Boolean.")}}static number(value){if(typeof value!=="number"){throw new TypeError("Expected a number.")}}static object(value){if(!value||typeof value!=="object"){throw new TypeError("Expected an object.")}}static"object?"(value){if(typeof value!=="object"){throw new TypeError("Expected an object or null.")}}static string(value){if(typeof value!=="string"){throw new TypeError("Expected a string.")}}static"string!"(value){if(typeof value!=="string"||value.length===0){throw new TypeError("Expected a non-empty string.")}}}validationStrategy.ValidationStrategy=ValidationStrategy;return validationStrategy}var hasRequiredObjectSchema;function requireObjectSchema(){if(hasRequiredObjectSchema)return objectSchema;hasRequiredObjectSchema=1;const{MergeStrategy:MergeStrategy}=requireMergeStrategy();const{ValidationStrategy:ValidationStrategy}=requireValidationStrategy();const strategies=Symbol("strategies");const requiredKeys=Symbol("requiredKeys");function validateDefinition(name,strategy){let hasSchema=false;if(strategy.schema){if(typeof strategy.schema==="object"){hasSchema=true}else{throw new TypeError("Schema must be an object.")}}if(typeof strategy.merge==="string"){if(!(strategy.merge in MergeStrategy)){throw new TypeError(`Definition for key "${name}" missing valid merge strategy.`)}}else if(!hasSchema&&typeof strategy.merge!=="function"){throw new TypeError(`Definition for key "${name}" must have a merge property.`)}if(typeof strategy.validate==="string"){if(!(strategy.validate in ValidationStrategy)){throw new TypeError(`Definition for key "${name}" missing valid validation strategy.`)}}else if(!hasSchema&&typeof strategy.validate!=="function"){throw new TypeError(`Definition for key "${name}" must have a validate() method.`)}}class ObjectSchema{constructor(definitions){if(!definitions){throw new Error("Schema definitions missing.")}this[strategies]=new Map;this[requiredKeys]=new Map;for(const key of Object.keys(definitions)){validateDefinition(key,definitions[key]);if(typeof definitions[key].schema==="object"){const schema=new ObjectSchema(definitions[key].schema);definitions[key]={...definitions[key],merge(first={},second={}){return schema.merge(first,second)},validate(value){ValidationStrategy.object(value);schema.validate(value)}}}if(typeof definitions[key].merge==="string"){definitions[key]={...definitions[key],merge:MergeStrategy[definitions[key].merge]}}if(typeof definitions[key].validate==="string"){definitions[key]={...definitions[key],validate:ValidationStrategy[definitions[key].validate]}}this[strategies].set(key,definitions[key]);if(definitions[key].required){this[requiredKeys].set(key,definitions[key])}}}hasKey(key){return this[strategies].has(key)}merge(...objects){if(objects.length<2){throw new Error("merge() requires at least two arguments.")}if(objects.some((object=>object==null||typeof object!=="object"))){throw new Error("All arguments must be objects.")}return objects.reduce(((result,object)=>{this.validate(object);for(const[key,strategy]of this[strategies]){try{if(key in result||key in object){const value=strategy.merge.call(this,result[key],object[key]);if(value!==undefined){result[key]=value}}}catch(ex){ex.message=`Key "${key}": `+ex.message;throw ex}}return result}),{})}validate(object){for(const key of Object.keys(object)){if(!this.hasKey(key)){throw new Error(`Unexpected key "${key}" found.`)}const strategy=this[strategies].get(key);if(Array.isArray(strategy.requires)){if(!strategy.requires.every((otherKey=>otherKey in object))){throw new Error(`Key "${key}" requires keys "${strategy.requires.join('", "')}".`)}}try{strategy.validate.call(strategy,object[key])}catch(ex){ex.message=`Key "${key}": `+ex.message;throw ex}}for(const[key]of this[requiredKeys]){if(!(key in object)){throw new Error(`Missing required key "${key}".`)}}}}objectSchema.ObjectSchema=ObjectSchema;return objectSchema}var hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src;hasRequiredSrc=1;src.ObjectSchema=requireObjectSchema().ObjectSchema;src.MergeStrategy=requireMergeStrategy().MergeStrategy;src.ValidationStrategy=requireValidationStrategy().ValidationStrategy;return src}var hasRequiredApi;function requireApi(){if(hasRequiredApi)return api;hasRequiredApi=1;Object.defineProperty(api,"__esModule",{value:true});function _interopDefault(ex){return ex&&typeof ex==="object"&&"default"in ex?ex["default"]:ex}var path=_interopDefault(require$$0$4);var minimatch=_interopDefault(requireMinimatch());var createDebug=_interopDefault(requireSrc$1());var objectSchema=requireSrc();function assertIsArray(value){if(!Array.isArray(value)){throw new TypeError("Expected value to be an array.")}}function assertIsArrayOfStringsAndFunctions(value,name){assertIsArray(value);if(value.some((item=>typeof item!=="string"&&typeof item!=="function"))){throw new TypeError("Expected array to only contain strings.")}}const baseSchema=Object.freeze({name:{required:false,merge(){return undefined},validate(value){if(typeof value!=="string"){throw new TypeError("Property must be a string.")}}},files:{required:false,merge(){return undefined},validate(value){assertIsArray(value);value.forEach((item=>{if(Array.isArray(item)){assertIsArrayOfStringsAndFunctions(item)}else if(typeof item!=="string"&&typeof item!=="function"){throw new TypeError("Items must be a string, a function, or an array of strings and functions.")}}))}},ignores:{required:false,merge(){return undefined},validate:assertIsArrayOfStringsAndFunctions}});const Minimatch=minimatch.Minimatch;const minimatchCache=new Map;const negatedMinimatchCache=new Map;const debug=createDebug("@hwc/config-array");const MINIMATCH_OPTIONS={dot:true};const CONFIG_TYPES=new Set(["array","function"]);function isString(value){return typeof value==="string"}function assertNonEmptyFilesArray(config){if(!Array.isArray(config.files)||config.files.length===0){throw new TypeError("The files key must be a non-empty array.")}}function doMatch(filepath,pattern,options={}){let cache=minimatchCache;if(options.flipNegate){cache=negatedMinimatchCache}let matcher=cache.get(pattern);if(!matcher){matcher=new Minimatch(pattern,Object.assign({},MINIMATCH_OPTIONS,options));cache.set(pattern,matcher)}return matcher.match(filepath)}async function normalize(items,context,extraConfigTypes){const allowFunctions=extraConfigTypes.includes("function");const allowArrays=extraConfigTypes.includes("array");async function*flatTraverse(array){for(let item of array){if(typeof item==="function"){if(!allowFunctions){throw new TypeError("Unexpected function.")}item=item(context);if(item.then){item=await item}}if(Array.isArray(item)){if(!allowArrays){throw new TypeError("Unexpected array.")}yield*flatTraverse(item)}else if(typeof item==="function"){throw new TypeError("A config function can only return an object or array.")}else{yield item}}}const asyncIterable=await flatTraverse(items);const configs=[];for await(const config of asyncIterable){configs.push(config)}return configs}function normalizeSync(items,context,extraConfigTypes){const allowFunctions=extraConfigTypes.includes("function");const allowArrays=extraConfigTypes.includes("array");function*flatTraverse(array){for(let item of array){if(typeof item==="function"){if(!allowFunctions){throw new TypeError("Unexpected function.")}item=item(context);if(item.then){throw new TypeError("Async config functions are not supported.")}}if(Array.isArray(item)){if(!allowArrays){throw new TypeError("Unexpected array.")}yield*flatTraverse(item)}else if(typeof item==="function"){throw new TypeError("A config function can only return an object or array.")}else{yield item}}}return[...flatTraverse(items)]}function shouldIgnorePath(ignores,filePath,relativeFilePath){if(relativeFilePath.startsWith("..")){return true}return ignores.reduce(((ignored,matcher)=>{if(!ignored){if(typeof matcher==="function"){return matcher(filePath)}if(!matcher.startsWith("!")){return doMatch(relativeFilePath,matcher)}return false}if(typeof matcher==="string"&&matcher.startsWith("!")){return!doMatch(relativeFilePath,matcher,{flipNegate:true})}return ignored}),false)}function pathMatches(filePath,basePath,config){const relativeFilePath=path.relative(basePath,filePath);assertNonEmptyFilesArray(config);const match=pattern=>{if(isString(pattern)){return doMatch(relativeFilePath,pattern)}if(typeof pattern==="function"){return pattern(filePath)}throw new TypeError(`Unexpected matcher type ${pattern}.`)};let filePathMatchesPattern=config.files.some((pattern=>{if(Array.isArray(pattern)){return pattern.every(match)}return match(pattern)}));if(filePathMatchesPattern&&config.ignores){filePathMatchesPattern=!shouldIgnorePath(config.ignores,filePath,relativeFilePath)}return filePathMatchesPattern}function assertNormalized(configArray){if(!configArray.isNormalized()){throw new Error("ConfigArray must be normalized to perform this operation.")}}function assertExtraConfigTypes(extraConfigTypes){if(extraConfigTypes.length>2){throw new TypeError("configTypes must be an array with at most two items.")}for(const configType of extraConfigTypes){if(!CONFIG_TYPES.has(configType)){throw new TypeError(`Unexpected config type "${configType}" found. Expected one of: "object", "array", "function".`)}}}const ConfigArraySymbol={isNormalized:Symbol("isNormalized"),configCache:Symbol("configCache"),schema:Symbol("schema"),finalizeConfig:Symbol("finalizeConfig"),preprocessConfig:Symbol("preprocessConfig")};const dataCache=new WeakMap;class ConfigArray extends Array{constructor(configs,{basePath:basePath="",normalized:normalized=false,schema:customSchema,extraConfigTypes:extraConfigTypes=[]}={}){super();this[ConfigArraySymbol.isNormalized]=normalized;this[ConfigArraySymbol.schema]=new objectSchema.ObjectSchema(Object.assign({},customSchema,baseSchema));this.basePath=basePath;assertExtraConfigTypes(extraConfigTypes);this.extraConfigTypes=Object.freeze([...extraConfigTypes]);this[ConfigArraySymbol.configCache]=new Map;dataCache.set(this,{explicitMatches:new Map,directoryMatches:new Map,files:undefined,ignores:undefined});if(Array.isArray(configs)){this.push(...configs)}else{this.push(configs)}}static get[Symbol.species](){return Array}get files(){assertNormalized(this);const cache=dataCache.get(this);if(cache.files){return cache.files}const result=[];for(const config of this){if(config.files){config.files.forEach((filePattern=>{result.push(filePattern)}))}}cache.files=result;dataCache.set(this,cache);return result}get ignores(){assertNormalized(this);const cache=dataCache.get(this);if(cache.ignores){return cache.ignores}const result=[];for(const config of this){if(config.ignores&&Object.keys(config).length===1){config.ignores.forEach((ignore=>{result.push(ignore);if(typeof ignore==="string"){if(ignore.startsWith("!")){if(ignore.endsWith("/**")){result.push(ignore.slice(0,ignore.length-3))}else if(ignore.endsWith("/*")){result.push(ignore.slice(0,ignore.length-2))}}if(ignore.endsWith("/")){result.push(ignore.slice(0,ignore.length-1));result.push(ignore+"**")}else if(!ignore.endsWith("*")){result.push(ignore+"/**")}}}))}}cache.ignores=result;dataCache.set(this,cache);return result}isNormalized(){return this[ConfigArraySymbol.isNormalized]}async normalize(context={}){if(!this.isNormalized()){const normalizedConfigs=await normalize(this,context,this.extraConfigTypes);this.length=0;this.push(...normalizedConfigs.map(this[ConfigArraySymbol.preprocessConfig].bind(this)));this[ConfigArraySymbol.isNormalized]=true;Object.freeze(this)}return this}normalizeSync(context={}){if(!this.isNormalized()){const normalizedConfigs=normalizeSync(this,context,this.extraConfigTypes);this.length=0;this.push(...normalizedConfigs.map(this[ConfigArraySymbol.preprocessConfig].bind(this)));this[ConfigArraySymbol.isNormalized]=true;Object.freeze(this)}return this}[ConfigArraySymbol.finalizeConfig](config){return config}[ConfigArraySymbol.preprocessConfig](config){return config}isExplicitMatch(filePath){assertNormalized(this);const cache=dataCache.get(this);let result=cache.explicitMatches.get(filePath);if(typeof result=="boolean"){return result}const relativeFilePath=path.relative(this.basePath,filePath);if(shouldIgnorePath(this.ignores,filePath,relativeFilePath)){debug(`Ignoring ${filePath}`);cache.explicitMatches.set(filePath,false);return false}for(const config of this){if(!config.files){continue}if(pathMatches(filePath,this.basePath,config)){debug(`Matching config found for ${filePath}`);cache.explicitMatches.set(filePath,true);return true}}return false}getConfig(filePath){assertNormalized(this);const cache=this[ConfigArraySymbol.configCache];let finalConfig=cache.get(filePath);if(finalConfig){return finalConfig}if(this.isDirectoryIgnored(path.dirname(filePath))){debug(`Ignoring ${filePath} based on directory pattern`);cache.set(filePath,finalConfig);return finalConfig}const relativeFilePath=path.relative(this.basePath,filePath);if(shouldIgnorePath(this.ignores,filePath,relativeFilePath)){debug(`Ignoring ${filePath} based on file pattern`);cache.set(filePath,finalConfig);return finalConfig}const matchingConfigIndices=[];let matchFound=false;const universalPattern=/\/\*{1,2}$/;this.forEach(((config,index)=>{if(!config.files){debug(`Anonymous universal config found for ${filePath}`);matchingConfigIndices.push(index);return}assertNonEmptyFilesArray(config);const universalFiles=config.files.filter((pattern=>universalPattern.test(pattern)));if(universalFiles.length){debug("Universal files patterns found. Checking carefully.");const nonUniversalFiles=config.files.filter((pattern=>!universalPattern.test(pattern)));if(nonUniversalFiles.length&&pathMatches(filePath,this.basePath,{files:nonUniversalFiles,ignores:config.ignores})){debug(`Matching config found for ${filePath}`);matchingConfigIndices.push(index);matchFound=true;return}if(universalFiles.length&&pathMatches(filePath,this.basePath,{files:universalFiles,ignores:config.ignores})){debug(`Matching config found for ${filePath}`);matchingConfigIndices.push(index);return}return}if(pathMatches(filePath,this.basePath,config)){debug(`Matching config found for ${filePath}`);matchingConfigIndices.push(index);matchFound=true;return}}));if(!matchFound){debug(`No matching configs found for ${filePath}`);cache.set(filePath,finalConfig);return finalConfig}finalConfig=cache.get(matchingConfigIndices.toString());if(finalConfig){cache.set(filePath,finalConfig);return finalConfig}finalConfig=matchingConfigIndices.reduce(((result,index)=>this[ConfigArraySymbol.schema].merge(result,this[index])),{},this);finalConfig=this[ConfigArraySymbol.finalizeConfig](finalConfig);cache.set(filePath,finalConfig);cache.set(matchingConfigIndices.toString(),finalConfig);return finalConfig}isIgnored(filePath){return this.isFileIgnored(filePath)}isFileIgnored(filePath){return this.getConfig(filePath)===undefined}isDirectoryIgnored(directoryPath){assertNormalized(this);const relativeDirectoryPath=path.relative(this.basePath,directoryPath);if(relativeDirectoryPath.startsWith("..")){return true}const cache=dataCache.get(this).directoryMatches;if(cache.has(relativeDirectoryPath)){return cache.get(relativeDirectoryPath)}const result=shouldIgnorePath(this.ignores,directoryPath,relativeDirectoryPath);cache.set(relativeDirectoryPath,result);return result}}api.ConfigArray=ConfigArray;api.ConfigArraySymbol=ConfigArraySymbol;return api}var flatConfigSchema={};var hasRequiredFlatConfigSchema;function requireFlatConfigSchema(){if(hasRequiredFlatConfigSchema)return flatConfigSchema;hasRequiredFlatConfigSchema=1;const ruleSeverities=new Map([[0,0],["off",0],[1,1],["warn",1],[2,2],["error",2]]);const globalVariablesValues=new Set([true,"true","writable","writeable",false,"false","readonly","readable",null,"off"]);function isNonNullObject(value){return typeof value==="object"&&value!==null}function isUndefined(value){return typeof value==="undefined"}function deepMerge(first={},second={}){if(Array.isArray(second)){return second}const result={...first,...second};for(const key of Object.keys(second)){if(key==="__proto__"){continue}const firstValue=first[key];const secondValue=second[key];if(isNonNullObject(firstValue)){result[key]=deepMerge(firstValue,secondValue)}else if(isUndefined(firstValue)){if(isNonNullObject(secondValue)){result[key]=deepMerge(Array.isArray(secondValue)?[]:{},secondValue)}else if(!isUndefined(secondValue)){result[key]=secondValue}}}return result}function normalizeRuleOptions(ruleOptions){const finalOptions=Array.isArray(ruleOptions)?ruleOptions.slice(0):[ruleOptions];finalOptions[0]=ruleSeverities.get(finalOptions[0]);return finalOptions}function assertIsRuleOptions(value){if(typeof value!=="string"&&typeof value!=="number"&&!Array.isArray(value)){throw new TypeError("Expected a string, number, or array.")}}function assertIsRuleSeverity(value){const severity=typeof value==="string"?ruleSeverities.get(value.toLowerCase()):ruleSeverities.get(value);if(typeof severity==="undefined"){throw new TypeError('Expected severity of "off", 0, "warn", 1, "error", or 2.')}}function assertIsPluginMemberName(value){if(!/[@a-z0-9-_$]+(?:\/(?:[a-z0-9-_$]+))+$/iu.test(value)){throw new TypeError(`Expected string in the form "pluginName/objectName" but found "${value}".`)}}function assertIsObject(value){if(!isNonNullObject(value)){throw new TypeError("Expected an object.")}}function assertIsObjectOrString(value){if((!value||typeof value!=="object")&&typeof value!=="string"){throw new TypeError("Expected an object or string.")}}const booleanSchema={merge:"replace",validate:"boolean"};const deepObjectAssignSchema={merge(first={},second={}){return deepMerge(first,second)},validate:"object"};const globalsSchema={merge:"assign",validate(value){assertIsObject(value);for(const key of Object.keys(value)){if(key==="__proto__"){continue}if(key!==key.trim()){throw new TypeError(`Global "${key}" has leading or trailing whitespace.`)}if(!globalVariablesValues.has(value[key])){throw new TypeError(`Key "${key}": Expected "readonly", "writable", or "off".`)}}}};const parserSchema={merge:"replace",validate(value){assertIsObjectOrString(value);if(typeof value==="object"&&typeof value.parse!=="function"&&typeof value.parseForESLint!=="function"){throw new TypeError("Expected object to have a parse() or parseForESLint() method.")}if(typeof value==="string"){assertIsPluginMemberName(value)}}};const pluginsSchema={merge(first={},second={}){const keys=new Set([...Object.keys(first),...Object.keys(second)]);const result={};for(const key of keys){if(key==="__proto__"){continue}if(key in first&&key in second&&first[key]!==second[key]){throw new TypeError(`Cannot redefine plugin "${key}".`)}result[key]=second[key]||first[key]}return result},validate(value){if(value===null||typeof value!=="object"){throw new TypeError("Expected an object.")}for(const key of Object.keys(value)){if(key==="__proto__"){continue}if(value[key]===null||typeof value[key]!=="object"){throw new TypeError(`Key "${key}": Expected an object.`)}}}};const processorSchema={merge:"replace",validate(value){if(typeof value==="string"){assertIsPluginMemberName(value)}else if(value&&typeof value==="object"){if(typeof value.preprocess!=="function"||typeof value.postprocess!=="function"){throw new TypeError("Object must have a preprocess() and a postprocess() method.")}}else{throw new TypeError("Expected an object or a string.")}}};const rulesSchema={merge(first={},second={}){const result={...first,...second};for(const ruleId of Object.keys(result)){if(ruleId==="__proto__"){delete result.__proto__;continue}result[ruleId]=normalizeRuleOptions(result[ruleId]);if(!(ruleId in first)||!(ruleId in second)){continue}const firstRuleOptions=normalizeRuleOptions(first[ruleId]);const secondRuleOptions=normalizeRuleOptions(second[ruleId]);if(secondRuleOptions.length===1){result[ruleId]=[secondRuleOptions[0],...firstRuleOptions.slice(1)];continue}}return result},validate(value){assertIsObject(value);let lastRuleId;try{for(const ruleId of Object.keys(value)){if(ruleId==="__proto__"){continue}lastRuleId=ruleId;const ruleOptions=value[ruleId];assertIsRuleOptions(ruleOptions);if(Array.isArray(ruleOptions)){assertIsRuleSeverity(ruleOptions[0])}else{assertIsRuleSeverity(ruleOptions)}}}catch(error){error.message=`Key "${lastRuleId}": ${error.message}`;throw error}}};const ecmaVersionSchema={merge:"replace",validate(value){if(typeof value==="number"||value==="latest"){return}throw new TypeError('Expected a number or "latest".')}};const sourceTypeSchema={merge:"replace",validate(value){if(typeof value!=="string"||!/^(?:script|module|commonjs)$/u.test(value)){throw new TypeError('Expected "script", "module", or "commonjs".')}}};flatConfigSchema.flatConfigSchema={settings:deepObjectAssignSchema,linterOptions:{schema:{noInlineConfig:booleanSchema,reportUnusedDisableDirectives:booleanSchema}},languageOptions:{schema:{ecmaVersion:ecmaVersionSchema,sourceType:sourceTypeSchema,globals:globalsSchema,parser:parserSchema,parserOptions:deepObjectAssignSchema}},processor:processorSchema,plugins:pluginsSchema,rules:rulesSchema};return flatConfigSchema}var ruleValidator={};var id="http://json-schema.org/draft-04/schema#";var $schema="http://json-schema.org/draft-04/schema#";var description="Core schema meta-schema";var definitions={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:true}};var type="object";var properties={id:{type:"string"},$schema:{type:"string"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:true},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:false},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:false},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:false},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:true},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:true}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}};var dependencies={exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]};var require$$1={id:id,$schema:$schema,description:description,definitions:definitions,type:type,properties:properties,dependencies:dependencies,default:{}};var ajv;var hasRequiredAjv;function requireAjv(){if(hasRequiredAjv)return ajv;hasRequiredAjv=1;const Ajv=requireAjv$1(),metaSchema=require$$1;ajv=(additionalOptions={})=>{const ajv=new Ajv({meta:false,useDefaults:true,validateSchema:false,missingRefs:"ignore",verbose:true,schemaId:"auto",...additionalOptions});ajv.addMetaSchema(metaSchema);ajv._opts.defaultMeta=metaSchema.id;return ajv};return ajv}var hasRequiredRuleValidator;function requireRuleValidator(){if(hasRequiredRuleValidator)return ruleValidator;hasRequiredRuleValidator=1;const ajv=requireAjv()();const{parseRuleId:parseRuleId,getRuleFromConfig:getRuleFromConfig,getRuleOptionsSchema:getRuleOptionsSchema}=requireFlatConfigHelpers();const ruleReplacements=require$$19;function throwRuleNotFoundError({pluginName:pluginName,ruleName:ruleName},config){const ruleId=pluginName==="@"?ruleName:`${pluginName}/${ruleName}`;const errorMessageHeader=`Key "rules": Key "${ruleId}"`;let errorMessage=`${errorMessageHeader}: Could not find plugin "${pluginName}".`;if(config.plugins&&config.plugins[pluginName]){const replacementRuleName=ruleReplacements.rules[ruleName];if(pluginName==="@"&&replacementRuleName){errorMessage=`${errorMessageHeader}: Rule "${ruleName}" was removed and replaced by "${replacementRuleName}".`}else{errorMessage=`${errorMessageHeader}: Could not find "${ruleName}" in plugin "${pluginName}".`;for(const[otherPluginName,otherPlugin]of Object.entries(config.plugins)){if(otherPlugin.rules&&otherPlugin.rules[ruleName]){errorMessage+=` Did you mean "${otherPluginName}/${ruleName}"?`;break}}}}throw new TypeError(errorMessage)}class RuleValidator{constructor(){this.validators=new WeakMap}validate(config){if(!config.rules){return}for(const[ruleId,ruleOptions]of Object.entries(config.rules)){if(ruleId==="__proto__"){continue}if(ruleOptions[0]===0){continue}const rule=getRuleFromConfig(ruleId,config);if(!rule){throwRuleNotFoundError(parseRuleId(ruleId),config)}if(!this.validators.has(rule)){const schema=getRuleOptionsSchema(rule);if(schema){this.validators.set(rule,ajv.compile(schema))}}const validateRule=this.validators.get(rule);if(validateRule){validateRule(ruleOptions.slice(1));if(validateRule.errors){throw new Error(`Key "rules": Key "${ruleId}": ${validateRule.errors.map((error=>`\tValue ${JSON.stringify(error.data)} ${error.message}.\n`)).join("")}`)}}}}}ruleValidator.RuleValidator=RuleValidator;return ruleValidator}var defaultConfig={};var hasRequiredDefaultConfig;function requireDefaultConfig(){if(hasRequiredDefaultConfig)return defaultConfig;hasRequiredDefaultConfig=1;const Rules=requireRules$1();defaultConfig.defaultConfig=[{plugins:{"@":{parsers:{espree:requireEspree()},rules:new Proxy({},{get(target,property){return Rules.get(property)},has(target,property){return Rules.has(property)}})}},languageOptions:{sourceType:"module",ecmaVersion:"latest",parser:"@/espree",parserOptions:{}}},{ignores:["**/node_modules/**",".git/"]},{files:["**/*.js","**/*.mjs"]},{files:["**/*.cjs"],languageOptions:{sourceType:"commonjs",ecmaVersion:"latest"}}];return defaultConfig}var eslintRecommended;var hasRequiredEslintRecommended;function requireEslintRecommended(){if(hasRequiredEslintRecommended)return eslintRecommended;hasRequiredEslintRecommended=1;eslintRecommended={rules:{"constructor-super":"error","for-direction":"error","getter-return":"error","no-async-promise-executor":"error","no-case-declarations":"error","no-class-assign":"error","no-compare-neg-zero":"error","no-cond-assign":"error","no-const-assign":"error","no-constant-condition":"error","no-control-regex":"error","no-debugger":"error","no-delete-var":"error","no-dupe-args":"error","no-dupe-class-members":"error","no-dupe-else-if":"error","no-dupe-keys":"error","no-duplicate-case":"error","no-empty":"error","no-empty-character-class":"error","no-empty-pattern":"error","no-ex-assign":"error","no-extra-boolean-cast":"error","no-extra-semi":"error","no-fallthrough":"error","no-func-assign":"error","no-global-assign":"error","no-import-assign":"error","no-inner-declarations":"error","no-invalid-regexp":"error","no-irregular-whitespace":"error","no-loss-of-precision":"error","no-misleading-character-class":"error","no-mixed-spaces-and-tabs":"error","no-new-symbol":"error","no-nonoctal-decimal-escape":"error","no-obj-calls":"error","no-octal":"error","no-prototype-builtins":"error","no-redeclare":"error","no-regex-spaces":"error","no-self-assign":"error","no-setter-return":"error","no-shadow-restricted-names":"error","no-sparse-arrays":"error","no-this-before-super":"error","no-undef":"error","no-unexpected-multiline":"error","no-unreachable":"error","no-unsafe-finally":"error","no-unsafe-negation":"error","no-unsafe-optional-chaining":"error","no-unused-labels":"error","no-unused-vars":"error","no-useless-backreference":"error","no-useless-catch":"error","no-useless-escape":"error","no-with":"error","require-yield":"error","use-isnan":"error","valid-typeof":"error"}};return eslintRecommended}var eslintAll;var hasRequiredEslintAll;function requireEslintAll(){if(hasRequiredEslintAll)return eslintAll;hasRequiredEslintAll=1;const builtInRules=requireRules$1();const allRules={};for(const[ruleId,rule]of builtInRules){if(!rule.meta.deprecated){allRules[ruleId]="error"}}eslintAll={rules:allRules};return eslintAll}var hasRequiredFlatConfigArray;function requireFlatConfigArray(){if(hasRequiredFlatConfigArray)return flatConfigArray;hasRequiredFlatConfigArray=1;const{ConfigArray:ConfigArray,ConfigArraySymbol:ConfigArraySymbol}=requireApi();const{flatConfigSchema:flatConfigSchema}=requireFlatConfigSchema();const{RuleValidator:RuleValidator}=requireRuleValidator();const{defaultConfig:defaultConfig}=requireDefaultConfig();const recommendedConfig=requireEslintRecommended();const ruleValidator=new RuleValidator;function splitPluginIdentifier(identifier){const parts=identifier.split("/");return{objectName:parts.pop(),pluginName:parts.join("/")}}const originalBaseConfig=Symbol("originalBaseConfig");class FlatConfigArray extends ConfigArray{constructor(configs,{basePath:basePath,shouldIgnore:shouldIgnore=true,baseConfig:baseConfig=defaultConfig}={}){super(configs,{basePath:basePath,schema:flatConfigSchema});if(baseConfig[Symbol.iterator]){this.unshift(...baseConfig)}else{this.unshift(baseConfig)}this[originalBaseConfig]=baseConfig;Object.defineProperty(this,originalBaseConfig,{writable:false});this.shouldIgnore=shouldIgnore;Object.defineProperty(this,"shouldIgnore",{writable:false})}[ConfigArraySymbol.preprocessConfig](config){if(config==="eslint:recommended"){return recommendedConfig}if(config==="eslint:all"){return requireEslintAll()}if(!this.shouldIgnore&&!this[originalBaseConfig].includes(config)&&config.ignores&&!config.files){const{ignores:ignores,...otherKeys}=config;return otherKeys}return config}[ConfigArraySymbol.finalizeConfig](config){const{plugins:plugins,languageOptions:languageOptions,processor:processor}=config;let parserName,processorName;let invalidParser=false,invalidProcessor=false;if(languageOptions&&languageOptions.parser){if(typeof languageOptions.parser==="string"){const{pluginName:pluginName,objectName:localParserName}=splitPluginIdentifier(languageOptions.parser);parserName=languageOptions.parser;if(!plugins||!plugins[pluginName]||!plugins[pluginName].parsers||!plugins[pluginName].parsers[localParserName]){throw new TypeError(`Key "parser": Could not find "${localParserName}" in plugin "${pluginName}".`)}languageOptions.parser=plugins[pluginName].parsers[localParserName]}else{invalidParser=true}}if(processor){if(typeof processor==="string"){const{pluginName:pluginName,objectName:localProcessorName}=splitPluginIdentifier(processor);processorName=processor;if(!plugins||!plugins[pluginName]||!plugins[pluginName].processors||!plugins[pluginName].processors[localProcessorName]){throw new TypeError(`Key "processor": Could not find "${localProcessorName}" in plugin "${pluginName}".`)}config.processor=plugins[pluginName].processors[localProcessorName]}else{invalidProcessor=true}}ruleValidator.validate(config);Object.defineProperty(config,"toJSON",{value:function(){if(invalidParser){throw new Error("Caching is not supported when parser is an object.")}if(invalidProcessor){throw new Error("Caching is not supported when processor is an object.")}return{...this,plugins:Object.keys(plugins),languageOptions:{...languageOptions,parser:parserName},processor:processorName}}});return config}}flatConfigArray.FlatConfigArray=FlatConfigArray;return flatConfigArray}var globals;var hasRequiredGlobals;function requireGlobals(){if(hasRequiredGlobals)return globals;hasRequiredGlobals=1;const commonjs={exports:true,global:false,module:false,require:false};const es3={Array:false,Boolean:false,constructor:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,escape:false,eval:false,EvalError:false,Function:false,hasOwnProperty:false,Infinity:false,isFinite:false,isNaN:false,isPrototypeOf:false,Math:false,NaN:false,Number:false,Object:false,parseFloat:false,parseInt:false,propertyIsEnumerable:false,RangeError:false,ReferenceError:false,RegExp:false,String:false,SyntaxError:false,toLocaleString:false,toString:false,TypeError:false,undefined:false,unescape:false,URIError:false,valueOf:false};const es5={...es3,JSON:false};const es2015={...es5,ArrayBuffer:false,DataView:false,Float32Array:false,Float64Array:false,Int16Array:false,Int32Array:false,Int8Array:false,Map:false,Promise:false,Proxy:false,Reflect:false,Set:false,Symbol:false,Uint16Array:false,Uint32Array:false,Uint8Array:false,Uint8ClampedArray:false,WeakMap:false,WeakSet:false};const es2016={...es2015};const es2017={...es2016,Atomics:false,SharedArrayBuffer:false};const es2018={...es2017};const es2019={...es2018};const es2020={...es2019,BigInt:false,BigInt64Array:false,BigUint64Array:false,globalThis:false};const es2021={...es2020,AggregateError:false,FinalizationRegistry:false,WeakRef:false};const es2022={...es2021};const es2023={...es2022};globals={commonjs:commonjs,es3:es3,es5:es5,es2015:es2015,es2016:es2016,es2017:es2017,es2018:es2018,es2019:es2019,es2020:es2020,es2021:es2021,es2022:es2022,es2023:es2023};return globals}var linter;var hasRequiredLinter;function requireLinter(){if(hasRequiredLinter)return linter;hasRequiredLinter=1;const path=require$$0$4,eslintScope=requireEslintScope(),evk=requireEslintVisitorKeys(),espree=requireEspree(),merge=requireLodash_merge(),pkg=require$$5,astUtils=requireAstUtils$1(),{Legacy:{ConfigOps:ConfigOps,ConfigValidator:ConfigValidator,environments:BuiltInEnvironments}}=requireEslintrcUniversal(),Traverser=requireTraverser(),{SourceCode:SourceCode}=requireSourceCode(),CodePathAnalyzer=requireCodePathAnalyzer(),applyDisableDirectives=requireApplyDisableDirectives(),ConfigCommentParser=requireConfigCommentParser(),NodeEventGenerator=requireNodeEventGenerator(),createReportTranslator=requireReportTranslator(),Rules=requireRules(),createEmitter=requireSafeEmitter(),SourceCodeFixer=requireSourceCodeFixer(),timing=requireTiming(),ruleReplacements=require$$19;const{getRuleFromConfig:getRuleFromConfig}=requireFlatConfigHelpers();const{FlatConfigArray:FlatConfigArray}=requireFlatConfigArray();const debug=requireSrc$1()("eslint:linter");const MAX_AUTOFIX_PASSES=10;const DEFAULT_PARSER_NAME="espree";const DEFAULT_ECMA_VERSION=5;const commentParser=new ConfigCommentParser;const DEFAULT_ERROR_LOC={start:{line:1,column:0},end:{line:1,column:1}};const parserSymbol=Symbol.for("eslint.RuleTester.parser");const globals=requireGlobals();function isEspree(parser){return!!(parser===espree||parser[parserSymbol]===espree)}function getGlobalsForEcmaVersion(ecmaVersion){switch(ecmaVersion){case 3:return globals.es3;case 5:return globals.es5;default:if(ecmaVersion<2015){return globals[`es${ecmaVersion+2009}`]}return globals[`es${ecmaVersion}`]}}function addDeclaredGlobals(globalScope,configGlobals,{exportedVariables:exportedVariables,enabledGlobals:enabledGlobals}){for(const id of new Set([...Object.keys(configGlobals),...Object.keys(enabledGlobals)])){const configValue=configGlobals[id]===void 0?void 0:ConfigOps.normalizeConfigGlobal(configGlobals[id]);const commentValue=enabledGlobals[id]&&enabledGlobals[id].value;const value=commentValue||configValue;const sourceComments=enabledGlobals[id]&&enabledGlobals[id].comments;if(value==="off"){continue}let variable=globalScope.set.get(id);if(!variable){variable=new eslintScope.Variable(id,globalScope);globalScope.variables.push(variable);globalScope.set.set(id,variable)}variable.eslintImplicitGlobalSetting=configValue;variable.eslintExplicitGlobal=sourceComments!==void 0;variable.eslintExplicitGlobalComments=sourceComments;variable.writeable=value==="writable"}Object.keys(exportedVariables).forEach((name=>{const variable=globalScope.set.get(name);if(variable){variable.eslintUsed=true;variable.eslintExported=true}}));globalScope.through=globalScope.through.filter((reference=>{const name=reference.identifier.name;const variable=globalScope.set.get(name);if(variable){reference.resolved=variable;variable.references.push(reference);return false}return true}))}function createMissingRuleMessage(ruleId){return Object.prototype.hasOwnProperty.call(ruleReplacements.rules,ruleId)?`Rule '${ruleId}' was removed and replaced by: ${ruleReplacements.rules[ruleId].join(", ")}`:`Definition for rule '${ruleId}' was not found.`}function createLintingProblem(options){const{ruleId:ruleId=null,loc:loc=DEFAULT_ERROR_LOC,message:message=createMissingRuleMessage(options.ruleId),severity:severity=2}=options;return{ruleId:ruleId,message:message,line:loc.start.line,column:loc.start.column+1,endLine:loc.end.line,endColumn:loc.end.column+1,severity:severity,nodeType:null}}function createDisableDirectives(options){const{commentToken:commentToken,type:type,value:value,justification:justification,ruleMapper:ruleMapper}=options;const ruleIds=Object.keys(commentParser.parseListConfig(value));const directiveRules=ruleIds.length?ruleIds:[null];const result={directives:[],directiveProblems:[]};const parentComment={commentToken:commentToken,ruleIds:ruleIds};for(const ruleId of directiveRules){if(ruleId===null||!!ruleMapper(ruleId)){if(type==="disable-next-line"){result.directives.push({parentComment:parentComment,type:type,line:commentToken.loc.end.line,column:commentToken.loc.end.column+1,ruleId:ruleId,justification:justification})}else{result.directives.push({parentComment:parentComment,type:type,line:commentToken.loc.start.line,column:commentToken.loc.start.column+1,ruleId:ruleId,justification:justification})}}else{result.directiveProblems.push(createLintingProblem({ruleId:ruleId,loc:commentToken.loc}))}}return result}function extractDirectiveComment(value){const match=/\s-{2,}\s/u.exec(value);if(!match){return{directivePart:value.trim(),justificationPart:""}}const directive=value.slice(0,match.index).trim();const justification=value.slice(match.index+match[0].length).trim();return{directivePart:directive,justificationPart:justification}}function getDirectiveComments(ast,ruleMapper,warnInlineConfig){const configuredRules={};const enabledGlobals=Object.create(null);const exportedVariables={};const problems=[];const disableDirectives=[];const validator=new ConfigValidator({builtInRules:Rules});ast.comments.filter((token=>token.type!=="Shebang")).forEach((comment=>{const{directivePart:directivePart,justificationPart:justificationPart}=extractDirectiveComment(comment.value);const match=/^(eslint(?:-env|-enable|-disable(?:(?:-next)?-line)?)?|exported|globals?)(?:\s|$)/u.exec(directivePart);if(!match){return}const directiveText=match[1];const lineCommentSupported=/^eslint-disable-(next-)?line$/u.test(directiveText);if(comment.type==="Line"&&!lineCommentSupported){return}if(warnInlineConfig){const kind=comment.type==="Block"?`/*${directiveText}*/`:`//${directiveText}`;problems.push(createLintingProblem({ruleId:null,message:`'${kind}' has no effect because you have 'noInlineConfig' setting in ${warnInlineConfig}.`,loc:comment.loc,severity:1}));return}if(directiveText==="eslint-disable-line"&&comment.loc.start.line!==comment.loc.end.line){const message=`${directiveText} comment should not span multiple lines.`;problems.push(createLintingProblem({ruleId:null,message:message,loc:comment.loc}));return}const directiveValue=directivePart.slice(match.index+directiveText.length);switch(directiveText){case"eslint-disable":case"eslint-enable":case"eslint-disable-next-line":case"eslint-disable-line":{const directiveType=directiveText.slice("eslint-".length);const options={commentToken:comment,type:directiveType,value:directiveValue,justification:justificationPart,ruleMapper:ruleMapper};const{directives:directives,directiveProblems:directiveProblems}=createDisableDirectives(options);disableDirectives.push(...directives);problems.push(...directiveProblems);break}case"exported":Object.assign(exportedVariables,commentParser.parseStringConfig(directiveValue,comment));break;case"globals":case"global":for(const[id,{value:value}]of Object.entries(commentParser.parseStringConfig(directiveValue,comment))){let normalizedValue;try{normalizedValue=ConfigOps.normalizeConfigGlobal(value)}catch(err){problems.push(createLintingProblem({ruleId:null,loc:comment.loc,message:err.message}));continue}if(enabledGlobals[id]){enabledGlobals[id].comments.push(comment);enabledGlobals[id].value=normalizedValue}else{enabledGlobals[id]={comments:[comment],value:normalizedValue}}}break;case"eslint":{const parseResult=commentParser.parseJsonConfig(directiveValue,comment.loc);if(parseResult.success){Object.keys(parseResult.config).forEach((name=>{const rule=ruleMapper(name);const ruleValue=parseResult.config[name];if(!rule){problems.push(createLintingProblem({ruleId:name,loc:comment.loc}));return}try{validator.validateRuleOptions(rule,name,ruleValue)}catch(err){problems.push(createLintingProblem({ruleId:name,message:err.message,loc:comment.loc}));return}configuredRules[name]=ruleValue}))}else{problems.push(parseResult.error)}break}}}));return{configuredRules:configuredRules,enabledGlobals:enabledGlobals,exportedVariables:exportedVariables,problems:problems,disableDirectives:disableDirectives}}function normalizeEcmaVersion(parser,ecmaVersion){if(isEspree(parser)){if(ecmaVersion==="latest"){return espree.latestEcmaVersion}}return ecmaVersion>=2015?ecmaVersion-2009:ecmaVersion}function normalizeEcmaVersionForLanguageOptions(ecmaVersion){switch(ecmaVersion){case 3:return 3;case 5:case void 0:return 5;default:if(typeof ecmaVersion==="number"){return ecmaVersion>=2015?ecmaVersion:ecmaVersion+2009}}return espree.latestEcmaVersion+2009}const eslintEnvPattern=/\/\*\s*eslint-env\s(.+?)(?:\*\/|$)/gsu;function findEslintEnv(text){let match,retv;eslintEnvPattern.lastIndex=0;while((match=eslintEnvPattern.exec(text))!==null){if(match[0].endsWith("*/")){retv=Object.assign(retv||{},commentParser.parseListConfig(extractDirectiveComment(match[1]).directivePart))}}return retv}function normalizeFilename(filename){const parts=filename.split(path.sep);const index=parts.lastIndexOf("<text>");return index===-1?filename:parts.slice(index).join(path.sep)}function normalizeVerifyOptions(providedOptions,config){const linterOptions=config.linterOptions||config;const disableInlineConfig=linterOptions.noInlineConfig===true;const ignoreInlineConfig=providedOptions.allowInlineConfig===false;const configNameOfNoInlineConfig=config.configNameOfNoInlineConfig?` (${config.configNameOfNoInlineConfig})`:"";let reportUnusedDisableDirectives=providedOptions.reportUnusedDisableDirectives;if(typeof reportUnusedDisableDirectives==="boolean"){reportUnusedDisableDirectives=reportUnusedDisableDirectives?"error":"off"}if(typeof reportUnusedDisableDirectives!=="string"){reportUnusedDisableDirectives=linterOptions.reportUnusedDisableDirectives?"warn":"off"}return{filename:normalizeFilename(providedOptions.filename||"<input>"),allowInlineConfig:!ignoreInlineConfig,warnInlineConfig:disableInlineConfig&&!ignoreInlineConfig?`your config${configNameOfNoInlineConfig}`:null,reportUnusedDisableDirectives:reportUnusedDisableDirectives,disableFixes:Boolean(providedOptions.disableFixes)}}function resolveParserOptions(parser,providedOptions,enabledEnvironments){const parserOptionsFromEnv=enabledEnvironments.filter((env=>env.parserOptions)).reduce(((parserOptions,env)=>merge(parserOptions,env.parserOptions)),{});const mergedParserOptions=merge(parserOptionsFromEnv,providedOptions||{});const isModule=mergedParserOptions.sourceType==="module";if(isModule){mergedParserOptions.ecmaFeatures=Object.assign({},mergedParserOptions.ecmaFeatures,{globalReturn:false})}mergedParserOptions.ecmaVersion=normalizeEcmaVersion(parser,mergedParserOptions.ecmaVersion);return mergedParserOptions}function createLanguageOptions({globals:configuredGlobals,parser:parser,parserOptions:parserOptions}){const{ecmaVersion:ecmaVersion,sourceType:sourceType}=parserOptions;return{globals:configuredGlobals,ecmaVersion:normalizeEcmaVersionForLanguageOptions(ecmaVersion),sourceType:sourceType,parser:parser,parserOptions:parserOptions}}function resolveGlobals(providedGlobals,enabledEnvironments){return Object.assign({},...enabledEnvironments.filter((env=>env.globals)).map((env=>env.globals)),providedGlobals)}function stripUnicodeBOM(text){if(text.charCodeAt(0)===65279){return text.slice(1)}return text}function getRuleOptions(ruleConfig){if(Array.isArray(ruleConfig)){return ruleConfig.slice(1)}return[]}function analyzeScope(ast,languageOptions,visitorKeys){const parserOptions=languageOptions.parserOptions;const ecmaFeatures=parserOptions.ecmaFeatures||{};const ecmaVersion=languageOptions.ecmaVersion||DEFAULT_ECMA_VERSION;return eslintScope.analyze(ast,{ignoreEval:true,nodejsScope:ecmaFeatures.globalReturn,impliedStrict:ecmaFeatures.impliedStrict,ecmaVersion:typeof ecmaVersion==="number"?ecmaVersion:6,sourceType:languageOptions.sourceType||"script",childVisitorKeys:visitorKeys||evk.KEYS,fallback:Traverser.getKeys})}function parse(text,languageOptions,filePath){const textToParse=stripUnicodeBOM(text).replace(astUtils.shebangPattern,((match,captured)=>`//${captured}`));const{ecmaVersion:ecmaVersion,sourceType:sourceType,parser:parser}=languageOptions;const parserOptions=Object.assign({ecmaVersion:ecmaVersion,sourceType:sourceType},languageOptions.parserOptions,{loc:true,range:true,raw:true,tokens:true,comment:true,eslintVisitorKeys:true,eslintScopeManager:true,filePath:filePath});try{debug("Parsing:",filePath);const parseResult=typeof parser.parseForESLint==="function"?parser.parseForESLint(textToParse,parserOptions):{ast:parser.parse(textToParse,parserOptions)};debug("Parsing successful:",filePath);const ast=parseResult.ast;const parserServices=parseResult.services||{};const visitorKeys=parseResult.visitorKeys||evk.KEYS;debug("Scope analysis:",filePath);const scopeManager=parseResult.scopeManager||analyzeScope(ast,languageOptions,visitorKeys);debug("Scope analysis successful:",filePath);return{success:true,sourceCode:new SourceCode({text:text,ast:ast,parserServices:parserServices,scopeManager:scopeManager,visitorKeys:visitorKeys})}}catch(ex){const message=`Parsing error: ${ex.message.replace(/^line \d+:/iu,"").trim()}`;debug("%s\n%s",message,ex.stack);return{success:false,error:{ruleId:null,fatal:true,severity:2,message:message,line:ex.lineNumber,column:ex.column}}}}function getScope(scopeManager,currentNode){const inner=currentNode.type!=="Program";for(let node=currentNode;node;node=node.parent){const scope=scopeManager.acquire(node,inner);if(scope){if(scope.type==="function-expression-name"){return scope.childScopes[0]}return scope}}return scopeManager.scopes[0]}function markVariableAsUsed(scopeManager,currentNode,languageOptions,name){const parserOptions=languageOptions.parserOptions;const sourceType=languageOptions.sourceType;const hasGlobalReturn=parserOptions.ecmaFeatures&&parserOptions.ecmaFeatures.globalReturn||sourceType==="commonjs";const specialScope=hasGlobalReturn||sourceType==="module";const currentScope=getScope(scopeManager,currentNode);const initialScope=currentScope.type==="global"&&specialScope?currentScope.childScopes[0]:currentScope;for(let scope=initialScope;scope;scope=scope.upper){const variable=scope.variables.find((scopeVar=>scopeVar.name===name));if(variable){variable.eslintUsed=true;return true}}return false}function createRuleListeners(rule,ruleContext){try{return rule.create(ruleContext)}catch(ex){ex.message=`Error while loading rule '${ruleContext.id}': ${ex.message}`;throw ex}}function getAncestors(node){const ancestorsStartingAtParent=[];for(let ancestor=node.parent;ancestor;ancestor=ancestor.parent){ancestorsStartingAtParent.push(ancestor)}return ancestorsStartingAtParent.reverse()}const DEPRECATED_SOURCECODE_PASSTHROUGHS={getSource:"getText",getSourceLines:"getLines",getAllComments:"getAllComments",getNodeByRangeIndex:"getNodeByRangeIndex",getComments:"getComments",getCommentsBefore:"getCommentsBefore",getCommentsAfter:"getCommentsAfter",getCommentsInside:"getCommentsInside",getJSDocComment:"getJSDocComment",getFirstToken:"getFirstToken",getFirstTokens:"getFirstTokens",getLastToken:"getLastToken",getLastTokens:"getLastTokens",getTokenAfter:"getTokenAfter",getTokenBefore:"getTokenBefore",getTokenByRangeStart:"getTokenByRangeStart",getTokens:"getTokens",getTokensAfter:"getTokensAfter",getTokensBefore:"getTokensBefore",getTokensBetween:"getTokensBetween"};const BASE_TRAVERSAL_CONTEXT=Object.freeze(Object.keys(DEPRECATED_SOURCECODE_PASSTHROUGHS).reduce(((contextInfo,methodName)=>Object.assign(contextInfo,{[methodName](...args){return this.getSourceCode()[DEPRECATED_SOURCECODE_PASSTHROUGHS[methodName]](...args)}})),{}));function runRules(sourceCode,configuredRules,ruleMapper,parserName,languageOptions,settings,filename,disableFixes,cwd,physicalFilename){const emitter=createEmitter();const nodeQueue=[];let currentNode=sourceCode.ast;Traverser.traverse(sourceCode.ast,{enter(node,parent){node.parent=parent;nodeQueue.push({isEntering:true,node:node})},leave(node){nodeQueue.push({isEntering:false,node:node})},visitorKeys:sourceCode.visitorKeys});const sharedTraversalContext=Object.freeze(Object.assign(Object.create(BASE_TRAVERSAL_CONTEXT),{getAncestors:()=>getAncestors(currentNode),getDeclaredVariables:sourceCode.scopeManager.getDeclaredVariables.bind(sourceCode.scopeManager),getCwd:()=>cwd,getFilename:()=>filename,getPhysicalFilename:()=>physicalFilename||filename,getScope:()=>getScope(sourceCode.scopeManager,currentNode),getSourceCode:()=>sourceCode,markVariableAsUsed:name=>markVariableAsUsed(sourceCode.scopeManager,currentNode,languageOptions,name),parserOptions:{...languageOptions.parserOptions},parserPath:parserName,languageOptions:languageOptions,parserServices:sourceCode.parserServices,settings:settings}));const lintingProblems=[];Object.keys(configuredRules).forEach((ruleId=>{const severity=ConfigOps.getRuleSeverity(configuredRules[ruleId]);if(severity===0){return}const rule=ruleMapper(ruleId);if(!rule){lintingProblems.push(createLintingProblem({ruleId:ruleId}));return}const messageIds=rule.meta&&rule.meta.messages;let reportTranslator=null;const ruleContext=Object.freeze(Object.assign(Object.create(sharedTraversalContext),{id:ruleId,options:getRuleOptions(configuredRules[ruleId]),report(...args){if(reportTranslator===null){reportTranslator=createReportTranslator({ruleId:ruleId,severity:severity,sourceCode:sourceCode,messageIds:messageIds,disableFixes:disableFixes})}const problem=reportTranslator(...args);if(problem.fix&&!(rule.meta&&rule.meta.fixable)){throw new Error('Fixable rules must set the `meta.fixable` property to "code" or "whitespace".')}if(problem.suggestions&&!(rule.meta&&rule.meta.hasSuggestions===true)){if(rule.meta&&rule.meta.docs&&typeof rule.meta.docs.suggestion!=="undefined"){throw new Error("Rules with suggestions must set the `meta.hasSuggestions` property to `true`. `meta.docs.suggestion` is ignored by ESLint.")}throw new Error("Rules with suggestions must set the `meta.hasSuggestions` property to `true`.")}lintingProblems.push(problem)}}));const ruleListeners=timing.enabled?timing.time(ruleId,createRuleListeners)(rule,ruleContext):createRuleListeners(rule,ruleContext);function addRuleErrorHandler(ruleListener){return function ruleErrorHandler(...listenerArgs){try{return ruleListener(...listenerArgs)}catch(e){e.ruleId=ruleId;throw e}}}if(typeof ruleListeners==="undefined"||ruleListeners===null){throw new Error(`The create() function for rule '${ruleId}' did not return an object.`)}Object.keys(ruleListeners).forEach((selector=>{const ruleListener=timing.enabled?timing.time(ruleId,ruleListeners[selector]):ruleListeners[selector];emitter.on(selector,addRuleErrorHandler(ruleListener))}))}));const eventGenerator=nodeQueue[0].node.type==="Program"?new CodePathAnalyzer(new NodeEventGenerator(emitter,{visitorKeys:sourceCode.visitorKeys,fallback:Traverser.getKeys})):new NodeEventGenerator(emitter,{visitorKeys:sourceCode.visitorKeys,fallback:Traverser.getKeys});nodeQueue.forEach((traversalInfo=>{currentNode=traversalInfo.node;try{if(traversalInfo.isEntering){eventGenerator.enterNode(currentNode)}else{eventGenerator.leaveNode(currentNode)}}catch(err){err.currentNode=currentNode;throw err}}));return lintingProblems}function ensureText(textOrSourceCode){if(typeof textOrSourceCode==="object"){const{hasBOM:hasBOM,text:text}=textOrSourceCode;const bom=hasBOM?"\ufeff":"";return bom+text}return String(textOrSourceCode)}function getEnv(slots,envId){return slots.lastConfigArray&&slots.lastConfigArray.pluginEnvironments.get(envId)||BuiltInEnvironments.get(envId)||null}function getRule(slots,ruleId){return slots.lastConfigArray&&slots.lastConfigArray.pluginRules.get(ruleId)||slots.ruleMap.get(ruleId)}function normalizeCwd(cwd){if(cwd){return cwd}if(typeof process==="object"){return process.cwd()}return undefined}const internalSlotsMap=new WeakMap;function assertEslintrcConfig(linter){const{configType:configType}=internalSlotsMap.get(linter);if(configType==="flat"){throw new Error("This method cannot be used with flat config. Add your entries directly into the config array.")}}class Linter{constructor({cwd:cwd,configType:configType}={}){internalSlotsMap.set(this,{cwd:normalizeCwd(cwd),lastConfigArray:null,lastSourceCode:null,lastSuppressedMessages:[],configType:configType,parserMap:new Map([["espree",espree]]),ruleMap:new Rules});this.version=pkg.version}static get version(){return pkg.version}_verifyWithoutProcessors(textOrSourceCode,providedConfig,providedOptions){const slots=internalSlotsMap.get(this);const config=providedConfig||{};const options=normalizeVerifyOptions(providedOptions,config);let text;if(typeof textOrSourceCode==="string"){slots.lastSourceCode=null;text=textOrSourceCode}else{slots.lastSourceCode=textOrSourceCode;text=textOrSourceCode.text}let parserName=DEFAULT_PARSER_NAME;let parser=espree;if(typeof config.parser==="object"&&config.parser!==null){parserName=config.parser.filePath;parser=config.parser.definition}else if(typeof config.parser==="string"){if(!slots.parserMap.has(config.parser)){return[{ruleId:null,fatal:true,severity:2,message:`Configured parser '${config.parser}' was not found.`,line:0,column:0}]}parserName=config.parser;parser=slots.parserMap.get(config.parser)}const envInFile=options.allowInlineConfig&&!options.warnInlineConfig?findEslintEnv(text):{};const resolvedEnvConfig=Object.assign({builtin:true},config.env,envInFile);const enabledEnvs=Object.keys(resolvedEnvConfig).filter((envName=>resolvedEnvConfig[envName])).map((envName=>getEnv(slots,envName))).filter((env=>env));const parserOptions=resolveParserOptions(parser,config.parserOptions||{},enabledEnvs);const configuredGlobals=resolveGlobals(config.globals||{},enabledEnvs);const settings=config.settings||{};const languageOptions=createLanguageOptions({globals:config.globals,parser:parser,parserOptions:parserOptions});if(!slots.lastSourceCode){const parseResult=parse(text,languageOptions,options.filename);if(!parseResult.success){return[parseResult.error]}slots.lastSourceCode=parseResult.sourceCode}else{if(!slots.lastSourceCode.scopeManager){slots.lastSourceCode=new SourceCode({text:slots.lastSourceCode.text,ast:slots.lastSourceCode.ast,parserServices:slots.lastSourceCode.parserServices,visitorKeys:slots.lastSourceCode.visitorKeys,scopeManager:analyzeScope(slots.lastSourceCode.ast,languageOptions)})}}const sourceCode=slots.lastSourceCode;const commentDirectives=options.allowInlineConfig?getDirectiveComments(sourceCode.ast,(ruleId=>getRule(slots,ruleId)),options.warnInlineConfig):{configuredRules:{},enabledGlobals:{},exportedVariables:{},problems:[],disableDirectives:[]};addDeclaredGlobals(sourceCode.scopeManager.scopes[0],configuredGlobals,{exportedVariables:commentDirectives.exportedVariables,enabledGlobals:commentDirectives.enabledGlobals});const configuredRules=Object.assign({},config.rules,commentDirectives.configuredRules);let lintingProblems;try{lintingProblems=runRules(sourceCode,configuredRules,(ruleId=>getRule(slots,ruleId)),parserName,languageOptions,settings,options.filename,options.disableFixes,slots.cwd,providedOptions.physicalFilename)}catch(err){err.message+=`\nOccurred while linting ${options.filename}`;debug("An error occurred while traversing");debug("Filename:",options.filename);if(err.currentNode){const{line:line}=err.currentNode.loc.start;debug("Line:",line);err.message+=`:${line}`}debug("Parser Options:",parserOptions);debug("Parser Path:",parserName);debug("Settings:",settings);if(err.ruleId){err.message+=`\nRule: "${err.ruleId}"`}throw err}return applyDisableDirectives({directives:commentDirectives.disableDirectives,disableFixes:options.disableFixes,problems:lintingProblems.concat(commentDirectives.problems).sort(((problemA,problemB)=>problemA.line-problemB.line||problemA.column-problemB.column)),reportUnusedDisableDirectives:options.reportUnusedDisableDirectives})}verify(textOrSourceCode,config,filenameOrOptions){debug("Verify");const{configType:configType}=internalSlotsMap.get(this);const options=typeof filenameOrOptions==="string"?{filename:filenameOrOptions}:filenameOrOptions||{};if(config){if(configType==="flat"){let configArray=config;if(!Array.isArray(config)||typeof config.getConfig!=="function"){configArray=new FlatConfigArray(config);configArray.normalizeSync()}return this._distinguishSuppressedMessages(this._verifyWithFlatConfigArray(textOrSourceCode,configArray,options,true))}if(typeof config.extractConfig==="function"){return this._distinguishSuppressedMessages(this._verifyWithConfigArray(textOrSourceCode,config,options))}}if(options.preprocess||options.postprocess){return this._distinguishSuppressedMessages(this._verifyWithProcessor(textOrSourceCode,config,options))}return this._distinguishSuppressedMessages(this._verifyWithoutProcessors(textOrSourceCode,config,options))}_verifyWithFlatConfigArrayAndProcessor(textOrSourceCode,config,options,configForRecursive){const filename=options.filename||"<input>";const filenameToExpose=normalizeFilename(filename);const physicalFilename=options.physicalFilename||filenameToExpose;const text=ensureText(textOrSourceCode);const preprocess=options.preprocess||(rawText=>[rawText]);const postprocess=options.postprocess||(messagesList=>messagesList.flat());const filterCodeBlock=options.filterCodeBlock||(blockFilename=>blockFilename.endsWith(".js"));const originalExtname=path.extname(filename);let blocks;try{blocks=preprocess(text,filenameToExpose)}catch(ex){const message=`Preprocessing error: ${ex.message.replace(/^line \d+:/iu,"").trim()}`;debug("%s\n%s",message,ex.stack);return[{ruleId:null,fatal:true,severity:2,message:message,line:ex.lineNumber,column:ex.column}]}const messageLists=blocks.map(((block,i)=>{debug("A code block was found: %o",block.filename||"(unnamed)");if(typeof block==="string"){return this._verifyWithFlatConfigArrayAndWithoutProcessors(block,config,options)}const blockText=block.text;const blockName=path.join(filename,`${i}_${block.filename}`);if(!filterCodeBlock(blockName,blockText)){debug("This code block was skipped.");return[]}if(configForRecursive&&(text!==blockText||path.extname(blockName)!==originalExtname)){debug("Resolving configuration again because the file content or extension was changed.");return this._verifyWithFlatConfigArray(blockText,configForRecursive,{...options,filename:blockName,physicalFilename:physicalFilename})}return this._verifyWithFlatConfigArrayAndWithoutProcessors(blockText,config,{...options,filename:blockName,physicalFilename:physicalFilename})}));return postprocess(messageLists,filenameToExpose)}_verifyWithFlatConfigArrayAndWithoutProcessors(textOrSourceCode,providedConfig,providedOptions){const slots=internalSlotsMap.get(this);const config=providedConfig||{};const options=normalizeVerifyOptions(providedOptions,config);let text;if(typeof textOrSourceCode==="string"){slots.lastSourceCode=null;text=textOrSourceCode}else{slots.lastSourceCode=textOrSourceCode;text=textOrSourceCode.text}const languageOptions=config.languageOptions;languageOptions.ecmaVersion=normalizeEcmaVersionForLanguageOptions(languageOptions.ecmaVersion);const configuredGlobals=Object.assign({},getGlobalsForEcmaVersion(languageOptions.ecmaVersion),languageOptions.sourceType==="commonjs"?globals.commonjs:void 0,languageOptions.globals);if(!languageOptions.parser){throw new TypeError(`No parser specified for ${options.filename}`)}if(isEspree(languageOptions.parser)){const parserOptions=languageOptions.parserOptions;if(languageOptions.sourceType){parserOptions.sourceType=languageOptions.sourceType;if(parserOptions.sourceType==="module"&&parserOptions.ecmaFeatures&&parserOptions.ecmaFeatures.globalReturn){parserOptions.ecmaFeatures.globalReturn=false}}}const settings=config.settings||{};if(!slots.lastSourceCode){const parseResult=parse(text,languageOptions,options.filename);if(!parseResult.success){return[parseResult.error]}slots.lastSourceCode=parseResult.sourceCode}else{if(!slots.lastSourceCode.scopeManager){slots.lastSourceCode=new SourceCode({text:slots.lastSourceCode.text,ast:slots.lastSourceCode.ast,parserServices:slots.lastSourceCode.parserServices,visitorKeys:slots.lastSourceCode.visitorKeys,scopeManager:analyzeScope(slots.lastSourceCode.ast,languageOptions)})}}const sourceCode=slots.lastSourceCode;const commentDirectives=options.allowInlineConfig?getDirectiveComments(sourceCode.ast,(ruleId=>getRuleFromConfig(ruleId,config)),options.warnInlineConfig):{configuredRules:{},enabledGlobals:{},exportedVariables:{},problems:[],disableDirectives:[]};addDeclaredGlobals(sourceCode.scopeManager.scopes[0],configuredGlobals,{exportedVariables:commentDirectives.exportedVariables,enabledGlobals:commentDirectives.enabledGlobals});const configuredRules=Object.assign({},config.rules,commentDirectives.configuredRules);let lintingProblems;try{lintingProblems=runRules(sourceCode,configuredRules,(ruleId=>getRuleFromConfig(ruleId,config)),void 0,languageOptions,settings,options.filename,options.disableFixes,slots.cwd,providedOptions.physicalFilename)}catch(err){err.message+=`\nOccurred while linting ${options.filename}`;debug("An error occurred while traversing");debug("Filename:",options.filename);if(err.currentNode){const{line:line}=err.currentNode.loc.start;debug("Line:",line);err.message+=`:${line}`}debug("Parser Options:",languageOptions.parserOptions);debug("Settings:",settings);if(err.ruleId){err.message+=`\nRule: "${err.ruleId}"`}throw err}return applyDisableDirectives({directives:commentDirectives.disableDirectives,disableFixes:options.disableFixes,problems:lintingProblems.concat(commentDirectives.problems).sort(((problemA,problemB)=>problemA.line-problemB.line||problemA.column-problemB.column)),reportUnusedDisableDirectives:options.reportUnusedDisableDirectives})}_verifyWithConfigArray(textOrSourceCode,configArray,options){debug("With ConfigArray: %s",options.filename);internalSlotsMap.get(this).lastConfigArray=configArray;const config=configArray.extractConfig(options.filename);const processor=config.processor&&configArray.pluginProcessors.get(config.processor);if(processor){debug("Apply the processor: %o",config.processor);const{preprocess:preprocess,postprocess:postprocess,supportsAutofix:supportsAutofix}=processor;const disableFixes=options.disableFixes||!supportsAutofix;return this._verifyWithProcessor(textOrSourceCode,config,{...options,disableFixes:disableFixes,postprocess:postprocess,preprocess:preprocess},configArray)}return this._verifyWithoutProcessors(textOrSourceCode,config,options)}_verifyWithFlatConfigArray(textOrSourceCode,configArray,options,firstCall=false){debug("With flat config: %s",options.filename);const filename=options.filename||"__placeholder__.js";internalSlotsMap.get(this).lastConfigArray=configArray;const config=configArray.getConfig(filename);if(!config){return[{ruleId:null,severity:1,message:`No matching configuration found for ${filename}.`,line:0,column:0}]}if(config.processor){debug("Apply the processor: %o",config.processor);const{preprocess:preprocess,postprocess:postprocess,supportsAutofix:supportsAutofix}=config.processor;const disableFixes=options.disableFixes||!supportsAutofix;return this._verifyWithFlatConfigArrayAndProcessor(textOrSourceCode,config,{...options,filename:filename,disableFixes:disableFixes,postprocess:postprocess,preprocess:preprocess},configArray)}if(firstCall&&(options.preprocess||options.postprocess)){return this._verifyWithFlatConfigArrayAndProcessor(textOrSourceCode,config,options)}return this._verifyWithFlatConfigArrayAndWithoutProcessors(textOrSourceCode,config,options)}_verifyWithProcessor(textOrSourceCode,config,options,configForRecursive){const filename=options.filename||"<input>";const filenameToExpose=normalizeFilename(filename);const physicalFilename=options.physicalFilename||filenameToExpose;const text=ensureText(textOrSourceCode);const preprocess=options.preprocess||(rawText=>[rawText]);const postprocess=options.postprocess||(messagesList=>messagesList.flat());const filterCodeBlock=options.filterCodeBlock||(blockFilename=>blockFilename.endsWith(".js"));const originalExtname=path.extname(filename);let blocks;try{blocks=preprocess(text,filenameToExpose)}catch(ex){const message=`Preprocessing error: ${ex.message.replace(/^line \d+:/iu,"").trim()}`;debug("%s\n%s",message,ex.stack);return[{ruleId:null,fatal:true,severity:2,message:message,line:ex.lineNumber,column:ex.column}]}const messageLists=blocks.map(((block,i)=>{debug("A code block was found: %o",block.filename||"(unnamed)");if(typeof block==="string"){return this._verifyWithoutProcessors(block,config,options)}const blockText=block.text;const blockName=path.join(filename,`${i}_${block.filename}`);if(!filterCodeBlock(blockName,blockText)){debug("This code block was skipped.");return[]}if(configForRecursive&&(text!==blockText||path.extname(blockName)!==originalExtname)){debug("Resolving configuration again because the file content or extension was changed.");return this._verifyWithConfigArray(blockText,configForRecursive,{...options,filename:blockName,physicalFilename:physicalFilename})}return this._verifyWithoutProcessors(blockText,config,{...options,filename:blockName,physicalFilename:physicalFilename})}));return postprocess(messageLists,filenameToExpose)}_distinguishSuppressedMessages(problems){const messages=[];const suppressedMessages=[];const slots=internalSlotsMap.get(this);for(const problem of problems){if(problem.suppressions){suppressedMessages.push(problem)}else{messages.push(problem)}}slots.lastSuppressedMessages=suppressedMessages;return messages}getSourceCode(){return internalSlotsMap.get(this).lastSourceCode}getSuppressedMessages(){return internalSlotsMap.get(this).lastSuppressedMessages}defineRule(ruleId,ruleModule){assertEslintrcConfig(this);internalSlotsMap.get(this).ruleMap.define(ruleId,ruleModule)}defineRules(rulesToDefine){assertEslintrcConfig(this);Object.getOwnPropertyNames(rulesToDefine).forEach((ruleId=>{this.defineRule(ruleId,rulesToDefine[ruleId])}))}getRules(){assertEslintrcConfig(this);const{lastConfigArray:lastConfigArray,ruleMap:ruleMap}=internalSlotsMap.get(this);return new Map(function*(){yield*ruleMap;if(lastConfigArray){yield*lastConfigArray.pluginRules}}())}defineParser(parserId,parserModule){assertEslintrcConfig(this);internalSlotsMap.get(this).parserMap.set(parserId,parserModule)}verifyAndFix(text,config,options){let messages=[],fixedResult,fixed=false,passNumber=0,currentText=text;const debugTextDescription=options&&options.filename||`${text.slice(0,10)}...`;const shouldFix=options&&typeof options.fix!=="undefined"?options.fix:true;do{passNumber++;debug(`Linting code for ${debugTextDescription} (pass ${passNumber})`);messages=this.verify(currentText,config,options);debug(`Generating fixed text for ${debugTextDescription} (pass ${passNumber})`);fixedResult=SourceCodeFixer.applyFixes(currentText,messages,shouldFix);if(messages.length===1&&messages[0].fatal){break}fixed=fixed||fixedResult.fixed;currentText=fixedResult.output}while(fixedResult.fixed&&passNumber<MAX_AUTOFIX_PASSES);if(fixedResult.fixed){fixedResult.messages=this.verify(currentText,config,options)}fixedResult.fixed=fixed;fixedResult.output=currentText;return fixedResult}}linter={Linter:Linter,getLinterInternalSlots(instance){return internalSlotsMap.get(instance)}};return linter}if(typeof process==="undefined"){window.process=requireBrowser$1()}function getLinter(){return requireLinter().Linter}var Linter=eslintLinterBrowserify.Linter=getLinter();exports.Linter=Linter;exports.default=eslintLinterBrowserify;Object.defineProperty(exports,"__esModule",{value:true})}));var editor;var changes;var file_id;var files={};var save,run,new_tab;const config={parserOptions:{ecmaVersion:"latest",sourceType:"module"},env:{browser:true,node:true},rules:{semi:["warn","always"]}};file_id=0;save=document.getElementById("save_tab");run=document.getElementById("run_tab");new_tab=document.getElementById("new_tab");document.onkeydown=function(event){if(event.ctrlKey||event.altKey){if(event.key=="s"){event.preventDefault();save.click()}}if(event.altKey){if(event.key=="Enter"){event.preventDefault();run.click()}if(event.key=="t"){event.preventDefault();new_tab.click()}}};save.onclick=function(){editor_save_tab()};var run_window=null;run.onclick=function(){save.click();localStorage.setItem("exe_file_name",files[editor.tab_id][1]);if(run_window==null||run_window.closed)run_window=window.open("/w/run.html","run_window");else run_window.focus()};editor=new EditorView({extensions:[basicSetup,keymap.of([indentWithTab]),javascript(),lintGutter(),linter(esLint(new eslint.Linter,config))],parent:document.getElementById("editor_code_doc")});changes=StateField.define({create(){return 0},update(value,tr){if(tr.docChanged)$(editor.tab_id).classList.add("unsaved_tab");return tr.docChanged?value+1:value}});new_tab.onclick=function(){open_tab(null,"")};async function open_tab(name,text=null){if(name){var keys=Object.keys(files);for(let i=0;i<keys.length;i++){if(name==files[keys[i]][1]){return $(keys[i]).click()}}}if(text==null){var sock=await command_new_socket(false);text=await read_file_command(name,sock);command_close_socket(sock)}var tab=document.createElement("div");tab.setAttribute("id","tab_"+file_id++);tab.setAttribute("class","editor_tab");tab.addEventListener("click",editor_tab_click);if(name!=null)tab.textContent=name;else tab.textContent="New Tab: "+tab.id;document.getElementById("editor_code_butons_tab").appendChild(tab);files[tab.id]=[EditorState.create({doc:text,extensions:[basicSetup,keymap.of([indentWithTab]),javascript(),lintGutter(),linter(esLint(new eslint.Linter,config)),changes]}),name];tab.click()}function editor_tab_click(event){if($(editor.tab_id)){files[editor.tab_id]=[editor.state,editor.name];$(editor.tab_id).classList.remove("editor_tab_selected")}editor.setState(files[event.target.id][0]);editor.name=files[event.target.id][1];editor.tab_id=event.target.id;$(editor.tab_id).classList.add("editor_tab_selected")}async function editor_save_tab(){var new_file;var file_path=files[editor.tab_id][1];console.log(file_path);console.log(editor.tab_id);if(file_path==""||file_path==null){new_file=true;file_path=prompt("Enter file save path: ");if(file_path==""||file_path==null)return;else{if(file_path[0]!="/")file_path="/"+file_path;files[editor.tab_id][1]=file_path;$(editor.tab_id).textContent=file_path;editor.name=file_path}}else{new_file=false}console.log("Here");var file_text="";if(editor.state.doc.text)file_text=editor.state.doc.text.join("\n");else if(editor.state.doc.children){editor.state.doc.children.forEach((doc=>{file_text+=doc.text.join("\n")+"\n"}))}else return;var sock=await command_new_socket(false);await save_file_command(file_path,file_text,sock);command_close_socket(sock);if(new_file)editor_nav_init(open_tab);$(editor.tab_id).classList.remove("unsaved_tab")}editor_nav_init(open_tab);new_tab.click()})();